Fixing plugins-as-extensions when brought in from pluginManagement to a module-project's build. Unit test included.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@601013 13f79535-47bb-0310-9956-ffa450edef68

+                if ( inheritedInterpolationValues == null )
+                {
+                    inheritedInterpolationValues = new HashMap();
+                }
+
+                model = modelInterpolator.interpolate( model, inheritedInterpolationValues, false );
+
+                grabManagedPluginsWithExtensionsFlagTurnedOn( model, managedPluginsWithExtensionsFlag );
+
+                Properties modelProps = model.getProperties();
+                if ( modelProps != null )
+                {
+                    inheritedInterpolationValues.putAll( modelProps );
+                }
+
-                if ( inheritedInterpolationValues == null )
-                {
-                    inheritedInterpolationValues = new HashMap();
-                }
-
-                model = modelInterpolator.interpolate( model, inheritedInterpolationValues, false );
-
-                grabManagedPluginsWithExtensionsFlagTurnedOn( model, managedPluginsWithExtensionsFlag );
-
-
-                Properties modelProps = model.getProperties();
-                if ( modelProps != null )
-                {
-                    inheritedInterpolationValues.putAll( modelProps );
-                }

MOV25 MOV21 MOV21 MOV21 MOV25