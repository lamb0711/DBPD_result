fix missing optional dependencies in .wtpmodules, cleanup test and introduce a test using MavenEmbedder (currently disabled due to a couple of issues, but it should replace the command line test)

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@330946 13f79535-47bb-0310-9956-ffa450edef68

-                                                       localRepository );
+                                                       localRepository,artifactResolver,
+                                                       remoteArtifactRepositories );

INS42 INS42