o more additions to the session code, not turned on yet but doing things in
  smaller batches.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@162980 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.maven.lifecycle.phase;
+package org.apache.maven.lifecycle.goal.phase;
-import org.apache.maven.lifecycle.AbstractMavenLifecyclePhase;
-import org.apache.maven.lifecycle.MavenGoalExecutionContext;
+import org.apache.maven.lifecycle.goal.AbstractMavenGoalPhase;
+import org.apache.maven.lifecycle.goal.GoalExecutionException;
+import org.apache.maven.lifecycle.goal.MavenGoalExecutionContext;
+import org.codehaus.plexus.component.repository.exception.ComponentLookupException;
-    extends AbstractMavenLifecyclePhase
+    extends AbstractMavenGoalPhase
-        throws Exception
+        throws GoalExecutionException
-        PluginManager pluginManager = (PluginManager) context.lookup( PluginManager.ROLE );
+        PluginManager pluginManager = null;
+        try
+        {
+            pluginManager = (PluginManager) context.lookup( PluginManager.ROLE );
+        }
+        catch ( ComponentLookupException e )
+        {
+            throw new GoalExecutionException( "Error looking up plugin manager: ", e );
+        }
-        pluginManager.verifyPluginForGoal( goalName );
+        try
+        {
+            pluginManager.verifyPluginForGoal( goalName );
+        }
+        catch ( Exception e )
+        {
+            throw new GoalExecutionException( "Error verifying plugin: ", e );
+        }
-
-            System.out.println( "goalName inside plugin download phase = " + goalName );

INS26 INS26 UPD40 UPD40 INS40 UPD40 INS40 UPD43 UPD42 INS43 INS42 INS54 INS54 INS8 INS12 INS8 INS12 INS33 INS21 INS44 INS8 MOV21 INS44 INS8 INS7 INS43 INS42 INS53 MOV43 INS42 INS53 INS42 MOV11 INS42 INS14 INS14 INS43 INS45 INS42 INS43 INS45 INS42 INS42 INS42 DEL40 DEL42 DEL45 DEL42 DEL27 DEL32 DEL21