try-with-resources

Reformatted to code style by me. This fixes #53

-import java.io.IOException;
-import java.io.InputStream;
-import java.util.LinkedHashMap;
-import java.util.Map;
-import java.util.Properties;
-
-import javax.inject.Inject;
-import javax.inject.Named;
-
-import org.codehaus.plexus.util.IOUtil;
+import javax.inject.Inject;
+import javax.inject.Named;
+import java.io.IOException;
+import java.io.InputStream;
+import java.util.LinkedHashMap;
+import java.util.Map;
+import java.util.Properties;
+
-    
+
-        session.setResolutionErrorPolicy( new SimpleResolutionErrorPolicy( errorPolicy, errorPolicy
-            | ResolutionErrorPolicy.CACHE_NOT_FOUND ) );
+        session.setResolutionErrorPolicy(
+            new SimpleResolutionErrorPolicy( errorPolicy, errorPolicy | ResolutionErrorPolicy.CACHE_NOT_FOUND ) );
-                + " build reproducibility." );
+                             + " build reproducibility." );
-            proxySelector.add( new org.eclipse.aether.repository.Proxy( proxy.getProtocol(), proxy.getHost(),
-                                                                        proxy.getPort(), authBuilder.build() ),
-                               proxy.getNonProxyHosts() );
+            proxySelector.add(
+                new org.eclipse.aether.repository.Proxy( proxy.getProtocol(), proxy.getHost(), proxy.getPort(),
+                                                         authBuilder.build() ), proxy.getNonProxyHosts() );
-        mavenRepositorySystem.injectMirror( request.getPluginArtifactRepositories(), request.getMirrors() );        
+        mavenRepositorySystem.injectMirror( request.getPluginArtifactRepositories(), request.getMirrors() );
-        InputStream is = getClass().getResourceAsStream( "/META-INF/maven/org.apache.maven/maven-core/pom.properties" );
-        if ( is != null )
+        try ( InputStream is = getClass().getResourceAsStream(
+            "/META-INF/maven/org.apache.maven/maven-core/pom.properties" ) )
-            try
+            if ( is != null )
-            catch ( IOException e )
-            {
-                logger.debug( "Failed to read Maven version", e );
-            }
-            IOUtil.close( is );
+        }
+        catch ( IOException e )
+        {
+            logger.debug( "Failed to read Maven version", e );

MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV8 MOV60 MOV41 INS58 INS8 MOV43 MOV59 INS25 UPD42 MOV42 MOV27 MOV8 DEL40 DEL26 DEL42 DEL32 DEL21 DEL60 DEL25 DEL8