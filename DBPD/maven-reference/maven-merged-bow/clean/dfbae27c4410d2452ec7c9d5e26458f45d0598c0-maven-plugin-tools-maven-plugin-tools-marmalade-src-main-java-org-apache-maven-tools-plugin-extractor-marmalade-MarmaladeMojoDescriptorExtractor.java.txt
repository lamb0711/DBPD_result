o Added first-pass logging and event-monitoring impls. Converted all System.out calls in maven-component plugins to use logger.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163457 13f79535-47bb-0310-9956-ffa450edef68

-    
+
-            Thread.currentThread().setContextClassLoader(MarmaladeMojoDescriptorExtractor.class.getClassLoader());
-            
+            Thread.currentThread().setContextClassLoader( MarmaladeMojoDescriptorExtractor.class.getClassLoader() );
+
-            
+
-                
-                String basedir = (String)entry.getKey();
-                Set scriptFiles = (Set)entry.getValue();
-                
+
+                String basedir = (String) entry.getKey();
+                Set scriptFiles = (Set) entry.getValue();
+
-                    
-                    MarmaladeScript script = parse(scriptFile);
-                    
+
+                    MarmaladeScript script = parse( scriptFile );
+
-                    if(rootTag instanceof MojoTag)
+                    if ( rootTag instanceof MojoTag )
-                        
-                        MarmaladeExecutionContext context = new DefaultContext(contextMap);
-                        
-                        script.execute(context);
-                        
+
+                        MarmaladeExecutionContext context = new DefaultContext( contextMap );
+
+                        script.execute( context );
+
-    
+
-    
+
-                        System.out.println("This script is not a mojo. Its root tag is {element: " + rootTag.getTagInfo().getElement() + ", class: " + rootTag.getClass().getName() + "}");
+                        System.out.println( "This script is not a mojo. Its root tag is {element: "
+                            + rootTag.getTagInfo().getElement() + ", class: " + rootTag.getClass().getName() + "}" );
-            Thread.currentThread().setContextClassLoader(oldCl);
+            Thread.currentThread().setContextClassLoader( oldCl );
-        
+
-            reader = new BufferedReader(new FileReader(scriptFile));
-            
+            reader = new BufferedReader( new FileReader( scriptFile ) );
+
-            
-            parsingContext.setInputLocation(scriptFile.getPath());
-            parsingContext.setInput(reader);
-            
+
+            parsingContext.setInputLocation( scriptFile.getPath() );
+            parsingContext.setInput( reader );
+
-            
-            ScriptBuilder builder = parser.parse(parsingContext);
-            
+
+            ScriptBuilder builder = parser.parse( parsingContext );
+
-            
+
-            if(reader != null)
+            if ( reader != null )
-                catch(Exception e)
+                catch ( Exception e )

