try-with-resources

Reformatted to code style by me. This fixes #53

-import java.io.File;
-import java.io.IOException;
-import java.io.Reader;
-import java.io.Writer;
-
-import org.codehaus.plexus.util.IOUtil;
+import java.io.File;
+import java.io.IOException;
+import java.io.Reader;
+import java.io.Writer;
+
-    public void storeInLocalRepository( ArtifactRepository localRepository,
-                                        ArtifactRepository remoteRepository )
+    public void storeInLocalRepository( ArtifactRepository localRepository, ArtifactRepository remoteRepository )
-    protected void updateRepositoryMetadata( ArtifactRepository localRepository,
-                                             ArtifactRepository remoteRepository )
+    protected void updateRepositoryMetadata( ArtifactRepository localRepository, ArtifactRepository remoteRepository )
-            localRepository.pathOfLocalRepositoryMetadata( this, remoteRepository ) );
+                                      localRepository.pathOfLocalRepositoryMetadata( this, remoteRepository ) );
-                                       // to delete on exit
+                // to delete on exit
-            Reader reader = null;
-
-            try
+            try ( Reader reader = ReaderFactory.newXmlReader( metadataFile ) )
-                reader = ReaderFactory.newXmlReader( metadataFile );
-
-            finally
-            {
-                IOUtil.close( reader );
-            }
-            Writer writer = null;
-            try
+            metadataFile.getParentFile().mkdirs();
+            try ( Writer writer = WriterFactory.newXmlWriter( metadataFile ) )
-                metadataFile.getParentFile().mkdirs();
-                writer = WriterFactory.newXmlWriter( metadataFile );
-
-            finally
-            {
-                IOUtil.close( writer );
-            }
-    protected static Metadata createMetadata( Artifact artifact,
-                                              Versioning versioning )
+    protected static Metadata createMetadata( Artifact artifact, Versioning versioning )
-        // TODO: not sure that it should assume this, maybe the calls to addMetadata should pre-merge, then artifact replaces?
+        // TODO: not sure that it should assume this, maybe the calls to addMetadata should pre-merge, then artifact
+        // replaces?
-        // TODO: not sure that it should assume this, maybe the calls to addMetadata should pre-merge, then artifact replaces?
+        // TODO: not sure that it should assume this, maybe the calls to addMetadata should pre-merge, then artifact
+        // replaces?

MOV26 MOV26 MOV26 MOV26 MOV8 MOV8 INS54 INS54 INS58 INS8 INS58 INS8 MOV43 INS59 MOV60 MOV21 MOV43 INS59 MOV21 INS42 MOV32 INS42 MOV32 DEL40 DEL26 DEL42 DEL7 DEL21 DEL42 DEL33 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL54 DEL8 DEL42 DEL7 DEL21 DEL42 DEL33 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL54 DEL8