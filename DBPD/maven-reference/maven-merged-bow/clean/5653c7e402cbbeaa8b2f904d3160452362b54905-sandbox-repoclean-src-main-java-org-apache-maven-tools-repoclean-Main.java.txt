added ability to mail out the repository-level report contents in the event an error occurs...also the ability to configure the email options using the config properties file.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163821 13f79535-47bb-0310-9956-ffa450edef68

+        config.setMailErrorReport( Boolean.valueOf( props.getProperty( "errorReport.mailOnError", "false") ).booleanValue() );
+        config.setErrorReportFromAddress( props.getProperty( "errorReport.fromAddress" ) );
+        config.setErrorReportFromName( props.getProperty( "errorReport.fromName" ) );
+        config.setErrorReportSmtpHost( props.getProperty( "errorReport.smtpHost", "localhost" ) );
+        config.setErrorReportSubject( props.getProperty( "errorReport.subject" ) );
+        config.setErrorReportToAddress( props.getProperty( "errorReport.toAddress" ) );
+        config.setErrorReportToName( props.getProperty( "errorReport.toName" ) );
+
-            + "Where the configuration properfies file can contain the following options:\n"
-            + "sourceRepositoryPath=/path/to/repository/root #[REQUIRED]\n"
-            + "sourceRepositoryLayout=[legacy|default] #[DEFAULT: legacy]\n" + "sourcePomType=[v3|v4] #[DEFAULT: v3]\n"
-            + "targetRepositoryPath=/path/to/repository/root #[REQUIRED]\n"
-            + "targetRepositoryLayout=[legacy|default] #[DEFAULT: default]\n"
-            + "reportsPath=/path/to/reports/directory #[REQUIRED]\n" + "reportOnly=[true|false] #[REQUIRED]\n" + "\n" );
+            + "  Use the '-template' option to see sample configuration file options.\n"
+            + "\n" );
-            + "# repoclean: Repository Cleaner/Converter.\n" + "# This configuration auto-generated on: "
-            + new java.util.Date() + "\n"
+            + "# repoclean: Repository Cleaner/Converter.\n" 
+            + "# This configuration auto-generated on: " + new java.util.Date() + "\n"
-            + "# [REQUIRED OPTIONS]\n" + "sourceRepositoryPath=/path/to/repository/root\n"
-            + "targetRepositoryPath=/path/to/repository/root\n" + "reportsPath=/path/to/reports/directory\n"
-            + "reportOnly=[true|false]\n\n" + "# [DEFAULT VALUE: legacy]\n"
-            + "#sourceRepositoryLayout=[legacy|default]\n\n" + "# [DEFAULT VALUE: v3]\n" + "#sourcePomType=[v3|v4]\n\n"
-            + "# [DEFAULT VALUE: default]\n" + "#targetRepositoryLayout=[legacy|default]\n" + "\n" );
+            + "# [REQUIRED OPTIONS]\n" 
+            + "sourceRepositoryPath=/path/to/repository/root\n"
+            + "targetRepositoryPath=/path/to/repository/root\n" 
+            + "reportsPath=/path/to/reports/directory\n"
+            + "reportOnly=[true|false]\n"
+            + "\n" 
+            + "errorReport.mailOnError=[true|false]\n"
+            + "errorReport.fromAddress=admin@somewhere.com\n"
+            + "errorReport.fromName=Admin\n"
+            + "errorReport.subject=[REPOCLEAN] Error!\n"
+            + "errorReport.toAddress=dev@somewhere.com\n"
+            + "errorReport.toName=Developers List\n"
+            + "\n"
+            + "# [DEFAULT VALUE: legacy]\n"
+            + "#sourceRepositoryLayout=[legacy|default]\n\n" 
+            + "# [DEFAULT VALUE: v3]\n" 
+            + "#sourcePomType=[v3|v4]\n\n"
+            + "# [DEFAULT VALUE: default]\n" 
+            + "#targetRepositoryLayout=[legacy|default]\n" 
+            + "# [DEFAULT VALUE: localhost]\n"
+            + "#errorReport.smtpHost=<hostname>\n"
+            + "\n" );

INS21 INS21 INS21 INS21 INS21 INS21 INS21 INS32 INS32 INS32 INS32 INS32 INS32 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS32 INS42 INS42 INS42 INS45 INS42 INS42 INS45 INS42 INS42 INS45 INS45 INS42 INS42 INS45 INS42 INS42 INS45 INS42 INS42 INS45 UPD45 UPD45 INS45 INS45 INS45 INS45 INS45 INS45 INS45 INS45 INS45 INS45 INS42 INS42 INS32 INS42 INS42 INS45 INS45 DEL45 DEL45 DEL45 DEL45 DEL45 DEL45 DEL45