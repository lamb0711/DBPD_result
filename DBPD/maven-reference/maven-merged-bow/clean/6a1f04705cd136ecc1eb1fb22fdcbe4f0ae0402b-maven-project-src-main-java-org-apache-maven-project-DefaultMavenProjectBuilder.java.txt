Moved PathTranslator back to project module to fix class reference issue with the enforcer plugin. Added a preprocess method on the ModelTransformer to allow processing of plugin config elements. Need to add information about which elements are collections so they are not lost during a sort.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@719406 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.project.builder.PomArtifactResolver;
-import org.apache.maven.project.builder.ProjectBuilder;
-import org.apache.maven.project.builder.PomInterpolatorTag;
-import org.apache.maven.project.builder.PomClassicTransformer;
+import org.apache.maven.project.builder.*;
-import org.codehaus.plexus.util.WriterFactory;
-import java.io.Writer;
-            project = buildInternal( project.getModel(), config, projectDescriptor, project.getParentFile(), true );
+            project = buildWithProfiles( project.getModel(), config, projectDescriptor, project.getParentFile(), true );
-        project = buildInternal( project.getModel(), config, artifact.getFile(), project.getParentFile(), false );
-
+        project = buildWithProfiles( project.getModel(), config, artifact.getFile(), project.getParentFile(), false );
+     //   project = readModelFromLocalPath( "unknown", artifact.getFile(), new PomArtifactResolver( config.getLocalRepository(), artifactRepositories, artifactResolver ), config );
-    private MavenProject buildInternal( Model model, ProjectBuilderConfiguration config, File projectDescriptor,
+    private MavenProject buildWithProfiles( Model model, ProjectBuilderConfiguration config, File projectDescriptor,

UPD40 UPD42 UPD42 UPD42 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26