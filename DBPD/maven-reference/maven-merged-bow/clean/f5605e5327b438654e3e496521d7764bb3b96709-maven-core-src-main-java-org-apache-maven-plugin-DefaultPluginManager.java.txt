override with goal configuration if it exists


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163618 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.Goal;
-                    return CollectionUtils.mergeMaps( plugin.getConfiguration(), map );
+                    map = CollectionUtils.mergeMaps( plugin.getConfiguration(), map );
+
+                    // TODO: much less of this magic is needed - make the mojoDescriptor just store the first and second part
+                    int index = goalId.indexOf( ':' );
+                    if ( index >= 0 )
+                    {
+                        String goalName = goalId.substring( index + 1 );
+                        for ( Iterator j = plugin.getGoals().iterator(); j.hasNext(); )
+                        {
+                            Goal goal = (Goal) j.next();
+                            if ( goal.getId().equals( goalName ) )
+                            {
+                                map = CollectionUtils.mergeMaps( goal.getConfiguration(), map );
+                                break;
+                            }
+                        }
+                    }
+
+                    return map;

INS26 INS40 INS21 INS60 INS25 INS7 INS39 INS59 INS27 INS8 INS42 INS42 MOV32 INS42 INS32 INS42 INS34 INS60 INS24 INS42 INS42 INS13 INS43 INS59 INS58 INS32 INS8 INS42 INS42 INS32 INS43 INS59 INS42 INS42 INS60 INS25 INS42 INS42 INS27 INS42 INS42 INS32 INS43 INS59 INS32 INS8 INS42 INS34 INS32 INS42 INS42 INS42 INS11 INS32 INS42 INS42 INS21 INS10 INS42 INS42 INS43 INS32 INS42 INS42 INS7 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS42