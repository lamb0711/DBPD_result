Merge of sisbell-maven-2.1-profile branch. Removes use of project lineage from builder.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@693332 13f79535-47bb-0310-9956-ffa450edef68

-    public List applyActivatedProfiles( Model model,
-                                        File pomFile,
-                                        boolean useProfilesXml,
+    public List applyActivatedProfiles( Model model, File pomFile, boolean useProfilesXml,
-        ProfileManager profileManager = buildProfileManager( model,
-                                                             pomFile,
-                                                             useProfilesXml,
-                                                             activationContext );
+        ProfileManager profileManager = buildProfileManager( model, pomFile, useProfilesXml, activationContext );
-    public List applyActivatedExternalProfiles( Model model,
-                                                File projectDir,
-                                                ProfileManager externalProfileManager )
+    public List applyActivatedExternalProfiles( Model model, File projectDir, ProfileManager externalProfileManager )
-    private List applyActivatedProfiles( Model model,
-                                         File pomFile,
-                                         ProfileManager profileManager )
+    private List applyActivatedProfiles( Model model, File pomFile, ProfileManager profileManager )
-    private ProfileManager buildProfileManager( Model model,
-                                                File pomFile,
-                                                boolean useProfilesXml,
+    private ProfileManager buildProfileManager( Model model, File pomFile, boolean useProfilesXml,
-    public LinkedHashSet getArtifactRepositoriesFromActiveProfiles( Model model,
-                                                                    File pomFile,
+    public LinkedHashSet getArtifactRepositoriesFromActiveProfiles( Model model, File pomFile,
-                throw new ProjectBuildingException(
-                                                    model.getId(),
+                throw new ProjectBuildingException( model.getId(),
-                    for ( Iterator repoIterator = externalProfile.getRepositories().iterator(); repoIterator.hasNext(); )
+                    for ( Iterator repoIterator = externalProfile.getRepositories().iterator();
+                          repoIterator.hasNext(); )
-    public LinkedHashSet getArtifactRepositoriesFromActiveProfiles( Model model,
-                                                                    File pomFile,
-                                                                    boolean useProfilesXml,
+    public LinkedHashSet getArtifactRepositoriesFromActiveProfiles( Model model, File pomFile, boolean useProfilesXml,
-        ProfileManager profileManager = buildProfileManager( model,
-                                                             pomFile,
-                                                             useProfilesXml,
-                                                             activationContext );
+        ProfileManager profileManager = buildProfileManager( model, pomFile, useProfilesXml, activationContext );
-    private void loadExternalProjectProfiles( ProfileManager profileManager,
-                                              Model model,
-                                              File pomFile )
+    private void loadExternalProjectProfiles( ProfileManager profileManager, Model model, File pomFile )
-                                                    "Cannot read profiles.xml resource from directory: "
-                                                                    + projectDir, pomFile, e );
+                                                    "Cannot read profiles.xml resource from directory: " + projectDir,
+                                                    pomFile, e );
-                                                    "Cannot parse profiles.xml resource from directory: "
-                                                                    + projectDir, pomFile, e );
+                                                    "Cannot parse profiles.xml resource from directory: " + projectDir,
+                                                    pomFile, e );

