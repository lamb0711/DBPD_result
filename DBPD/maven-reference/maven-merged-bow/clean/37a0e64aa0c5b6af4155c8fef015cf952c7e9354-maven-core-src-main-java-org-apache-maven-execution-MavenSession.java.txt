[MNG-4618] maven-javadoc-plugin aggregate-jar fails with maven3 and multiple modules

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@931086 13f79535-47bb-0310-9956-ffa450edef68

-        //TODO: Current for testing classes creating the session
-        if ( projects.size() > 0 )
+        if ( !projects.isEmpty() )
-            this.topLevelProject = projects.get(  0 );
+            this.topLevelProject = currentProject;
+            for ( MavenProject project : projects )
+            {
+                if ( project.isExecutionRoot() )
+                {
+                    topLevelProject = project;
+                    break;
+                }
+            }
+        }
+        else
+        {
+            this.currentProject = null;
+            this.topLevelProject = null;

INS38 INS8 INS32 INS70 INS21 INS21 MOV42 UPD42 MOV42 INS44 INS42 INS8 INS7 INS7 INS42 INS43 INS42 INS25 INS22 INS33 INS22 INS33 INS42 INS32 INS8 INS52 INS42 INS52 INS42 INS42 INS42 INS21 INS10 INS7 INS42 INS42 DEL32 DEL34 DEL27 DEL42 DEL42 DEL34 DEL32