PR: MNG-788
bring back the "filtering" attribute in resources from m1


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@263841 13f79535-47bb-0310-9956-ffa450edef68

-        initializeFiltering();
-        try
-        {
-            for ( Iterator i = getJarResources( resources ).entrySet().iterator(); i.hasNext(); )
-            {
-                Map.Entry entry = (Map.Entry) i.next();
-                File source = (File) entry.getKey();
-                String destination = (String) entry.getValue();
+        initializeFiltering();
-                File destinationFile = new File( outputDirectory, destination );
-
-                if ( !destinationFile.getParentFile().exists() )
-                {
-                    destinationFile.getParentFile().mkdirs();
-                }
-
-                copyFile( source, destinationFile );
-            }
-        }
-        catch ( Exception e )
-        {
-            // TODO: handle exception
-            throw new MojoExecutionException( "Error copying resources", e );
-        }
-    }
-
-    private Map getJarResources( List resources )
-    {
-                String entryName = name;
+                String destination = name;
-                    entryName = targetPath + "/" + name;
+                    destination = targetPath + "/" + name;
-                resourceEntries.put( new File( resource.getDirectory(), name ), entryName );
+                File source = new File( resource.getDirectory(), name );
+
+                File destinationFile = new File( outputDirectory, destination );
+
+                if ( !destinationFile.getParentFile().exists() )
+                {
+                    destinationFile.getParentFile().mkdirs();
+                }
+
+                try
+                {
+                    copyFile( source, destinationFile, resource.isFiltering() && filtering );
+                }
+                catch ( IOException e )
+                {
+                    throw new MojoExecutionException( "Error copying resources", e );
+                }
-
-        return resourceEntries;
-    private void copyFile( File from, File to )
+    private void copyFile( File from, File to, boolean filtering )

UPD83 INS39 UPD42 MOV44 MOV43 INS44 MOV21 INS39 INS42 INS60 MOV60 MOV25 INS54 MOV43 INS59 INS8 MOV12 UPD42 INS42 MOV14 MOV21 UPD43 UPD42 INS42 INS42 INS42 INS27 UPD42 INS32 INS42 UPD42 MOV42 UPD42 MOV42 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL42 DEL32 DEL42 DEL32 DEL59 DEL58 DEL42 DEL42 DEL32 DEL40 DEL43 DEL42 DEL40 DEL43 DEL42 DEL42 DEL32 DEL11 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL11 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL42 DEL32 DEL11 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL24 DEL8 DEL54 DEL8 DEL31 DEL42 DEL43 DEL42 DEL42 DEL41