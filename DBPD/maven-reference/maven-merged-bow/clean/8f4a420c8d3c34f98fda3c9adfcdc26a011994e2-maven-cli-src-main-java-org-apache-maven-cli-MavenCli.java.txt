MNG-2728 return a MavenExecutionResult from Maven.execute( request )


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@491512 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.reactor.MavenExecutionException;
+import org.apache.maven.execution.MavenExecutionResult;
-        try
-        {
-            // ----------------------------------------------------------------------
-            // From here we are CLI free
-            // ----------------------------------------------------------------------
-
-            //  -> baseDirectory
-            //  -> goals
-            //  -> debug: use to set the threshold on the logger manager
-            //  -> active profiles (settings)
-            //  -> inactive profiles (settings)
-            //  -> offline (settings)
-            //  -> interactive (settings)
-            //  -> Settings
-            //     -> localRepository
-            //     -> interactiveMode
-            //     -> usePluginRegistry
-            //     -> offline
-            //     -> proxies
-            //     -> servers
-            //     -> mirrors
-            //     -> profiles
-            //     -> activeProfiles
-            //     -> pluginGroups
-            //  -> executionProperties
-            //  -> reactorFailureBehaviour: fail fast, fail at end, fail never
-            //  -> globalChecksumPolicy: fail, warn
-            //  -> showErrors (this is really CLI is but used inside Maven internals
-            //  -> recursive
-            //  -> updateSnapshots
-            //  -> useReactor
-            //  -> transferListener: in the CLI this is batch or console
-
-            // the local repository should just be a path and we should look here:
-            // in the system property
-            // user specified settings.xml
-            // default ~/.m2/settings.xml
-            // and with that maven internals should contruct the ArtifactRepository object
-
-            mavenEmbedder.execute( request );
-        }
-        catch ( MavenExecutionException e )
-        {
-            showFatalError( "Unable to configure the Maven application", e, showErrors );
+        MavenExecutionResult result = mavenEmbedder.execute( request );
+
+        if ( result.hasExceptions() )
+        {                        
+            showFatalError( "Unable to configure the Maven application", (Exception) result.getExceptions().get( 0 ), showErrors );

UPD40 MOV8 MOV60 MOV60 MOV54 MOV25 MOV60 MOV60 MOV60 MOV25 MOV25 MOV25 MOV60 MOV54 MOV60 MOV25 MOV60 MOV25 MOV60 MOV25 MOV60 MOV25 INS60 INS25 MOV41 INS43 INS59 INS32 INS8 INS42 INS42 MOV32 INS42 INS42 MOV21 MOV41 INS32 INS42 INS45 INS11 INS42 INS43 INS32 INS42 INS32 INS42 INS34 INS42 INS42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL45 DEL42 DEL42 DEL32 DEL21 DEL8 DEL12 DEL54 DEL8