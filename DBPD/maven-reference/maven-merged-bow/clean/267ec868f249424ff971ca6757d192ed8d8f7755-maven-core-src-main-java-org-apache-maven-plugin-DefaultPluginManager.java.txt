o remove the resolve plugin version, this logic will all be handled by building up the project model, and there will be no magical plugin version diddling. you must set the version of the plugins you're using.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/branches/MNG-2766@774327 13f79535-47bb-0310-9956-ffa450edef68

-        resolvePluginVersion( plugin, project );
-
-        ArtifactResolutionRequest request = new ArtifactResolutionRequest( pluginArtifact, localRepository, project.getRemoteArtifactRepositories() );
+        ArtifactResolutionRequest request = new ArtifactResolutionRequest()
+            .setArtifact( pluginArtifact )
+            .setLocalRepository( localRepository )
+            .setRemoteRepostories( project.getRemoteArtifactRepositories() );
-    public void resolvePluginVersion( Plugin plugin, MavenProject project )
-        throws PluginVersionNotFoundException
-    {
-        String version = plugin.getVersion();
-
-        if ( version != null && !Artifact.RELEASE_VERSION.equals( version ) )
-        {
-            return;
-        }
-
-        String groupId = plugin.getGroupId();
-
-        String artifactId = plugin.getArtifactId();
-
-        if ( project.getBuildPlugins() != null )
-        {
-            for ( Plugin p : project.getBuildPlugins() )
-            {
-                if ( groupId.equals( p.getGroupId() ) && artifactId.equals( p.getArtifactId() ) )
-                {
-                    version = p.getVersion();
-                }
-            }
-        }
-
-        if ( StringUtils.isEmpty( version ) || Artifact.RELEASE_VERSION.equals( version ) )
-        {
-            // 1. resolve the version to be used            
-            Artifact artifact = repositorySystem.createProjectArtifact( groupId, artifactId, Artifact.RELEASE_VERSION );
-
-            String artifactVersion = artifact.getVersion();
-
-            // make sure this artifact was transformed to a real version, and actually resolved to a file in the repo...
-            if ( !Artifact.RELEASE_VERSION.equals( artifactVersion ) && ( artifact.getFile() != null ) )
-            {
-                boolean pluginValid = false;
-
-                while ( !pluginValid && ( artifactVersion != null ) )
-                {
-                    pluginValid = true;
-
-                    artifact = repositorySystem.createProjectArtifact( groupId, artifactId, artifactVersion );
-                }
-
-                version = artifactVersion;
-            }
-
-            if ( version == null )
-            {
-                version = artifactVersion;
-            }
-        }
-
-        // if we still haven't found a version, then fail early before we get into the update goop.
-        if ( StringUtils.isEmpty( version ) )
-        {
-            throw new PluginVersionNotFoundException( groupId, artifactId );
-        }
-
-        plugin.setVersion( version );
-    }
-

MOV43 INS32 INS32 INS42 MOV32 INS32 INS42 INS42 INS14 INS42 INS42 MOV43 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL14 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL33 DEL27 DEL40 DEL42 DEL42 DEL32 DEL38 DEL27 DEL41 DEL8 DEL25 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL32 DEL33 DEL27 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL32 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL27 DEL42 DEL42 DEL42 DEL32 DEL7 DEL21 DEL8 DEL25 DEL8 DEL70 DEL8 DEL25 DEL42 DEL42 DEL42 DEL32 DEL40 DEL42 DEL42 DEL32 DEL27 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL42 DEL40 DEL32 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL40 DEL42 DEL42 DEL32 DEL38 DEL42 DEL42 DEL32 DEL33 DEL27 DEL36 DEL27 DEL39 DEL42 DEL9 DEL59 DEL60 DEL42 DEL38 DEL42 DEL33 DEL27 DEL36 DEL27 DEL42 DEL9 DEL7 DEL21 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL7 DEL21 DEL8 DEL61 DEL42 DEL42 DEL7 DEL21 DEL8 DEL25 DEL42 DEL33 DEL27 DEL42 DEL42 DEL7 DEL21 DEL8 DEL25 DEL8 DEL25 DEL42 DEL42 DEL42 DEL32 DEL42 DEL43 DEL42 DEL42 DEL14 DEL53 DEL8 DEL25 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL31