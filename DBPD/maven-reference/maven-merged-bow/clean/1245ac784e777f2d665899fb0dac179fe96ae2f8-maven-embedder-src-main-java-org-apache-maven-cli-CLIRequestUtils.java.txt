Add support for multiple -P params on the command line.
Issue id: MNG-3268


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@652912 13f79535-47bb-0310-9956-ffa450edef68

-            String profilesLine = commandLine.getOptionValue( CLIManager.ACTIVATE_PROFILES );
+            String [] profileOptionValues = commandLine.getOptionValues( CLIManager.ACTIVATE_PROFILES );
-            StringTokenizer profileTokens = new StringTokenizer( profilesLine, "," );
-
-            while ( profileTokens.hasMoreTokens() )
+            if ( profileOptionValues != null )
-                String profileAction = profileTokens.nextToken().trim();
+                for ( int i=0; i < profileOptionValues.length; ++i )
+                {
+                    StringTokenizer profileTokens = new StringTokenizer( profileOptionValues[i] , "," );
-                if ( profileAction.startsWith( "-" ) )
-                {
-                    activeProfiles.add( profileAction.substring( 1 ) );
-                }
-                else if ( profileAction.startsWith( "+" ) )
-                {
-                    inactiveProfiles.add( profileAction.substring( 1 ) );
-                }
-                else
-                {
-                    // TODO: deprecate this eventually!
-                    activeProfiles.add( profileAction );
+                    while ( profileTokens.hasMoreTokens() )
+                    {
+                        String profileAction = profileTokens.nextToken().trim();
+
+                        if ( profileAction.startsWith( "-" ) )
+                        {
+                            activeProfiles.add( profileAction.substring( 1 ) );
+                        }
+                        else if ( profileAction.startsWith( "+" ) )
+                        {
+                            inactiveProfiles.add( profileAction.substring( 1 ) );
+                        }
+                        else
+                        {
+                            // TODO: deprecate this eventually!
+                            activeProfiles.add( profileAction );
+                        }
+                    }

INS25 MOV32 INS8 INS60 MOV25 INS5 INS59 INS27 INS8 MOV43 INS85 INS42 INS32 INS42 INS33 INS24 INS42 INS42 INS40 INS58 INS27 INS38 MOV8 INS39 INS59 INS42 INS40 INS42 INS42 INS34 MOV43 MOV43 INS2 INS42 INS42 DEL42 DEL42 DEL42 DEL40 DEL32 DEL59 DEL60 DEL42