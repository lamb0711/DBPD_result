PR: MNG-978, 979, 964
Submitted by: Johnny R. Ruiz III
Reviewed by:  Brett Porter
added parameters printSummary, reportFormat, and useFile to configure the reporting format.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@293194 13f79535-47bb-0310-9956-ffa450edef68

+    
+    /**
+     * Option to print summary of test suites or just print the test cases that has errors.
+     * 
+     *  @parameter expression="${surefire.printSummary}"
+     *             default-value="true"
+     */
+    private boolean printSummary;
+    
+    /**
+     * Selects the formatting for the test report to be generated.  Can be set as brief, plain, or xml.
+     * 
+     * @parameter expression="${surefire.reportFormat}"
+     *            default-value="brief"       
+     */
+     private String reportFormat;
+     
+     /**
+      * Option to generate a file test report or just output the test report to the console.
+      * 
+      * @parameter expression="${surefire.useFile}"
+      *            default-value="true"
+      */
+     private boolean useFile;
-        surefireBooter.addReport( "org.codehaus.surefire.report.ConsoleReporter" );
-
-        surefireBooter.addReport( "org.codehaus.surefire.report.FileReporter" );
-
-        surefireBooter.addReport( "org.codehaus.surefire.report.XMLReporter");
-
-
+        addReporters(surefireBooter);
+        
+    
+    /**
+     * <p> Adds Reporters that will generate reports with different formatting. 
+     * <p> The Reporter that will be added will be based on the value of the parameter 
+     *     useFile, reportFormat, and printSummary.
+     *     
+     * @param surefireBooter The surefire booter that will run tests.
+     */
+    private void addReporters(SurefireBooter surefireBooter)
+    {
+
+        if ( useFile )
+        {
+            if ( printSummary )
+            {
+                surefireBooter.addReport( "org.codehaus.surefire.report.ConsoleReporter" );
+            }
+            else
+            {
+                surefireBooter.addReport( "org.codehaus.surefire.report.SummaryConsoleReporter" );
+            }
+
+            if ( reportFormat.equals( "brief" ) )
+            {
+                surefireBooter.addReport( "org.codehaus.surefire.report.BriefFileReporter" );
+            }
+            else if ( reportFormat.equals( "plain" ) )
+            {
+                surefireBooter.addReport( "org.codehaus.surefire.report.FileReporter" );
+            }
+        }
+        else
+        {
+            if ( reportFormat.equals( "brief" ) )
+            {
+                surefireBooter.addReport( "org.codehaus.surefire.report.BriefConsoleReporter" );
+            }
+            else if ( reportFormat.equals( "plain" ) )
+            {
+                surefireBooter.addReport( "org.codehaus.surefire.report.DetailedConsoleReporter" );
+            }
+        }
+        surefireBooter.addReport( "org.codehaus.surefire.report.XMLReporter" );   
+    }

INS23 INS23 INS23 INS31 INS29 INS83 INS39 INS59 INS29 INS83 INS43 INS59 INS29 INS83 INS39 INS59 INS29 INS83 INS39 INS42 INS44 INS8 INS65 INS65 INS42 INS65 INS65 INS42 INS42 INS65 INS65 INS42 INS21 INS65 INS65 INS43 INS42 INS25 MOV21 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS32 INS66 INS66 INS66 INS42 INS66 INS42 INS42 INS8 INS8 INS42 INS42 INS25 INS25 INS25 INS42 INS8 INS8 INS32 INS8 INS25 INS32 INS8 INS25 MOV21 INS21 INS42 INS42 INS45 INS21 INS32 INS8 INS42 INS42 INS45 INS21 INS32 INS8 INS32 INS32 INS42 INS42 INS45 MOV21 INS32 INS42 INS42 INS45 INS21 INS42 INS42 INS45 INS42 INS42 INS45 INS42 INS42 INS45 INS32 INS42 INS42 INS45