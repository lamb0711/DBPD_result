o Rolling back changes to super-model loading, with the exception of the supermodel file name change...it's still changed to pom-4.0.0.xml


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163088 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.Maven;
+            // TODO: rename to super-pom.xml so it is not used by the reactor
+            superModel = modelReader.read( new InputStreamReader( DefaultMavenProjectBuilder.class.getResourceAsStream( "pom-4.0.0.xml" ) ) );
+
-                
-                validateLeafModel(userModel);
-                
-                // TODO: rename to super-pom.xml so it is not used by the reactor
-                superModel = modelReader.read( new InputStreamReader( DefaultMavenProjectBuilder.class.getResourceAsStream( "pom-4.0.0.xml" ) ) );
-
-                // [JDC 9/16]: Commented until I have time to figure this out... 
-                // badmodelVersion somewhere
-                //superModel = modelReader.read( new InputStreamReader( DefaultMavenProjectBuilder.class.getResourceAsStream( "pom-" + userModel.getModelVersion() + ".xml" ) ) );
-                
-            
-            if(superModel == null)
-            {
-                superModel = modelReader.read( new InputStreamReader( DefaultMavenProjectBuilder.class.getResourceAsStream( "pom-" + Maven.DEFAULT_MODEL_VERSION + ".xml" ) ) );
-            }
-    private void validateLeafModel( Model userModel )
-    {
-        // [JDC 9/16]:
-        // Commenting this out until I have time to get this particular validation
-        // fixed in all tests, core plugins, and IT's...
-        
-        /*
-        String modelVersion = userModel.getModelVersion();
-        if ( modelVersion == null || modelVersion.length() < 1 )
-        {
-            throw new IllegalStateException( "POM element \'modelVersion\' must be specified; it may not be inherited" );
-        }
-
-        String name = userModel.getName();
-        if ( name == null || name.length() < 1 )
-        {
-            throw new IllegalStateException( "POM element \'name\' must be specified; it may not be inherited" );
-        }
-
-        String artifactId = userModel.getArtifactId();
-        if ( artifactId == null || artifactId.length() < 1 )
-        {
-            throw new IllegalStateException( "POM element \'artifactId\' must be specified; it may not be inherited" );
-        }
-
-        String version = userModel.getVersion();
-        if ( version == null || version.length() < 1 )
-        {
-            throw new IllegalStateException( "POM element \'version\' must be specified; it may not be inherited" );
-        }
-        */
-
-    }
-

MOV21 DEL40 DEL26 DEL42 DEL42 DEL32 DEL21 DEL42 DEL33 DEL27 DEL42 DEL42 DEL42 DEL42 DEL43 DEL42 DEL43 DEL57 DEL42 DEL45 DEL40 DEL45 DEL27 DEL32 DEL14 DEL32 DEL7 DEL21 DEL8 DEL25 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL8 DEL31