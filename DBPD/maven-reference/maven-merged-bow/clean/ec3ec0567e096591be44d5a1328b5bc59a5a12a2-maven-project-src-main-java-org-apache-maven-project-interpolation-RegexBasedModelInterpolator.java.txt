Fixing interpolation for project.basedir and pom.basedir, by internalizing the basedir handling into the interpolator (now that we're passing in projectDir, it's easier to handle there).

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@647287 13f79535-47bb-0310-9956-ffa450edef68

-    private String interpolateInternal( String src, Model model, Map context, Map overrideContext, File projectDir, boolean outputDebugMessages )
+    private String interpolateInternal( String src,
+                                        Model model,
+                                        Map context,
+                                        Map overrideContext,
+                                        final File projectDir,
+                                        boolean outputDebugMessages )
+        ValueSource basedirValueSource = new PrefixedValueSourceWrapper( new ValueSource(){
+            public Object getValue( String expression )
+            {
+                if ( projectDir != null && "basedir".equals( expression ) )
+                {
+                    return projectDir.getAbsolutePath();
+                }
+
+                return null;
+            }
+        },
+        PROJECT_PREFIXES, true );
+
+        interpolator.addValueSource( basedirValueSource );

INS83 INS60 INS21 INS43 INS59 INS32 INS42 INS42 INS14 INS42 INS42 INS42 INS43 INS14 INS42 INS9 INS42 INS43 INS1 INS42 INS31 INS83 INS43 INS42 INS44 INS8 INS42 INS43 INS42 INS25 INS41 INS42 INS27 INS8 INS33 INS27 INS32 INS41 INS42 INS33 INS45 INS42 INS42 INS32 INS42 INS42