o fixed conditions under which error emails should be sent
o fixed emailing to contain a link to the report
o reformatted using IDEA
o removed directory tracking from transactions, b/c undo order is too tricky for now
o adjusted code to maven-artifact (post maven-project creation) changes.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@164705 13f79535-47bb-0310-9956-ffa450edef68

- * 
+ *
- * 
+ *
- * 
+ *
-public class PomV3ToV4Translator
-    extends AbstractLogEnabled
+public class PomV3ToV4Translator extends AbstractLogEnabled
-    
+
-                // additional plugins to be defined in v3 poms via 
+                // additional plugins to be defined in v3 poms via
-        return (source == null)?(null):(source.replace('+', '-'));
+        return ( source == null ) ? ( null ) : ( source.replace( '+', '-' ) );
-            reporter.warn( "Ignoring gump repository id: \'" + v3Model.getGumpRepositoryId()
-                + "\'. This is not supported in v4 POMs." );
+            reporter.warn( "Ignoring gump repository id: \'" + v3Model.getGumpRepositoryId() +
+                           "\'. This is not supported in v4 POMs." );
-                    reporter.warn( "Non-standard report name: \'" + reportName
-                        + "\'. Using entire name for plugin artifactId." );
+                    reporter.warn( "Non-standard report name: \'" + reportName +
+                                   "\'. Using entire name for plugin artifactId." );
-                                                                                                                                "\to groupId: \'maven\'\n" ).append(
-                                                                                                                                                                     "\to artifactId: \'" ).append(
-                                                                                                                                                                                                    reportPluginName ).append(
-                                                                                                                                                                                                                               "\'\n" ).append(
-                                                                                                                                                                                                                                                "\to version: \'1.0-SNAPSHOT\'\n" ).append(
-                                                                                                                                                                                                                                                                                            "\to goal: \'report\'\n" ).append(
-                                                                                                                                                                                                                                                                                                                               "\n" ).append(
-                                                                                                                                                                                                                                                                                                                                              "These values were extracted using the v3 report naming convention, but may be wrong." );
+                    "\to groupId: \'maven\'\n" ).append( "\to artifactId: \'" ).append( reportPluginName ).append(
+                        "\'\n" ).append( "\to version: \'1.0-SNAPSHOT\'\n" ).append( "\to goal: \'report\'\n" ).append(
+                            "\n" ).append(
+                                "These values were extracted using the v3 report naming convention, but may be wrong." );
-                                                                      org.apache.maven.model.v3_0_0.Organization v3Organization,
-                                                                      Reporter reporter )
+        org.apache.maven.model.v3_0_0.Organization v3Organization, Reporter reporter )
-                                                                   org.apache.maven.model.v3_0_0.Model v3Model )
+                                                                    org.apache.maven.model.v3_0_0.Model v3Model )
-                
+
-                
-                if( StringUtils.isNotEmpty( id ) )
+
+                if ( StringUtils.isNotEmpty( id ) )
-                    if( StringUtils.isEmpty( groupId ) )
+                    if ( StringUtils.isEmpty( groupId ) )
-                    
-                    if( StringUtils.isEmpty( artifactId ) )
+
+                    if ( StringUtils.isEmpty( artifactId ) )
-                if( "plugin".equals( type ) )
+                if ( "plugin".equals( type ) )
-                    if( "maven".equals( groupId ) )
+                    if ( "maven".equals( groupId ) )
-                    
+
-                    
+
-                            
+
-                            
+
-                    
+
-                    
+
-                    dep.setGroupId(groupId);
-                    dep.setArtifactId(artifactId);
+                    dep.setGroupId( groupId );
+                    dep.setArtifactId( artifactId );
-                    
+
-                    if( StringUtils.isNotEmpty( scope ) )
+                    if ( StringUtils.isNotEmpty( scope ) )
-        
-        if(!this.discoveredPlugins.isEmpty())
+
+        if ( !this.discoveredPlugins.isEmpty() )
-            if(build == null)
+            if ( build == null )
-            
+
-                
+
-                
-                List excludes = new ArrayList(v3Resource.getExcludes());
-                excludes.removeAll(v3Resource.getDefaultExcludes());
-                
+
+                List excludes = new ArrayList( v3Resource.getExcludes() );
+                excludes.removeAll( v3Resource.getDefaultExcludes() );
+
-                
+

