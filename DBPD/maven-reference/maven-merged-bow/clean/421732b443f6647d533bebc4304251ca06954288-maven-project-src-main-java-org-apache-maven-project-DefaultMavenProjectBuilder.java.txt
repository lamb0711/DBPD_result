Further cleanup of maven project APIs.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@761112 13f79535-47bb-0310-9956-ffa450edef68

-		try {
-			domainModel = buildWithoutProfiles( "unknown", pomFile, configuration.getLocalRepository(), configuration.getRemoteRepositories(), configuration );
-		} catch (IOException e) {
+		try 
+		{
+			domainModel = buildWithoutProfiles( "unknown", pomFile, configuration );
+		} 
+		catch (IOException e) 
+		{
+     
+        MavenProject project = buildWithProfiles( domainModel, configuration, pomFile );
-        
-        MavenProject project = buildWithProfiles( domainModel, configuration, pomFile, domainModel.getParentFile() );
-        project.setFile( pomFile );
-        try {
-			domainModel = buildWithoutProfiles( "unknown", artifact.getFile(), configuration.getLocalRepository(), 
-					configuration.getRemoteRepositories(), configuration );
-		} catch (IOException e) {
+        try 
+        {
+			domainModel = buildWithoutProfiles( "unknown", artifact.getFile(), configuration );
+		} 
+        catch (IOException e) 
+        {
-        project = buildWithProfiles( domainModel, configuration, artifact.getFile(), domainModel.getParentFile() );
+
+        project = buildWithProfiles( domainModel, configuration, artifact.getFile() );
+    //TODO: Get rid of this after merge of new PluginManager code
-    private MavenProject buildWithProfiles( PomClassicDomainModel domainModel, ProjectBuilderConfiguration config, File projectDescriptor, File parentDescriptor )
+    private MavenProject buildWithProfiles( PomClassicDomainModel domainModel, ProjectBuilderConfiguration config, File projectDescriptor )
+		File parentDescriptor = domainModel.getParentFile();
+		
-    private PomClassicDomainModel buildWithoutProfiles( String projectId, File pomFile, ArtifactRepository localRepository, 
-    		List<ArtifactRepository> remoteRepositories, ProjectBuilderConfiguration projectBuilderConfiguration )
+    private PomClassicDomainModel buildWithoutProfiles( String projectId, File pomFile, ProjectBuilderConfiguration projectBuilderConfiguration )
-
-        return buildModel( pomFile, new ProfileContextInfo(null, activeProfileIds, inactiveProfileIds), localRepository, remoteRepositories );
+            
+        return buildModel( pomFile, new ProfileContextInfo(null, activeProfileIds, inactiveProfileIds), projectBuilderConfiguration );
-    private PomClassicDomainModel buildModel( File pom, ProfileContextInfo profileInfo, ArtifactRepository localRepository, List<ArtifactRepository> remoteRepositories )
+    private PomClassicDomainModel buildModel( File pom, ProfileContextInfo profileInfo, ProjectBuilderConfiguration config )
-
+        ArtifactRepository localRepository = config.getLocalRepository();
+        List<ArtifactRepository> remoteRepositories = config.getRemoteRepositories();
+        

INS60 INS43 INS42 INS60 INS60 MOV43 INS59 INS42 MOV43 INS59 MOV74 INS59 INS42 MOV32 UPD42 INS42 INS32 INS42 INS32 INS42 INS42 INS42 INS42 MOV42 MOV42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL42 DEL42 DEL32 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL43 DEL74 DEL42 DEL44 DEL42 DEL42 DEL42 DEL44