o Used project realm during dependency resolution
o Fixed NPEs

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@793871 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.classworlds.realm.ClassRealm;
+    private ClassRealm classRealm;
+
-
-    public void setRemoteArtifactRepositories( List<ArtifactRepository> remoteArtifactRepositories )
-    {
-        this.remoteArtifactRepositories = remoteArtifactRepositories;
-    }
-
-    public List<ArtifactRepository> getRemoteArtifactRepositories()
-    {
-        return remoteArtifactRepositories;
-    }
+    public void setRemoteArtifactRepositories( List<ArtifactRepository> remoteArtifactRepositories )
+    {
+        this.remoteArtifactRepositories = remoteArtifactRepositories;
+    }
+
+    public List<ArtifactRepository> getRemoteArtifactRepositories()
+    {
+        if ( remoteArtifactRepositories == null )
+        {
+            remoteArtifactRepositories = new ArrayList<ArtifactRepository>();
+        }
+
+        return remoteArtifactRepositories;
+    }
+
+        if ( pluginArtifactRepositories == null )
+        {
+            pluginArtifactRepositories = new ArrayList<ArtifactRepository>();
+        }
+
+
+    /**
+     * Sets the project's class realm.
+     * 
+     * @param classRealm The class realm hosting the build extensions of this project, may be {@code null}.
+     */
+    public void setClassRealm( ClassRealm classRealm )
+    {
+        this.classRealm = classRealm;
+    }
+
+    /**
+     * Gets the project's class realm. This class realm hosts the build extensions of the project.
+     * 
+     * @return The project's class realm or {@code null}.
+     */
+    public ClassRealm getClassRealm()
+    {
+        return classRealm;
+    }
+

INS26 MOV31 MOV31 INS40 INS23 INS31 INS31 INS83 INS43 INS59 INS8 INS8 INS29 INS83 INS39 INS42 INS44 INS8 INS29 INS83 INS43 INS42 INS8 INS42 INS42 INS25 MOV41 INS25 MOV41 INS65 INS65 INS43 INS42 INS21 INS65 INS65 INS42 INS41 INS27 INS8 INS27 INS8 INS66 INS42 INS66 INS65 INS66 INS42 INS7 INS66 INS66 INS65 INS66 INS42 INS42 INS33 INS21 INS42 INS33 INS21 INS66 INS22 INS42 INS66 INS7 INS7 INS52 INS42 INS42 INS14 INS42 INS14 INS74 INS74 INS43 INS43 INS43 INS43 INS42 INS42 INS42 INS42 DEL8 DEL8