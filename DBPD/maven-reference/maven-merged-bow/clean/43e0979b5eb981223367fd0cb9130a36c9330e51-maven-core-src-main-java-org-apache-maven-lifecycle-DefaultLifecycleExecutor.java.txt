o Fixed parsing of default phase bindings

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@806005 13f79535-47bb-0310-9956-ffa450edef68

-            // TODO: remove hard coding
-            if ( phase.equals( "clean" ) )
-            {
-                Plugin plugin = new Plugin();
-                plugin.setGroupId( "org.apache.maven.plugins" );
-                plugin.setArtifactId( "maven-clean-plugin" );
-                plugin.setVersion( "2.3" );
-                mojoExecutions.add( new MojoExecution( plugin, "clean", "default-clean" ) );
-            }
-
+            Map<String, String> phaseToGoalMapping = null;
+
-                Map<String, String> lifecyclePhasesForPackaging = lifecycleConfiguration.getPhases();
-
+                phaseToGoalMapping = lifecycleConfiguration.getPhases();
+            }
+            else if ( lifecycle.getDefaultPhases() != null )
+            {
+                phaseToGoalMapping = lifecycle.getDefaultPhases();
+            }
+            
+            if ( phaseToGoalMapping != null )
+            {
-                for ( Map.Entry<String, String> goalsForLifecyclePhase : lifecyclePhasesForPackaging.entrySet() )
+                for ( Map.Entry<String, String> goalsForLifecyclePhase : phaseToGoalMapping.entrySet() )
-            else if ( lifecycle.getDefaultPhases() != null )
-            {
-                for ( String goals : lifecycle.getDefaultPhases() )
-                {
-                    parseLifecyclePhaseDefinitions( plugins, null, goals );
-                }
-            }

MOV60 INS25 MOV27 INS8 MOV25 INS27 UPD42 INS33 INS21 INS8 INS42 INS33 INS7 MOV21 INS42 MOV32 INS7 UPD42 INS42 MOV32 DEL42 DEL42 DEL45 DEL32 DEL42 DEL43 DEL42 DEL42 DEL43 DEL14 DEL59 DEL60 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL43 DEL42 DEL45 DEL45 DEL14 DEL32 DEL21 DEL8 DEL25 DEL42 DEL42 DEL33 DEL42 DEL32 DEL42 DEL43 DEL42 DEL44 DEL8 DEL70 DEL8