[MNG-4909] Emit warning when dependency with scope import but inproper type is declared


git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@1037689 13f79535-47bb-0310-9956-ffa450edef68

-            if ( "pom".equals( dependency.getType() ) && "import".equals( dependency.getScope() )
-                && StringUtils.isNotEmpty( dependency.getClassifier() ) )
+            if ( "import".equals( dependency.getScope() ) )
-                addViolation( problems, errOn30, prefix + ".classifier", key,
-                              "must be empty, imported POM cannot have a classifier.", dependency );
+                if ( !"pom".equals( dependency.getType() ) )
+                {
+                    addViolation( problems, Severity.WARNING, prefix + ".type", key,
+                                  "must be 'pom' to import the managed dependencies.", dependency );
+                }
+                else if ( StringUtils.isNotEmpty( dependency.getClassifier() ) )
+                {
+                    addViolation( problems, errOn30, prefix + ".classifier", key,
+                                  "must be empty, imported POM cannot have a classifier.", dependency );
+                }

MOV32 INS8 INS25 INS38 INS8 INS25 MOV32 INS21 MOV32 MOV8 INS32 INS42 INS42 INS40 INS27 INS42 INS45 INS42 INS42 INS45 DEL27