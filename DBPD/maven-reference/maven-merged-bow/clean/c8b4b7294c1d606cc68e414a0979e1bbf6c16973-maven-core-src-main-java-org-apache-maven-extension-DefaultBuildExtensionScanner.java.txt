the reactorpoms modules need to be checked recursively to satisfy this case:
parent --> submodule -->subsubmodule --> subsubsubmodule where parent defines a plugin with extensions in pluginManagement section and the subsubmodule is the one using the  plugin.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@613662 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Collections;
+        
+        List internalFiles = new ArrayList();
+        
+        internalFiles.addAll(files);
-            scanInternal( pom, request, visited, files );
+            scanInternal( pom, request, visited, internalFiles );
-        scanInternal( pom, request, new ArrayList(), Collections.singletonList( pom ) );
+        List internalFiles = new ArrayList();
+        
+        internalFiles.add( pom );
+        
+        scanInternal( pom, request, new ArrayList(), internalFiles );
-
+                
+                reactorFiles.add( modulePomDirectory );
+                

INS60 INS21 INS60 INS21 INS43 INS59 INS32 INS43 INS59 INS32 INS42 INS42 INS14 INS42 INS42 INS42 INS42 INS42 INS14 INS42 INS42 INS42 UPD42 MOV42 INS43 INS43 INS42 UPD42 INS42 INS21 INS32 INS42 INS42 INS42 DEL40 DEL26 DEL42 DEL42 DEL32