unifyf generated site directory, add default site descriptor

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@169776 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.util.IOUtil;
-     * @parameter alias="workingDirectory" expression="${project.build.directory}/site-generated"
+     * @parameter alias="workingDirectory" expression="${project.build.directory}/generated-site"
-            config.setOutputDirectory( new File( generatedSiteDirectory ) );
-
-                    e.printStackTrace();
-                    e.printStackTrace();
-        if ( !siteDescriptor.exists() )
-        {
-            throw new MojoExecutionException( "The site descriptor is not present!" );
-        }
-
-            siteDescriptorContent = FileUtils.fileRead( siteDescriptor );
+            if ( siteDescriptor.exists() )
+            {
+                siteDescriptorContent = FileUtils.fileRead( siteDescriptor );
+            }
+            else
+            {
+                siteDescriptorContent = IOUtil.toString( getClass().getResourceAsStream( "/default-site.xml" ) );
+            }
+        // TODO: interpolate ${project.*} in general
+        props.put( "project.name", project.getName() );
+        props.put( "project.url", project.getUrl() );
+
-        
+

INS26 INS40 INS21 INS21 UPD66 INS8 INS32 INS32 INS25 INS42 INS42 INS45 INS32 INS42 INS42 INS45 INS32 MOV32 MOV8 INS8 INS42 INS42 INS42 INS42 INS21 INS7 INS42 INS32 INS42 INS42 INS32 INS32 INS42 INS45 INS42 DEL42 DEL42 DEL42 DEL43 DEL42 DEL14 DEL32 DEL21 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL32 DEL21 DEL38 DEL42 DEL43 DEL45 DEL14 DEL53 DEL8 DEL25