[MNG-6189] warn if maven-site-plugin reportPlugins is configured
+import org.apache.maven.model.building.ModelProblemCollectorRequest;
+import org.apache.maven.model.building.ModelProblem.Severity;
+import org.apache.maven.model.building.ModelProblem.Version;
- * Handles conversion of the legacy reporting section into the configuration of the new Maven Site Plugin.
+ * Handles conversion of the <code>&lt;reporting&gt;</code> section into the configuration of Maven Site Plugin 3.x,
+ * i.e. <code>reportPlugins</code> and <code>outputDirectory</code> parameters.
-            // new-style report configuration already present, assume user handled entire conversion
+            // new-style report configuration already present: warn since this new style has been deprecated
+            // in favor of classical reporting section MSITE-647 / MSITE-684
+            problems.add( new ModelProblemCollectorRequest( Severity.WARNING, Version.BASE )
+                    .setMessage( "Reporting configuration should be done in <reporting> section, "
+                          + "not in maven-site-plugin <configuration> as reportPlugins parameter." )
+                    .setLocation( sitePlugin.getLocation( "configuration" ) ) );

INS26 INS26 INS26 INS40 INS40 INS40 UPD66 INS66 INS21 INS32 INS42 INS42 INS32 INS32 INS42 INS32 INS14 INS42 INS27 INS42 INS42 INS45 INS43 INS40 INS40 INS45 INS45 INS42