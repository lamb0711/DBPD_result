[MNG-5075] MavenProject.getParent throws undocumented ISE

Submitted by Jesse Glick

+    private static final MavenProject ERROR_BUILDING_PARENT = new MavenProject();
+
+    /**
+     * Returns the project corresponding to a declared parent.
+     * @return the parent, or null if no parent is declared or there was an error building it
+     */
-                    throw new IllegalStateException( "Failed to build parent project for " + getId(), e );
+                    if ( logger != null )
+                    {
+                        logger.error( "Failed to build parent project for " + getId(), e );
+                    }
+                    parent = ERROR_BUILDING_PARENT;
-                    throw new IllegalStateException( "Failed to build parent project for " + getId(), e );
+                    if ( logger != null )
+                    {
+                        logger.error( "Failed to build parent project for " + getId(), e );
+                    }
+                    parent = ERROR_BUILDING_PARENT;
-        return parent;
+        return parent == ERROR_BUILDING_PARENT ? null : parent;

INS23 INS83 INS83 INS83 INS43 INS59 INS29 INS42 INS42 INS14 INS65 INS65 INS43 INS66 INS66 INS16 INS42 INS27 INS33 INS42 INS42 INS42 INS8 INS25 INS21 INS8 INS27 INS8 INS7 INS25 INS21 INS42 INS33 INS21 INS42 INS42 INS27 INS8 INS7 INS32 INS42 INS33 INS21 INS42 INS42 INS42 INS42 MOV27 INS42 INS32 INS42 INS42 MOV27 INS42 DEL42 DEL43 DEL42 DEL14 DEL53 DEL8 DEL42 DEL43 DEL42 DEL14 DEL53 DEL8 DEL42