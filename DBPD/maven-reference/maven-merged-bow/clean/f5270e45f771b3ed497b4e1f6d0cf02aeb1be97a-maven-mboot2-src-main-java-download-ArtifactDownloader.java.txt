refactor mboot
- model reading separated
- define mboot dependencies in its own POM


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163745 13f79535-47bb-0310-9956-ffa450edef68

+import model.Dependency;
+
-        System.out.println("Using the following proxy : " + proxyHost + "/" + proxyPort );
+        System.out.println( "Using the following proxy : " + proxyHost + "/" + proxyPort );
-            String file = (String) j.next();
+            Dependency dep = (Dependency) j.next();
-            if ( !downloadedArtifacts.contains( file ) )
+            if ( !downloadedArtifacts.contains( dep ) )
-                File destinationFile = new File( mavenRepoLocal, file );
+                String repositoryPath = dep.getRepositoryPath();
+                File destinationFile = new File( mavenRepoLocal, repositoryPath );
-                if ( destinationFile.exists() && file.indexOf( SNAPSHOT_SIGNATURE ) < 0 )
+                if ( destinationFile.exists() && dep.getVersion().indexOf( SNAPSHOT_SIGNATURE ) < 0 )
-                getRemoteArtifact( file, destinationFile );
+                getRemoteArtifact( repositoryPath, destinationFile );
-                    throw new Exception( "Failed to download " + file );
+                    throw new Exception( "Failed to download " + dep );
-                downloadedArtifacts.add( file );
+                downloadedArtifacts.add( dep );
-            else 
+            else
-                HttpUtils.getFile( url,
-                                   destinationFile,
-                                   ignoreErrors,
-                                   useTimestamp,
-                                   proxyHost,
-                                   proxyPort,
-                                   proxyUserName,
-                                   proxyPassword,
-                                   true );
+                HttpUtils.getFile( url, destinationFile, ignoreErrors, useTimestamp, proxyHost, proxyPort,
+                                   proxyUserName, proxyPassword, true );

INS26 INS40 UPD43 UPD42 UPD42 INS60 INS43 UPD42 MOV43 INS59 MOV43 INS42 INS42 INS32 UPD42 UPD42 INS42 INS42 MOV43 UPD42 INS32 UPD42 MOV42 INS42 UPD42