PR: MNG-456
allow separate snapshot and release repositories
deprecate existing snapshotPolicy and checksumPolicy in favour of updatePolicy and checksumPolicy within the <releases> and <snapshots> elements in the <repository> element.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@224707 13f79535-47bb-0310-9956-ffa450edef68

-    private final String snapshotPolicy;
-    
-    private final String checksumPolicy;
-
+    private ArtifactRepositoryPolicy snapshots;
+
+    private ArtifactRepositoryPolicy releases;
+
+    /**
+     * Create a local repository or a deployment repository.
+     *
+     * @param id the unique identifier of the repository
+     * @param url the URL of the repository
+     * @param layout the layout of the repository
+     */
-        this( id, url, layout, SNAPSHOT_POLICY_NEVER, CHECKSUM_POLICY_WARN );
+        this( id, url, layout, null, null );
-    public DefaultArtifactRepository( String id, String url, ArtifactRepositoryLayout layout, String snapshotPolicy, String checksumPolicy )
+    /**
+     * Create a remote download repository.
+     *
+     * @param id the unique identifier of the repository
+     * @param url the URL of the repository
+     * @param layout the layout of the repository
+     * @param snapshots the policies to use for snapshots
+     * @param releases the policies to use for releases
+     */
+    public DefaultArtifactRepository( String id, String url, ArtifactRepositoryLayout layout,
+                                      ArtifactRepositoryPolicy snapshots, ArtifactRepositoryPolicy releases )
-        this.snapshotPolicy = snapshotPolicy;
-        
-        this.checksumPolicy = checksumPolicy;
+        this.snapshots = snapshots;
+
+        this.releases = releases;
-    
+
-    public String getSnapshotPolicy()
+    public ArtifactRepositoryLayout getLayout()
-        return snapshotPolicy;
-    }
-    
-    public String getChecksumPolicy()
-    {
-        return checksumPolicy;
-    }
-    
-    public boolean failOnChecksumMismatch()
-    {
-        return CHECKSUM_POLICY_FAIL.equals( checksumPolicy );
+        return layout;
-}
+    public ArtifactRepositoryPolicy getSnapshots()
+    {
+        return snapshots;
+    }
+
+    public ArtifactRepositoryPolicy getReleases()
+    {
+        return releases;
+    }
+}

MOV23 UPD43 UPD43 INS29 INS29 UPD43 UPD42 UPD43 UPD42 INS43 INS42 UPD42 UPD42 UPD42 UPD42 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 UPD43 UPD42 UPD43 UPD42 UPD42 UPD42 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS33 INS33 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS66 UPD42 UPD42 UPD42 UPD42 INS42 UPD42 UPD42 UPD42 UPD42 DEL83 DEL83 DEL42 DEL42 DEL39 DEL42 DEL42 DEL42 DEL42 DEL32