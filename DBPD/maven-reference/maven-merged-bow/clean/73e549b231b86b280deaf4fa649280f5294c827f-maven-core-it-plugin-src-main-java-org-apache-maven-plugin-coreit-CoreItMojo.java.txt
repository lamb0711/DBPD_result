o Fixing resolution of LATEST in plugin-versions, when <useLatest/> is enabled in plugin-registry.xml, or when --check-plugin-latest is specified on the command line.

o Fixing core-library resolution for expression: ${plugin.artifacts} and ${plugin.artifactMap} (latter is keyed by g:a)

o Modified maven-core-it-plugin to accept something like "-DartifactToFile=org.apache.maven:maven-artifact"...it'll lookup that artifact in ${plugin.artifactMap}, and touch a file that's a mutation of the abs. path for that artifact.

o Added pomArtifact to ResolutionGroup, since the MavenMetadataSource ALWAYS creates a new Artifact for a pom...this allows us to retrieve the resolved Artifact for that pom.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@225234 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.Artifact;
-import java.io.IOException;
-import java.util.List;
+import java.io.IOException;
+import java.util.Map;
-     * @parameter expression="${plugin.artifacts}"
+     * @parameter expression="${plugin.artifactMap}"
-    private List pluginArtifacts;
+    private Map pluginArtifacts;
+    
+    /**
+     * @parameter expression="${artifactToFile}"
+     */
+    private String artifactToFile;
+        
+        File outDir = new File( outputDirectory );
-            touch( new File( outputDirectory ), pluginItem );
+            touch( outDir, pluginItem );
-            touch( new File( outputDirectory ), goalItem );
+            touch( outDir, goalItem );
+        }
+        
+        if ( artifactToFile != null )
+        {
+            Artifact artifact = (Artifact) pluginArtifacts.get( artifactToFile );
+            
+            File artifactFile = artifact.getFile();
+            
+            String filename = artifactFile.getAbsolutePath().replace('/', '_').replace(':', '_') + ".txt";
+            
+            touch( outDir, filename );

MOV26 INS26 INS40 UPD40 INS23 UPD43 INS29 INS83 INS43 INS59 UPD42 INS65 INS42 INS42 INS60 INS25 UPD66 INS66 INS43 INS59 INS27 INS8 INS42 INS42 MOV14 INS42 INS33 INS60 INS60 INS60 INS21 INS43 INS59 INS43 INS59 INS43 INS59 INS32 INS42 INS42 INS42 INS42 INS11 INS42 INS42 INS32 INS42 INS42 INS27 INS42 INS42 INS42 INS43 INS32 INS42 INS42 INS32 INS45 INS42 INS42 INS42 INS42 INS32 INS42 INS13 INS13 INS32 INS42 INS13 INS13 INS42 INS42 DEL42 DEL43 DEL42 DEL14