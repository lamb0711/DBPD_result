Adding a couple unit tests for the project-level session, and fixing potential NPE when an extension is declared that already exists in the core distribution.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@588136 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.resolver.ArtifactNotFoundException;
-import org.apache.maven.artifact.resolver.ArtifactResolutionException;
+import org.apache.maven.artifact.resolver.ArtifactResolutionResult;
+    private ArtifactResolutionResult resolutionResult;
-                                      ArtifactResolutionException cause )
-    {
-        super( message, cause );
-        this.extensionArtifact = extensionArtifact;
-        this.projectId = projectId;
-    }
-
-    public ExtensionManagerException( String message,
-                                      Artifact extensionArtifact,
-                                      String projectId,
-                                      ArtifactNotFoundException cause )
-    {
-        super( message, cause );
-        this.extensionArtifact = extensionArtifact;
-        this.projectId = projectId;
-    }
-
-    public ExtensionManagerException( String message,
-                                      Artifact extensionArtifact,
-                                      String projectId,
+    public ExtensionManagerException( String message,
+                                      Artifact extensionArtifact,
+                                      String projectId )
+    {
+        super( message );
+        this.extensionArtifact = extensionArtifact;
+        this.projectId = projectId;
+    }
+
+    public ExtensionManagerException( String message,
+                                      Artifact extensionArtifact,
+                                      String projectId,
+                                      ArtifactResolutionResult result )
+    {
+        super( message );
+        this.extensionArtifact = extensionArtifact;
+        this.projectId = projectId;
+        resolutionResult = result;
+    }
+
+    public ArtifactResolutionResult getArtifactResolutionResult()
+    {
+        return resolutionResult;
+    }
+

MOV31 MOV31 UPD40 INS23 INS31 INS83 INS43 INS59 INS83 INS43 INS42 INS8 INS42 INS42 UPD43 UPD42 INS46 INS21 INS42 INS41 UPD42 MOV42 INS7 INS42 INS42 INS42 DEL40 DEL26 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL46