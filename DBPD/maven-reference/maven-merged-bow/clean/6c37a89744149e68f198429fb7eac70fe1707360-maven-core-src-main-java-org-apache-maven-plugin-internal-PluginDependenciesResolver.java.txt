[MNG-4756] Aether integration


git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@988749 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.Artifact;
-import org.apache.maven.artifact.resolver.ArtifactResolutionRequest;
-import org.apache.maven.artifact.resolver.filter.ArtifactFilter;
+import org.sonatype.aether.RepositorySystemSession;
+import org.sonatype.aether.artifact.Artifact;
+import org.sonatype.aether.graph.DependencyFilter;
+import org.sonatype.aether.graph.DependencyNode;
+import org.sonatype.aether.repository.RemoteRepository;
-     *
+     * 
-     * @param request A prepopulated resolution request that will be completed and used for the resolution, must not be
-     *            {@code null}.
+     * @param repositories The plugin repositories to use for resolving the plugin's main artifact, must not be {@code
+     *            null}.
+     * @param session The repository session to use for resolving the plugin's main artifact, must not be {@code null}.
-    Artifact resolve( Plugin plugin, ArtifactResolutionRequest request )
+    public Artifact resolve( Plugin plugin, List<RemoteRepository> repositories, RepositorySystemSession session )
-     *
+     * 
-     * @param request A prepopulated resolution request that will be completed and used for the resolution, must not be
-     *            {@code null}.
-     * @param dependencyFilter A filter to exclude artifacts from resolution, may be {@code null}.
-     * @return The list of artifacts denoting the resolved plugin class path, never {@code null}.
+     * @param dependencyFilter A filter to exclude artifacts from resolution (but not collection), may be {@code null}.
+     * @param repositories The plugin repositories to use for resolving the plugin artifacts, must not be {@code null}.
+     * @param session The repository session to use for resolving the plugin artifacts, must not be {@code null}.
+     * @return The dependency tree denoting the resolved plugin class path, never {@code null}.
-    List<Artifact> resolve( Plugin plugin, Artifact pluginArtifact, ArtifactResolutionRequest request,
-                            ArtifactFilter dependencyFilter )
+    DependencyNode resolve( Plugin plugin, Artifact pluginArtifact, DependencyFilter dependencyFilter,
+                            List<RemoteRepository> repositories, RepositorySystemSession session )

MOV26 MOV26 INS26 INS26 INS40 UPD40 INS40 UPD40 UPD40 INS83 INS44 INS43 INS42 INS44 INS65 INS74 UPD42 INS43 INS42 INS65 UPD42 MOV42 INS43 INS42 INS74 UPD42 UPD43 UPD42 UPD42 UPD66 INS65 INS42 INS66 MOV65 INS66 MOV43 INS43 INS42 INS42 INS66 MOV65 INS66 UPD42 UPD66 UPD42 UPD66 INS65 UPD66 UPD42 MOV42 INS43 INS43 UPD42 INS66 UPD42 MOV42 INS42 INS66 UPD42 MOV42 INS42 DEL43 DEL43 DEL74 DEL42 DEL43