package before assembly

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@220222 13f79535-47bb-0310-9956-ffa450edef68

-import org.codehaus.plexus.util.introspection.ReflectionValueExtractor;
+import org.codehaus.plexus.util.introspection.ReflectionValueExtractor;
+ * Assemble an application bundle or distribution.
+ *
- * @description assemble an application bundle or distribution
+ * @execute phase="package"
-    * @parameter expression="${basedir}"
-    * @required
-    * @readonly
-    */
+     * @parameter expression="${basedir}"
+     * @required
+     * @readonly
+     */
-    /** 
+    /**
-     * 
+     *
- 
+
-                        archiver.addFile( artifact.getFile(), output + evaluateFileNameMapping( dependencySet.getOutputFileNameMapping(), artifact ));
-                    }                    
+                        archiver.addFile( artifact.getFile(), output +
+                            evaluateFileNameMapping( dependencySet.getOutputFileNameMapping(), artifact ) );
+                    }
-    private String evaluateFileNameMapping( String expression, Artifact artifact ) 
+    private String evaluateFileNameMapping( String expression, Artifact artifact )
-        Matcher mat = pat.matcher(expression);
+        Matcher mat = pat.matcher( expression );
-        if ( mat.matches() ) 
+        if ( mat.matches() )
-            left   = evaluateFileNameMapping( mat.group(1), artifact );
-            middle = ReflectionValueExtractor.evaluate( "dep." + mat.group(2), artifact );
-            right  = mat.group(3);
+            left = evaluateFileNameMapping( mat.group( 1 ), artifact );
+            middle = ReflectionValueExtractor.evaluate( "dep." + mat.group( 2 ), artifact );
+            right = mat.group( 3 );
-                if ( mat.group(2).trim().equals( "extension" ))  
+                if ( mat.group( 2 ).trim().equals( "extension" ) )
-                    ArtifactHandler artifactHandler  = artifactHandlerManager.getArtifactHandler( artifact.getType() );
+                    ArtifactHandler artifactHandler = artifactHandlerManager.getArtifactHandler( artifact.getType() );
-                    middle = "${" + mat.group(2) + "}";
+                    middle = "${" + mat.group( 2 ) + "}";
-           
+

MOV26 MOV65 UPD65 INS65 UPD66 INS66