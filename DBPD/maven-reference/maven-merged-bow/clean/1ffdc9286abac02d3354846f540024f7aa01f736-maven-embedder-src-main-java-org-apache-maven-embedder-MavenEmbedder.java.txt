o start the grand plugin refactoring, just putting it all together in addition to putting all the repository/artifact calls
  behind the repository system you can see project and plugins being processed an incredible number of times and the recursion
  in the collector is broken causing POMs for plugins to be processed hundreds of times. The bootstrap under profiling reveals
  the xpp3 parser being used almost 30k times which is pure insanity.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@750774 13f79535-47bb-0310-9956-ffa450edef68

-    public Collection<MojoExecution> getMojoExecutionsForGoal(String goal) throws Exception
+    public Collection<MojoExecution> getMojoExecutionsForGoal(String goal) 
+        throws Exception
-    public Object getMojoParameterFor(MojoExecution mojoExecution, String xPath) throws Exception
+    public Object getMojoParameterFor(MojoExecution mojoExecution, String xPath) 
+        throws Exception
-    public void executeMojo(MojoExecution mojoExecution, MavenSession mavenSession ) throws Exception
+    public void executeMojo(MojoExecution mojoExecution, MavenSession mavenSession ) 
+        throws Exception
-    throws XmlPullParserException, IOException
+        throws XmlPullParserException, IOException
-    throws XmlPullParserException, IOException
+        throws XmlPullParserException, IOException
-    public void writeModel( Writer writer,
-                            Model model,
-                            boolean namespaceDeclaration )
+    public void writeModel( Writer writer, Model model, boolean namespaceDeclaration )
-    protected void verifyPlugin( Plugin plugin,
-                                 MavenProject project )
+    protected void verifyPlugin( Plugin plugin, MavenProject project )
-    throws ProjectBuildingException, MavenExecutionException
+        throws ProjectBuildingException, MavenExecutionException
-            // This is necessary to make the MavenEmbedderProjectWithExtensionReadingTest work which uses
-            // a custom type for a dependency like this:
-            //
-            // <dependency>
-            //   <groupId>junit</groupId>
-            //   <artifactId>junit</artifactId>
-            //   <version>3.8.1</version>
-            //   <scope>test</scope>
-            //   <type>mkleint</type>
-            // </dependency>
-            //
-            // If the artifact handlers are not loaded up-front then this dependency element is not
-            // registered as an artifact and is not added to the classpath elements.
-
-
-            handleExtensions( configuration.getExtensions() );
-
-    // ----------------------------------------------------------------------
-    // Lifecycle
-    // ----------------------------------------------------------------------
-
-    private void handleExtensions( List extensions )
-        throws MavenEmbedderException
-    {
-        ClassRealm childRealm;
-        try
-        {
-            childRealm = container.getContainerRealm().createChildRealm( "embedder-extensions" );
-        }
-        catch ( DuplicateRealmException e1 )
-        {
-            try
-            {
-                childRealm = classWorld.getRealm( "embedder-extensions" );
-            }
-            catch ( NoSuchRealmException e )
-            {
-                throw new MavenEmbedderException( "Cannot create realm 'extensions'", e );
-            }
-        }
-
-        for ( Iterator it = extensions.iterator(); it.hasNext(); )
-        {
-            childRealm.addURL( (URL) it.next() );
-        }
-
-        try
-        {
-            container.discoverComponents( childRealm );
-        }
-        catch ( PlexusConfigurationException e )
-        {
-            throw new MavenEmbedderException( "Configuration error while discovering extension components", e );
-        }
-        catch ( ComponentRepositoryException e )
-        {
-            throw new MavenEmbedderException( "Component repository error while discovering extension components", e );
-        }
-    }
-

DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL43 DEL42 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL42 DEL45 DEL32 DEL7 DEL21 DEL8 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL45 DEL32 DEL7 DEL21 DEL8 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL45 DEL42 DEL14 DEL53 DEL8 DEL12 DEL54 DEL8 DEL12 DEL54 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL58 DEL42 DEL42 DEL32 DEL42 DEL42 DEL42 DEL43 DEL42 DEL42 DEL32 DEL11 DEL32 DEL21 DEL8 DEL24 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL45 DEL42 DEL14 DEL53 DEL8 DEL12 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL45 DEL42 DEL14 DEL53 DEL8 DEL12 DEL54 DEL8 DEL31