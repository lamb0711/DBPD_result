PR: MNG-916
ensure RELEASE is not selected as is

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@292172 13f79535-47bb-0310-9956-ffa450edef68

-            if ( version != null && !version.equals( artifact.getVersion() ) )
+            if ( Artifact.LATEST_VERSION.equals( version ) )
-                artifact.setBaseVersion( version );
-                artifact.updateVersion( version, localRepository );
+                throw new ArtifactMetadataRetrievalException(
+                    "Unable to determine the latest version for artifact " + artifact );
+
+            artifact.setBaseVersion( version );
+            artifact.updateVersion( version, localRepository );

MOV8 MOV32 MOV60 INS25 INS32 INS8 INS40 INS42 INS42 INS53 INS14 INS43 INS27 INS42 INS45 INS42 DEL42 DEL33 DEL27 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL38 DEL27 DEL25 DEL8