Clean up of the lifecycle executor, simplify configuration and push back into the plugin manager.
This fixed a couple of bugs along the way.

One change that this has brought to bear from the document is you now must specify a goal for it to be bound to the LC
(see it0008)


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@191285 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Iterator;
-    
+
-        // this relies heavily on the equals() and hashCode() for ComponentDescriptor, 
+        MojoDescriptor existing = null;
+        // this relies heavily on the equals() and hashCode() for ComponentDescriptor,
-            MojoDescriptor existing = (MojoDescriptor) mojos.get( indexOf );
+            existing = (MojoDescriptor) mojos.get( indexOf );
+        }
+        if ( existing != null )
+        {
-    
+
+
+    public MojoDescriptor getMojo( String goal )
+    {
+        // TODO: could we use a map? Maybe if the parent did that for components too, as this is too vulnerable to
+        // changes above not being propogated to the map
+
+        MojoDescriptor mojoDescriptor = null;
+        for ( Iterator i = getMojos().iterator(); i.hasNext() && mojoDescriptor == null; )
+        {
+            MojoDescriptor desc = (MojoDescriptor) i.next();
+            if ( goal.equals( desc.getGoal() ) )
+            {
+                mojoDescriptor = desc;
+            }
+        }
+        return mojoDescriptor;
+    }

INS26 INS40 INS31 MOV8 INS83 INS43 INS42 INS44 INS8 MOV60 INS25 INS25 INS42 INS43 INS42 INS60 INS24 INS41 MOV27 INS8 INS27 INS8 MOV8 INS42 INS43 INS59 INS58 INS27 INS8 INS42 INS33 MOV60 INS21 INS42 INS33 MOV53 INS42 INS42 INS33 INS43 INS59 INS32 INS27 INS60 INS25 INS7 INS42 INS42 INS32 INS42 INS42 INS42 INS33 INS43 INS59 INS32 INS8 INS42 MOV11 INS32 INS42 INS42 INS42 INS11 INS42 INS42 INS32 INS21 INS42 INS43 INS32 INS42 INS42 INS7 INS42 INS42 INS42 INS42 INS42 DEL25 DEL8