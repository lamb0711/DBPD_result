o patch from Oleg for metadata processing required by a maven-artifact provider


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@613467 13f79535-47bb-0310-9956-ffa450edef68

-    implements MetadataSource, Contextualizable
+    implements MetadataSource,
+    Contextualizable
-        Artifact pomArtifact = artifactFactory.createProjectArtifact( artifactMetadata.getGroupId(), artifactMetadata.getArtifactId(),
-            artifactMetadata.getVersion(), artifactMetadata.getScope() );
+        Artifact pomArtifact = artifactFactory.createProjectArtifact(
+            artifactMetadata.getGroupId()
+            , artifactMetadata.getArtifactId()
+            , artifactMetadata.getVersion()
+        );
+            if ( pomArtifact.getFile() != null )
+            {
+                artifactMetadata.setArtifactUri( pomArtifact.getFile().toURI().toString() );
+            }
-        	artifactMetadata.setError( e.getMessage() );
+            artifactMetadata.setError( e.getMessage() );
-            artifacts.add( new ArtifactMetadata( d.getGroupId(), d.getArtifactId(), d.getVersion() ) );
+
+            artifacts.add( new ArtifactMetadata( d.getGroupId(), d.getArtifactId(), d.getVersion(), d.getType(),
+                d.getScope(), d.getClassifier(), null, null, false, null ) );
+

INS25 INS27 INS8 INS32 INS33 INS21 INS42 INS42 INS32 INS32 INS32 INS32 INS33 INS33 INS9 INS33 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS32 INS42 INS42 INS42 DEL42 DEL42 DEL32