o more additions to the session code, not turned on yet but doing things in
  smaller batches.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@162980 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.maven.lifecycle.phase;
+package org.apache.maven.lifecycle.goal.phase;
+
-import org.apache.maven.lifecycle.AbstractMavenLifecyclePhase;
-import org.apache.maven.lifecycle.MavenGoalExecutionContext;
+import org.apache.maven.lifecycle.goal.AbstractMavenGoalPhase;
+import org.apache.maven.lifecycle.goal.GoalExecutionException;
+import org.apache.maven.lifecycle.goal.MavenGoalExecutionContext;
-public class GoalDecorationPhase extends AbstractMavenLifecyclePhase
+public class GoalDecorationPhase extends AbstractMavenGoalPhase
-        throws Exception
+        throws GoalExecutionException
-                initializeDecorators( context );
+                try
+                {
+                    initializeDecorators( context );
+                }
+                catch ( XmlPullParserException e )
+                {
+                    throw new GoalExecutionException( "Error parsing decorators.xml: ", e );
+                }
+                catch ( IOException e )
+                {
+                    throw new GoalExecutionException( "Error reading decorators.xml file: ", e );
+                }
-        context.setGoalDecoratorBindings(decorators);
+        context.setGoalDecoratorBindings( decorators );
-        MavenProject project = context.getProject(  );
+        MavenProject project = context.getProject();
-        File pom = project.getFile(  );
+        File pom = project.getFile();
-        File dir = pom.getParentFile(  );
+        File dir = pom.getParentFile();
-        if ( scriptFile.exists(  ) )
+        if ( scriptFile.exists() )
-                GoalDecorationParser parser = new GoalDecorationParser(  );
+                GoalDecorationParser parser = new GoalDecorationParser();
-                        reader.close(  );
+                        reader.close();
-        
+

INS26 UPD40 UPD40 INS40 UPD40 UPD43 UPD42 UPD43 UPD42 INS8 INS54 MOV8 INS12 INS12 INS44 INS8 INS44 INS8 INS43 INS42 INS53 INS43 INS42 INS53 INS42 INS14 INS42 INS14 INS43 INS45 INS42 INS43 INS45 INS42 INS42 INS42