Resolving: MNG-251

o Added transformation manager
o snapshot timestamp/buildnumber is now managed from the transformation rather than the metadata
o maven-archiver now clones the MavenProject and resolves snapshot versions for introduction into manifest and exported pom.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@239219 13f79535-47bb-0310-9956-ffa450edef68

-    // TODO: very quick and nasty hack to get the same timestamp across a build - not embedder friendly
-    private static String sessionTimestamp = null;
-
+    
+    public void setVersion( String timestamp, int buildNumber )
+    {
+        this.timestamp = timestamp;
+        this.buildNumber = buildNumber;
+    }
+    
+    public int getBuildNumber()
+    {
+        return buildNumber;
+    }
-    public void update()
-    {
-        this.buildNumber++;
-        timestamp = getSessionTimestamp();
-    }
-
-    private static String getSessionTimestamp()
-    {
-        if ( sessionTimestamp == null )
-        {
-            sessionTimestamp = getUtcDateFormatter().format( new Date() );
-        }
-        return sessionTimestamp;
-    }
-
-

MOV31 MOV31 UPD42 INS44 INS44 MOV21 UPD83 INS39 UPD42 MOV43 INS42 INS39 INS42 INS7 UPD42 INS22 INS42 MOV22 INS42 INS52 INS42 DEL83 DEL83 DEL42 DEL43 DEL42 DEL33 DEL59 DEL23 DEL42 DEL42 DEL32 DEL37 DEL83 DEL42 DEL33 DEL27 DEL42 DEL42 DEL32 DEL42 DEL42 DEL43 DEL14 DEL32 DEL7 DEL21 DEL8 DEL25