o Fixed functionality to disable dependency resolution and download for things like clean:clean.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163138 13f79535-47bb-0310-9956-ffa450edef68

-        ArtifactResolver artifactResolver = null;
-
-        try
+        if(context.requiresDependencies())
-            // Once this is a property component there will be an assembly phase for
-            // this and we won't have to do this.
-            artifactResolver = (ArtifactResolver) context.lookup( ArtifactResolver.ROLE );
+            ArtifactResolver artifactResolver = null;
-            for ( Iterator it = context.getProject().getArtifacts().iterator(); it.hasNext(); )
+            try
-                Artifact artifact = (Artifact) it.next();
+                // Once this is a property component there will be an assembly phase for
+                // this and we won't have to do this.
+                artifactResolver = (ArtifactResolver) context.lookup( ArtifactResolver.ROLE );
-                artifactResolver.resolve( artifact,
-                                          context.getRemoteRepositories(),
-                                          context.getLocalRepository() );
+                for ( Iterator it = context.getProject().getArtifacts().iterator(); it.hasNext(); )
+                {
+                    Artifact artifact = (Artifact) it.next();
+
+                    artifactResolver.resolve( artifact,
+                                              context.getRemoteRepositories(),
+                                              context.getLocalRepository() );
+                }
-        }
-        catch ( ComponentLookupException e )
-        {
-            throw new GoalExecutionException( "Can't lookup artifact resolver: ", e );
-        }
-        catch ( ArtifactResolutionException e )
-        {
-            throw new GoalExecutionException( "Can't resolve artifact: ", e );
-        }
-        finally
-        {
-            context.release( artifactResolver );
+            catch ( ComponentLookupException e )
+            {
+                throw new GoalExecutionException( "Can't lookup artifact resolver: ", e );
+            }
+            catch ( ArtifactResolutionException e )
+            {
+                throw new GoalExecutionException( "Can't resolve artifact: ", e );
+            }
+            finally
+            {
+                context.release( artifactResolver );
+            }

INS8 INS25 INS32 MOV8 INS42 INS42