o Refactored mojo/plugin generation, extraction, etc. to accommodate multiple mojo languages.
o Tested with java mojos, mboot to verify nothing broken by refactor.
o TODO: Add marmalade support tests...currently only java-mojos are supported in mboot2, so this isn't going to interrupt things.
o TODO: Once marmalade support is tested, add to the list of artifacts built by mboot2.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163369 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.project.MavenProject;
+import org.apache.maven.tools.plugin.scanner.MojoScanner;
+
+import java.util.Set;
-    protected abstract void generate( String sourceDirectory, String outputDirectory, String pom )
+    protected abstract void generate( String outputDirectory, Set mavenMojoDescriptors, MavenProject project )
-        String sourceDirectory = (String) request.getParameter( "sourceDirectory" );
-
-        String pom = (String) request.getParameter( "pom" );
+        MavenProject project = (MavenProject)request.getParameter( "project" );
+        
+        MojoScanner scanner = (MojoScanner)request.getParameter("mojoScanner");
+        
+        Set mavenMojoDescriptors = scanner.execute(project);
-        generate( sourceDirectory, outputDirectory, pom );
+        generate( outputDirectory, mavenMojoDescriptors, project );

INS26 INS26 INS26 INS40 INS40 INS40 MOV44 MOV60 UPD43 UPD42 UPD43 UPD42 INS60 UPD42 UPD42 UPD43 UPD43 INS43 INS59 UPD42 UPD42 UPD42 UPD42 INS42 INS42 INS32 UPD42 UPD42 UPD42 UPD43 UPD43 INS42 INS42 INS42 UPD42 UPD45 UPD42 UPD45