[MNG-4280] [regression] Direct CLI invocation of goal causes "default-cli" config to be processed twice, duplicating list values

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@800728 13f79535-47bb-0310-9956-ffa450edef68

-            populateMojoExecutionConfiguration( project, mojoExecution, false );
+            populateMojoExecutionConfiguration( project, mojoExecution,
+                                                MojoExecution.Source.CLI.equals( mojoExecution.getSource() ) );
-        MavenProject project = session.getCurrentProject();
-        
-        MojoExecution mojoExecution = new MojoExecution( mojoDescriptor, "default-cli" );
-        
-        populateMojoExecutionConfiguration( project, mojoExecution, true );
+        MojoExecution mojoExecution = new MojoExecution( mojoDescriptor, "default-cli", MojoExecution.Source.CLI );
-    private void populateMojoExecutionConfiguration( MavenProject project, MojoExecution mojoExecution, boolean directInvocation )
+    private void populateMojoExecutionConfiguration( MavenProject project, MojoExecution mojoExecution,
+                                                     boolean allowPluginLevelConfig )
-        if ( directInvocation )
+        if ( allowPluginLevelConfig )

UPD42 MOV43 UPD42 MOV43 INS40 INS32 INS40 INS42 INS32 INS42 INS42 DEL9 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL42 DEL9 DEL32 DEL21