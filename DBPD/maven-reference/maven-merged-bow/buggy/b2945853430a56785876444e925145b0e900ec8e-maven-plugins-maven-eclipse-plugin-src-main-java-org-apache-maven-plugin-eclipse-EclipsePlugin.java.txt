o Project references are now written to .project, so that eclipse
  can calculate the build order - no more rebuilds needed to fix this!

o Added a switch -Declipse.workpace=/path/to/workspace that allows for the
  .classpath and .project files to be written to a new directory:
  - For each project a new directory is created.
  - Eclipse 'Links' are created to the original project location for the
    sources and resources directories.
  - The target directory will be in the new workspace location, not in
    the original project tree.
  
  This offers the following advantages:
  
  - Project trees that normally couldn't be imported into eclipse
  because of the overlap error now can be imported succesfully
  (m2 works now!)

  - Projects that reside on a ClearCase SMB mounted drive (which are
  very slow) can now have a target directory on a local drive without
  modifying the pom, greatly improving build speed in eclipse.

o Fixed some minor bugs where the wrong project instance was used.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@226669 13f79535-47bb-0310-9956-ffa450edef68

- * @executePhase generate-sources
+ * @execute phase="generate-sources"
+    /**
+     * @parameter expression="${eclipse.workspace}"
+     */
+    private File outputDir;
+
+
+        if ( outputDir == null )
+        {
+            outputDir = project.getFile().getParentFile();
+        }
+        else
+        {
+            if ( !outputDir.isDirectory() )
+            {
+                throw new MojoExecutionException( "Not a directory: '" + outputDir + "'" );
+            }
+
+            outputDir = new File( outputDir, project.getArtifactId() );
+
+            if ( !outputDir.isDirectory() && !outputDir.mkdir() )
+            {
+                throw new MojoExecutionException( "Can't create directory '" + outputDir + "'" );
+            }
+        }
+
+            eclipseWriter.setLog( getLog() );
+
-            eclipseWriter.write( project, executedProject, reactorProjects );
+            eclipseWriter.write( outputDir, project, executedProject, reactorProjects );

INS23 UPD65 INS29 INS83 INS43 INS59 UPD66 INS65 INS42 INS42 INS25 INS66 INS27 INS8 INS8 INS42 INS33 INS21 INS25 INS21 INS25 INS21 INS7 INS38 INS8 INS7 INS27 INS8 INS32 INS42 INS32 INS32 INS53 INS42 INS14 INS38 INS38 INS53 INS42 INS42 INS32 INS42 INS32 INS42 INS42 INS42 INS14 INS43 INS42 INS32 INS32 INS32 INS14 INS42 INS42 INS42 INS43 INS27 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS43 INS27 INS42 INS45 INS42 INS45 INS42 INS45 INS42 INS45