Cleaning up exception wrapping to allow better reporting of errors to end users. Also implementing the beginnings of a new error reporter, and bumping the version of plexus-container-default up to 1.0-alpha-33-SNAPSHOT to improve the accessibility to ClassRealm info for ComponentLookupException.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@584343 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.versioning.InvalidVersionSpecificationException;
-    	
+
-        ArtifactNotFoundException, InvalidVersionSpecificationException, InvalidPluginException, PluginManagerException,
+        ArtifactNotFoundException, InvalidPluginException, PluginManagerException,
-        throws Exception
+        throws MavenEmbedderException
-                verifyPlugin( plugin, project );
+                try
+                {
+                    verifyPlugin( plugin, project );
+                }
+                catch ( ArtifactResolutionException e )
+                {
+                    throw new PluginLookupException( plugin, "Error resolving plugin.", e );
+                }
+                catch ( ArtifactNotFoundException e )
+                {
+                    throw new PluginLookupException( plugin, "Error resolving plugin.", e );
+                }
+                catch ( PluginNotFoundException e )
+                {
+                    throw new PluginLookupException( plugin, "Error resolving plugin.", e );
+                }
+                catch ( ComponentLookupException e )
+                {
+                    throw new PluginLookupException( plugin, "Error resolving plugin.", e );
+                }
+                catch ( PluginVersionResolutionException e )
+                {
+                    throw new PluginLookupException( plugin, "Error resolving plugin.", e );
+                }
+                catch ( InvalidPluginException e )
+                {
+                    throw new PluginLookupException( plugin, "Error resolving plugin.", e );
+                }
+                catch ( PluginManagerException e )
+                {
+                    throw new PluginLookupException( plugin, "Error resolving plugin.", e );
+                }
+                catch ( PluginVersionNotFoundException e )
+                {
+                    throw new PluginLookupException( plugin, "Error resolving plugin.", e );
+                }
-                map.putAll( getPluginExtensionComponents( plugin ) );
+                try
+                {
+                    map.putAll( getPluginExtensionComponents( plugin ) );
+                }
+                catch ( PluginManagerException e )
+                {
+                    throw new PluginLookupException( plugin, "Error looking up plugin components.", e );
+                }
-        catch ( Exception e )
+        catch ( MavenEmbedderException e )
-            return result.addException( e );
+            return result.addUnknownException( e );
+        }
+        catch ( ProjectBuildingException e )
+        {
+            return result.addProjectBuildingException( e );
-            result.addException( e );
+            return result.addProjectBuildingException( e );
-    
+
-        this.classWorld = configuration.getClassWorld();
+        classWorld = configuration.getClassWorld();
-        this.logger = configuration.getMavenEmbedderLogger();
+        logger = configuration.getMavenEmbedderLogger();
-            if ( System.getSecurityManager() == null && activateSystemManager )
+            if ( ( System.getSecurityManager() == null ) && activateSystemManager )
-                result.addException( e );
+                result.addUnknownException( e );

UPD43 UPD42 INS12 INS44 INS8 INS42 INS42 UPD43 INS43 INS42 INS41 INS41 INS54 INS54 UPD42 INS42 INS32 INS32 INS36 INS8 INS12 INS12 INS12 INS12 INS12 INS12 INS12 INS12 INS8 INS12 UPD42 INS42 INS42 INS42 MOV42 UPD42 MOV42 MOV42 MOV27 MOV21 INS44 INS8 INS44 INS8 INS44 INS8 INS44 INS8 INS44 INS8 INS44 INS8 INS44 INS8 INS44 INS8 MOV21 INS44 INS8 INS43 INS42 INS53 INS43 INS42 INS53 INS43 INS42 INS53 INS43 INS42 INS53 INS43 INS42 INS53 INS43 INS42 INS53 INS43 INS42 INS53 INS43 INS42 INS53 INS43 INS42 INS53 UPD42 INS42 INS14 INS42 INS14 INS42 INS14 INS42 INS14 INS42 INS14 INS42 INS14 INS42 INS14 INS42 INS14 INS42 INS14 INS43 INS42 INS45 INS42 INS43 INS42 INS45 INS42 INS43 INS42 INS45 INS42 INS43 INS42 INS45 INS42 INS43 INS42 INS45 INS42 INS43 INS42 INS45 INS42 INS43 INS42 INS45 INS42 INS43 INS42 INS45 INS42 INS43 INS42 INS45 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 DEL40 DEL26 DEL42 DEL43 DEL32 DEL21 DEL52 DEL42 DEL22 DEL52 DEL42 DEL22