o Moved model validator into o.a.m.model and moved old impl into compat module
o Added method to validate raw POM

git-svn-id: https://svn.apache.org/repos/asf/maven/components/branches/MNG-2766@779289 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.maven.project.validation;
+package org.apache.maven.model.validation;
-import org.apache.maven.artifact.Artifact;
-    public ModelValidationResult validate( Model model )
+    public ModelValidationResult validateRawModel( Model model, boolean lenient )
-        return validate( model, false );
+        ModelValidationResult result = new ModelValidationResult();
+
+        Parent parent = model.getParent();
+        if ( parent != null )
+        {
+            validateStringNotEmpty( "parent.groupId", result, parent.getGroupId() );
+
+            validateStringNotEmpty( "parent.artifactId", result, parent.getArtifactId() );
+
+            validateStringNotEmpty( "parent.version", result, parent.getVersion() );
+
+            if ( parent.getGroupId().equals( model.getGroupId() )
+                && parent.getArtifactId().equals( model.getArtifactId() ) )
+            {
+                result.addMessage( "The parent element cannot have the same ID as the project." );
+            }
+        }
+
+        return result;
-    public ModelValidationResult validate( Model model, boolean lenient )
+    public ModelValidationResult validateEffectiveModel( Model model, boolean lenient )
-            if ( Artifact.SCOPE_SYSTEM.equals( d.getScope() ) )
+            if ( "system".equals( d.getScope() ) )
-                if ( Artifact.SCOPE_SYSTEM.equals( d.getScope() ) )
+                if ( "system".equals( d.getScope() ) )
+

UPD40 UPD42 INS44 INS8 UPD42 INS39 INS42 INS60 INS60 INS25 INS41 INS43 INS59 INS43 INS59 INS27 INS8 INS42 INS42 INS42 INS14 INS42 INS42 INS32 INS42 INS33 INS21 INS21 INS21 INS25 INS43 INS42 INS42 INS32 INS32 INS32 INS27 INS8 INS32 INS42 INS42 INS45 INS42 INS32 INS42 INS45 INS42 INS32 INS42 INS45 INS42 INS32 INS32 INS32 INS21 INS45 INS42 MOV32 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS32 INS32 INS42 INS32 INS32 MOV32 UPD42 MOV42 INS42 MOV42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS45 INS45 DEL40 DEL26 DEL9 DEL32 DEL41 DEL8 DEL40 DEL40 DEL42 DEL32