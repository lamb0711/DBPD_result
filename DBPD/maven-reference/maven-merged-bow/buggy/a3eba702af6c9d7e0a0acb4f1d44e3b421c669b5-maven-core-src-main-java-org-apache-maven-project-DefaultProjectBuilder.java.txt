[MNG-4318] MavenProject.executionRoot is not set correctly

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@807526 13f79535-47bb-0310-9956-ffa450edef68

-        boolean errors = build( results, interimResults, pomFiles, recursive, config, reactorModelPool, modelCache );
+        boolean errors =
+            build( results, interimResults, pomFiles, true, recursive, config, reactorModelPool, modelCache );
+                    project.setExecutionRoot( interimResult.root );
-                           List<File> pomFiles, boolean recursive, ProjectBuildingRequest config,
+                           List<File> pomFiles, boolean isRoot, boolean recursive, ProjectBuildingRequest config,
-                interimResults.add( new InterimResult( pomFile, request, result, listener ) );
+                interimResults.add( new InterimResult( pomFile, request, result, listener, isRoot ) );
-                    errors =
-                        build( results, interimResults, moduleFiles, recursive, config, reactorModelPool, modelCache )
-                            || errors;
+                    if ( build( results, interimResults, moduleFiles, false, recursive, config, reactorModelPool,
+                                 modelCache ) )
+                    {
+                        errors = true;
+                    }
+        boolean root;
+
-                       DefaultModelBuildingListener listener )
+                       DefaultModelBuildingListener listener, boolean root )
+            this.root = root;

INS44 INS23 INS39 INS42 INS39 INS59 INS44 INS42 INS39 INS42 INS21 INS7 INS9 INS22 INS42 INS52 INS42 INS21 INS25 INS32 INS42 INS32 INS8 INS42 INS42 INS40 MOV42 MOV42 MOV42 MOV42 INS9 MOV42 MOV42 MOV42 MOV42 INS21 INS7 INS42 INS9 DEL42 DEL32 DEL42 DEL27 DEL7 DEL21