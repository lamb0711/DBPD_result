Attempting to fix problem with resolution of parent-poms for plugins, but continuing the use of the plugin repository when assembling the plugin-pom's lineage. 

NOTE: I have not bootstrapped with this fix in place (I'm in the middle of something else right now), so BEWARE!



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@219252 13f79535-47bb-0310-9956-ffa450edef68

-        MavenProject project = build( projectDescriptor.getAbsolutePath(), model, localRepository, externalProfiles );
+        MavenProject project = build( projectDescriptor.getAbsolutePath(), model, localRepository, Collections.EMPTY_LIST, externalProfiles );
-        return build( "Artifact [" + artifact.getId() + "]", model, localRepository, Collections.EMPTY_LIST );
+        return build( "Artifact [" + artifact.getId() + "]", model, localRepository, remoteArtifactRepositories, Collections.EMPTY_LIST );
-                                List externalProfiles )
+                                List remoteArtifactRepositories, List externalProfiles )
-        List aggregatedRemoteWagonRepositories = ProjectUtils.buildArtifactRepositories( superModel.getRepositories(),
-                                                                                         artifactRepositoryFactory,
-                                                                                         container );
-
+        List aggregatedRemoteWagonRepositories;
+        if ( remoteArtifactRepositories == null || remoteArtifactRepositories.isEmpty() )
+        {
+            aggregatedRemoteWagonRepositories = ProjectUtils.buildArtifactRepositories( superModel.getRepositories(),
+                                                                                       artifactRepositoryFactory,
+                                                                                       container );
+        }
+        else
+        {
+            aggregatedRemoteWagonRepositories = remoteArtifactRepositories;
+        }
+        

INS44 INS43 INS42 INS25 INS42 INS27 INS8 INS8 INS42 INS27 INS32 INS21 INS21 INS40 INS42 INS33 INS42 INS42 INS7 INS7 INS42 MOV32 INS42 INS42