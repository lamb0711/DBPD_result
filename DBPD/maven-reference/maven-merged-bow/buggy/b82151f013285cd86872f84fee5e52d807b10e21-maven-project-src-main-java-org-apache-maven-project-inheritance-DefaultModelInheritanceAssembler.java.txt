PR: MNG-479
Submitted by: Rahul Thakur
Reviewed by:  Brett Porter
if you define a repository it should override anything in the parent with the same ID
Also, cleaned up logic in assembler based on intentions

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@220240 13f79535-47bb-0310-9956-ffa450edef68

-        // TODO: I think according to the latest design docs, we don't want to inherit version at all
-            if ( !childRepositories.contains( repository ) )
+            // parent will always override child repositories
+            // if there are duplicates
+            if ( childRepositories.contains( repository ) )
-                child.addRepository( repository );
+                childRepositories.remove( repository );
+            child.addRepository( repository );
-        // cannot inherit from null parent...
-        if ( parentBuild == null )
-        {
-            return;
-        }
-
-        if ( parentBuild == null )
+        if ( parentBuild != null )
-            return;
-        }
+            if ( childBuild.getDefaultGoal() == null )
+            {
+                childBuild.setDefaultGoal( parentBuild.getDefaultGoal() );
+            }
-        if ( childBuild.getDefaultGoal() == null )
-        {
-            childBuild.setDefaultGoal( parentBuild.getDefaultGoal() );
-        }
+            if ( childBuild.getFinalName() == null )
+            {
+                childBuild.setFinalName( parentBuild.getFinalName() );
+            }
-        if ( childBuild.getFinalName() == null )
-        {
-            childBuild.setFinalName( parentBuild.getFinalName() );
-        }
+            List resources = childBuild.getResources();
+            if ( resources == null || resources.isEmpty() )
+            {
+                childBuild.setResources( parentBuild.getResources() );
+            }
-        List resources = childBuild.getResources();
-        if ( resources == null || resources.isEmpty() )
-        {
-            childBuild.setResources( parentBuild.getResources() );
-        }
+            resources = childBuild.getTestResources();
+            if ( resources == null || resources.isEmpty() )
+            {
+                childBuild.setTestResources( parentBuild.getTestResources() );
+            }
-        resources = childBuild.getTestResources();
-        if ( resources == null || resources.isEmpty() )
-        {
-            childBuild.setTestResources( parentBuild.getTestResources() );
-        }
+            // Plugins are aggregated if Plugin.inherit != false
+            ModelUtils.mergePluginLists( childBuild, parentBuild, true );
-        // Plugins are aggregated if Plugin.inherit != false
-        ModelUtils.mergePluginLists( childBuild, parentBuild, true );
-
-        // Plugin management :: aggregate
-        if ( childBuild != null && parentBuild != null )
-        {
+            // Plugin management :: aggregate
-            
-            if( childPM == null && parentPM !=null )
+
+            if ( childPM == null && parentPM != null )
-                ModelUtils.mergePluginLists( childBuild.getPluginManagement(), parentBuild.getPluginManagement(), false );
+                ModelUtils.mergePluginLists( childBuild.getPluginManagement(), parentBuild.getPluginManagement(),
+                                             false );

MOV27 MOV21 MOV25 MOV25 MOV60 MOV25 MOV21 MOV25 MOV21 MOV32 INS21 INS32 INS42 INS42 INS42 DEL38 DEL42 DEL33 DEL27 DEL41 DEL8 DEL25 DEL42 DEL33 DEL27 DEL41 DEL8 DEL25 DEL42 DEL33 DEL27 DEL27