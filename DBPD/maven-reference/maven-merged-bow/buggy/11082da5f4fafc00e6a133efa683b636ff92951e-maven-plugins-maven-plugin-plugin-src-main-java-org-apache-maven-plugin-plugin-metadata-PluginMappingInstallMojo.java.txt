Fixing bootstrap.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@219807 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.repository.metadata.InvalidRepositoryMetadataException;
-            getRepositoryMetadataManager().resolveLocally( metadata, getLocalRepository() );
+            try
+            {
+                getRepositoryMetadataManager().resolveLocally( metadata, getLocalRepository() );
+            }
+            catch ( InvalidRepositoryMetadataException e )
+            {
+                getRepositoryMetadataManager().purgeLocalCopy( metadata, getLocalRepository() );
+            }
-            updatePluginMap( metadata );
+            boolean shouldUpdate = updatePluginMap( metadata );
-            getRepositoryMetadataManager().install( metadata, getLocalRepository() );
+            if ( shouldUpdate )
+            {
+                getRepositoryMetadataManager().install( metadata, getLocalRepository() );
+            }

INS26 INS40 INS54 INS60 INS25 INS8 INS12 INS39 INS59 INS42 INS8 MOV21 INS44 INS8 INS42 MOV32 MOV21 INS43 INS42 MOV21 INS42 INS32 INS32 INS42 INS42 INS32 INS42 INS42