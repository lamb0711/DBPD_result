Fixing artifact handling to only process the runtime artifacts, and select out the tld's from that. This is for the war mojo, BTW. :)

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@191688 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Set;
+     * @throws MojoExecutionException 
-        Set artifacts = project.getArtifacts();
+        List runtimeArtifacts = project.getRuntimeArtifacts();
-        for ( Iterator iter = artifacts.iterator(); iter.hasNext(); )
+        for ( Iterator iter = runtimeArtifacts.iterator(); iter.hasNext(); )
-            // TODO: use classpath instead
-            
-            // [jc, 21-June]: filter POMs out of the /lib copy process.
-            else if ( "pom".equals( artifact.getType() ) )
-            {
-                // don't mess with these...they'd only be here for inclusion of dependencies.
-            }
-            // we'll handle anything that's NOT a POM or a TLD as a binary library to go in /lib
-            else if ( !Artifact.SCOPE_TEST.equals( artifact.getScope() ) && !Artifact.SCOPE_PROVIDED.equals( artifact.getScope() ) )
+            // we'll handle anything that's in the runtime classpath and NOT a SCOPE_PROVIDED artifact.
+            else if ( !Artifact.SCOPE_PROVIDED.equals( artifact.getScope() ) )

INS65 INS42 INS66 UPD43 UPD42 UPD42 MOV25 UPD42 MOV32 MOV8 UPD42 MOV38 DEL40 DEL26 DEL45 DEL42 DEL42 DEL42 DEL32 DEL32 DEL8 DEL40 DEL42 DEL42 DEL42 DEL32 DEL32 DEL38 DEL27 DEL25