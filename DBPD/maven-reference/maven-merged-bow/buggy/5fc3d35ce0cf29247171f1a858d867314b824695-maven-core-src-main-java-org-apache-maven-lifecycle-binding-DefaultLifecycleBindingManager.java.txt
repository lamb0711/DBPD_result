Removing maven-build-context, and replacing it with caching aspects for model-lineage stuff and project instances. Still needs caching for artifact resolution, and I have an aspect for this too, but it's not enabled yet, since it's still buggy.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@595215 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.execution.MavenSession;
+import org.apache.maven.lifecycle.MojoBindingUtils;
+     * @param session
-    public LifecycleBindings getProjectCustomBindings( final MavenProject project )
+    public LifecycleBindings getProjectCustomBindings( final MavenProject project, final MavenSession session )
+                                logger.debug( "Mojo: " + MojoBindingUtils.toString( mojoBinding ) + ": determining binding phase." );
+
+
+                                logger.debug( "Phase from <execution/> section (merged with outer <plugin/> section) is: " + phase );
+
-                                            pluginDescriptor = pluginLoader.loadPlugin( plugin, project );
+                                            pluginDescriptor = pluginLoader.loadPlugin( plugin, project, session );
+
+                                        logger.debug( "Phase from plugin descriptor: " + mojoDescriptor.getFullGoalName() + " is: " + phase );
-                        binding = mojoBindingFactory.parseMojoBinding( goal, project, false );
+                        binding = mojoBindingFactory.parseMojoBinding( goal, project );
-    public List getReportBindings( final MavenProject project )
+    public List getReportBindings( final MavenProject project, final MavenSession session )
-                    reports.addAll( getReportsForPlugin( reportPlugin, null, project ) );
+                    reports.addAll( getReportsForPlugin( reportPlugin, null, project, session ) );
-                        reports.addAll( getReportsForPlugin( reportPlugin, reportSet, project ) );
+                        reports.addAll( getReportsForPlugin( reportPlugin, reportSet, project, session ) );
-                                      final MavenProject project ) throws LifecycleLoaderException
+                                      final MavenProject project, final MavenSession session ) throws LifecycleLoaderException
-            pluginDescriptor = pluginLoader.loadReportPlugin( reportPlugin, project );
+            pluginDescriptor = pluginLoader.loadReportPlugin( reportPlugin, project, session );

INS26 INS26 INS40 INS40 INS44 INS44 INS44 INS65 INS83 INS43 INS42 INS83 INS43 INS42 INS83 INS43 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS21 INS21 INS32 INS32 INS42 INS42 INS27 INS42 INS42 INS27 INS45 INS32 INS45 INS45 INS42 INS42 INS42 INS42 INS21 INS32 INS42 INS42 INS27 INS45 INS32 INS45 INS42 INS42 INS42 INS42 DEL9