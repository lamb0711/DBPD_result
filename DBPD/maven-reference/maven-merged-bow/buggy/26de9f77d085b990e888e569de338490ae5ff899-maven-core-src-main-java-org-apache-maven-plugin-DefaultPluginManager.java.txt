Fixing problem with mojo configuration merges between parameter configuration keyed by alias and by name within the POM, along with configuration within the MojoDescriptor.

Also adding an IT that will indirectly test that default parameter values are not being disturbed during the merge process.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@232185 13f79535-47bb-0310-9956-ffa450edef68

+            boolean addedPomConfig = false;
+            
-//                if ( StringUtils.isEmpty( pomConfig.getValue( null ) ) && pomConfig.getChildCount() == 0 )
-//                {
-//                    // if we still can't find a value for this parameter, set to ${paramName}
-//                    result.setValue( "${" + pomConfig.getName() + "}" );
-//                }
-                
-                result.addChild( pomConfig );
+                if ( StringUtils.isNotEmpty( pomConfig.getValue( null ) ) || pomConfig.getChildCount() > 0 )
+                {
+                    result.addChild( pomConfig );
+                    
+                    addedPomConfig = true;
+                }
-            else if ( mojoConfig != null )
+            
+            if ( !addedPomConfig && mojoConfig != null )

INS60 MOV25 INS39 INS59 INS27 INS42 INS9 INS25 INS38 MOV27 INS27 INS8 INS42 INS32 INS27 MOV21 INS21 INS42 INS42 INS32 INS32 INS34 INS7 INS42 INS42 INS33 INS42 INS42 INS42 INS9