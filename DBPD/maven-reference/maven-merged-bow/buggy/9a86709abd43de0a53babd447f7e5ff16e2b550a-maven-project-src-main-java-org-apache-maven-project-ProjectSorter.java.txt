PR: MNG-249
make compile and package reactor aware



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@225731 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.ReportPlugin;
-            String id = getProjectId( project );
+            String id = getId( project.getGroupId(), project.getArtifactId() );
-            String id = getProjectId( project );
+            String id = getId( project.getGroupId(), project.getArtifactId() );
-                String dependencyId = getDependencyId( dependency );
+                String dependencyId = getId( dependency.getGroupId(), dependency.getArtifactId() );
+                    project.addProjectReference( (MavenProject) projectMap.get( dependencyId ) );
+
-                String parentId = getProjectId( parent );
+                String parentId = getId( parent.getGroupId(), parent.getArtifactId() );
-                    String pluginId = getPluginId( plugin );
+                    String pluginId = getId( plugin.getGroupId(), plugin.getArtifactId() );
-                    Plugin plugin = (Plugin) j.next();
-                    String pluginId = getPluginId( plugin );
+                    ReportPlugin plugin = (ReportPlugin) j.next();
+                    String pluginId = getId( plugin.getGroupId(), plugin.getArtifactId() );
-                String extensionId = getExtensionId( extension );
+                String extensionId = getId( extension.getGroupId(), extension.getArtifactId() );
-    private static String getExtensionId( Extension extension )
+    private static String getId( String groupId, String artifactId )
-        return extension.getGroupId() + ":" + extension.getArtifactId();
-    }
-
-    private static String getPluginId( Plugin plugin )
-    {
-        return plugin.getGroupId() + ":" + plugin.getArtifactId();
-    }
-
-    private static String getDependencyId( Dependency dependency )
-    {
-        return dependency.getGroupId() + ":" + dependency.getArtifactId();
-    }
-
-    private static String getProjectId( MavenProject project )
-    {
-        return project.getGroupId() + ":" + project.getArtifactId();
+        return groupId + ":" + artifactId;

INS26 INS40 INS31 MOV83 MOV83 MOV43 INS42 MOV44 MOV44 MOV8 MOV43 INS42 MOV43 INS42 MOV25 MOV60 INS42 INS42 MOV27 MOV27 UPD42 INS32 INS32 UPD42 MOV32 MOV32 MOV43 MOV58 MOV32 MOV58 MOV32 MOV43 MOV42 INS42 INS42 INS42 INS21 INS42 MOV32 MOV32 INS32 UPD42 INS32 INS32 UPD43 MOV43 INS42 MOV32 MOV32 UPD42 MOV42 MOV42 INS42 INS42 INS11 MOV42 INS42 INS42 INS42 UPD42 UPD42 MOV42 MOV43 INS32 UPD42 INS32 INS32 UPD43 UPD42 MOV32 MOV32 INS42 INS42 INS42 MOV42 INS42 INS42 INS42 UPD42 MOV42 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL42 DEL42 DEL43 DEL42 DEL44 DEL45 DEL27 DEL41 DEL8 DEL31 DEL83 DEL83 DEL42 DEL43 DEL42 DEL45 DEL27 DEL41 DEL8 DEL31 DEL83 DEL83 DEL42 DEL31 DEL83 DEL83 DEL42 DEL42 DEL44 DEL45 DEL27 DEL41 DEL8 DEL31