[MNG-4756] Aether integration


git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@988749 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.repository.ArtifactRepository;
-import org.apache.maven.artifact.resolver.filter.ArtifactFilter;
+import org.sonatype.aether.RepositorySystemSession;
+import org.sonatype.aether.graph.DependencyFilter;
+import org.sonatype.aether.repository.RemoteRepository;
- *
+ * 
+
-    CacheRecord get( Plugin plugin, ClassLoader parentRealm, List<String> parentImports,
-                     ArtifactFilter dependencyFilter, ArtifactRepository localRepository,
-                     List<ArtifactRepository> remoteRepositories );
+    /**
+     * A cache key.
+     */
+    interface Key
+    {
+        // marker interface for cache keys
+    }
-    CacheRecord put( Plugin plugin, ClassLoader parentRealm, List<String> parentImports,
-                     ArtifactFilter dependencyFilter, ArtifactRepository localRepository,
-                     List<ArtifactRepository> remoteRepositories, ClassRealm pluginRealm,
-                     List<Artifact> pluginArtifacts );
+    Key createKey( Plugin plugin, ClassLoader parentRealm, List<String> parentImports,
+                   DependencyFilter dependencyFilter, List<RemoteRepository> repositories, RepositorySystemSession session );
+
+    CacheRecord get( Key key );
+
+    CacheRecord put( Key key, ClassRealm pluginRealm, List<Artifact> pluginArtifacts );
-     *
+     * 

MOV26 MOV26 INS26 UPD40 UPD40 INS40 INS55 MOV44 INS31 INS31 INS29 INS42 INS43 INS42 MOV43 INS42 MOV44 MOV43 INS42 MOV44 MOV44 MOV44 INS65 INS42 UPD43 UPD74 UPD42 UPD43 UPD42 UPD43 UPD42 UPD43 UPD42 INS66 UPD42 UPD43 UPD42 UPD42 UPD42 UPD42 DEL42 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL43 DEL74 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL43 DEL74 DEL42 DEL44 DEL31