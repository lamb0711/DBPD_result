Working on: MNG-786

o Changed the profile activation in it0075 to use a system property which is not always present

o Added projecthelp:active-profiles, package, and clean:clean to the goals list, in case it was only happening with the clean plugin

o Fixed the projecthelp mojos to be aggregators where appropriate

o Changed the ordering of modules in the profile injector (used to be that profile modules were prepended; now, they're appended)

NOTE: I still cannot reproduce the described behavior. Dan: Am I missing something WRT the test setup? I changed the activation trigger to be non-inherent, and I'm not using a boolean string to trigger the profile. What am I doing wrong??



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@292781 13f79535-47bb-0310-9956-ffa450edef68

+    /**
+     * Append modules specified in the profile to the end of the list supplied by the model, if 
+     * they don't already exist.
+     */
-        List profileModules = profile.getModules();
-
-        if ( profileModules != null && !profileModules.isEmpty() )
-        {
-            modules.addAll( profileModules );
-        }
-
-        if ( modelModules != null )
+        if ( modelModules != null && !modelModules.isEmpty() )
-            for ( Iterator it = modelModules.iterator(); it.hasNext(); )
+            modules.addAll( modelModules );
+        }
+
+        List profileModules = profile.getModules();
+
+        if ( profileModules != null )
+        {
+            for ( Iterator it = profileModules.iterator(); it.hasNext(); )

INS29 MOV60 MOV25 INS65 INS66 INS66 MOV27 MOV27 UPD42 UPD42 UPD42