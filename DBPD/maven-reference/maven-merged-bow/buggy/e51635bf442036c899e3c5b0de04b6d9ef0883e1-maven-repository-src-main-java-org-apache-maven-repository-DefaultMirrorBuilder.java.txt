o slimming down the interface for the mirror builder


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@748649 13f79535-47bb-0310-9956-ffa450edef68

-    
-    public ArtifactRepository getMirrorRepository( ArtifactRepository repository )
-    {
-        ArtifactRepository mirror = getMirror( repository );
-        if ( mirror != null )
-        {
-            String id = mirror.getId();
-            if ( id == null )
-            {
-                // TODO: this should be illegal in settings.xml
-                id = repository.getId();
-            }
-
-            logger.debug( "Using mirror: " + mirror.getId() + " for repository: " + repository.getId() + "\n(mirror url: " + mirror.getUrl() + ")" );
-            repository = repositoryFactory.createArtifactRepository( id, mirror.getUrl(),
-                                                                     repository.getLayout(), repository.getSnapshots(),
-                                                                     repository.getReleases() );
-        }
-        return repository;
-    }    
-    
+        
+    public void clearMirrors()
+    {
+        mirrors.clear();    
+        anonymousMirrorIdSeed = 0;
+    }       
+    
+    // Make these available to tests
+    
+    ArtifactRepository getMirrorRepository( ArtifactRepository repository )
+    {
+        ArtifactRepository mirror = getMirror( repository );
+        if ( mirror != null )
+        {
+            String id = mirror.getId();
+            if ( id == null )
+            {
+                // TODO: this should be illegal in settings.xml
+                id = repository.getId();
+            }
+
+            logger.debug( "Using mirror: " + mirror.getId() + " for repository: " + repository.getId() + "\n(mirror url: " + mirror.getUrl() + ")" );
+            repository = repositoryFactory.createArtifactRepository( id, mirror.getUrl(),
+                                                                     repository.getLayout(), repository.getSnapshots(),
+                                                                     repository.getReleases() );
+        }
+        return repository;
+    }    
+        
-    public boolean matchPattern( ArtifactRepository originalRepository, String pattern )
+    boolean matchPattern( ArtifactRepository originalRepository, String pattern )
-    public boolean isExternalRepo( ArtifactRepository originalRepository )
+    boolean isExternalRepo( ArtifactRepository originalRepository )
-
-    public void clearMirrors()
-    {
-        mirrors.clear();    
-        anonymousMirrorIdSeed = 0;
-    }       

MOV31 MOV31 DEL83 DEL83 DEL83