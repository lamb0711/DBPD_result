make m2 use the local repository in the new layout


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163761 13f79535-47bb-0310-9956-ffa450edef68

-    private static String localRepoLayout = "legacy";
+    private static String localRepoLayout = "default";
-    public void verify() throws VerificationException
+    public void verify()
+        throws VerificationException
-    private static List loadFile( String basedir, String filename ) throws VerificationException
+    private static List loadFile( String basedir, String filename )
+        throws VerificationException
-    private static List loadFile( File file ) throws VerificationException
+    private static List loadFile( File file )
+        throws VerificationException
-
-    public void executeHook( String filename ) throws VerificationException
+    public void executeHook( String filename )
+        throws VerificationException
-    private static void executeCommand( String line ) throws VerificationException
+    private static void executeCommand( String line )
+        throws VerificationException
-    private void verifyExpectedResult( String line ) throws VerificationException
+    private void verifyExpectedResult( String line )
+        throws VerificationException
-    public void executeGoals( String filename ) throws VerificationException
+    public void executeGoals( String filename )
+        throws VerificationException
-            System.err.println( type + " [line " + spe.getLineNumber() + ", row " + spe.getColumnNumber() + "]: "
-                + spe.getMessage() );
+            System.err.println( type + " [line " + spe.getLineNumber() + ", row " + spe.getColumnNumber() + "]: " +
+                                spe.getMessage() );
-        public void characters( char[] ch, int start, int length ) throws SAXException
+        public void characters( char[] ch, int start, int length )
+            throws SAXException
-        public void endElement( String uri, String localName, String rawName ) throws SAXException
+        public void endElement( String uri, String localName, String rawName )
+            throws SAXException
-                    throw new SAXException( "Invalid mavenProfile entry. Missing one or more "
-                        + "fields: {localRepository}." );
+                    throw new SAXException( "Invalid mavenProfile entry. Missing one or more " +
+                                            "fields: {localRepository}." );
-                    currentProfile.setActive( Boolean.valueOf(currentBody.toString().trim()).booleanValue() );
+                    currentProfile.setActive( Boolean.valueOf( currentBody.toString().trim() ).booleanValue() );
-                if(profiles.size() == 1)
+                if ( profiles.size() == 1 )
-                    activeMavenProfile = (Profile) profiles.get(0);
+                    activeMavenProfile = (Profile) profiles.get( 0 );
-                        if(profile.isActive())
+                        if ( profile.isActive() )
+
-        
+
-        
+

UPD45