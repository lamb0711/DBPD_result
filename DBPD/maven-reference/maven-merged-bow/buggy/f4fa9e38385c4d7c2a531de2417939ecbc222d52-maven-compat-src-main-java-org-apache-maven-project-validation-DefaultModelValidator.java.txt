o Refactored model validator to use problem collector

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@800451 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.building.ModelProblemCollector;
-    
+
-        for ( String message : modelValidator.validateEffectiveModel( model, request ).getErrors() )
+        SimpleModelProblemCollector problems = new SimpleModelProblemCollector( result );
+
+        modelValidator.validateEffectiveModel( model, request, problems );
+
+        return result;
+    }
+
+    private static class SimpleModelProblemCollector
+        implements ModelProblemCollector
+    {
+
+        ModelValidationResult result;
+
+        public SimpleModelProblemCollector( ModelValidationResult result )
+        {
+            this.result = result;
+        }
+
+        public void addError( String message )
-        return result;
+        public void addError( String message, Exception cause )
+        {
+            result.addMessage( message );
+        }
+
+        public void addWarning( String message )
+        {
+            // not supported
+        }
+
+        public void addWarning( String message, Exception cause )
+        {
+            // not supported
+        }
+

INS26 INS40 INS55 INS83 INS83 INS42 INS43 INS23 INS31 INS31 INS31 INS31 INS31 INS60 INS21 INS42 INS43 INS59 INS83 INS42 INS44 INS8 INS83 INS39 INS42 INS44 MOV8 INS83 INS39 INS42 MOV44 INS44 INS8 INS83 INS39 INS42 INS44 INS8 INS83 INS39 INS42 INS44 INS44 INS8 INS43 INS59 INS32 INS42 INS42 INS43 INS42 INS21 INS43 INS42 INS43 INS42 INS21 INS43 INS42 INS43 INS42 INS43 INS42 INS42 INS42 INS14 MOV42 MOV42 MOV42 MOV42 UPD42 MOV42 INS42 INS7 INS42 INS42 INS32 INS42 INS42 INS42 INS43 INS42 INS22 INS42 INS42 INS42 INS42 INS42 INS52 INS42 DEL32 DEL32 DEL70