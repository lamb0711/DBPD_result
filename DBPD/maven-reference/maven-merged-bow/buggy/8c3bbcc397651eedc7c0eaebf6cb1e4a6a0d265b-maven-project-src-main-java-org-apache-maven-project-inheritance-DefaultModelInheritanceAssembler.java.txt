PR: MNG-593
ensure there are no duplicates in the assembled model's dependency list

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@220344 13f79535-47bb-0310-9956-ffa450edef68

-        for ( Iterator iterator = dependencies.iterator(); iterator.hasNext(); )
+        List childDeps = child.getDependencies();
+
+        Map mappedChildDeps = new TreeMap();
+        for ( Iterator it = childDeps.iterator(); it.hasNext(); )
-            Dependency dependency = (Dependency) iterator.next();
+            Dependency dep = (Dependency) it.next();
+            mappedChildDeps.put( dep.getManagementKey(), dep );
+        }
-            child.addDependency( dependency );
-
+        for ( Iterator it = parent.getDependencies().iterator(); it.hasNext(); )
+        {
+            Dependency dep = (Dependency) it.next();
+            if ( !mappedChildDeps.containsKey( dep.getManagementKey() ) )
+            {
+                child.addDependency( dep );
+            }

INS60 INS60 INS24 INS43 INS59 INS43 INS59 INS58 INS32 INS8 INS42 INS42 INS32 INS42 INS42 INS14 MOV43 INS59 INS42 INS42 INS60 INS21 INS43 UPD42 INS25 INS42 INS42 INS43 INS42 INS32 MOV43 INS59 INS32 INS42 UPD42 INS43 INS38 INS8 INS42 INS42 INS42 INS42 INS11 INS42 INS42 INS32 INS42 INS32 INS42 UPD42 INS32 MOV21 MOV43 INS32 INS42 INS42 INS42 UPD42 MOV42 INS43 INS42 INS42 INS32 INS42 INS42 INS42 UPD42 INS42 INS42 UPD42