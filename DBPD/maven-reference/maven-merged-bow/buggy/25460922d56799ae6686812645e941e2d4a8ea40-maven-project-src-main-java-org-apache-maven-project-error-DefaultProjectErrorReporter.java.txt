More unit tests for error-reporting pointcuts, and some minor adjustments for duplicated handler methods.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@611014 13f79535-47bb-0310-9956-ffa450edef68

-    public void reportActivatorErrorWhileApplyingProfiles( ProfileActivator activator,
-                                                           Model model,
-                                                           File pomFile,
-                                                           Profile profile,
-                                                           ProfileActivationContext context,
-                                                           ProfileActivationException cause )
-    {
-        StringWriter writer = new StringWriter();
-
-        writer.write( NEWLINE );
-        writer.write( "Profile activator: " );
-        writer.write( activator.getClass().getName() );
-        writer.write( " experienced an error while processing profile:" );
-        writer.write( NEWLINE );
-        writer.write( NEWLINE );
-        writer.write( profile.getId() );
-        writer.write( " (source: " );
-        writer.write( profile.getSource() );
-        writer.write( ")" );
-        writer.write( NEWLINE );
-        writer.write( NEWLINE );
-        writer.write( "Error message: " );
-        writer.write( NEWLINE );
-        writer.write( cause.getMessage() );
-
-        addStandardInfo( model.getId(), pomFile, writer );
-        addTips( ProjectErrorTips.getTipsForActivatorErrorWhileApplyingProfiles( activator,
-                                                                                 model,
-                                                                                 pomFile,
-                                                                                 profile,
-                                                                                 context,
-                                                                                 cause ), writer );
-
-        registerBuildError( cause, writer.toString(), cause.getCause() );
-    }
-
-    /**
-     * @see org.apache.maven.project.error.ProjectErrorReporter#reportActivatorErrorWhileGettingRepositoriesFromProfiles(org.apache.maven.profiles.activation.ProfileActivator, java.lang.String, java.io.File, org.apache.maven.model.Profile, org.apache.maven.profiles.activation.ProfileActivationContext, org.apache.maven.profiles.activation.ProfileActivationException)
-     */
-    public void reportActivatorErrorWhileGettingRepositoriesFromProfiles( ProfileActivator activator,
-                                                                          String projectId,
-                                                                          File pomFile,
-                                                                          Profile profile,
-                                                                          ProfileActivationContext context,
-                                                                          ProfileActivationException cause )
+    public void reportActivatorError( ProfileActivator activator,
+                                      String projectId,
+                                      File pomFile,
+                                      Profile profile,
+                                      ProfileActivationContext context,
+                                      ProfileActivationException cause )
-        addTips( ProjectErrorTips.getTipsForActivatorErrorWhileGettingRepositoriesFromProfiles( activator,
-                                                                                                projectId,
-                                                                                                pomFile,
-                                                                                                profile,
-                                                                                                context,
-                                                                                                cause ),
-                 writer );
+        addTips( ProjectErrorTips.getTipsForActivatorError( activator,
+                                                            projectId,
+                                                            pomFile,
+                                                            profile,
+                                                            context,
+                                                            cause ), writer );
-     * @see org.apache.maven.project.error.ProjectErrorReporter#reportActivatorLookupErrorWhileApplyingProfiles(org.apache.maven.model.Model, java.io.File, org.apache.maven.model.Profile, org.codehaus.plexus.component.repository.exception.ComponentLookupException)
+     * @see org.apache.maven.project.error.ProjectErrorReporter#reportActivatorLookupError(java.lang.String, java.io.File, org.apache.maven.model.Profile, org.codehaus.plexus.component.repository.exception.ComponentLookupException)
-    public void reportActivatorLookupErrorWhileApplyingProfiles( Model model,
-                                                                 File pomFile,
-                                                                 Profile profile,
-                                                                 ComponentLookupException cause )
-    {
-        StringWriter writer = new StringWriter();
-
-        writer.write( NEWLINE );
-        writer.write( "Error retrieving profile-activator component while processing profile:" );
-        writer.write( NEWLINE );
-        writer.write( NEWLINE );
-        writer.write( profile.getId() );
-        writer.write( " (source: " );
-        writer.write( profile.getSource() );
-        writer.write( ")" );
-        writer.write( NEWLINE );
-        writer.write( NEWLINE );
-        writer.write( "Error message: " );
-        writer.write( NEWLINE );
-        writer.write( cause.getMessage() );
-
-        addStandardInfo( model.getId(), pomFile, writer );
-        addTips( ProjectErrorTips.getTipsForActivatorLookupErrorWhileApplyingProfiles( model,
-                                                                                       pomFile,
-                                                                                       profile,
-                                                                                       cause ),
-                 writer );
-
-        registerBuildError( cause, writer.toString(), cause.getCause() );
-    }
-
-    /**
-     * @see org.apache.maven.project.error.ProjectErrorReporter#reportActivatorLookupErrorWhileGettingRepositoriesFromProfiles(java.lang.String, java.io.File, org.apache.maven.model.Profile, org.codehaus.plexus.component.repository.exception.ComponentLookupException)
-     */
-    public void reportActivatorLookupErrorWhileGettingRepositoriesFromProfiles( String projectId,
-                                                                                File pomFile,
-                                                                                Profile profile,
-                                                                                ComponentLookupException cause )
+    public void reportActivatorLookupError( String projectId,
+                                            File pomFile,
+                                            Profile profile,
+                                            ComponentLookupException cause )
-        addTips( ProjectErrorTips.getTipsForActivatorLookupErrorWhileGettingRepositoriesFromProfiles( projectId,
-                                                                                                      pomFile,
-                                                                                                      profile,
-                                                                                                      cause ),
-                 writer );
+        addTips( ProjectErrorTips.getTipsForActivatorLookupError( projectId,
+                                                                  pomFile,
+                                                                  profile,
+                                                                  cause ), writer );
-    public void reportErrorCreatingArtifactRepository( MavenProject project,
+    public void reportErrorCreatingArtifactRepository( String projectId,
-                                                       UnknownRepositoryLayoutException cause,
-                                                       boolean isPluginRepo )
+                                                       UnknownRepositoryLayoutException cause )
-        addStandardInfo( project.getId(), pomFile, writer );
-        addTips( ProjectErrorTips.getTipsForInvalidRepositorySpec( repo, project.getId(), pomFile, cause ),
+        addStandardInfo( projectId, pomFile, writer );
+        addTips( ProjectErrorTips.getTipsForInvalidRepositorySpec( repo, projectId, pomFile, cause ),

UPD42 UPD42 UPD43 MOV42 MOV21 MOV43 MOV42 MOV60 MOV21 MOV21 UPD43 UPD42 UPD42 MOV32 UPD42 UPD42 MOV42 MOV42 UPD42 MOV69 MOV42 MOV42 UPD42 MOV42 UPD42 UPD42 UPD43 MOV43 UPD42 UPD42 UPD42 MOV42 MOV40 DEL42 DEL32 DEL40 DEL42 DEL40 DEL43 DEL69 DEL40 DEL43 DEL69 DEL40 DEL43 DEL69 DEL40 DEL43 DEL69 DEL40 DEL43 DEL69 DEL40 DEL43 DEL69 DEL68 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL42 DEL32 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL32 DEL21 DEL8 DEL31 DEL42 DEL43 DEL42 DEL42 DEL43 DEL14 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL32 DEL40 DEL42 DEL40 DEL43 DEL69 DEL40 DEL43 DEL69 DEL40 DEL43 DEL69 DEL68 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL42 DEL43 DEL14 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL32 DEL21 DEL8 DEL31 DEL39 DEL42 DEL44 DEL42 DEL32 DEL42 DEL32