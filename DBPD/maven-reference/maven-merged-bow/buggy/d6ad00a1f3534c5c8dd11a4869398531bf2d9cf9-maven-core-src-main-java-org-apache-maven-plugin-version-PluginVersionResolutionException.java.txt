o Improved some exception messages

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@825852 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.versioning.InvalidVersionSpecificationException;
-import org.apache.maven.repository.legacy.metadata.ArtifactMetadataRetrievalException;
+import java.util.List;
+
+import org.apache.maven.artifact.repository.ArtifactRepository;
-        super( "Error resolving version for \'" + groupId + ":" + artifactId + "\': " + baseMessage, cause );
-
-        this.groupId = groupId;
-        this.artifactId = artifactId;
-        this.baseMessage = baseMessage;
-    }
-
-    public PluginVersionResolutionException( String groupId, String artifactId, String baseMessage, ArtifactMetadataRetrievalException cause )
-    {
-        super( "Error resolving version for \'" + groupId + ":" + artifactId + "\': " + baseMessage, cause );
-
-        this.groupId = groupId;
-        this.artifactId = artifactId;
-        this.baseMessage = baseMessage;
-    }
-
-    public PluginVersionResolutionException( String groupId, String artifactId, String baseMessage, InvalidVersionSpecificationException cause )
-    {
-        super( "Error resolving version for \'" + groupId + ":" + artifactId + "\': " + baseMessage, cause );
+        super( "Error resolving version for plugin \'" + groupId + ":" + artifactId + "\': " + baseMessage, cause );
-        super( "Error resolving version for \'" + groupId + ":" + artifactId + "\': " + baseMessage );
+        super( "Error resolving version for plugin \'" + groupId + ":" + artifactId + "\': " + baseMessage );
+
+        this.groupId = groupId;
+        this.artifactId = artifactId;
+        this.baseMessage = baseMessage;
+    }
+
+    public PluginVersionResolutionException( String groupId, String artifactId, ArtifactRepository localRepository,
+                                             List<ArtifactRepository> remoteRepositories, String baseMessage )
+    {
+        super( "Error resolving version for plugin \'" + groupId + ":" + artifactId + "\' from the repositories "
+            + format( localRepository, remoteRepositories ) + ": " + baseMessage );
+    private static String format( ArtifactRepository localRepository, List<ArtifactRepository> remoteRepositories )
+    {
+        String repos = "[";
+
+        if ( localRepository != null )
+        {
+            repos += localRepository.getId() + " (" + localRepository.getBasedir() + ")";
+        }
+
+        if ( remoteRepositories != null && !remoteRepositories.isEmpty() )
+        {
+            repos += ", ";
+
+            for ( ArtifactRepository repository : remoteRepositories )
+            {
+                if ( repository != null )
+                {
+                    repos += repository.getId() + " (" + repository.getUrl() + ")";
+                }
+            }
+        }
+
+        repos += "]";
+
+        return repos;
+    }
+

MOV31 UPD40 UPD40 MOV44 INS44 INS83 UPD83 INS43 INS42 INS44 INS8 UPD43 UPD42 INS74 INS42 MOV42 INS43 INS42 INS74 INS42 INS60 INS25 INS25 MOV21 INS41 UPD42 INS43 INS43 INS42 INS43 INS43 INS43 INS59 INS27 INS8 INS27 INS8 UPD7 INS42 UPD45 UPD45 INS42 INS42 UPD45 INS45 INS32 UPD45 UPD42 MOV42 INS42 MOV42 INS42 INS45 INS42 INS33 INS21 INS27 INS38 MOV21 INS70 INS42 INS45 INS42 INS42 INS42 INS7 UPD42 MOV42 INS33 INS32 UPD7 INS44 INS42 INS8 INS42 INS27 INS42 INS42 INS42 INS45 INS43 INS42 INS25 INS32 UPD45 MOV45 INS32 UPD45 MOV45 INS42 INS27 INS8 INS42 INS42 INS42 INS42 INS42 INS33 MOV21 UPD7 INS42 INS27 INS32 INS45 INS32 INS45 INS42 INS42 INS42 INS42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL43 DEL42 DEL44 DEL43 DEL42 DEL52 DEL42 DEL22 DEL42 DEL52 DEL42 DEL22 DEL42 DEL52 DEL42 DEL22 DEL42 DEL43 DEL42 DEL44 DEL45 DEL42 DEL42 DEL27 DEL46 DEL8