PR: MNG-140

split artifact impl from api so that dep resolution can be used independently of wagon
only the first step in making maven-artifact more useful as a public api - more changes to be made


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@191634 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.repository.layout.ArtifactRepositoryLayout;
-import org.apache.maven.wagon.repository.Repository;
- * This class is an abstraction of the location from/to resources can be
- * transfered.
+ * TODO: describe
- * @author <a href="michal.maczka@dimatics.com">Michal Maczka </a>
+ * @author <a href="mailto:brett@apache.org">Brett Porter</a>
-public class ArtifactRepository
-    extends Repository
+public interface ArtifactRepository
-    private final String snapshotPolicy;
-    
-    private final String checksumPolicy;
+    String SNAPSHOT_POLICY_NEVER = "never";
-    private final ArtifactRepositoryLayout layout;
+    String SNAPSHOT_POLICY_ALWAYS = "always";
-    public static final String SNAPSHOT_POLICY_NEVER = "never";
+    String SNAPSHOT_POLICY_DAILY = "daily";
-    public static final String SNAPSHOT_POLICY_ALWAYS = "always";
+    String SNAPSHOT_POLICY_INTERVAL = "interval";
-    public static final String SNAPSHOT_POLICY_DAILY = "daily";
+    String CHECKSUM_POLICY_FAIL = "fail";
-    public static final String SNAPSHOT_POLICY_INTERVAL = "interval";
-    
-    public static final String CHECKSUM_POLICY_FAIL = "fail";
-    
-    public static final String CHECKSUM_POLICY_WARN = "warn";
-    
-    public static final String CHECKSUM_ALGORITHM_SHA1 = "SHA-1";
-    
-    public static final String CHECKSUM_ALGORITHM_MD5 = "MD5";
+    String CHECKSUM_POLICY_WARN = "warn";
-    public ArtifactRepository( String id, String url, ArtifactRepositoryLayout layout )
-    {
-        this( id, url, layout, SNAPSHOT_POLICY_NEVER, CHECKSUM_POLICY_WARN );
-    }
+    String CHECKSUM_ALGORITHM_SHA1 = "SHA-1";
-    public ArtifactRepository( String id, String url, ArtifactRepositoryLayout layout, String snapshotPolicy, String checksumPolicy )
-    {
-        super( id, url );
+    String CHECKSUM_ALGORITHM_MD5 = "MD5";
-        this.layout = layout;
+    String pathOf( Artifact artifact );
-        this.snapshotPolicy = snapshotPolicy;
-        
-        this.checksumPolicy = checksumPolicy;
-    }
+    String pathOfMetadata( ArtifactMetadata artifactMetadata );
-    public String pathOf( Artifact artifact )
-    {
-        return layout.pathOf( artifact );
-    }
+    String getUrl();
-    public String pathOfMetadata( ArtifactMetadata artifactMetadata )
-    {
-        return layout.pathOfMetadata( artifactMetadata );
-    }
+    String getBasedir();
-    public String getSnapshotPolicy()
-    {
-        return snapshotPolicy;
-    }
-    
-    public String getChecksumPolicy()
-    {
-        return checksumPolicy;
-    }
-    
-    public boolean failOnChecksumMismatch()
-    {
-        return CHECKSUM_POLICY_FAIL.equals( checksumPolicy );
-    }
-    
-    public ArtifactRepository createMirror( Repository mirror )
-    {
-        return new ArtifactRepository( mirror.getId(), mirror.getUrl(), layout, snapshotPolicy, checksumPolicy );
-    }
-}
+    String getSnapshotPolicy();
+
+    String getProtocol();
+
+    String getId();
+
+    String getChecksumPolicy();
+}

MOV31 MOV31 MOV43 INS42 MOV43 UPD42 MOV43 MOV43 UPD42 MOV43 UPD42 MOV43 INS42 UPD66 UPD66 DEL40 DEL26 DEL40 DEL26 DEL66 DEL42 DEL43 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL42 DEL42 DEL42 DEL32 DEL41 DEL8 DEL83 DEL42 DEL42 DEL42 DEL32 DEL41 DEL8 DEL83 DEL42 DEL42 DEL44 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL42 DEL42 DEL17 DEL8 DEL83 DEL42 DEL44 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL44 DEL42 DEL44 DEL42 DEL42 DEL46 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL8 DEL83 DEL42 DEL43 DEL42 DEL41 DEL8 DEL83 DEL42 DEL43 DEL42 DEL41 DEL8 DEL83 DEL39 DEL42 DEL42 DEL42 DEL32 DEL41 DEL8 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL42 DEL42 DEL14 DEL41 DEL8