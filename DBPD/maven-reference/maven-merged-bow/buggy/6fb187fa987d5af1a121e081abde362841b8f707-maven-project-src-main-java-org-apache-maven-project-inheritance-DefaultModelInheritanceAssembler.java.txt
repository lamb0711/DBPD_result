[MNG-2006] Fixing url rewriting for child POMs in sibling directories of parent POM (or anything other than subdir). First guess is based on parent POM file, but if parent POM is built from repository, will use the module artifactId as a basis instead.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@379572 13f79535-47bb-0310-9956-ffa450edef68

-            pathFragments.add( childPath );
+            if ( childPath != null )
+            {
+                pathFragments.add( childPath );
+            }            
-        if ( !childPath.endsWith( "/" ) && appendPaths )
+        String lastPathPart = childPath;
+        if ( lastPathPart == null )
+        {
+            lastPathPart = pathAdjustment;
+        }
+        
+        if ( lastPathPart == null )
+        {
+            lastPathPart = parentPath;
+        }
+        
+        if ( appendPaths && lastPathPart != null && !lastPathPart.endsWith( "/" ) )

INS60 INS25 INS25 INS43 INS59 INS27 INS8 INS27 INS8 INS25 INS42 INS42 INS42 INS42 INS33 INS21 INS42 INS33 INS21 INS27 INS27 INS8 INS7 INS7 INS42 INS27 INS42 INS33 MOV21 INS42 INS42 INS42 INS42 INS42 INS33 UPD42 DEL42