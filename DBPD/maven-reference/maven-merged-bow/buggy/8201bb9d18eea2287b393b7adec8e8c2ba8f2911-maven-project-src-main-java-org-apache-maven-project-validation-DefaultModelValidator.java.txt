Adding system scope...uses scope == 'system' and systemPath in dependency. SystemPath was chosen over mappings inside the setings.xml for scalability, heritability, and injectability (via managed deps).



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@264960 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.Artifact;
+import org.codehaus.plexus.util.StringUtils;
+            
+            if ( Artifact.SCOPE_SYSTEM.equals( d.getScope() ) && StringUtils.isEmpty( d.getSystemPath() ) )
+            {
+                result.addMessage( "For dependency " + d + ": system-scoped dependency must specify systemPath." );
+            }
+            else if ( !Artifact.SCOPE_SYSTEM.equals( d.getScope() ) && StringUtils.isNotEmpty( d.getSystemPath() ) )
+            {
+                result.addMessage( "For dependency " + d + ": only dependency with system scope can specify systemPath." );
+            }
+                
+                if ( Artifact.SCOPE_SYSTEM.equals( d.getScope() ) && StringUtils.isEmpty( d.getSystemPath() ) )
+                {
+                    result.addMessage( "For managed dependency " + d + ": system-scoped dependency must specify systemPath." );
+                }
+                else if ( !Artifact.SCOPE_SYSTEM.equals( d.getScope() ) && StringUtils.isNotEmpty( d.getSystemPath() ) )
+                {
+                    result.addMessage( "For managed dependency " + d + ": only dependency with system scope can specify systemPath." );
+                }

INS26 INS26 INS40 INS40 INS25 INS27 INS8 INS25 INS32 INS32 INS21 INS27 INS8 INS25 INS40 INS42 INS32 INS42 INS42 INS32 INS32 INS38 INS32 INS21 INS27 INS8 INS25 INS42 INS42 INS42 INS42 INS42 INS42 INS27 INS32 INS42 INS42 INS32 INS32 INS32 INS32 INS21 INS27 INS8 INS45 INS42 INS45 INS40 INS42 INS32 INS42 INS42 INS42 INS42 INS27 INS40 INS42 INS32 INS42 INS42 INS32 INS32 INS38 INS32 INS21 INS42 INS42 INS45 INS42 INS45 INS42 INS42 INS42 INS42 INS42 INS42 INS27 INS32 INS42 INS42 INS32 INS32 INS45 INS42 INS45 INS40 INS42 INS32 INS42 INS42 INS42 INS42 INS27 INS42 INS42 INS45 INS42 INS45