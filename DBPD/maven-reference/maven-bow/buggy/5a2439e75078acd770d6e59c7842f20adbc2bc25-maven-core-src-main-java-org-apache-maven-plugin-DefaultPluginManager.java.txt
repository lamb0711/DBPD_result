Moving extensions back to the core classrealm, and adding a dynamic artifact filter to keep MNG-2228 from reappearing.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@497671 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.MavenArtifactFilterManager;
+import org.apache.maven.ArtifactFilterManager;
+import org.codehaus.plexus.DefaultPlexusContainer;
-import org.codehaus.plexus.DefaultPlexusContainer;
-import org.codehaus.plexus.personality.plexus.lifecycle.phase.Initializable;
-    implements PluginManager, Initializable, Contextualizable
+    implements PluginManager, Contextualizable
-    protected ArtifactFilter artifactFilter;
+    protected ArtifactFilterManager coreArtifactFilterManager;
-    ArtifactFilter coreArtifactFilter = MavenArtifactFilterManager.createStandardFilter();
-
-                                                             coreArtifactFilter, project );
+                                                             coreArtifactFilterManager.getArtifactFilter(), project );
-                                                                                artifactFilter );
+                                                                                coreArtifactFilterManager.getArtifactFilter() );
-                                                               artifactFilter ).getArtifacts() );
+                                                               coreArtifactFilterManager.getArtifactFilter() ).getArtifacts() );
-    public void initialize()
-    {
-        artifactFilter = MavenArtifactFilterManager.createStandardFilter();
-    }
-
