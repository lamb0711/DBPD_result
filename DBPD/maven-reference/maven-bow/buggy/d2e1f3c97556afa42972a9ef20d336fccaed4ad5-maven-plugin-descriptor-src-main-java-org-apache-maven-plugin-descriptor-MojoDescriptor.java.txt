o Adding support for <executions/>, which means multiple runs of the same goal/set-of-goals with different configs.
o Adding @phase declarations for those mojos that seem to be part of the main build, just for completeness
o Added two ITs, to test that <executions/> doesn't mess up the normal operation, and to test multi-execution for a goal.

Should resolve: MNG-172.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@190335 13f79535-47bb-0310-9956-ffa450edef68

-    
+
-    
+
+
+    public boolean equals( Object object )
+    {
+        if ( this == object )
+        {
+            return true;
+        }
+
+        if ( object instanceof MojoDescriptor )
+        {
+            MojoDescriptor other = (MojoDescriptor) object;
+
+            if ( !compareObjects( getPluginDescriptor(), other.getPluginDescriptor() ) )
+            {
+                return false;
+            }
+
+            if ( !compareObjects( getGoal(), other.getGoal() ) )
+            {
+                return false;
+            }
+
+            return true;
+        }
+
+        return false;
+    }
+
+    private boolean compareObjects( Object first, Object second )
+    {
+        if ( ( first == null && second != null ) || ( first != null && second == null ) )
+        {
+            return false;
+        }
+
+        if ( !first.equals( second ) )
+        {
+            return false;
+        }
+
+        return true;
+    }
+
+    public int hashCode()
+    {
+        int result = 1;
+
+        String goal = getGoal();
+
+        if ( goal != null )
+        {
+            result += goal.hashCode();
+        }
+
+        PluginDescriptor pd = getPluginDescriptor();
+
+        if ( pd != null )
+        {
+            result -= pd.hashCode();
+        }
+
+        return result;
+    }
