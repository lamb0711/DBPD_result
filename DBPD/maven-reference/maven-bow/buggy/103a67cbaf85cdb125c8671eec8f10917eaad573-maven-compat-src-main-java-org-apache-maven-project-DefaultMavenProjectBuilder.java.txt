[MNG-4511] API incompatibility in MavenProjectBuilder (Maven-3)

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@895035 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.resolver.ArtifactNotFoundException;
+import org.apache.maven.artifact.resolver.ArtifactResolutionException;
+import org.apache.maven.wagon.events.TransferListener;
+    public MavenProject buildWithDependencies( File project, ArtifactRepository localRepository,
+                                               ProfileManager profileManager, TransferListener transferListener )
+        throws ProjectBuildingException, ArtifactResolutionException, ArtifactNotFoundException
+    {
+        ProjectBuilderConfiguration configuration = new DefaultProjectBuilderConfiguration();
+
+        configuration.setLocalRepository( localRepository );
+
+        if ( profileManager != null )
+        {
+            configuration.setActiveProfileIds( profileManager.getExplicitlyActivatedIds() );
+            configuration.setInactiveProfileIds( profileManager.getExplicitlyDeactivatedIds() );
+        }
+
+        configuration.setResolveDependencies( true );
+
+        return build( project, configuration );
+    }
+
+    public MavenProject buildWithDependencies( File project, ArtifactRepository localRepository,
+                                               ProfileManager profileManager )
+        throws ProjectBuildingException, ArtifactResolutionException, ArtifactNotFoundException
+    {
+        return buildWithDependencies( project, localRepository, profileManager, null );
+    }
+
