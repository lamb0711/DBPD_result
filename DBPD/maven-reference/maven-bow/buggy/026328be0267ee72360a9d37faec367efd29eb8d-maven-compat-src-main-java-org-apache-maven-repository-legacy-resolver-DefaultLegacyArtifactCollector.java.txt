[MNG-4197] relocation doesn't work in trunk (rev 784345)
Submitted by: Olivier Lamy

o Applied with minor updates to account for recent refactoring

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@801648 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.metadata.ArtifactMetadataRetrievalException;
+import org.apache.maven.repository.legacy.metadata.ArtifactMetadataRetrievalException;
+
+                                Artifact relocated =
+                                    source.retrieveRelocatedArtifact( artifact, localRepository,
+                                                                      childRemoteRepositories );
+                                if ( relocated != null && !artifact.equals( relocated ) )
+                                {
+                                    relocated.setDependencyFilter( artifact.getDependencyFilter() );
+                                    artifact = relocated;
+                                    child.setArtifact( artifact );
+                                }
