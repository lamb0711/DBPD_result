Removing maven-build-context, and replacing it with caching aspects for model-lineage stuff and project instances. Still needs caching for artifact resolution, and I have an aspect for this too, but it's not enabled yet, since it's still buggy.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@595215 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.context.BuildContextManager;
- * Profile activator that allows the use of custom third-party activators, by specifying a type - 
+ * Profile activator that allows the use of custom third-party activators, by specifying a type -
-    private BuildContextManager buildContextManager;
-
-    public boolean canDetermineActivation( Profile profile )
+    public boolean canDetermineActivation( Profile profile, ProfileActivationContext context )
-                ProfileActivator activator = loadProfileActivator( custom );
-                
+                ProfileActivator activator = loadProfileActivator( custom, context );
+
-                    return activator.canDetermineActivation( profile );
+                    return activator.canDetermineActivation( profile, context );
-    private ProfileActivator loadProfileActivator( ActivationCustom custom )
+    private ProfileActivator loadProfileActivator( ActivationCustom custom, ProfileActivationContext context )
-        CustomActivatorAdvice advice = CustomActivatorAdvice.getCustomActivatorAdvice( buildContextManager );
-
-            if ( !advice.failQuietly() )
+            if ( !context.isCustomActivatorFailureSuppressed() )
-            if ( !advice.failQuietly() )
+            if ( !context.isCustomActivatorFailureSuppressed() )
-    public boolean isActive( Profile profile )
+    public boolean isActive( Profile profile, ProfileActivationContext context )
-        ProfileActivator activator = loadProfileActivator( custom );
+        ProfileActivator activator = loadProfileActivator( custom, context );
-        return activator.isActive( profile );
+        return activator.isActive( profile, context );
-        this.container = (PlexusContainer) context.get( PlexusConstants.PLEXUS_KEY );
+        container = (PlexusContainer) context.get( PlexusConstants.PLEXUS_KEY );
-    private Logger getLogger()
+    protected Logger getLogger()
