PR: MNG-230
create a local copy of the snapshot

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@292401 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.util.FileUtils;
+import java.io.IOException;
-                        
+
-                    
+
+
+                    if ( artifact.isSnapshot() && !artifact.getBaseVersion().equals( artifact.getVersion() ) )
+                    {
+                        String version = artifact.getVersion();
+                        artifact.selectVersion( artifact.getBaseVersion() );
+                        File copy = new File( localRepository.getBasedir(), localRepository.pathOf( artifact ) );
+                        try
+                        {
+                            FileUtils.copyFile( destination, copy );
+                        }
+                        catch ( IOException e )
+                        {
+                            throw new ArtifactResolutionException( "Unable to copy resolved artifact for local use",
+                                                                   artifact, remoteRepositories, e );
+                        }
+                        artifact.selectVersion( version );
+                    }
