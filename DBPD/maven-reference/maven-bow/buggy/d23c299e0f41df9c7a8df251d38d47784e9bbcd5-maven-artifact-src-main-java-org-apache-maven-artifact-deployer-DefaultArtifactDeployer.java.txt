correct problem where anything with a modified finalName was not installed/deployed


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163980 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.logging.AbstractLogEnabled;
+    extends AbstractLogEnabled
-    public void deploy( String basedir, Artifact artifact, ArtifactRepository deploymentRepository,
+    public void deploy( String basedir, String finalName, Artifact artifact, ArtifactRepository deploymentRepository,
-            source = artifactHandlerManager.getArtifactHandler( artifact.getType() ).source( basedir, artifact );
+            String extension = artifactHandlerManager.getArtifactHandler( artifact.getType() ).extension();
+            source = new File( basedir, finalName + "." + extension );
+        if ( deploymentRepository.getAuthenticationInfo() == null )
+        {
+            getLogger().warn( "Deployment repository {id: \'" + deploymentRepository.getId() +
+                           "\'} has no associated authentication info!" );
+        }
+
