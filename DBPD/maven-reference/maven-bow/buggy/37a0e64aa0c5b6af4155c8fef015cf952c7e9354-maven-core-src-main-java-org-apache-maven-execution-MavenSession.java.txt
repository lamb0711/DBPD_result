[MNG-4618] maven-javadoc-plugin aggregate-jar fails with maven3 and multiple modules

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@931086 13f79535-47bb-0310-9956-ffa450edef68

-        //TODO: Current for testing classes creating the session
-        if ( projects.size() > 0 )
+        if ( !projects.isEmpty() )
-            this.topLevelProject = projects.get(  0 );
+            this.topLevelProject = currentProject;
+            for ( MavenProject project : projects )
+            {
+                if ( project.isExecutionRoot() )
+                {
+                    topLevelProject = project;
+                    break;
+                }
+            }
+        }
+        else
+        {
+            this.currentProject = null;
+            this.topLevelProject = null;
