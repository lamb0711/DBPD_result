o Simplified code

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@809532 13f79535-47bb-0310-9956-ffa450edef68

-        ArtifactFilter filter = new ScopeArtifactFilter( Artifact.SCOPE_RUNTIME_PLUS_SYSTEM );
+        ArtifactFilter collectionFilter = new ScopeArtifactFilter( Artifact.SCOPE_RUNTIME_PLUS_SYSTEM );
+
+        ArtifactFilter resolutionFilter = artifactFilterManager.getCoreArtifactFilter();
-        request.setCollectionFilter( filter );
+        request.setCollectionFilter( collectionFilter );
+        request.setResolutionFilter( resolutionFilter );
-        ArtifactResolutionResult result = repositorySystem.collect( request );
+        ArtifactResolutionResult result = repositorySystem.resolve( request );
-        request.setResolveRoot( true ).setResolveTransitively( false ).setArtifactDependencies( null );
-
-        filter = artifactFilterManager.getCoreArtifactFilter();
-
-        for ( Artifact artifact : pluginArtifacts )
-        {
-            if ( filter.include( artifact ) )
-            {
-                result = repositorySystem.resolve( request.setArtifact( artifact ) );
-                try
-                {
-                    resolutionErrorHandler.throwErrors( request, result );
-                }
-                catch ( ArtifactResolutionException e )
-                {
-                    throw new PluginResolutionException( plugin, e );
-                }
-            }
-            else
-            {
-                artifact.setFile( null );
-                artifact.setResolved( false );
-            }
-        }
-
