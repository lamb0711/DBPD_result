PR: MNG-639
Separate local metadata by repository to ensure it remains consistent

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@267466 13f79535-47bb-0310-9956-ffa450edef68

-    public AbstractVersionArtifactMetadata( Artifact artifact, String filename )
+    public AbstractVersionArtifactMetadata( Artifact artifact )
-        super( artifact, filename );
+        super( artifact );
-    protected File getLocalRepositoryLocation( ArtifactRepository localRepository )
+    protected File getLocalRepositoryLocation( ArtifactRepository localRepository, ArtifactRepository remoteRepository )
-        return new File( localRepository.getBasedir(), localRepository.pathOfArtifactMetadata( this ) );
+        return new File( localRepository.getBasedir(),
+                         localRepository.pathOfLocalRepositoryMetadata( this, remoteRepository ) );
-    public void readFromLocalRepository( ArtifactRepository localRepository )
+    public void readFromLocalRepository( ArtifactRepository localRepository, ArtifactRepository remoteRepository )
-        File f = getLocalRepositoryLocation( localRepository );
+        File f = getLocalRepositoryLocation( localRepository, remoteRepository );
-    public void storeInLocalRepository( ArtifactRepository localRepository )
+    public void storeInLocalRepository( ArtifactRepository localRepository, ArtifactRepository remoteRepository )
-                String path = getLocalRepositoryLocation( localRepository ).getPath();
+                String path = getLocalRepositoryLocation( localRepository, remoteRepository ).getPath();
