o Added first-pass logging and event-monitoring impls. Converted all System.out calls in maven-component plugins to use logger.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163457 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.monitor.event.EventDispatcher;
+import org.apache.maven.monitor.event.MavenEvents;
-            getLogger().info( "[" + mojoDescriptor.getId() + "]" );
+//            getLogger().info( "[" + mojoDescriptor.getId() + "]" );
+
+            request.setLog( session.getLog() );
+            
+            // !! This is ripe for refactoring to an aspect.
+            // Event monitoring.
+            String event = MavenEvents.MOJO_EXECUTION;
+            EventDispatcher dispatcher = session.getEventDispatcher();
-            plugin.execute( request, response );
+            dispatcher.dispatchStart( event, goalName );
+            try
+            {
+                plugin.execute( request, response );
+                
+                dispatcher.dispatchEnd( event, goalName );
+            }
+            catch(Exception e)
+            {
+                session.getEventDispatcher().dispatchError( event, goalName, e );
+                throw e;
+            }
+            // End event monitoring.
-                                                              "maven-plugin", "plexus-container-api",
+                                                              "maven-monitor", "maven-plugin", "plexus-container-api",
