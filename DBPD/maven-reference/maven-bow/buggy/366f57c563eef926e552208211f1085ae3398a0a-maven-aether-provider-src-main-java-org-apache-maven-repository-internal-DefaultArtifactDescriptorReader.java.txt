updated parent pom (and fixed issues...)
-    public DefaultArtifactDescriptorReader setRepositoryEventDispatcher( RepositoryEventDispatcher repositoryEventDispatcher )
+    public DefaultArtifactDescriptorReader setRepositoryEventDispatcher( RepositoryEventDispatcher red )
-        if ( repositoryEventDispatcher == null )
+        if ( red == null )
-        this.repositoryEventDispatcher = repositoryEventDispatcher;
+        this.repositoryEventDispatcher = red;
-        for ( Artifact artifact = request.getArtifact();; )
+        for ( Artifact a = request.getArtifact();; )
-            Artifact pomArtifact = ArtifactDescriptorUtils.toPomArtifact( artifact );
+            Artifact pomArtifact = ArtifactDescriptorUtils.toPomArtifact( a );
-                    new VersionRequest( artifact, request.getRepositories(), request.getRequestContext() );
+                    new VersionRequest( a, request.getRepositories(), request.getRequestContext() );
-                artifact = artifact.setVersion( versionResult.getVersion() );
+                a = a.setVersion( versionResult.getVersion() );
-            if ( !visited.add( artifact.getGroupId() + ':' + artifact.getArtifactId() + ':' + artifact.getBaseVersion() ) )
+            if ( !visited.add( a.getGroupId() + ':' + a.getArtifactId() + ':' + a.getBaseVersion() ) )
-                invalidDescriptor( session, trace, artifact, exception );
-                if ( ( getPolicy( session, artifact, request ) & ArtifactDescriptorPolicy.IGNORE_INVALID ) != 0 )
+                invalidDescriptor( session, trace, a, exception );
+                if ( ( getPolicy( session, a, request ) & ArtifactDescriptorPolicy.IGNORE_INVALID ) != 0 )
-                    missingDescriptor( session, trace, artifact, (Exception) e.getCause() );
-                    if ( ( getPolicy( session, artifact, request ) & ArtifactDescriptorPolicy.IGNORE_MISSING ) != 0 )
+                    missingDescriptor( session, trace, a, (Exception) e.getCause() );
+                    if ( ( getPolicy( session, a, request ) & ArtifactDescriptorPolicy.IGNORE_MISSING ) != 0 )
-                invalidDescriptor( session, trace, artifact, e );
-                if ( ( getPolicy( session, artifact, request ) & ArtifactDescriptorPolicy.IGNORE_INVALID ) != 0 )
+                invalidDescriptor( session, trace, a, e );
+                if ( ( getPolicy( session, a, request ) & ArtifactDescriptorPolicy.IGNORE_INVALID ) != 0 )
-                result.addRelocation( artifact );
-                artifact =
-                    new RelocatedArtifact( artifact, relocation.getGroupId(), relocation.getArtifactId(),
+                result.addRelocation( a );
+                a =
+                    new RelocatedArtifact( a, relocation.getGroupId(), relocation.getArtifactId(),
-                result.setArtifact( artifact );
+                result.setArtifact( a );
-    private int getPolicy( RepositorySystemSession session, Artifact artifact, ArtifactDescriptorRequest request )
+    private int getPolicy( RepositorySystemSession session, Artifact a, ArtifactDescriptorRequest request )
-        return policy.getPolicy( session, new ArtifactDescriptorPolicyRequest( artifact, request.getRequestContext() ) );
+        return policy.getPolicy( session, new ArtifactDescriptorPolicyRequest( a, request.getRequestContext() ) );
