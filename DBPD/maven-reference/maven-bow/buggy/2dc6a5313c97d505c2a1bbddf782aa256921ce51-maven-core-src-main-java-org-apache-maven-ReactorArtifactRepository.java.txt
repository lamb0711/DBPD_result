[MNG-4359] [regression] Locally reachable parent POMs outside of reactor are not found during dependency resolution

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@815327 13f79535-47bb-0310-9956-ffa450edef68

-                artifact.setFile( project.getFile() );
-
-                artifact.setResolved( true );
+                resolve( artifact, project.getFile() );
-                    artifact.setFile( projectArtifact.getFile() );
-
-                    artifact.setResolved( true );
+                    resolve( artifact, projectArtifact.getFile() );
-                        artifact.setFile( classesDir );
-
-                        artifact.setResolved( true );
+                        resolve( artifact, classesDir );
+    private void resolve( Artifact artifact, File file )
+    {
+        artifact.setFile( file );
+
+        artifact.setResolved( true );
+
+        artifact.setRepository( this );
+    }
+
