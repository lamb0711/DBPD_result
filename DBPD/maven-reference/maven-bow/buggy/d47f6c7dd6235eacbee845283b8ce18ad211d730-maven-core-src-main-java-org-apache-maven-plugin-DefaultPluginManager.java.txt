move the Log interface to o.a.m.plugin.logging in maven-plugin-api, breaking the dependency on maven-monitor

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@169431 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.monitor.logging.DefaultLog;
+import org.apache.maven.plugin.logging.Log;
+import org.codehaus.plexus.logging.LoggerManager;
+    private Log mojoLogger;
+
-
-            plugin.setLog( session.getLog() );
+            plugin.setLog( mojoLogger );
-            ExpressionEvaluator expressionEvaluator = new PluginParameterExpressionEvaluator( session, pathTranslator );
+            ExpressionEvaluator expressionEvaluator = new PluginParameterExpressionEvaluator( session, pathTranslator,
+                                                                                              getLogger() );
-        
+
-        
-        if( !invalidParameters.isEmpty() )
+
+        if ( !invalidParameters.isEmpty() )
+
+        LoggerManager manager = null;
+
+        try
+        {
+            manager = (LoggerManager) container.lookup( LoggerManager.ROLE );
+
+            mojoLogger = new DefaultLog( manager.getLoggerForComponent( Mojo.ROLE ) );
+        }
+        catch ( ComponentLookupException e )
+        {
+            throw new ContextException( "Error locating a logger manager", e );
+        }
+        finally
+        {
+            if ( manager != null )
+            {
+                try
+                {
+                    container.release( manager );
+                }
+                catch ( ComponentLifecycleException e )
+                {
+                    getLogger().error( "Error releasing the logger manager - ignoring", e );
+                }
+            }
+        }
-}
+}
