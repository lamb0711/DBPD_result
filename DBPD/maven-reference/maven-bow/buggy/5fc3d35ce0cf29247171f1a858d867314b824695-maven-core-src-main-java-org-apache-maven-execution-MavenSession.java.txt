Removing maven-build-context, and replacing it with caching aspects for model-lineage stuff and project instances. Still needs caching for artifact resolution, and I have an aspect for this too, but it's not enabled yet, since it's still buggy.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@595215 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.plugin.descriptor.MojoDescriptor;
+import org.apache.maven.reporting.MavenReport;
+import java.util.ArrayList;
+import java.util.Stack;
+    private MavenProject currentProject;
+    private Stack forkedProjectStack = new Stack();
+
+    /**
+     * Push the existing currentProject onto the forked-project stack, and set the specified project
+     * as the new current project. This signifies the beginning of a new forked-execution context.
+     */
+    public void addForkedProject( MavenProject project )
+    {
+        forkedProjectStack.push( currentProject );
+        currentProject = project;
+    }
+
+    /**
+     * Peel off the last forked project from the stack, and restore it as the currentProject. This
+     * signifies the cleanup of a completed forked-execution context.
+     */
+    public MavenProject removeForkedProject()
+    {
+        if ( !forkedProjectStack.isEmpty() )
+        {
+            MavenProject lastCurrent = currentProject;
+            currentProject = (MavenProject) forkedProjectStack.pop();
+
+            return lastCurrent;
+        }
+
+        return null;
+    }
+
+    public void setCurrentProject( MavenProject currentProject )
+    {
+        this.currentProject = currentProject;
+    }
+
+    /**
+     * Return the current project for use in a mojo execution.
+     */
+    public MavenProject getCurrentProject()
+    {
+        return currentProject;
+    }
+
+    /**
+     * Retrieve the list of reports ({@link MavenReport} instances) that have been executed against
+     * this project, for use in another mojo's execution.
+     */
+    public List getReports()
+    {
+        return new ArrayList( reports.values() );
+    }
+
+    /**
+     * Clear the reports for this project
+     */
+    public void clearReports()
+    {
+        reports.clear();
+    }
+
+    /**
+     * Add a newly-executed report ({@link MavenReport} instance) to the reports collection, for
+     * future reference.
+     */
+    public void addReport( MojoDescriptor mojoDescriptor, MavenReport report )
+    {
+        reports.put( mojoDescriptor.getId(), report );
+    }
+
