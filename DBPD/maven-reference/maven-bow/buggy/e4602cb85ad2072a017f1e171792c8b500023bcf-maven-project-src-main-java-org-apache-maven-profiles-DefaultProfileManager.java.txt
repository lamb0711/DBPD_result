Fix for profile deactivation.
Submitted By: David Bernhard
Issue id: MNG-3545


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@656405 13f79535-47bb-0310-9956-ffa450edef68

-                else if ( !profileActivationContext.isExplicitlyInactive( profileId ) && isActive( profile, profileActivationContext ) )
+                else if ( isActive( profile, profileActivationContext ) )
-                if ( shouldAdd )
+                if ( !profileActivationContext.isExplicitlyInactive( profileId ) && shouldAdd )
+				List deactivatedIds = profileActivationContext.getExplicitlyInactiveProfileIds();
+				
-
+					
+					// If this profile was excluded, don't add it back in
+					// Fixes MNG-3545
+					if (deactivatedIds.contains(profileId)) 
+					{
+						continue;
+					}
