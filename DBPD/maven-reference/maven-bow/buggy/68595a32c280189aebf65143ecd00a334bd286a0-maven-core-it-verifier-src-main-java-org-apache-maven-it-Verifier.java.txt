move system property specification to system.properties in itests

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@177983 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Properties;
+    private static Properties loadProperties( File propertiesFile )
+        throws VerificationException
+    {
+        Properties properties = new Properties();
+
+        FileInputStream fis = null;
+        try
+        {
+            if ( propertiesFile.exists() )
+            {
+                fis = new FileInputStream( propertiesFile );
+                properties.load( fis );
+            }
+        }
+        catch ( IOException e )
+        {
+            throw new VerificationException( "Error reading properties file", e );
+        }
+
+        return properties;
+    }
+
-    public void executeGoals( String filename )
+    public void executeGoals( Properties properties, String filename )
+            for ( Iterator i = properties.keySet().iterator(); i.hasNext(); )
+            {
+                String key = (String) i.next();
+                cli.createArgument().setLine( "-D" + key + "=" + properties.getProperty( key ) );
+            }
+
-            System.out.println( Commandline.toString( cli.getCommandline() ) );
+            System.out.println( "Command: " + Commandline.toString( cli.getCommandline() ) );
-                verifier.executeGoals( "goals.txt" );
+                Properties properties = verifier.loadProperties( new File( basedir, "system.properties" ) );
+
+                verifier.executeGoals( properties, "goals.txt" );
