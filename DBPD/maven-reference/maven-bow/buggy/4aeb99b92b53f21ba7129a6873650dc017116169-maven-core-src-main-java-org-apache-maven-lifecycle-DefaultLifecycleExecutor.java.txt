Plugins now load per-project, which means they can have different plugin-level dependencies and configurations per-project, even if they're running in the same reactor.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@586515 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.PlexusContainerException;
-        // TODO: probably don't want to do all this up front
+        // FIXME: This should be handled by the extension scanner.
+                rootProject,
+        throws LifecycleExecutionException
-        MavenProjectSession projectSession = session.getProjectSession( rootProject );
+        MavenProjectSession projectSession;
+        try
+        {
+            projectSession = session.getProjectSession( rootProject );
+        }
+        catch ( PlexusContainerException e )
+        {
+            throw new LifecycleExecutionException(
+                                                   "Failed to create project-specific session for: "
+                                                                   + rootProject.getId(),
+                                                   rootProject, e );
+        }
-                    + ". Reason: " + e.getMessage(),
+                    + ". Reason: " + e.getMessage(), project,
+                            project,
+                            project,
+                        project,
+                        project,
+                        project,
+                        project,
+                        project,
-                        + MojoBindingUtils.toString( mojoBinding ) + ". Reason: unknown" );
+                        + MojoBindingUtils.toString( mojoBinding ) + ". Reason: unknown", project );
+                                project,
+                    project,
+                project,
+                project,
+                project,
+                project,
+                project,
