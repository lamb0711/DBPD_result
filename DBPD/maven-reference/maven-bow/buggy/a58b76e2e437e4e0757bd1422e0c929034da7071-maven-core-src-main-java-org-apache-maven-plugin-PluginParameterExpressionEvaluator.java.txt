Adding profiles.xml and settings.xml support for profiles, along with integration tests for each.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@189510 13f79535-47bb-0310-9956-ffa450edef68

-            // We will attempt to get nab a system property as a way to specify a
-            // parameter to a plugins. My particular case here is allowing the surefire
-            // plugin to run a single test so I want to specify that class on the cli
-            // as a parameter.
+            // Check properties that have been injected via profiles before we default over to 
+            // system properties.
+            
+            if( context.getProject().getProfileConfiguration() != null )
+            {
+                value = context.getProject().getProfileConfiguration().getProperty( expression );
+            }
+            
+            if( value == null )
+            {
+                // We will attempt to get nab a system property as a way to specify a
+                // parameter to a plugins. My particular case here is allowing the surefire
+                // plugin to run a single test so I want to specify that class on the cli
+                // as a parameter.
-            value = System.getProperty( expression );
+                value = System.getProperty( expression );
+            }
