PR: MNG-225
use both groupId and artifactId in mojo descriptor


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163937 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.resolver.filter.AndArtifactFilter;
-        return (PluginDescriptor) pluginDescriptors.get( constructPluginKey( groupId, artifactId ) );
-    }
-
-    private static String constructPluginKey( String groupId, String artifactId )
-    {
-        return groupId + ":" + artifactId;
+        return (PluginDescriptor) pluginDescriptors.get( PluginDescriptor.constructPluginKey( groupId, artifactId ) );
-        if ( pluginsInProcess.contains( mavenPluginDescriptor.getPluginId() ) )
+        PluginDescriptor pluginDescriptor = mavenPluginDescriptor.getPluginDescriptor();
+        String key = pluginDescriptor.getId();
+
+        if ( pluginsInProcess.contains( key ) )
-        pluginsInProcess.add( mavenPluginDescriptor.getPluginId() );
-
-        PluginDescriptor pluginDescriptor = mavenPluginDescriptor.getPluginDescriptor();
+        pluginsInProcess.add( key );
-        String key = constructPluginKey( pluginDescriptor.getGroupId(), pluginDescriptor.getArtifactId() );
-        return pluginDescriptors.containsKey( constructPluginKey( groupId, artifactId ) );
-    }
-
-    private static String getPluginId( String goalName )
-    {
-        String pluginId = goalName;
-
-        if ( pluginId.indexOf( ":" ) > 0 )
-        {
-            pluginId = pluginId.substring( 0, pluginId.indexOf( ":" ) );
-        }
-
-        return AbstractPlugin.getDefaultPluginArtifactId( pluginId );
+        return pluginDescriptors.containsKey( PluginDescriptor.constructPluginKey( groupId, artifactId ) );
-        String pluginId = getPluginId( goalName );
+        String pluginId = PluginDescriptor.getPluginIdFromGoal( goalName );
-        verifyPlugin( AbstractPlugin.getDefaultPluginGroupId(), pluginId, session );
+        verifyPlugin( PluginDescriptor.getDefaultPluginGroupId(), pluginId, session );
-            Xpp3Dom dom = session.getProject().getGoalConfiguration( getPluginId( goalName ), goalId );
+            Xpp3Dom dom = session.getProject().getGoalConfiguration( PluginDescriptor.getPluginIdFromGoal( goalName ),
+                                                                     goalId );
