Follow-on to finish the fix for MNG-421.

This adds external profile repositories to the artifactRepository construction used in resolving parent POMs.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@189670 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.Repository;
+        for ( Iterator i = externalProfiles.iterator(); i.hasNext(); )
+        {
+            Profile externalProfile = (Profile) i.next();
+            
+            for ( Iterator repoIterator = externalProfile.getRepositories().iterator(); repoIterator.hasNext(); )
+            {
+                Repository mavenRepo = (Repository) repoIterator.next();
+
+                ArtifactRepository artifactRepo = ProjectUtils.buildArtifactRepository( mavenRepo, artifactRepositoryFactory, container );
+
+                if ( !aggregatedRemoteWagonRepositories.contains( artifactRepo ) )
+                {
+                    aggregatedRemoteWagonRepositories.add( artifactRepo );
+                }
+            }
+        }
+        
