[MNG-3641] Lack of error checks on profiles

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@787045 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Collection;
+import java.util.LinkedHashSet;
+import org.codehaus.plexus.logging.Logger;
+
+    @Requirement
+    private Logger logger;
+
-        
+
+        validateActivatedProfiles( session.getProjects(), request.getActiveProfiles() );
+
+
+    private void validateActivatedProfiles( List<MavenProject> projects, List<String> activeProfileIds )
+    {
+        Collection<String> notActivatedProfileIds = new LinkedHashSet<String>( activeProfileIds );
+
+        for ( MavenProject project : projects )
+        {
+            for ( List<String> profileIds : project.getInjectedProfileIds().values() )
+            {
+                notActivatedProfileIds.removeAll( profileIds );
+            }
+        }
+
+        for ( String notActivatedProfileId : notActivatedProfileIds )
+        {
+            logger.warn( "Profile with id \"" + notActivatedProfileId + "\" has not been activated." );
+        }
+    }
+
