o Enabled request tracing for repository events to provide more context for event spies

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@1074195 13f79535-47bb-0310-9956-ffa450edef68

+import org.sonatype.aether.RequestTrace;
-import org.sonatype.aether.resolution.ArtifactResolutionException;
+import org.sonatype.aether.resolution.DependencyRequest;
+import org.sonatype.aether.util.DefaultRequestTrace;
+        RequestTrace trace = DefaultRequestTrace.newChild( null, request );
+
+        DependencyRequest depRequest = new DependencyRequest( collect, filter );
+        depRequest.setTrace( trace );
+
+            collect.setTrace( DefaultRequestTrace.newChild( trace, depRequest ) );
+        depRequest.setRoot( node );
+
-            process( result, repoSystem.resolveDependencies( session, node, filter ) );
+            process( result, repoSystem.resolveDependencies( session, depRequest ).getArtifactResults() );
-        catch ( ArtifactResolutionException e )
+        catch ( org.sonatype.aether.resolution.DependencyResolutionException e )
-            process( result, e.getResults() );
+            process( result, e.getResult().getArtifactResults() );
-                node.setArtifact( ar.getArtifact() );
