PR: MNG-338
Helpful error message for non-redistributable JARs, eg jdbc

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@169577 13f79535-47bb-0310-9956-ffa450edef68

-
+
+        // TODO: this is gross. Would like to give it the whole model, but maven-artifact shouldn't depend on that
+        // Can a maven-core implementation of the Artifact interface store it, and be used in the exceptions?
+        String downloadUrl = null;
+        if ( model.getDistributionManagement() != null )
+        {
+            downloadUrl = model.getDistributionManagement().getDownloadUrl();
+        }
+        if ( downloadUrl != null )
+        {
+            artifact.setDownloadUrl( downloadUrl );
+        }
+        else
+        {
+            artifact.setDownloadUrl( model.getUrl() );
+        }
+
