o Enabled request tracing for repository events to provide more context for event spies

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@1074195 13f79535-47bb-0310-9956-ffa450edef68

+import org.sonatype.aether.RequestTrace;
+import org.sonatype.aether.resolution.DependencyRequest;
+import org.sonatype.aether.resolution.DependencyResolutionException;
+import org.sonatype.aether.util.DefaultRequestTrace;
+        RequestTrace trace = DefaultRequestTrace.newChild( null, plugin );
+
+            request.setTrace( trace );
+            request.setTrace( trace );
+        RequestTrace trace = DefaultRequestTrace.newChild( null, plugin );
+
+            DependencyRequest depRequest = new DependencyRequest( request, resolutionFilter );
+            depRequest.setTrace( trace );
+
+            request.setTrace( DefaultRequestTrace.newChild( trace, depRequest ) );
+
-            repoSystem.resolveDependencies( session, node, resolutionFilter );
+            depRequest.setRoot( node );
+            repoSystem.resolveDependencies( session, depRequest );
-        catch ( ArtifactResolutionException e )
+        catch ( DependencyResolutionException e )
-            throw new PluginResolutionException( plugin, e );
+            throw new PluginResolutionException( plugin, e.getCause() );
