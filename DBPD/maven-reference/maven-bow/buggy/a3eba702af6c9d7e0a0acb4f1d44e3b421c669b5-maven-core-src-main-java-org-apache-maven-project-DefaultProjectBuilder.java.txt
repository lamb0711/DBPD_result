[MNG-4318] MavenProject.executionRoot is not set correctly

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@807526 13f79535-47bb-0310-9956-ffa450edef68

-        boolean errors = build( results, interimResults, pomFiles, recursive, config, reactorModelPool, modelCache );
+        boolean errors =
+            build( results, interimResults, pomFiles, true, recursive, config, reactorModelPool, modelCache );
+                    project.setExecutionRoot( interimResult.root );
-                           List<File> pomFiles, boolean recursive, ProjectBuildingRequest config,
+                           List<File> pomFiles, boolean isRoot, boolean recursive, ProjectBuildingRequest config,
-                interimResults.add( new InterimResult( pomFile, request, result, listener ) );
+                interimResults.add( new InterimResult( pomFile, request, result, listener, isRoot ) );
-                    errors =
-                        build( results, interimResults, moduleFiles, recursive, config, reactorModelPool, modelCache )
-                            || errors;
+                    if ( build( results, interimResults, moduleFiles, false, recursive, config, reactorModelPool,
+                                 modelCache ) )
+                    {
+                        errors = true;
+                    }
+        boolean root;
+
-                       DefaultModelBuildingListener listener )
+                       DefaultModelBuildingListener listener, boolean root )
+            this.root = root;
