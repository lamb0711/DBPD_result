PR: MNG-74
remove maven.properties use everywhere except classworlds conf


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163024 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.repository.ArtifactRepository;
+import org.apache.maven.model.Local;
-
+import org.apache.maven.repository.RepositoryUtils;
-    private Map properties;
+    private ArtifactRepository wagonLocalRepository;
-    public void setProperty( String key, String value )
-    {
-        getProperties().put( key, value );
-    }
-
-    public void setProperties( Map properties )
-    {
-        this.properties = properties;
-    }
-
-    public Map getProperties()
-    {
-        return properties;
-    }
-
-    public String getProperty( String key )
-    {
-        String property = (String) properties.get( key );
-
-        if ( property == null && hasParent() )
-        {
-            property = getParent().getProperty( key );
-        }
-
-        return property;
-    }
-
-    /**
-     * Convert a <code>String</code> property to a
-     * <code>Boolean</code> based on its contents.  It would be nice
-     * if Jelly would deal with this automatically.
-     *
-     * @param key The property key to lookup and convert.
-     * @return The boolean value of the property if convertiable,
-     *         otherwise <code>Boolean.FALSE</code>.
-     */
-    public boolean getBooleanProperty( String key )
-    {
-        String value = getProperty( key );
-
-        if ( "true".equalsIgnoreCase( value )
-            || "on".equalsIgnoreCase( value )
-            || "1".equals( value ) )
-        {
-            return true;
-        }
-
-        return false;
-    }
-
+
+    public ArtifactRepository getLocalRepository()
+    {
+        if ( wagonLocalRepository == null && model.getLocal() != null && model.getLocal().getRepository() != null )
+        {
+            wagonLocalRepository = RepositoryUtils.localRepositoryToWagonRepository( model.getLocal().getRepository() );
+        }
+
+        return wagonLocalRepository;
+    }
+
+    public void setLocalRepository( ArtifactRepository repository )
+    {
+        this.wagonLocalRepository = repository;
+    }
