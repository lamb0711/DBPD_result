Adding code to flush the plugin collector when reloading the plugin container, so that discovery will proceed normally in the new container instance.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@314798 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Iterator;
-
+            
+    public void flushPluginDescriptor( Plugin plugin )
+    {
+        pluginsInProcess.remove( plugin.getKey() );
+        pluginDescriptors.remove( plugin.getKey() );
+        
+        for ( Iterator it = pluginIdsByPrefix.entrySet().iterator(); it.hasNext(); )
+        {
+            Map.Entry entry = (Map.Entry) it.next();
+            
+            if ( plugin.getKey().equals( entry.getValue() ) )
+            {
+                it.remove();
+            }
+        }
+    }
+
