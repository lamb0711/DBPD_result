[MNG-4732] Version string validation


git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@965141 13f79535-47bb-0310-9956-ffa450edef68

+    private static final String ILLEGAL_VERSION_CHARS = "\\/:\"<>|?*";
+
+            validateBannedCharacters( "version", problems, errOn31, model.getVersion(), null, model,
+                                      ILLEGAL_VERSION_CHARS );
+
+    private boolean validateBannedCharacters( String fieldName, ModelProblemCollector problems, Severity severity,
+                                              String string, String sourceHint, InputLocationTracker tracker,
+                                              String banned )
+    {
+        if ( string != null )
+        {
+            for ( int i = string.length() - 1; i >= 0; i-- )
+            {
+                if ( banned.indexOf( string.charAt( i ) ) >= 0 )
+                {
+                    addViolation( problems, severity, fieldName, sourceHint,
+                                  "must not contain any of these characters " + banned + " but found "
+                                      + string.charAt( i ), tracker );
+                    return false;
+                }
+            }
+        }
+
+        return true;
+    }
+
