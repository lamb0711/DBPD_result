o project builder takes a file now and not an input stream
o separated the construction of the domain model from the maven project


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@726951 13f79535-47bb-0310-9956-ffa450edef68

-import java.io.InputStream;
-    /**
-     * @see ProjectBuilder#buildFromLocalPath(java.io.InputStream, java.util.List, java.util.Collection, java.util.Collection, org.apache.maven.project.builder.PomArtifactResolver, java.io.File, org.apache.maven.project.ProjectBuilderConfiguration)
-     */
-    public MavenProject buildFromLocalPath( File pom, List<Model> inheritedModels,
-                                            Collection<ImportModel> importModels,
-                                            Collection<InterpolatorProperty> interpolatorProperties,
-                                            PomArtifactResolver resolver, File projectDirectory,
-                                            ProjectBuilderConfiguration projectBuilderConfiguration )
-        throws IOException
+    public PomClassicDomainModel buildModel( File pom, List<Model> inheritedModels,
+                                             Collection<ImportModel> importModels,
+                                             Collection<InterpolatorProperty> interpolatorProperties,
+                                             PomArtifactResolver resolver, File projectDirectory,                                  
+                                             ProjectBuilderConfiguration projectBuilderConfiguration )
+        throws IOException    
-
+            
-
+            
-                                                                                                listeners ) );                                                                                                
+                                                                                                listeners ) );  
+        transformedDomainModel.setParentFile( parentFile );
+        
+        return transformedDomainModel;
+    }
+    
+    public MavenProject buildFromLocalPath( File pom, List<Model> inheritedModels,
+                                            Collection<ImportModel> importModels,
+                                            Collection<InterpolatorProperty> interpolatorProperties,
+                                            PomArtifactResolver resolver, File projectDirectory,
+                                            ProjectBuilderConfiguration projectBuilderConfiguration )
+        throws IOException
+    {
+        PomClassicDomainModel domainModel = buildModel( pom, 
+                                                        inheritedModels, 
+                                                        importModels, 
+                                                        interpolatorProperties, 
+                                                        resolver, 
+                                                        projectDirectory, 
+                                                        projectBuilderConfiguration );
+        
-            MavenProject mavenProject = new MavenProject( transformedDomainModel.getModel(), 
+            MavenProject mavenProject = new MavenProject( domainModel.getModel(), 
-            mavenProject.setParentFile( parentFile );
+            
+            mavenProject.setParentFile( domainModel.getParentFile() );
+            
