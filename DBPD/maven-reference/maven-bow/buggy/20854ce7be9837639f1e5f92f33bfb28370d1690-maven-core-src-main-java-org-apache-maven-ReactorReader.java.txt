Revert "[MNG-5898] Multi-module build with ear fails to resolve war in 3.3.3"

This reverts commits f3a3ef2 b9cc9c3 72e2478 all related to MNG-5898

- * An implementation of a workspace reader that knows how to search the Maven reactor for artifacts, either as packaged
- * jar if it has been built, or only compile output directory if packaging hasn't happened yet.
+ * An implementation of a workspace reader that knows how to search the Maven reactor for artifacts, either
+ * as packaged jar if it has been built, or only compile output directory if packaging hasn't happened yet.
-    private static final Collection<String> COMPILE_PHASE_TYPES = Arrays.asList( "war", "rar", "jar", "ejb-client" );
+    private static final Collection<String> COMPILE_PHASE_TYPES = Arrays.asList( "jar", "ejb-client" );
+            // and only for plain old jars. Not war files, not ear files, not anything else.
-                if ( project.hasLifecyclePhase( "compile" ) )
+                String type = artifact.getProperty( "type", "" );
+                if ( project.hasLifecyclePhase( "compile" ) && COMPILE_PHASE_TYPES.contains( type ) )
