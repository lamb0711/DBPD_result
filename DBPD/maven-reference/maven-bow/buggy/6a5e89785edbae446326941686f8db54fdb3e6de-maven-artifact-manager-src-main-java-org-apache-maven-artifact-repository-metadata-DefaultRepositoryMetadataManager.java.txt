PR: MNG-639
Separate local metadata by repository to ensure it remains consistent

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@267466 13f79535-47bb-0310-9956-ffa450edef68

-            File file = new File( localRepository.getBasedir(), localRepository.pathOfArtifactMetadata( metadata ) );
-
-            boolean checkedUpdates = false;
+                    File file = new File( localRepository.getBasedir(),
+                                          localRepository.pathOfLocalRepositoryMetadata( metadata, repository ) );
+
-                        checkedUpdates = true;
+
+
+                            // touch file so that this is not checked again until interval has passed
+                            if ( file.exists() )
+                            {
+                                file.setLastModified( System.currentTimeMillis() );
+                            }
-                                " could not be found on repository: " + repository.getId(), e );
+                                " could not be found on repository: " + repository.getId() );
+                            getLogger().debug( "Cause", e );
-            // touch the file if it was checked for updates, but don't create it if it doesn't exist to avoid
-            // storing SNAPSHOT as the actual version which doesn't exist remotely.
-            if ( checkedUpdates )
-            {
-                if ( file.exists() )
-                {
-                    file.setLastModified( System.currentTimeMillis() );
-                }
-            }
-
