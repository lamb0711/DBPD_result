o using the repository system and repositories to mediate proxy use. proxies restored.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@796903 13f79535-47bb-0310-9956-ffa450edef68

+    private Map<String, Authentication> authentications = new HashMap<String, Authentication>();
+
+    private Map<String, Proxy> proxies = new HashMap<String,Proxy>();
+    
-    private Map<String, Authentication> authentications = new HashMap<String, Authentication>();
-
+        Proxy proxy = proxies.get(  artifactRepository.getProtocol() );
+        
+        if ( proxy != null )
+        {
+            artifactRepository.setProxy( proxy );
+        }
+        
+    }
+
+    public void addProxy( String protocol, String host, int port, String username, String password, String nonProxyHosts )
+    {
+        Proxy proxy = new Proxy();
+        proxy.setHost( host );
+        proxy.setProtocol( protocol );
+        proxy.setPort( port );
+        proxy.setNonProxyHosts( nonProxyHosts );
+        proxy.setUserName( username );
+        proxy.setPassword( password );
+        proxies.put( protocol, proxy );        
