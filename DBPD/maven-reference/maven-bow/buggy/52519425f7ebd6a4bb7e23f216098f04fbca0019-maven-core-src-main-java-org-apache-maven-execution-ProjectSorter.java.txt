o Restored reactor failure behaviors

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@792111 13f79535-47bb-0310-9956-ffa450edef68

-            String id = ArtifactUtils.versionlessKey( project.getGroupId(), project.getArtifactId() );
+            String id = getId( project );
-                MavenProject conflictingProject = (MavenProject) projectMap.get( id );
+                MavenProject conflictingProject = projectMap.get( id );
-            String id = ArtifactUtils.versionlessKey( project.getGroupId(), project.getArtifactId() );
+            String id = getId( project );
-                    project.addProjectReference( (MavenProject) projectMap.get( dependencyId ) );
+                    project.addProjectReference( projectMap.get( dependencyId ) );
-        MavenProject extProject = (MavenProject) projectMap.get( projectRefId );
+        MavenProject extProject = projectMap.get( projectRefId );
-            for ( Iterator i = sortedProjects.iterator(); i.hasNext() && ( topLevelProject == null ); )
+            for ( Iterator<MavenProject> i = sortedProjects.iterator(); i.hasNext() && ( topLevelProject == null ); )
-                MavenProject project = (MavenProject) i.next();
+                MavenProject project = i.next();
-    List<String> getDependents( String id )
+    public List<String> getDependents( String id )
-}
+
+    public static String getId( MavenProject project )
+    {
+        return ArtifactUtils.versionlessKey( project.getGroupId(), project.getArtifactId() );
+    }
+
+}
