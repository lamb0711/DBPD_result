o Re-added support for offline mode

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@803093 13f79535-47bb-0310-9956-ffa450edef68

-            if ( force || !destination.exists() || ( artifact.isSnapshot() && !localCopy ) )
+            if ( ( force || !destination.exists() || ( artifact.isSnapshot() && !localCopy ) ) && !request.isOffline() )
-
-                    if ( !artifact.isResolved() && !destination.exists() )
-                    {
-                        throw new ArtifactResolutionException( "Failed to resolve artifact, possibly due to a repository list that is not appropriately equipped for this artifact's metadata.",
-                                                               artifact, remoteRepositories );
-                    }
+            else
+            {
+                if ( request.isOffline() )
+                {
+                    throw new ArtifactResolutionException( "The repository system is offline"
+                        + " and the requested artifact is not locally available", artifact, remoteRepositories );
+                }
+                else
+                {
+                    throw new ArtifactResolutionException( "Failed to resolve artifact, possibly due to a "
+                        + "repository list that is not appropriately equipped for this artifact's metadata.", artifact,
+                                                           remoteRepositories );
+                }
+            }
