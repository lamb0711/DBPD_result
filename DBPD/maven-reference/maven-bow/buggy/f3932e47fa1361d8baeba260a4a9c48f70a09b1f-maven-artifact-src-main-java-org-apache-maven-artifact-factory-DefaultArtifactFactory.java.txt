PR: MNG-947
add optional attribute to a dependency

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@291507 13f79535-47bb-0310-9956-ffa450edef68

-        return createArtifact( groupId, artifactId, versionRange, null, type, classifier, null );
+        return createArtifact( groupId, artifactId, versionRange, type, classifier, null, null );
-        return createArtifact( groupId, artifactId, versionRange, scope, type, classifier, inheritedScope );
+        return createArtifact( groupId, artifactId, versionRange, type, classifier, scope, inheritedScope );
+    }
+
+    public Artifact createDependencyArtifact( String groupId, String artifactId, VersionRange versionRange, String type,
+                                              String classifier, String scope, String inheritedScope, boolean optional )
+    {
+        return createArtifact( groupId, artifactId, versionRange, type, classifier, scope, inheritedScope, optional );
-        return createArtifact( groupId, artifactId, versionRange, Artifact.SCOPE_RUNTIME, "maven-plugin", null, null );
+        return createArtifact( groupId, artifactId, versionRange, "maven-plugin", null, Artifact.SCOPE_RUNTIME, null );
-        return createArtifact( groupId, artifactId, versionRange, Artifact.SCOPE_RUNTIME, "jar", null, null );
+        return createArtifact( groupId, artifactId, versionRange, "jar", null, Artifact.SCOPE_RUNTIME, null );
-        return createArtifact( groupId, artifactId, versionRange, scope, type, classifier, inheritedScope );
+        return createArtifact( groupId, artifactId, versionRange, type, classifier, scope, inheritedScope );
-    private Artifact createArtifact( String groupId, String artifactId, VersionRange versionRange, String scope,
-                                     String type, String classifier, String inheritedScope )
+    private Artifact createArtifact( String groupId, String artifactId, VersionRange versionRange, String type,
+                                     String classifier, String scope, String inheritedScope )
+    {
+        return createArtifact( groupId, artifactId, versionRange, type, classifier, scope, inheritedScope, false );
+    }
+
+    private Artifact createArtifact( String groupId, String artifactId, VersionRange versionRange, String type,
+                                     String classifier, String scope, String inheritedScope, boolean optional )
-        return new DefaultArtifact( groupId, artifactId, versionRange, desiredScope, type, classifier, handler );
+        return new DefaultArtifact( groupId, artifactId, versionRange, desiredScope, type, classifier, handler,
+                                    optional );
