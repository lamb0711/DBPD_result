ensure failed artifact path is passed through to all resolution exceptions

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@191953 13f79535-47bb-0310-9956-ffa450edef68

-                set.add( node.getArtifact() );
+                Artifact artifact = node.getArtifact();
+
+                artifact.setDependencyTrail( node.getDependencyTrail() );
+
+                set.add( artifact );
-        throws ArtifactResolutionException
+        throws CyclicDependencyException, TransitiveArtifactResolutionException
+                    child.getArtifact().setDependencyTrail( node.getDependencyTrail() );
-
-        private final ResolutionNode parent;
-
-            this.parent = null;
-            this.parent = parent;
-                        List path = new ArrayList( parents );
-                        path.add( getKey() );
-                        throw new CyclicDependencyException( "The dependency is present in a cycle", a, path );
+                        a.setDependencyTrail( getDependencyTrail() );
+
+                        throw new CyclicDependencyException( "The dependency is present in a cycle", a );
+        public List getDependencyTrail()
+        {
+            List path = new ArrayList( parents );
+            path.add( getKey() );
+            return path;
+        }
+
