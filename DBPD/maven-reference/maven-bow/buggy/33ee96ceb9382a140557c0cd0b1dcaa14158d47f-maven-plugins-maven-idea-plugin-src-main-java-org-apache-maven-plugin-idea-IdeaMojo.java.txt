o http://jira.codehaus.org/browse/MNG-420



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@226683 13f79535-47bb-0310-9956-ffa450edef68

- * @executePhase generate-sources
+ * @execute phase="generate-sources"
+    /**
+     * Specify the name of the registered IDEA JDK to use
+     * for the project.
+     *
+     * @parameter
+     */
+    private String jdkName;
+
+            // Set the jdk name if set
+            if ( jdkName != null )
+            {
+                setJdkName( module );
+            }
+            else
+            {
+                getLog().warn( "jdkName is not set, you will have to set the JDK to use in IDEA." );
+            }
+
+    private void setJdkName( Xpp3Dom content )
+    {
+        Xpp3Dom component = findComponent( content, "ProjectRootManager" );
+        component.setAttribute( "project-jdk-name", jdkName );
+    }
+
