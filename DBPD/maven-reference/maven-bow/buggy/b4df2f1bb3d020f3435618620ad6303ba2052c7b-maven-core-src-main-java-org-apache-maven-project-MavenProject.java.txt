o Fixed injection of repos from settings.xml

git-svn-id: https://svn.apache.org/repos/asf/maven/components/branches/MNG-2766@775626 13f79535-47bb-0310-9956-ffa450edef68

-        setRemoteArtifactRepositories( (projectBuilderConfiguration.getRemoteRepositories() != null) ? new ArrayList<ArtifactRepository>(projectBuilderConfiguration.getRemoteRepositories()) : new ArrayList<ArtifactRepository>());
- 
-        for(Repository r: model.getPluginRepositories())
-		{
-			try {
-				remoteArtifactRepositories.add(repositorySystem.buildArtifactRepository( r ));
-			} catch (InvalidRepositoryException e) {
+        remoteArtifactRepositories = new ArrayList<ArtifactRepository>();
-			}
-		}   
-        for(Repository r: model.getPluginRepositories())
-		{
-			try {
-				remoteArtifactRepositories.add(repositorySystem.buildArtifactRepository( r ));
-			} catch (InvalidRepositoryException e) {
+        for ( Repository r : model.getRepositories() )
+        {
+            try
+            {
+                remoteArtifactRepositories.add( repositorySystem.buildArtifactRepository( r ) );
+            }
+            catch ( InvalidRepositoryException e )
+            {
-			}
-		}        
+            }
+        }
+        for ( Repository r : model.getPluginRepositories() )
+        {
+            try
+            {
+                remoteArtifactRepositories.add( repositorySystem.buildArtifactRepository( r ) );
+            }
+            catch ( InvalidRepositoryException e )
+            {
+
+            }
+        }
+
+        if ( projectBuilderConfiguration.getRemoteRepositories() != null )
+        {
+            remoteArtifactRepositories.addAll( projectBuilderConfiguration.getRemoteRepositories() );
+        }
