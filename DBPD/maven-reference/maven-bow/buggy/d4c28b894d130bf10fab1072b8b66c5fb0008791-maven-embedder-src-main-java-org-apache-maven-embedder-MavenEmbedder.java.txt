MNG-2847 close up the reader properly when reading model.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@511342 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.Reader;
-    public Model readModel( File model )
+    public Model readModel( File file )
-        return modelReader.read( new FileReader( model ) );
+        Reader reader = new FileReader( file );
+
+        Model model;
+
+        try
+        {
+            model = modelReader.read( reader );
+        }
+        finally
+        {
+            reader.close();
+        }
+
+        return model;
-    
+
-    
+
-    
+
-    public static Settings readSettings( File settingsFile, MavenEmbedderLogger logger )
+    public static Settings readSettings( File settingsFile,
+                                         MavenEmbedderLogger logger )
-            
+
-                MavenEmbedderLoggerManager loggerManager = new MavenEmbedderLoggerManager(
-                                                                                           new PlexusLoggerAdapter(
-                                                                                                                    logger ) );
+                MavenEmbedderLoggerManager loggerManager =
+                    new MavenEmbedderLoggerManager( new PlexusLoggerAdapter( logger ) );
-            
+
-    public static void writeSettings( File settingsFile, Settings settings )
+    public static void writeSettings( File settingsFile,
+                                      Settings settings )
-    
-    public static void writeSettings( File settingsFile, Settings settings, MavenEmbedderLogger logger )
+
+    public static void writeSettings( File settingsFile,
+                                      Settings settings,
+                                      MavenEmbedderLogger logger )
-            
+
-                MavenEmbedderLoggerManager loggerManager = new MavenEmbedderLoggerManager( new PlexusLoggerAdapter( logger ) );
+                MavenEmbedderLoggerManager loggerManager =
+                    new MavenEmbedderLoggerManager( new PlexusLoggerAdapter( logger ) );
-            IOUtil.close(  writer );
-            
+            IOUtil.close( writer );
+
-    
+
-            
+
-            
+
-            
+
