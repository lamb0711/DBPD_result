o Refactored model validator to use problem collector

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@800451 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.building.ModelProblemCollector;
-    
+
-        for ( String message : modelValidator.validateEffectiveModel( model, request ).getErrors() )
+        SimpleModelProblemCollector problems = new SimpleModelProblemCollector( result );
+
+        modelValidator.validateEffectiveModel( model, request, problems );
+
+        return result;
+    }
+
+    private static class SimpleModelProblemCollector
+        implements ModelProblemCollector
+    {
+
+        ModelValidationResult result;
+
+        public SimpleModelProblemCollector( ModelValidationResult result )
+        {
+            this.result = result;
+        }
+
+        public void addError( String message )
-        return result;
+        public void addError( String message, Exception cause )
+        {
+            result.addMessage( message );
+        }
+
+        public void addWarning( String message )
+        {
+            // not supported
+        }
+
+        public void addWarning( String message, Exception cause )
+        {
+            // not supported
+        }
+
