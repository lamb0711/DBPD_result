aggregator must resolve deps

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@279053 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Collection;
+            Collection projects;
-            resolveTransitiveDependencies( session, artifactResolver, mojoDescriptor
-                .isDependencyResolutionRequired(), artifactFactory, project );
+            if ( mojoDescriptor.isAggregator() )
+            {
+                projects = session.getSortedProjects();
+            }
+            else
+            {
+                projects = Collections.singleton( project );
+            }
+
+            for ( Iterator i = projects.iterator(); i.hasNext(); )
+            {
+                MavenProject p = (MavenProject) i.next();
+                resolveTransitiveDependencies( session, artifactResolver,
+                                               mojoDescriptor.isDependencyResolutionRequired(), artifactFactory, p );
+            }
