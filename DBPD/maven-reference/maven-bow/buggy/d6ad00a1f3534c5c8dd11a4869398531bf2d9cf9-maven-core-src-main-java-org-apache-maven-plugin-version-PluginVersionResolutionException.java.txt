o Improved some exception messages

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@825852 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.versioning.InvalidVersionSpecificationException;
-import org.apache.maven.repository.legacy.metadata.ArtifactMetadataRetrievalException;
+import java.util.List;
+
+import org.apache.maven.artifact.repository.ArtifactRepository;
-        super( "Error resolving version for \'" + groupId + ":" + artifactId + "\': " + baseMessage, cause );
-
-        this.groupId = groupId;
-        this.artifactId = artifactId;
-        this.baseMessage = baseMessage;
-    }
-
-    public PluginVersionResolutionException( String groupId, String artifactId, String baseMessage, ArtifactMetadataRetrievalException cause )
-    {
-        super( "Error resolving version for \'" + groupId + ":" + artifactId + "\': " + baseMessage, cause );
-
-        this.groupId = groupId;
-        this.artifactId = artifactId;
-        this.baseMessage = baseMessage;
-    }
-
-    public PluginVersionResolutionException( String groupId, String artifactId, String baseMessage, InvalidVersionSpecificationException cause )
-    {
-        super( "Error resolving version for \'" + groupId + ":" + artifactId + "\': " + baseMessage, cause );
+        super( "Error resolving version for plugin \'" + groupId + ":" + artifactId + "\': " + baseMessage, cause );
-        super( "Error resolving version for \'" + groupId + ":" + artifactId + "\': " + baseMessage );
+        super( "Error resolving version for plugin \'" + groupId + ":" + artifactId + "\': " + baseMessage );
+
+        this.groupId = groupId;
+        this.artifactId = artifactId;
+        this.baseMessage = baseMessage;
+    }
+
+    public PluginVersionResolutionException( String groupId, String artifactId, ArtifactRepository localRepository,
+                                             List<ArtifactRepository> remoteRepositories, String baseMessage )
+    {
+        super( "Error resolving version for plugin \'" + groupId + ":" + artifactId + "\' from the repositories "
+            + format( localRepository, remoteRepositories ) + ": " + baseMessage );
+    private static String format( ArtifactRepository localRepository, List<ArtifactRepository> remoteRepositories )
+    {
+        String repos = "[";
+
+        if ( localRepository != null )
+        {
+            repos += localRepository.getId() + " (" + localRepository.getBasedir() + ")";
+        }
+
+        if ( remoteRepositories != null && !remoteRepositories.isEmpty() )
+        {
+            repos += ", ";
+
+            for ( ArtifactRepository repository : remoteRepositories )
+            {
+                if ( repository != null )
+                {
+                    repos += repository.getId() + " (" + repository.getUrl() + ")";
+                }
+            }
+        }
+
+        repos += "]";
+
+        return repos;
+    }
+
