o Delayed injection of plugin default configuration until the project is actually executed to allow for plugin resolution from the reactor

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@803243 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.project.ProjectBuildingRequest;
-     
-        result.addException( e );
+
+        if ( !result.getExceptions().contains( e ) )
+        {
+            result.addException( e );
+        }
-        List<ProjectBuildingResult> results =
-            projectBuilder.build( files, request.isRecursive(), request.getProjectBuildingRequest() );
+        ProjectBuildingRequest projectBuildingRequest = request.getProjectBuildingRequest();
+
+        /*
+         * NOTE: We delay plugin configuration processing until a project is actually build to allow plugins to be
+         * resolved from the reactor.
+         */
+        projectBuildingRequest.setProcessPluginConfiguration( false );
+
+        List<ProjectBuildingResult> results = projectBuilder.build( files, request.isRecursive(), projectBuildingRequest );
