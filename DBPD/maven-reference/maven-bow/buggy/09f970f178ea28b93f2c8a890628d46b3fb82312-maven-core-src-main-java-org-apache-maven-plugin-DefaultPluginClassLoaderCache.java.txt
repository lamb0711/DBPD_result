MNG-4041: maven core returns stale project state during extended use. this is a patch which provides intelligent caching and yields a very substantial performance improvement.
Submitted by: Igor Fedorenko



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@782014 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.maven.plugin;
-
-import java.util.HashMap;
-import java.util.Map;
-
-import org.codehaus.plexus.classworlds.realm.ClassRealm;
-import org.codehaus.plexus.component.annotations.Component;
-
-@Component(role=PluginClassLoaderCache.class)
-public class DefaultPluginClassLoaderCache
-    implements PluginClassLoaderCache
-{
-    private Map<String,ClassRealm> pluginClassLoaders = new HashMap<String,ClassRealm>();
-    
-    public void put( String key, ClassRealm pluginClassLoader )
-    {
-        pluginClassLoaders.put(  key, pluginClassLoader );
-    }
-
-    public ClassRealm get( String key )
-    {
-        return pluginClassLoaders.get( key );
-    }
-
-    public int size()
-    {
-        return pluginClassLoaders.size();
-    }
-}
