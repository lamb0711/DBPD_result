Report generate directly xhtml file

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@169076 13f79535-47bb-0310-9956-ffa450edef68

+/**
+ * The basis for a Maven report.
+ *
+ * @author <a href="evenisse@apache.org">Emmanuel Venisse</a>
+ * @version $Id: MavenReport.java 163376 2005-02-23 00:06:06Z brett $
+ */
+    private Sink sink;
+
-    public void generate()
+    public void generate( Sink sink )
+        if ( sink == null )
+        {
+            throw new MavenReportException( "You must specify a sink configuration." );
+        }
+        else
+        {
+            this.sink = sink;
+        }
+
-        return getSink( getOutputName() );
-    }
-
-    public Sink getSink( String outputName )
-        throws IOException
-    {
-        File outputDir = new File( config.getOutputDirectory(), "xdoc/" );
-
-        outputDir.mkdirs();
-
-        File outputFile = new File( outputDir, outputName + ".xml" );
-
-        FileWriter writer = new FileWriter( outputFile );
-
-        return new XdocSink( writer );
+        return sink;
