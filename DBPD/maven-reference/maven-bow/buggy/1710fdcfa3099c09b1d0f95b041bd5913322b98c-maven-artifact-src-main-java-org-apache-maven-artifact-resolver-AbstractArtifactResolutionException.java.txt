[MNG-2083] Added new exception, MultipleArtifactsNotFoundException, to account for cases where multiple artifacts are missing during transitive resolution. This will handle formatting, including downloadUrl and install instructions, for each missing artifact.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@379369 13f79535-47bb-0310-9956-ffa450edef68

-        this.path = constructArtifactPath( path );
+        this.path = constructArtifactPath( path, "" );
-        this.path = constructArtifactPath( path );
+        this.path = constructArtifactPath( path, "" );
-    protected static String constructArtifactPath( List path )
+    protected static String constructArtifactPath( List path, String indentation )
+            sb.append( indentation );
+                sb.append( indentation );
-        sb.append( constructArtifactPath( path ) );
+        sb.append( constructArtifactPath( path, "" ) );
+    protected static String constructMissingArtifactMessage( String message, String indentation, String groupId, String artifactId, String version,
+                                              String type, String downloadUrl, List path )
+    {
+        StringBuffer sb = new StringBuffer( message );
+
+        if ( downloadUrl != null && !"pom".equals( type ) )
+        {
+            sb.append( LS );
+            sb.append( LS );
+            sb.append( indentation );
+            sb.append( "Try downloading the file manually from" );
+            sb.append( LS );
+            sb.append( indentation );
+            sb.append( "    " );
+            sb.append( downloadUrl );
+            sb.append( LS );
+            sb.append( LS );
+            sb.append( indentation );
+            sb.append( "Then, install it using the command: " );
+            sb.append( LS );
+            sb.append( indentation );
+            sb.append( "    mvn install:install-file -DgroupId=" );
+            sb.append( groupId );
+            sb.append( " -DartifactId=" );
+            sb.append( artifactId );
+            sb.append( " \\\n");
+            sb.append( indentation );
+            sb.append( "        " );
+            sb.append( "-Dversion=" );
+            sb.append( version );
+            sb.append( " -Dpackaging=" );
+            sb.append( type );
+            sb.append( " -Dfile=/path/to/file" );
+            sb.append( LS );
+        }
+
+        sb.append( constructArtifactPath( path, indentation ) );
+        sb.append( LS );
+
+        return sb.toString();
+    }
+    
