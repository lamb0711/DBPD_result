[MNG-4452] Metadata for snapshots should include classifier

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@995057 13f79535-47bb-0310-9956-ffa450edef68

-        return versions.get( artifact.getClassifier() ).getVersion();
+        String key = getKey( artifact.getClassifier(), artifact.getExtension() );
+        return versions.get( key ).getVersion();
+            sv.setExtension( artifact.getExtension() );
-            versions.put( sv.getClassifier(), sv );
+            versions.put( getKey( sv.getClassifier(), sv.getExtension() ), sv );
-                if ( !versions.containsKey( sv.getClassifier() ) )
+                String key = getKey( sv.getClassifier(), sv.getExtension() );
+                if ( !versions.containsKey( key ) )
-                    versions.put( sv.getClassifier(), sv );
+                    versions.put( key, sv );
+    private String getKey( String classifier, String extension )
+    {
+        return classifier + ':' + extension;
+    }
+
