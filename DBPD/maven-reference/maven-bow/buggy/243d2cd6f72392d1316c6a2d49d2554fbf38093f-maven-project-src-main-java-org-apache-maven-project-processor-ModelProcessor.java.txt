Partially working plugin processor.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@751938 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.ArrayList;
+import java.util.List;
+import org.apache.maven.model.Build;
+import org.apache.maven.model.Dependency;
+import org.apache.maven.model.DependencyManagement;
+        List<Dependency> deps = new ArrayList<Dependency>();
-        dependenciesProcessor.process( (p != null) ? p.getDependencies() : null, c.getDependencies(), t, isChildMostSpecialized );
+        dependenciesProcessor.process( (p != null) ? p.getDependencies() : null, c.getDependencies(), deps, isChildMostSpecialized );
+             
+        if(deps.size() > 0)
+        {
+            t.getDependencies().addAll( deps );
+        }  
+        List<Dependency> mngDeps = new ArrayList<Dependency>();
-                        (c.getDependencyManagement() != null) ? c.getDependencyManagement().getDependencies(): null, t, isChildMostSpecialized );
-        
+                        (c.getDependencyManagement() != null) ? c.getDependencyManagement().getDependencies(): null, mngDeps, isChildMostSpecialized );
+        if(mngDeps.size() > 0)
+        {
+            if(t.getDependencyManagement() == null)
+            {
+                t.setDependencyManagement( new DependencyManagement() );    
+            }
+            t.getDependencyManagement().getDependencies().addAll( mngDeps );
+        }
