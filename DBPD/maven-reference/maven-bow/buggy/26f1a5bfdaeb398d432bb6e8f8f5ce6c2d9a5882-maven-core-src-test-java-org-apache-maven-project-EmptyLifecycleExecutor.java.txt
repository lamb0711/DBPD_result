[MNG-4332] [regression] Default plugin executions contributed by packaging execute after executions from plugin management

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@809751 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.PluginExecution;
-            plugins.add( newPlugin( "maven-compiler-plugin" ) );
-            plugins.add( newPlugin( "maven-resources-plugin" ) );
-            plugins.add( newPlugin( "maven-surefire-plugin" ) );
-            plugins.add( newPlugin( "maven-jar-plugin" ) );
-            plugins.add( newPlugin( "maven-install-plugin" ) );
-            plugins.add( newPlugin( "maven-deploy-plugin" ) );
+            plugins.add( newPlugin( "maven-compiler-plugin", "compile", "testCompile" ) );
+            plugins.add( newPlugin( "maven-resources-plugin", "resources", "testResources" ) );
+            plugins.add( newPlugin( "maven-surefire-plugin", "test" ) );
+            plugins.add( newPlugin( "maven-jar-plugin", "jar" ) );
+            plugins.add( newPlugin( "maven-install-plugin", "install" ) );
+            plugins.add( newPlugin( "maven-deploy-plugin", "deploy" ) );
-    private Plugin newPlugin( String artifactId )
+    private Plugin newPlugin( String artifactId, String... goals )
+        for ( String goal : goals )
+        {
+            PluginExecution pluginExecution = new PluginExecution();
+            pluginExecution.setId( "default-" + goal );
+            pluginExecution.addGoal( goal );
+            plugin.addExecution( pluginExecution );
+        }
+
