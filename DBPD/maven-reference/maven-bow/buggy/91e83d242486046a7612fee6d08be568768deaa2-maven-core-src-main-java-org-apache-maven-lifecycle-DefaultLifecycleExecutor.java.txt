o Refactored execution event firing

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@933000 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.execution.DefaultLifecycleEvent;
-import org.apache.maven.execution.ExecutionListener;
+import org.apache.maven.lifecycle.internal.ExecutionEventCatapult;
-import org.apache.maven.plugin.MojoExecution;
+
+    @Requirement
+    private ExecutionEventCatapult eventCatapult;
+
-        fireEvent( session, null, LifecycleEventCatapult.SESSION_STARTED );
+        eventCatapult.fire( ExecutionEvent.Type.SessionStarted, session, null );
-        fireEvent( session, null, LifecycleEventCatapult.SESSION_ENDED );
-
+        eventCatapult.fire( ExecutionEvent.Type.SessionEnded, session, null );
-    public static void fireEvent( MavenSession session, MojoExecution mojoExecution, LifecycleEventCatapult catapult )
-    {
-        ExecutionListener listener = session.getRequest().getExecutionListener();
-        if ( listener != null )
-        {
-            ExecutionEvent event = new DefaultLifecycleEvent( session, mojoExecution );
-
-            catapult.fire( listener, event );
-        }
-    }
-
-
