MNG-4216: Remove all direct usage of DefaultArtifactRepository


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@786995 13f79535-47bb-0310-9956-ffa450edef68

-import java.io.File;
-import java.net.MalformedURLException;
-import org.apache.maven.artifact.InvalidRepositoryException;
-        return new DefaultArtifactRepository( id, url, repositoryLayout, uniqueVersion );
+        return createArtifactRepository( id, url, repositoryLayout, null, null );
-        DefaultArtifactRepository repository = new DefaultArtifactRepository( id, url, repositoryLayout, snapshots, releases );
+        ArtifactRepository repository = new MavenArtifactRepository( id, url, repositoryLayout, snapshots, releases );
-
-    public ArtifactRepository createLocalRepository( File localRepositoryDirectory )
-        throws InvalidRepositoryException
-    {
-        ArtifactRepositoryLayout layout = getLayout( DEFAULT_LAYOUT_ID );
-        DefaultArtifactRepository repo;
-        try
-        {
-            repo = new DefaultArtifactRepository( LOCAL_REPOSITORY_ID,
-                localRepositoryDirectory.toURI()
-                    .toURL()
-                    .toExternalForm(),
-                layout, new ArtifactRepositoryPolicy(),
-                new ArtifactRepositoryPolicy() );
-        }
-        catch ( MalformedURLException e )
-        {
-            throw new InvalidRepositoryException( "Invalid local repository directory: "
-                + localRepositoryDirectory
-                + ". Cannot render URL.", LOCAL_REPOSITORY_ID, e );
-        }
-
-        repo.setBasedir( localRepositoryDirectory.getAbsolutePath() );
-
-        return repo;
-    }
-}
+ }
