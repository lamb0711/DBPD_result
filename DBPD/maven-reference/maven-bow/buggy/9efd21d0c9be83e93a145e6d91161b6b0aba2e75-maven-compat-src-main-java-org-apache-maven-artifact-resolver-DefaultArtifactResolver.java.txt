o restoring several backward compat fixes all the way back to 2.0 ...


git-svn-id: https://svn.apache.org/repos/asf/maven/components/branches/MNG-2766@776895 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.PlexusContainer;
+import org.codehaus.plexus.component.repository.exception.ComponentLookupException;
+    @Requirement
+    private PlexusContainer container;
+    
+        //TODO: hack because metadata isn't generated in m2e correctly and i want to run the maven i have in the workspace
+        if ( source == null )
+        {
+            try
+            {
+                source = container.lookup( ArtifactMetadataSource.class );
+            }
+            catch ( ComponentLookupException e )
+            {
+                e.printStackTrace();
+                // won't happen
+            }
+        }
+        
