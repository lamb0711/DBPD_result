PR: MNG-1110
differentiate between an artifact that is not found, and failure to obtain an artifact

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@307034 13f79535-47bb-0310-9956-ffa450edef68

-        try
+        root.addDependencies( artifacts, remoteRepositories, filter );
+
+        recurse( root, resolvedArtifacts, managedVersions, localRepository, remoteRepositories, source, filter,
+                 listeners );
+
+        Set set = new HashSet();
+
+        for ( Iterator i = resolvedArtifacts.values().iterator(); i.hasNext(); )
-            root.addDependencies( artifacts, remoteRepositories, filter );
-
-            recurse( root, resolvedArtifacts, managedVersions, localRepository, remoteRepositories, source, filter,
-                     listeners );
-
-            Set set = new HashSet();
-
-            for ( Iterator i = resolvedArtifacts.values().iterator(); i.hasNext(); )
+            List nodes = (List) i.next();
+            for ( Iterator j = nodes.iterator(); j.hasNext(); )
-                List nodes = (List) i.next();
-                for ( Iterator j = nodes.iterator(); j.hasNext(); )
+                ResolutionNode node = (ResolutionNode) j.next();
+                if ( !node.equals( root ) && node.isActive() )
-                    ResolutionNode node = (ResolutionNode) j.next();
-                    if ( !node.equals( root ) && node.isActive() )
+                    Artifact artifact = node.getArtifact();
+
+                    // If it was optional, we don't add it or its children, just allow the update of the version and scope
+                    if ( !node.getArtifact().isOptional() )
-                        Artifact artifact = node.getArtifact();
+                        artifact.setDependencyTrail( node.getDependencyTrail() );
-                        // If it was optional, we don't add it or its children, just allow the update of the version and scope
-                        if ( !node.getArtifact().isOptional() )
-                        {
-                            artifact.setDependencyTrail( node.getDependencyTrail() );
-
-                            set.add( node );
-                        }
+                        set.add( node );
+        }
-            ArtifactResolutionResult result = new ArtifactResolutionResult();
-            result.setArtifactResolutionNodes( set );
-            return result;
-        }
-        catch ( OverConstrainedVersionException e )
-        {
-            throw new ArtifactResolutionException( "Unable to mediate dependency", e );
-        }
+        ArtifactResolutionResult result = new ArtifactResolutionResult();
+        result.setArtifactResolutionNodes( set );
+        return result;
-                            VersionRange versionRange = artifact.getVersionRange();
-
-                            if ( !versionRange.isSelectedVersionKnown() )
+                            if ( !artifact.isSelectedVersionKnown() )
+                                VersionRange versionRange = artifact.getVersionRange();
-                                                versionRange );
+                                                versionRange, artifact, remoteRepositories );
-                                            versions + " to match range " + versionRange );
+                                            versions + " to match range " + versionRange, artifact,
+                                                                                          remoteRepositories );
-                                version = versionRange.getSelectedVersion();
+                                version = artifact.getSelectedVersion();
