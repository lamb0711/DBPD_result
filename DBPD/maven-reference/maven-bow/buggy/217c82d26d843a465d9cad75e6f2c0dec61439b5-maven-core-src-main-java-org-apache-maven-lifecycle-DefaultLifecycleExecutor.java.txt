o Re-added support for offline mode

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@803093 13f79535-47bb-0310-9956-ffa450edef68

-        RepositoryRequest repositoryRequest = new DefaultRepositoryRequest();
-        repositoryRequest.setLocalRepository( session.getLocalRepository() );
-        repositoryRequest.setCache( session.getRepositoryCache() );
+        RepositoryRequest repositoryRequest = getRepositoryRequest( session, null );
-        request.setRemoteRepositories( project.getPluginArtifactRepositories() );
+        if ( project != null )
+        {
+            request.setRemoteRepositories( project.getPluginArtifactRepositories() );
+        }
+        request.setOffline( session.isOffline() );
