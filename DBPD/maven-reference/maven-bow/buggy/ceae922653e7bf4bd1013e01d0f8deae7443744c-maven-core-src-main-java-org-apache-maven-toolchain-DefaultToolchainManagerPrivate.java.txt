[MNG-3891] Modify maven-toolchain to look in ${maven.home}/conf/toolchains.xml and in ${user.home}/.m2/toolchains.xml
Also added new cmdline option: -gt / --global-toolchains

+import java.io.File;
+import org.apache.maven.building.FileSource;
+import org.apache.maven.toolchain.building.DefaultToolchainsBuildingRequest;
+import org.apache.maven.toolchain.building.ToolchainsBuildingException;
+import org.apache.maven.toolchain.building.ToolchainsBuildingResult;
+ * @author Robert Scholte
-    private ToolchainsBuilder toolchainsBuilder;
+    private org.apache.maven.toolchain.building.ToolchainsBuilder toolchainsBuilder;
-        PersistedToolchains pers = toolchainsBuilder.build( context.getRequest().getUserToolchainsFile() );
+        DefaultToolchainsBuildingRequest buildRequest = new DefaultToolchainsBuildingRequest();
+        
+        File globalToolchainsFile = context.getRequest().getGlobalToolchainsFile();
+        if ( globalToolchainsFile != null && globalToolchainsFile.isFile() )
+        {
+            buildRequest.setGlobalToolchainsSource( new FileSource( globalToolchainsFile ) );
+        }
+
+        File userToolchainsFile = context.getRequest().getUserToolchainsFile();
+        if ( userToolchainsFile != null && userToolchainsFile.isFile() )
+        {
+            buildRequest.setUserToolchainsSource( new FileSource( userToolchainsFile ) );
+        }
+        
+        ToolchainsBuildingResult buildResult;
+        try
+        {
+            buildResult = toolchainsBuilder.build( buildRequest );
+        }
+        catch ( ToolchainsBuildingException e )
+        {
+            throw new MisconfiguredToolchainException( e.getMessage(), e );
+        }
+        
+        PersistedToolchains pers = buildResult.getEffectiveToolchains();
