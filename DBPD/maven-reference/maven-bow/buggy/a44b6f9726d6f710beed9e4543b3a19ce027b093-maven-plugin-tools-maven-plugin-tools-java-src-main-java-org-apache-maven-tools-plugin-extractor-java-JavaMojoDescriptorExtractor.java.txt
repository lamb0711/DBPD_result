flip pom format


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163511 13f79535-47bb-0310-9956-ffa450edef68

-
-import org.apache.maven.model.Build;
+import java.util.Iterator;
- *       get validation directives to help users in IDEs.
+ * get validation directives to help users in IDEs.
-    protected void validateParameter( Parameter parameter, int i ) throws InvalidParameterException
+    protected void validateParameter( Parameter parameter, int i )
+        throws InvalidParameterException
-    public Set execute( MavenProject project ) throws Exception
+    public Set execute( MavenProject project )
+        throws Exception
-        String sourceDir = null;
+        System.out.println( "Source directory for java mojo extraction: " + project.getCompileSourceRoots() );
-        Build buildSection = project.getBuild();
-        if ( buildSection != null )
+        for ( Iterator i = project.getCompileSourceRoots().iterator(); i.hasNext(); )
-            sourceDir = buildSection.getSourceDirectory();
+            builder.addSourceTree( new File( (String) i.next() ) );
-        if ( sourceDir == null )
-        {
-            File src = new File( basedir, "src/main/java" );
-            sourceDir = src.getPath();
-        }
-
-        System.out.println( "Source directory for java mojo extraction: " + sourceDir );
-
-        File sourceDirectoryFile = new File( sourceDir );
-
-        builder.addSourceTree( sourceDirectoryFile );
-
