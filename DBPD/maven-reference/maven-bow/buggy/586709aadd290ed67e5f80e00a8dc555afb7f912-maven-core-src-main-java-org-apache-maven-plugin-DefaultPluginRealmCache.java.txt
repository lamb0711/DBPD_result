[MNG-4973] [regression] Build extensions are invisible to plugins in multi module build

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@1059266 13f79535-47bb-0310-9956-ffa450edef68

-        private final List<String> parentImports;
+        private final Map<String, ClassLoader> foreignImports;
-        public CacheKey( Plugin plugin, ClassLoader parentRealm, List<String> parentImports,
+        public CacheKey( Plugin plugin, ClassLoader parentRealm, Map<String, ClassLoader> foreignImports,
-            this.parentImports = ( parentImports != null ) ? parentImports : Collections.<String> emptyList();
+            this.foreignImports =
+                ( foreignImports != null ) ? foreignImports : Collections.<String, ClassLoader> emptyMap();
-            hash = hash * 31 + this.parentImports.hashCode();
+            hash = hash * 31 + this.foreignImports.hashCode();
-                && eq( parentImports, that.parentImports );
+                && eq( foreignImports, that.foreignImports );
-    public Key createKey( Plugin plugin, ClassLoader parentRealm, List<String> parentImports,
+    public Key createKey( Plugin plugin, ClassLoader parentRealm, Map<String, ClassLoader> foreignImports,
-        return new CacheKey( plugin, parentRealm, parentImports, dependencyFilter, repositories, session );
+        return new CacheKey( plugin, parentRealm, foreignImports, dependencyFilter, repositories, session );
