[MNG-5716] return toolchains that are of expected type
-        if ( pers != null )
+        ToolchainFactory fact = factories.get( type );
+        if ( fact == null )
+        {
+            logger.error( "Missing toolchain factory for type: " + type
+                + ". Possibly caused by misconfigured project." );
+        }
+        else if ( pers != null )
-                    ToolchainFactory fact = factories.get( toolchainModel.getType() );
-                    if ( fact != null )
+                    if ( type.equals( toolchainModel.getType() ) )
-                    else
-                    {
-                        logger.error( "Missing toolchain factory for type: " + toolchainModel.getType()
-                            + ". Possibly caused by misconfigured project." );
-                    }
