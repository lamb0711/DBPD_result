PR: MNG-122
use real exceptions for repository metadata

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@320683 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.metadata.ArtifactMetadataRetrievalException;
+import org.apache.maven.artifact.repository.metadata.RepositoryMetadataResolutionException;
+import org.apache.maven.artifact.resolver.ArtifactResolutionException;
-        throws ArtifactMetadataRetrievalException
+        throws ArtifactResolutionException
-            String version = resolveVersion( artifact, localRepository, remoteRepositories );
-            if ( Artifact.LATEST_VERSION.equals( version ) )
+            try
-                throw new ArtifactMetadataRetrievalException(
-                    "Unable to determine the latest version for artifact " + artifact );
-            }
+                String version = resolveVersion( artifact, localRepository, remoteRepositories );
+                if ( Artifact.LATEST_VERSION.equals( version ) )
+                {
+                    throw new ArtifactResolutionException( "Unable to determine the latest version", artifact );
+                }
-            artifact.setBaseVersion( version );
-            artifact.updateVersion( version, localRepository );
+                artifact.setBaseVersion( version );
+                artifact.updateVersion( version, localRepository );
+            }
+            catch ( RepositoryMetadataResolutionException e )
+            {
+                throw new ArtifactResolutionException( e.getMessage(), artifact, e );
+            }
-        throws ArtifactMetadataRetrievalException
-        throws ArtifactMetadataRetrievalException
