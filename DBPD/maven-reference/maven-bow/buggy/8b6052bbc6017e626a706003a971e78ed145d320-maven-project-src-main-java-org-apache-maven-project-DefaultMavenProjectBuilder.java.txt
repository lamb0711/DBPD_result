Start of release plugin

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@170406 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.transform.ReleaseArtifactTransformation;
+import org.apache.maven.model.Plugin;
+
+        if ( parentProject != null )
+        {
+            Artifact parentArtifact = artifactFactory.createArtifact( parentProject.getGroupId(),
+                                                                      parentProject.getArtifactId(),
+                                                                      parentProject.getVersion(),
+                                                                      null,
+                                                                      "pom", null );
+            project.setParentArtifact( parentArtifact );
+        }
+
+        project.setPluginArtifacts( createPluginArtifacts( project.getBuildPlugins() ) );
+
+            project.setParentArtifact( artifact );
+    protected Set createPluginArtifacts( List plugins )
+    {
+        Set pluginArtifacts = new HashSet();
+
+        for ( Iterator i = plugins.iterator(); i.hasNext(); )
+        {
+            Plugin p = (Plugin) i.next();
+
+            String version;
+            if ( StringUtils.isEmpty( p.getVersion() ) )
+            {
+                version = ReleaseArtifactTransformation.RELEASE_VERSION;
+            }
+            else
+            {
+                version = p.getVersion();
+            }
+
+            Artifact artifact = artifactFactory.createArtifact( p.getGroupId(), p.getArtifactId(), version,
+                                                                null, "maven-plugin", null );
+            if ( artifact != null )
+            {
+                pluginArtifacts.add( artifact );
+            }
+        }
+
+        return pluginArtifacts;
+    }
+
