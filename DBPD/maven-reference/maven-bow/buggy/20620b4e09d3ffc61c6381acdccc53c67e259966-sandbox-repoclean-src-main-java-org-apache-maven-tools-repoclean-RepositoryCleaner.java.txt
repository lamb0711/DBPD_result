o Changed the repository to test.maven.codehaus.org for testing of the new repository and layout.
o Added <layout/> element to <repository/> elements in the maven.mdo
o Added pluginRepository configuration to the super-POM.
o Tested it all.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163791 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.mailsender.MailMessage;
+import org.codehaus.plexus.mailsender.MailSender;
+import java.io.FileReader;
+import java.util.Date;
+    
+    private MailSender mailSender;
+        
+        boolean mailReport = false;
+                
+                if(repoReporter.hasError())
+                {
+                    mailReport = true;
+                }
+            
+            if(mailReport)
+            {
+                String reportContents = readReportFile(repoReporter.getReportFile());
+                
+                MailMessage message = new MailMessage();
+                message.setContent(reportContents);
+                message.setSubject("[REPOCLEAN] Error converting repository.");
+                message.setFromName("Repoclean");
+                message.setFromAddress("jdcasey@codehaus.org");
+                message.setSendDate(new Date());
+                message.addTo("Maven-2 Developers List", "m2-dev@maven.apache.org");
+                
+                mailSender.send(message);
+            }
+        }
+        
+    }
+
+    private String readReportFile( File reportFile ) throws IOException
+    {
+        FileReader reader = null;
+        try
+        {
+            reader = new FileReader(reportFile);
+            
+            StringBuffer reportContent = new StringBuffer();
+            char[] buffer = new char[512];
+            int read = -1;
+            
+            while((read = reader.read(buffer)) > -1)
+            {
+                reportContent.append(buffer, 0, read);
+            }
+            
+            return reportContent.toString();
+        }
+        finally
+        {
+            IOUtil.close(reader);
