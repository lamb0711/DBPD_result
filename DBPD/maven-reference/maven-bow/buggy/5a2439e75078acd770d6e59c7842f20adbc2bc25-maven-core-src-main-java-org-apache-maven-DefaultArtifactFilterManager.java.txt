Moving extensions back to the core classrealm, and adding a dynamic artifact filter to keep MNG-2228 from reappearing.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@497671 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.List;
-public class MavenArtifactFilterManager
+public class DefaultArtifactFilterManager implements ArtifactFilterManager
-    public static ArtifactFilter createStandardFilter()
+    
+    private static final Set DEFAULT_EXCLUSIONS;
+    
+    static
-        // TODO: configure this from bootstrap or scan lib
-
-        return new ExclusionSetFilter( artifacts );
+        
+        DEFAULT_EXCLUSIONS = artifacts;
+    
+    private Set excludedArtifacts = new HashSet( DEFAULT_EXCLUSIONS );
+    
+    /**
+     * @deprecated Use this class as a component instead, and then use getArtifactFilter().
+     */
+    public static ArtifactFilter createStandardFilter()
+    {
+        // TODO: configure this from bootstrap or scan lib
+        return new ExclusionSetFilter( DEFAULT_EXCLUSIONS );
+    }
+    
+    /* (non-Javadoc)
+     * @see org.apache.maven.ArtifactFilterManager#getArtifactFilter()
+     */
+    public ArtifactFilter getArtifactFilter()
+    {
+        return new ExclusionSetFilter( excludedArtifacts );
+    }
+    
+    /* (non-Javadoc)
+     * @see org.apache.maven.ArtifactFilterManager#excludeArtifact(java.lang.String)
+     */
+    public void excludeArtifact( String artifactId )
+    {
+        excludedArtifacts.add( artifactId );
+    }
+    
