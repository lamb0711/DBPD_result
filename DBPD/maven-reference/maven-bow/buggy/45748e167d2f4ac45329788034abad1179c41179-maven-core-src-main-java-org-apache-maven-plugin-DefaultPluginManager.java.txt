PR: MNG-2293
Submitted by: Jerome Lacoste
Reviewed by: Kenney Westerhof
Modifications: minor cosmetic changes.

Add an 'implementation' parameter to @parameter annotation, so
a default implementation can be specified in Mojo's in case the Mojo parameter
is an interface.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@413054 13f79535-47bb-0310-9956-ffa450edef68

+                String implementation = parameter.getImplementation();
-                boolean addedPomConfig = false;
+                PlexusConfiguration toAdd = null;
-                        result.addChild( pomConfig );
-
-                        addedPomConfig = true;
+                        toAdd = pomConfig;
-                if ( !addedPomConfig && mojoConfig != null )
+                if ( toAdd == null && mojoConfig != null )
-                    result.addChild( copyConfiguration( mojoConfig ) );
+                    toAdd = copyConfiguration( mojoConfig );
+                }
+
+                if ( toAdd != null )
+                {
+                    if ( implementation != null
+                        && toAdd.getAttribute( "implementation", null ) == null )
+                    {
+
+                        XmlPlexusConfiguration implementationConf = new XmlPlexusConfiguration( paramName );
+
+                        implementationConf.setAttribute( "implementation", parameter.getImplementation() );
+
+                        toAdd = buildTopDownMergedConfiguration( toAdd, implementationConf  );
+                    }
+
+                    result.addChild( toAdd );
