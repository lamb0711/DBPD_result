PR: MNG-530
don't attempt to configure non-report mojos during reporting



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@220042 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.reporting.MavenReport;
-            plugin = getConfiguredMojo( mojoDescriptor, session, dom, project );
+            plugin = getConfiguredMojo( mojoDescriptor, session, dom, project, false );
-                    reports.add( getConfiguredMojo( mojoDescriptor, session, dom, project ) );
+                    Mojo reportMojo = getConfiguredMojo( mojoDescriptor, session, dom, project, true );
+                    if ( reportMojo != null )
+                    {
+                        reports.add( reportMojo );
+                    }
-                                    MavenProject project )
+                                    MavenProject project, boolean report )
-        PlexusContainer pluginContainer = getPluginContainer( mojoDescriptor.getPluginDescriptor() );
-
+        PlexusContainer pluginContainer = getPluginContainer( pluginDescriptor );
+
+        if ( report && !( plugin instanceof MavenReport ) )
+        {
+            // TODO: the mojoDescriptor should actually capture this information so we don't get this far
+            return null;
+        }
