Decoupling ${version} expressions from POM version before resolving it to a buildnumber/timestamp on install or deploy.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@344386 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.StringReader;
+import java.io.StringWriter;
+            StringWriter sWriter = new StringWriter();
+            IOUtil.copy( reader, sWriter );
+            
+            String modelSrc = sWriter.toString().replaceAll( "\\$\\{(pom\\.|project\\.)?version\\}", artifact.getBaseVersion() );
+            
+            StringReader sReader = new StringReader( modelSrc );
+            
-            Model model = modelReader.read( reader );
+            Model model = modelReader.read( sReader );
