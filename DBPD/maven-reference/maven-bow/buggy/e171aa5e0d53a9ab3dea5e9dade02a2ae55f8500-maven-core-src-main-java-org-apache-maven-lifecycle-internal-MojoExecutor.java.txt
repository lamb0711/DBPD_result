o Refactored code

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@933001 13f79535-47bb-0310-9956-ffa450edef68

-
-                    int index = projectIndex.getIndices().get( fork.getKey() );
+                    String projectId = fork.getKey();
-                    MavenProject forkedProject = projectIndex.getProjects().get( fork.getKey() );
+                    int index = projectIndex.getIndices().get( projectId );
+
+                    MavenProject forkedProject = projectIndex.getProjects().get( projectId );
+                    List<MojoExecution> mojoExecutions = fork.getValue();
+
+                    if ( mojoExecutions.isEmpty() )
+                    {
+                        continue;
+                    }
+
-                        projectIndex.getProjects().put( fork.getKey(), executedProject );
+                        projectIndex.getProjects().put( projectId, executedProject );
-                        execute( session, fork.getValue(), projectIndex, dependencyContext );
+                        execute( session, mojoExecutions, projectIndex, dependencyContext );
-                        projectIndex.getProjects().put( fork.getKey(), forkedProject );
+                        projectIndex.getProjects().put( projectId, forkedProject );
