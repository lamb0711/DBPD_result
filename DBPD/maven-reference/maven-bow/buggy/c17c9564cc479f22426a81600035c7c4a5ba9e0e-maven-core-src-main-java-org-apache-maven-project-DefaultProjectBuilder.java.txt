[MNG-3641] Lack of error checks on profiles

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@787045 13f79535-47bb-0310-9956-ffa450edef68

-                
+
+        project.setInjectedProfileIds( "external", getProfileIds( result.getActiveExternalProfiles() ) );
+        for ( String modelId : result.getModelIds() )
+        {
+            project.setInjectedProfileIds( modelId, getProfileIds( result.getActivePomProfiles( modelId ) ) );
+        }
+
+    private List<String> getProfileIds( List<Profile> profiles )
+    {
+        List<String> ids = new ArrayList<String>( profiles.size() );
+
+        for ( Profile profile : profiles )
+        {
+            ids.add( profile.getId() );
+        }
+
+        return ids;
+    }
+
