o Added validation error upon bad scope for plugin dependencies

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@808182 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Arrays;
+            boolean warnOnBadPluginDependencyScope =
+                request.getValidationLevel() < ModelBuildingRequest.VALIDATION_LEVEL_MAVEN_3_0;
+
+
+                    for ( Dependency d : p.getDependencies() )
+                    {
+                        validateEnum( "build.plugins.plugin[" + p.getKey() + "].dependencies.dependency.scope",
+                                      problems, warnOnBadPluginDependencyScope, d.getScope(), d.getManagementKey(),
+                                      "compile", "runtime", "system" );
+                    }
+    private boolean validateEnum( String fieldName, ModelProblemCollector problems, boolean warning, String string,
+                                  String sourceHint, String... validValues )
+    {
+        if ( string == null || string.length() <= 0 )
+        {
+            return true;
+        }
+
+        List<String> values = Arrays.asList( validValues );
+
+        if ( values.contains( string ) )
+        {
+            return true;
+        }
+
+        if ( sourceHint != null )
+        {
+            addViolation( problems, warning, "'" + fieldName + "' must be one of " + values + " for " + sourceHint );
+        }
+        else
+        {
+            addViolation( problems, warning, "'" + fieldName + "' must be one of " + values );
+        }
+
+        return false;
+    }
+
