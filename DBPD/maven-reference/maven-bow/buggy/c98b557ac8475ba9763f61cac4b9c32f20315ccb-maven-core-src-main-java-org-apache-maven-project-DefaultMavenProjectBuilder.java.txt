move artifact factory to maven-artifact

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@164178 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.Dependency;
+import java.util.Set;
+import java.util.HashSet;
-    // TODO: comes from Maven CORE
-        project.setArtifacts( artifactFactory.createArtifacts( project.getDependencies(), null ) );
+        project.setArtifacts( createArtifacts( project.getDependencies() ) );
-            project.addArtifacts( result.getArtifacts().values() );
+            project.addArtifacts( result.getArtifacts().values(), artifactFactory );
+    protected Set createArtifacts( List dependencies )
+    {
+        Set projectArtifacts = new HashSet();
+
+        for ( Iterator i = dependencies.iterator(); i.hasNext(); )
+        {
+            Dependency d = (Dependency) i.next();
+
+            Artifact artifact = artifactFactory.createArtifact( d.getGroupId(), d.getArtifactId(), d.getVersion(),
+                                                                d.getScope(), d.getType(), null );
+            if ( artifact != null )
+            {
+                projectArtifacts.add( artifact );
+            }
+        }
+
+        return projectArtifacts;
+    }
+
