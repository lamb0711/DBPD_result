general cleanup

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@220319 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.FileNotFoundException;
-                                                   ArtifactRepository localRepository )
+                                                    ArtifactRepository localRepository )
-    public PluginMappingManager refreshPluginMappingManager( PluginMappingManager mappingManager, List pluginRepositories,
+    public PluginMappingManager refreshPluginMappingManager( PluginMappingManager mappingManager,
+                                                             List pluginRepositories,
-            throw new PluginMappingManagementException( "Plugin-mappings have already been refreshed. Cannot re-refresh." );
+            throw new PluginMappingManagementException(
+                "Plugin-mappings have already been refreshed. Cannot re-refresh." );
-        
+
-        
+
-        
+
-            
+
-            
+
-            
+
-        
+
-        
-        return loadPluginMappings(groupIds, pluginRepositories, localRepository, mappingManager);
+
+        return loadPluginMappings( groupIds, pluginRepositories, localRepository, mappingManager );
-                                                    ArtifactRepository localRepository,
-                                                    PluginMappingManager mappingManager )
-        throws RepositoryMetadataManagementException, PluginMappingManagementException
+                                                     ArtifactRepository localRepository,
+                                                     PluginMappingManager mappingManager )
+        throws PluginMappingManagementException
+        // TODO: use constant
-        if ( pluginGroupIds != null )
+        for ( Iterator it = pluginGroupIds.iterator(); it.hasNext(); )
-            for ( Iterator it = pluginGroupIds.iterator(); it.hasNext(); )
+            String groupId = (String) it.next();
+
+            try
-                String groupId = (String) it.next();
+                File mappingFile = resolveMappingMetadata( groupId, pluginRepositories, localRepository );
-                try
+                PluginMap pluginMap = readPluginMap( mappingFile );
+
+                if ( pluginMap != null )
-                    File mappingFile = resolveMappingMetadata( groupId, pluginRepositories, localRepository );
-
-                    PluginMap pluginMap = readPluginMap( mappingFile );
-
-                    if ( pluginMap != null )
-                    {
-                        mappingManager.addPluginMap( pluginMap );
-                    }
+                    mappingManager.addPluginMap( pluginMap );
-                catch ( RepositoryMetadataManagementException e )
-                {
-                    getLogger()
-                        .warn( "Cannot resolve plugin-mapping metadata for groupId: " + groupId + " - IGNORING." );
+            }
+            catch ( RepositoryMetadataManagementException e )
+            {
+                getLogger()
+                    .warn( "Cannot resolve plugin-mapping metadata for groupId: " + groupId + " - IGNORING." );
-                    getLogger().debug( "Error resolving plugin-mapping metadata for groupId: " + groupId + ".", e );
-                }
+                getLogger().debug( "Error resolving plugin-mapping metadata for groupId: " + groupId + ".", e );
-        
+
+            catch ( FileNotFoundException e )
+            {
+                throw new PluginMappingManagementException( "Cannot read plugin mappings from: " + mappingFile, e );
+            }
-        
+
-                
+
