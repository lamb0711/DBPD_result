o pom-level profiles are working now

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@189464 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.model.Dependency;
+import org.apache.maven.model.Profile;
+import org.apache.maven.profile.activation.ProfileActivationCalculator;
+    
+    private ProfileActivationCalculator profileActivationCalculator;
+        
+        // TODO: Add profiles support here?
+        List activePomProfiles = profileActivationCalculator.calculateActiveProfiles( model.getProfiles() );
+        for ( Iterator it = activePomProfiles.iterator(); it.hasNext(); )
+        {
+            Profile profile = (Profile) it.next();
+            
+            modelInheritanceAssembler.mergeProfileWithModel( cachedModel, profile );
+        }
