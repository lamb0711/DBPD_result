Initial version of site generation with repots.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@168031 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.reporting.MavenReport;
-import org.apache.maven.reporting.manager.MavenReportManager;
+import java.util.Map;
+ *
+ * @author <a href="mailto:evenisse@apache.org">Emmanuel Venisse</a>
+ * @version $Id$
-     * @parameter expressoin="${project.build.directory}/site"
+     * @parameter expression="${project.build.directory}/site"
-     * @parameter expression="${component.org.apache.maven.reporting.manager.MavenReportManager}"
+     * @parameter expression="${reports}"
-    private MavenReportManager reportManager;
+    private Map reports;
-
-            if ( project.getReports() != null )
+            if ( reports != null )
-                reportManager.addReports( project.getReports(), localRepository, remoteRepositories );
-
-                for ( Iterator i = reportManager.getReports().keySet().iterator(); i.hasNext(); )
+System.out.println(reports.size());
+                for ( Iterator i = reports.values().iterator(); i.hasNext(); )
-                    String reportName = (String) i.next();
+                    MavenReport report = (MavenReport) i.next();
-                    reportManager.executeReport( reportName, config );
+                    report.setConfiguration( config );
+
+                    report.generate();
