MNG-4628 ReactorArtifactRepository is not setup soon enough for AbstractMavenLifecycleParticipant#afterProjectsRead

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@931641 13f79535-47bb-0310-9956-ffa450edef68

+        try
+        {
+            Map<String, MavenProject> projectMap;
+            projectMap = getProjectMap( session.getProjects() );
+    
+            // Desired order of precedence for local artifact repositories
+            //
+            // Reactor
+            // Workspace
+            // User Local Repository
+            delegatingLocalArtifactRepository.setBuildReactor( new ReactorArtifactRepository( projectMap, session ) );
+        }
+        catch ( org.apache.maven.DuplicateProjectException e )
+        {
+            return processResult( result, e );
+        }
+
-        Map<String, MavenProject> projectMap;
-            projectMap = getProjectMap( session.getProjects() );
-
-
-        // Desired order of precedence for local artifact repositories
-        //
-        // Reactor
-        // Workspace
-        // User Local Repository
-        delegatingLocalArtifactRepository.setBuildReactor( new ReactorArtifactRepository( projectMap, session ) );
