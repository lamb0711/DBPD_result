handle mojo failure exception


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@293231 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.plugin.MojoFailureException;
+        catch ( MojoFailureException e )
+        {
+            response.setException( e );
+        }
-        throws PluginNotFoundException, MojoExecutionException, ArtifactResolutionException, LifecycleExecutionException
+        throws PluginNotFoundException, MojoExecutionException, ArtifactResolutionException,
+        LifecycleExecutionException, MojoFailureException
+                            catch ( MojoFailureException e )
+                            {
+                                handleExecutionFailure( rm, rootProject, e, task );
+                            }
+                                catch ( MojoFailureException e )
+                                {
+                                    handleExecutionFailure( rm, currentProject, e, task );
+                                }
-        throws MojoExecutionException, ArtifactResolutionException
+        throws MojoExecutionException, ArtifactResolutionException, MojoFailureException
+            if ( e instanceof MojoFailureException )
+            {
+                throw (MojoFailureException) e;
+            }
-        throws LifecycleExecutionException, PluginNotFoundException, MojoExecutionException, ArtifactResolutionException
+        throws LifecycleExecutionException, PluginNotFoundException, MojoExecutionException,
+        ArtifactResolutionException, MojoFailureException
-        throws ArtifactResolutionException, LifecycleExecutionException, MojoExecutionException
+        throws ArtifactResolutionException, LifecycleExecutionException, MojoExecutionException, MojoFailureException
-        throws ArtifactResolutionException, LifecycleExecutionException, MojoExecutionException
+        throws ArtifactResolutionException, LifecycleExecutionException, MojoExecutionException, MojoFailureException
-        throws LifecycleExecutionException, MojoExecutionException, ArtifactResolutionException
+        throws LifecycleExecutionException, MojoExecutionException, ArtifactResolutionException, MojoFailureException
-        throws LifecycleExecutionException, MojoExecutionException, ArtifactResolutionException
+        throws LifecycleExecutionException, MojoExecutionException, ArtifactResolutionException, MojoFailureException
