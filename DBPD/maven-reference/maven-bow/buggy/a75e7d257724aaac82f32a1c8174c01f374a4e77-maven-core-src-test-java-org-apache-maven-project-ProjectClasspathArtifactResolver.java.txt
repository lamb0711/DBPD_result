improved error handling and other clean up


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163979 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.util.IOUtil;
+import org.codehaus.plexus.util.xml.pull.XmlPullParserException;
+import java.io.IOException;
-            MavenXpp3Reader reader = new MavenXpp3Reader();
+            InputStreamReader r = null;
-                model = reader.read( new InputStreamReader( getClass().getResourceAsStream( name ) ) );
+                r = new InputStreamReader( getClass().getResourceAsStream( name ) );
+                MavenXpp3Reader reader = new MavenXpp3Reader();
+                model = reader.read( r );
-            catch ( Exception e )
+            catch ( IOException e )
+            catch ( XmlPullParserException e )
+            {
+                throw new ArtifactMetadataRetrievalException( e );
+            }
+            finally
+            {
+                IOUtil.close( r );
+            }
