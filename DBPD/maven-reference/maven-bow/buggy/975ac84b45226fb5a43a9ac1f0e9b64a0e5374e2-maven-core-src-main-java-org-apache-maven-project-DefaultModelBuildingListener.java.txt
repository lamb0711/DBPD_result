o Refactored model building listener to use problem collector

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@800418 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.InvalidRepositoryException;
+import org.apache.maven.artifact.resolver.ArtifactResolutionException;
-        throws Exception
-        remoteRepositories =
-            projectBuildingHelper.createArtifactRepositories( model.getRepositories(), remoteRepositories );
+        try
+        {
+            remoteRepositories =
+                projectBuildingHelper.createArtifactRepositories( model.getRepositories(), remoteRepositories );
+        }
+        catch ( InvalidRepositoryException e )
+        {
+            event.getProblems().addError( "Invalid artifact repository: " + e.getMessage(), e );
+        }
-        pluginRepositories =
-            projectBuildingHelper.createArtifactRepositories( model.getPluginRepositories(), pluginRepositories );
+        try
+        {
+            pluginRepositories =
+                projectBuildingHelper.createArtifactRepositories( model.getPluginRepositories(), pluginRepositories );
+        }
+        catch ( InvalidRepositoryException e )
+        {
+            event.getProblems().addError( "Invalid plugin repository: " + e.getMessage(), e );
+        }
-            projectRealm =
-                projectBuildingHelper.createProjectRealm( model, projectBuildingRequest.getLocalRepository(),
-                                                          pluginRepositories );
+            try
+            {
+                projectRealm =
+                    projectBuildingHelper.createProjectRealm( model, projectBuildingRequest.getLocalRepository(),
+                                                              pluginRepositories );
+            }
+            catch ( ArtifactResolutionException e )
+            {
+                event.getProblems().addError( "Unresolveable build extensions: " + e.getMessage(), e );
+            }
