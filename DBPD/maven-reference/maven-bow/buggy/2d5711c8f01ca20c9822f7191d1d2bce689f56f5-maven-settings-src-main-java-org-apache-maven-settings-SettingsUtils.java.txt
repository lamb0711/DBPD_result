Adding SettingsBuilderAdvice, to enable skipping default locations for settings files. Also, removing the settings cache, to enable call-by-call synchronization of settings between Maven embedder instances that share the same settings files. Next step is to refresh settings per-call to the embedder.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@511172 13f79535-47bb-0310-9956-ffa450edef68

-                    dominant.getRuntimeInfo().setActiveProfileSourceLevel( profileId, recessiveSourceLevel );
+                    if ( dominant.getRuntimeInfo() != null )
+                    {
+                        dominant.getRuntimeInfo().setActiveProfileSourceLevel( profileId, recessiveSourceLevel );
+                    }
+        
+        if ( dominant.getRuntimeInfo() != null && recessive.getRuntimeInfo() != null )
+        {
+            List recessiveLocations = recessive.getRuntimeInfo().getLocations();
+            for ( Iterator it = recessiveLocations.iterator(); it.hasNext(); )
+            {
+                String path = (String) it.next();
+                
+                dominant.getRuntimeInfo().addLocation( path );
+            }
+        }
-                    dominant.getRuntimeInfo().setPluginGroupIdSourceLevel( pluginGroupId, recessiveSourceLevel );
+                    if ( dominant.getRuntimeInfo() != null )
+                    {
+                        dominant.getRuntimeInfo().setPluginGroupIdSourceLevel( pluginGroupId, recessiveSourceLevel );
+                    }
-            dominant.getRuntimeInfo().setLocalRepositorySourceLevel( recessiveSourceLevel );
+            if ( dominant.getRuntimeInfo() != null )
+            {
+                dominant.getRuntimeInfo().setLocalRepositorySourceLevel( recessiveSourceLevel );
+            }
