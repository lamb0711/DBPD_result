decouple auth info from repository, allows removing settings from project code

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@164189 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.wagon.authentication.AuthenticationInfo;
+    // TODO: proxies and authentication are via settings, and should come in via an alternate method - perhaps attached to ArtifactRepository before the method is called (so AR would be composed of WR, not inherit it)
+    private Map authenticationInfoMap = new HashMap();
+
-            wagon.connect( repository, getProxy( repository.getProtocol() ) );
+            wagon.connect( repository, getAuthenticationInfo( repository.getId() ),
+                           getProxy( repository.getProtocol() ) );
-            wagon.connect( repository, getProxy( repository.getProtocol() ) );
+            wagon.connect( repository, getAuthenticationInfo( repository.getId() ),
+                           getProxy( repository.getProtocol() ) );
+    private AuthenticationInfo getAuthenticationInfo( String id )
+    {
+        return (AuthenticationInfo) authenticationInfoMap.get( id );
+    }
+
-    public void setProxy( String protocol, String host, int port, String username, String password,
+    public void addProxy( String protocol, String host, int port, String username, String password,
+
+    public void addAuthenticationInfo( String repositoryId, String username, String password, String privateKey,
+                                       String passphrase )
+    {
+        AuthenticationInfo authInfo = new AuthenticationInfo();
+
+        authInfo.setUserName( username );
+
+        authInfo.setPassword( password );
+
+        authInfo.setPrivateKey( privateKey );
+
+        authInfo.setPassphrase( passphrase );
+
+        authenticationInfoMap.put( repositoryId, authInfo );
+    }
