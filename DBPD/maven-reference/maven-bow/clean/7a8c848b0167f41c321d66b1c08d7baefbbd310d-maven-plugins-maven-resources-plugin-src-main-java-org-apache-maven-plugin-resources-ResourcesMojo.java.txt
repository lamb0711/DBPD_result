PR: MNG-788
bring back the "filtering" attribute in resources from m1


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@263841 13f79535-47bb-0310-9956-ffa450edef68

-        initializeFiltering();
-        try
-        {
-            for ( Iterator i = getJarResources( resources ).entrySet().iterator(); i.hasNext(); )
-            {
-                Map.Entry entry = (Map.Entry) i.next();
-                File source = (File) entry.getKey();
-                String destination = (String) entry.getValue();
+        initializeFiltering();
-                File destinationFile = new File( outputDirectory, destination );
-
-                if ( !destinationFile.getParentFile().exists() )
-                {
-                    destinationFile.getParentFile().mkdirs();
-                }
-
-                copyFile( source, destinationFile );
-            }
-        }
-        catch ( Exception e )
-        {
-            // TODO: handle exception
-            throw new MojoExecutionException( "Error copying resources", e );
-        }
-    }
-
-    private Map getJarResources( List resources )
-    {
-                String entryName = name;
+                String destination = name;
-                    entryName = targetPath + "/" + name;
+                    destination = targetPath + "/" + name;
-                resourceEntries.put( new File( resource.getDirectory(), name ), entryName );
+                File source = new File( resource.getDirectory(), name );
+
+                File destinationFile = new File( outputDirectory, destination );
+
+                if ( !destinationFile.getParentFile().exists() )
+                {
+                    destinationFile.getParentFile().mkdirs();
+                }
+
+                try
+                {
+                    copyFile( source, destinationFile, resource.isFiltering() && filtering );
+                }
+                catch ( IOException e )
+                {
+                    throw new MojoExecutionException( "Error copying resources", e );
+                }
-
-        return resourceEntries;
-    private void copyFile( File from, File to )
+    private void copyFile( File from, File to, boolean filtering )
