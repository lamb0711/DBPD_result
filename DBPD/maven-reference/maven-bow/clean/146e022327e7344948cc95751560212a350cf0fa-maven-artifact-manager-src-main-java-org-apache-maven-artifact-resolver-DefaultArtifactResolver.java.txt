Resolving: MNG-251

o Added transformation manager
o snapshot timestamp/buildnumber is now managed from the transformation rather than the metadata
o maven-archiver now clones the MavenProject and resolves snapshot versions for introduction into manifest and exported pom.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@239219 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.transform.ArtifactTransformation;
+import org.apache.maven.artifact.transform.ArtifactTransformationManager;
-
-    private List artifactTransformations;
+    
+    private ArtifactTransformationManager transformationManager;
-            // TODO: better to have a transform manager, or reuse the handler manager again so we don't have these requirements duplicated all over?
-            for ( Iterator i = artifactTransformations.iterator(); i.hasNext(); )
+            try
-                ArtifactTransformation transform = (ArtifactTransformation) i.next();
-                try
-                {
-                    transform.transformForResolve( artifact, remoteRepositories, localRepository );
-                }
-                catch ( ArtifactMetadataRetrievalException e )
-                {
-                    throw new ArtifactResolutionException( e.getMessage(), artifact, remoteRepositories, e );
-                }
+                transformationManager.transformForResolve( artifact, remoteRepositories, localRepository );
+            }
+            catch ( ArtifactMetadataRetrievalException e )
+            {
+                throw new ArtifactResolutionException( e.getMessage(), artifact, remoteRepositories, e );
