fix encoding issues in parser

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@345168 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.ByteArrayInputStream;
+import java.io.ByteArrayOutputStream;
-import java.io.FileReader;
+import java.io.FileInputStream;
-import java.io.StringReader;
-import java.io.StringWriter;
-        StringWriter output = new StringWriter();
-        IOUtil.copy( new FileReader( file ), output);
-        String out = output.toString();
+        ByteArrayOutputStream output = new ByteArrayOutputStream();
+        IOUtil.copy( new FileInputStream( file ), output );
+        String out = output.toString( "UTF-8" );
-        InputSource is = new InputSource( new StringReader( out ) );
+        InputSource is = new InputSource( new ByteArrayInputStream( out.getBytes( "UTF-8" ) ) );
-        System.err.println( type + " [line " + spe.getLineNumber() + ", row " + spe.getColumnNumber() + "]: " +
-                            spe.getMessage() );
+        System.err.println(
+            type + " [line " + spe.getLineNumber() + ", row " + spe.getColumnNumber() + "]: " + spe.getMessage() );
