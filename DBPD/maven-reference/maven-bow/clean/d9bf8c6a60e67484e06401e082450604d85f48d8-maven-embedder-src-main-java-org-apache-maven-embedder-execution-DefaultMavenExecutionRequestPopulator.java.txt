o Reverted r750083 which is a bad approach with respect to embedding, instead just programmatically injected the central repo if not already given/overriden in the settings

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@750098 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.HashSet;
+import org.apache.maven.model.RepositoryPolicy;
+        injectDefaultRepositories( request );
+
+    private void injectDefaultRepositories( MavenExecutionRequest request )
+        throws MavenEmbedderException
+    {
+        Set<String> definedRepositories = new HashSet<String>();
+        if ( request.getRemoteRepositories() != null )
+        {
+            for ( ArtifactRepository repository : request.getRemoteRepositories() )
+            {
+                definedRepositories.add( repository.getId() );
+            }
+        }
+
+        if ( !definedRepositories.contains( "central" ) )
+        {
+            Repository repo = new Repository();
+            repo.setId( "central" );
+            repo.setUrl( "http://repo1.maven.org/maven2" );
+            repo.setName( "Maven Repository Switchboard" );
+            RepositoryPolicy snapshotPolicy = new RepositoryPolicy();
+            snapshotPolicy.setEnabled( false );
+            repo.setSnapshots( snapshotPolicy );
+            try
+            {
+                ArtifactRepository ar = repositorySystem.buildArtifactRepository( repo );
+                request.addRemoteRepository( ar );
+            }
+            catch ( InvalidRepositoryException e )
+            {
+                throw new MavenEmbedderException( "Cannot create remote repository " + repo.getId(), e );
+            }
+        }
+    }
+
