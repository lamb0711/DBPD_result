Error reporting works properly now.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@604401 13f79535-47bb-0310-9956-ffa450edef68

-    private Map formattedMessages = new HashMap();
+    private static final String NEWLINE = "\n";
-    private Map realCauses = new HashMap();
+    private Map formattedMessages;
+
+    private Map realCauses;
+
+    public DefaultProjectErrorReporter( Map formattedMessageStore, Map realCauseStore )
+    {
+        formattedMessages = formattedMessageStore;
+        realCauses = realCauseStore;
+    }
+
+    public DefaultProjectErrorReporter()
+    {
+        formattedMessages = new HashMap();
+        realCauses = new HashMap();
+    }
-    private void registerProjectBuildError( Throwable error,
+    protected void registerBuildError( Throwable error,
-    private void registerProjectBuildError( Throwable error,
+    protected void registerBuildError( Throwable error,
-        registerProjectBuildError( cause, writer.toString(), cause.getCause() );
+        registerBuildError( cause, writer.toString(), cause.getCause() );
-        registerProjectBuildError( cause, writer.toString(), cause.getCause() );
+        registerBuildError( cause, writer.toString(), cause.getCause() );
-        registerProjectBuildError( cause, writer.toString(), cause.getCause() );
+        registerBuildError( cause, writer.toString(), cause.getCause() );
-        registerProjectBuildError( cause, writer.toString(), cause.getCause() );
+        registerBuildError( cause, writer.toString(), cause.getCause() );
-        registerProjectBuildError( cause, writer.toString(), cause.getCause() );
+        registerBuildError( cause, writer.toString(), cause.getCause() );
-        registerProjectBuildError( cause, writer.toString(), cause.getCause() );
+        registerBuildError( cause, writer.toString(), cause.getCause() );
-        registerProjectBuildError( cause, writer.toString(), cause.getCause() );
+        registerBuildError( cause, writer.toString(), cause.getCause() );
-        registerProjectBuildError( cause, writer.toString() );
+        registerBuildError( cause, writer.toString() );
-        registerProjectBuildError( cause, writer.toString() );
+        registerBuildError( cause, writer.toString() );
-        registerProjectBuildError( cause, writer.toString() );
+        registerBuildError( cause, writer.toString() );
-        registerProjectBuildError( cause, writer.toString() );
+        registerBuildError( cause, writer.toString() );
-        registerProjectBuildError( error, writer.toString() );
+        registerBuildError( error, writer.toString() );
-        registerProjectBuildError( cause, writer.toString() );
+        registerBuildError( cause, writer.toString() );
-        registerProjectBuildError( cause, writer.toString() );
+        registerBuildError( cause, writer.toString() );
-        registerProjectBuildError( cause, writer.toString() );
+        registerBuildError( cause, writer.toString() );
-        registerProjectBuildError( cause, writer.toString() );
+        registerBuildError( cause, writer.toString() );
-        registerProjectBuildError( cause, writer.toString() );
+        registerBuildError( cause, writer.toString() );
-        registerProjectBuildError( cause, writer.toString() );
+        registerBuildError( cause, writer.toString() );
-        registerProjectBuildError( cause, writer.toString() );
+        registerBuildError( cause, writer.toString() );
-        registerProjectBuildError( err, writer.toString() );
+        registerBuildError( err, writer.toString() );
