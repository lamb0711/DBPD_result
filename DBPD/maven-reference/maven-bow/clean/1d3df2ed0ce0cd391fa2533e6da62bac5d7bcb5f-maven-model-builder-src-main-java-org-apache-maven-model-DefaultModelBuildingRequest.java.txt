o Decoupled model building request from profile activation context

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@781144 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.model.profile.DefaultProfileActivationContext;
-import org.apache.maven.model.profile.ProfileActivationContext;
-
-    private ProfileActivationContext profileActivationContext;
+    private List<String> activeProfileIds;
+
+    private List<String> inactiveProfileIds;
+
+    private Properties executionProperties;
-        profileActivationContext = new DefaultProfileActivationContext();
+        activeProfileIds = new ArrayList<String>();
+        inactiveProfileIds = new ArrayList<String>();
+        executionProperties = new Properties();
-        return profileActivationContext.getActiveProfileIds();
+        return activeProfileIds;
-    public ModelBuildingRequest setActiveProfileIds( List<String> activeProfileIds )
+    public DefaultModelBuildingRequest setActiveProfileIds( List<String> activeProfileIds )
-        profileActivationContext.setActiveProfileIds( activeProfileIds );
+        this.activeProfileIds.clear();
+        if ( activeProfileIds != null )
+        {
+            this.activeProfileIds.addAll( activeProfileIds );
+        }
+
-        return profileActivationContext.getInactiveProfileIds();
+        return inactiveProfileIds;
-    public ModelBuildingRequest setInactiveProfileIds( List<String> inactiveProfileIds )
+    public DefaultModelBuildingRequest setInactiveProfileIds( List<String> inactiveProfileIds )
-        profileActivationContext.setInactiveProfileIds( inactiveProfileIds );
+        this.inactiveProfileIds.clear();
+        if ( inactiveProfileIds != null )
+        {
+            this.inactiveProfileIds.addAll( inactiveProfileIds );
+        }
+
-        return profileActivationContext.getExecutionProperties();
+        return executionProperties;
-    public ModelBuildingRequest setExecutionProperties( Properties executionProperties )
+    public DefaultModelBuildingRequest setExecutionProperties( Properties executionProperties )
-        profileActivationContext.setExecutionProperties( executionProperties );
-        return this;
-    }
-
-    public ProfileActivationContext getProfileActivationContext()
-    {
-        return profileActivationContext;
-    }
-
-    public DefaultModelBuildingRequest setProfileActivationContext( ProfileActivationContext profileActivationContext )
-    {
-        if ( profileActivationContext == null )
+        this.executionProperties.clear();
+        if ( executionProperties != null )
-            throw new IllegalArgumentException( "no profile activation context specified" );
+            this.executionProperties.putAll( executionProperties );
-        this.profileActivationContext = profileActivationContext;
-
