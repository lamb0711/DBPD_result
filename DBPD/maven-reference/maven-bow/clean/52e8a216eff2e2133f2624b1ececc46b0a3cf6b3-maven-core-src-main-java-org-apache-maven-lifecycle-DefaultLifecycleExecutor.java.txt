PR: MNG-1011
add default goal handling

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@292411 13f79535-47bb-0310-9956-ffa450edef68

-        List taskSegments = segmentTaskListByAggregationNeeds( session.getGoals(), session, rootProject );
+        List goals = session.getGoals();
+
+        if ( goals.isEmpty() && rootProject != null )
+        {
+            String goal = rootProject.getDefaultGoal();
+            if ( goal != null )
+            {
+                goals = Collections.singletonList( goal );
+            }
+        }
+            if ( goals.isEmpty() )
+            {
+                throw new NoGoalsSpecifiedException( "You must specify at least one goal. Try 'install'" );
+            }
+
+            List taskSegments = segmentTaskListByAggregationNeeds( goals, session, rootProject );
+
+        catch ( NoGoalsSpecifiedException e )
+        {
+            response.setException( e );
+        }
