o cleaning up the lifecycle executor and error reporter


git-svn-id: https://svn.apache.org/repos/asf/maven/components/branches/MNG-2766@753053 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.errors.CoreErrorReporter;
-import org.apache.maven.errors.DefaultCoreErrorReporter;
-                showError( e, request.isShowErrors(), request.getErrorReporter(), logger );
+                showError( e, request.isShowErrors(), logger );
-        showError( message, e, showErrors, new DefaultCoreErrorReporter(), logger );
+        showError( message, e, showErrors, logger );
-    private static void showError( Exception e, boolean show, CoreErrorReporter reporter, MavenEmbedderLogger logger )
+    private static void showError( Exception e, boolean show, MavenEmbedderLogger logger )
-        showError( null, e, show, reporter, logger );
+        showError( null, e, show, logger );
-    public static void showError( String message, Exception e, boolean showStackTraces, CoreErrorReporter reporter, MavenEmbedderLogger logger )
+    public static void showError( String message, Exception e, boolean showStackTraces, MavenEmbedderLogger logger )
-        buildErrorMessage( e, showStackTraces, reporter, writer );
+        buildErrorMessage( e, showStackTraces, writer );
-    public static void buildErrorMessage( Exception e, boolean showStackTraces, CoreErrorReporter reporter, StringWriter writer )
-    {        
-        if ( reporter != null )
-        {
-            Throwable reported = reporter.findReportedException( e );
-
-            if ( reported != null )
-            {
-                writer.write( reporter.getFormattedMessage( reported ) );
-
-                if ( showStackTraces )
-                {
-                    writer.write( NEWLINE );
-                    writer.write( NEWLINE );
-                    Throwable cause = reporter.getRealCause( reported );
-                    if ( cause != null )
-                    {
-                        cause.printStackTrace( new PrintWriter( writer ) );
-                    }
-                }
-
-                writer.write( NEWLINE );
-                writer.write( NEWLINE );
-
-                return;
-            }
-        }
-        
+    public static void buildErrorMessage( Exception e, boolean showStackTraces, StringWriter writer )
+    {                
