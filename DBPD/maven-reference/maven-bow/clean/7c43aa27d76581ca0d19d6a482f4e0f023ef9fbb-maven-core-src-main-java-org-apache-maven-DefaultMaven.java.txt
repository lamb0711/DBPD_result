Merging fix for loss of dependency ordering from branch.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@430573 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.logging.AbstractLogger;
-        Logger logger = loggerManager.getLoggerForComponent( Mojo.ROLE );
+        // FIXME: This will not touch the core maven logger, since it's already been initialized for
+        // this component.
+        loggerManager.setThreshold( request.getLoggingLevel() );
+        
+        Logger myLogger = getLogger();
+        
+        // TODO: When the above problem is fixed, remove this.
+        if ( myLogger instanceof AbstractLogger )
+        {
+            ((AbstractLogger) myLogger).setThreshold( request.getLoggingLevel() );
+        }
+
+        Logger mojoLogger = loggerManager.getLoggerForComponent( Mojo.ROLE );
-            request.addEventMonitor( new DefaultEventMonitor( logger ) );
+            request.addEventMonitor( new DefaultEventMonitor( mojoLogger ) );
-        loggerManager.setThreshold( request.getLoggingLevel() );
-
