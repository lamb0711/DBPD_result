o Fixed merging of lifecycle plugins that contribute more than one execution
o Fixed conversion of default value for plugin configuration

git-svn-id: https://svn.apache.org/repos/asf/maven/components/branches/MNG-2766@771154 13f79535-47bb-0310-9956-ffa450edef68

-			// Merge the various sources for mojo configuration:
+            // Merge the various sources for mojo configuration:
-    public static void addPluginsToModel(Model target, Set<Plugin> plugins)
+    public static void addPluginsToModel( Model target, Set<Plugin> plugins )
-    		if( pomPlugin == null)
-    		{
-    			lifecyclePlugins.add(p);
-    		}
-    		else if(p.getConfiguration() != null)
-    		{
-    			System.out.println(Xpp3Dom.mergeXpp3Dom((Xpp3Dom) p.getConfiguration(), (Xpp3Dom) pomPlugin.getConfiguration()));
-    		}
+    		if ( pomPlugin == null )
+            {
+                lifecyclePlugins.add( p );
+            }
+            else
+            {
+                PluginProcessor.copy2( p, pomPlugin, true );
+                if ( p.getConfiguration() != null )
+                {
+                    System.out.println( Xpp3Dom.mergeXpp3Dom( (Xpp3Dom) p.getConfiguration(),
+                                                              (Xpp3Dom) pomPlugin.getConfiguration() ) );
+                }
+            }
