correct behaviour

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@219832 13f79535-47bb-0310-9956-ffa450edef68

+            SnapshotArtifactMetadata metadata;
+
-                SnapshotArtifactMetadata metadata;
-            
-
-                metadata.update();
-
-                artifact.setVersion( metadata.constructVersion() );
-
-                artifact.addMetadata( metadata );
+                metadata = (SnapshotArtifactMetadata) createMetadata( artifact );
+
+            metadata.update();
+
+            artifact.setVersion( metadata.constructVersion() );
+
+            artifact.addMetadata( metadata );
