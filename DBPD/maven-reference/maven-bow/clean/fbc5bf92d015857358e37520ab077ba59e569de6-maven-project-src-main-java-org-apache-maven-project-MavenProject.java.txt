o Fixed missing basedir alignment

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@753361 13f79535-47bb-0310-9956-ffa450edef68

-    public void addCompileSourceRoot( String path )
+    private void addPath( List<String> paths, String path )
-            if ( path.length() != 0 )
+            if ( path.length() > 0 )
-                if ( !getCompileSourceRoots().contains( path ) )
+                File file = new File( path );
+                if ( file.isAbsolute() )
-                    getCompileSourceRoots().add( path );
+                    path = file.getAbsolutePath();
+                }
+                else
+                {
+                    path = new File( getBasedir(), path ).getAbsolutePath();
+                }
+
+                if ( !paths.contains( path ) )
+                {
+                    paths.add( path );
+    public void addCompileSourceRoot( String path )
+    {
+        addPath( getCompileSourceRoots(), path );
+    }
+
-        if ( path != null )
-        {
-            path = path.trim();
-            if ( path.length() != 0 )
-            {
-                if ( !getTestCompileSourceRoots().contains( path ) )
-                {
-                    getTestCompileSourceRoots().add( path );
-                }
-            }
-        }
+        addPath( getTestCompileSourceRoots(), path );
