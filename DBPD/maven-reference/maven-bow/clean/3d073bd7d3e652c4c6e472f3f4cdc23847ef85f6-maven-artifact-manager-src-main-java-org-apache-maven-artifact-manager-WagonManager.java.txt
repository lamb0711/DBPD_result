[MNG-2228] put extensions in a child container. This guarantees separation avoiding root classloader pollution that was causing plugins such as the release plugin to fail when using wagon-webdav.
Merged from: r492068, maven-2.0.x branch


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@492071 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.PlexusContainer;
+import java.util.Collection;
- * 
+ *
-     * 
-     * @deprecated prone to errors. use {@link #getWagon(Repository)} instead.
-     * 
+     *
+     * @deprecated prone to errors. use {@link #getWagon(Repository)} instead.
-     * 
+     *
-     * @throws WagonConfigurationException if the wagon can't be configured for the repository
+     * @throws WagonConfigurationException  if the wagon can't be configured for the repository
-    
+
-    
+
-     * Set the configuration for a repository 
-     * 
-     * @param repositoryId id of the repository to set the configuration to
-     * @param configuration dom tree of the xml with the configuration for the {@link Wagon} 
+     * Set the configuration for a repository
+     *
+     * @param repositoryId  id of the repository to set the configuration to
+     * @param configuration dom tree of the xml with the configuration for the {@link Wagon}
+
+    void registerWagons( Collection wagons, PlexusContainer extensionContainer );
