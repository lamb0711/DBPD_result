Adding a couple unit tests for the project-level session, and fixing potential NPE when an extension is declared that already exists in the core distribution.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@588136 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.resolver.ArtifactNotFoundException;
-import org.apache.maven.artifact.resolver.ArtifactResolutionException;
+import org.apache.maven.artifact.resolver.ArtifactResolutionResult;
+    private ArtifactResolutionResult resolutionResult;
-                                      ArtifactResolutionException cause )
-    {
-        super( message, cause );
-        this.extensionArtifact = extensionArtifact;
-        this.projectId = projectId;
-    }
-
-    public ExtensionManagerException( String message,
-                                      Artifact extensionArtifact,
-                                      String projectId,
-                                      ArtifactNotFoundException cause )
-    {
-        super( message, cause );
-        this.extensionArtifact = extensionArtifact;
-        this.projectId = projectId;
-    }
-
-    public ExtensionManagerException( String message,
-                                      Artifact extensionArtifact,
-                                      String projectId,
+    public ExtensionManagerException( String message,
+                                      Artifact extensionArtifact,
+                                      String projectId )
+    {
+        super( message );
+        this.extensionArtifact = extensionArtifact;
+        this.projectId = projectId;
+    }
+
+    public ExtensionManagerException( String message,
+                                      Artifact extensionArtifact,
+                                      String projectId,
+                                      ArtifactResolutionResult result )
+    {
+        super( message );
+        this.extensionArtifact = extensionArtifact;
+        this.projectId = projectId;
+        resolutionResult = result;
+    }
+
+    public ArtifactResolutionResult getArtifactResolutionResult()
+    {
+        return resolutionResult;
+    }
+
