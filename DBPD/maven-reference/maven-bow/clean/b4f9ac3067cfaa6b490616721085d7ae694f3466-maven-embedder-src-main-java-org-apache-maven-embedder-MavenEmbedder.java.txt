Add code to clean the build context after each embedder function that uses it.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@594313 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.context.BuildContextManager;
+    private BuildContextManager buildContextManager;
+
+            buildContextManager.clearBuildContext();
+            buildContextManager.clearBuildContext();
-        artifactResolver.resolve( artifact, remoteRepositories, localRepository );
+        try
+        {
+            artifactResolver.resolve( artifact, remoteRepositories, localRepository );
+        }
+        finally
+        {
+            buildContextManager.clearBuildContext();
+        }
+            buildContextManager = (BuildContextManager) container.lookup( BuildContextManager.ROLE );
+
+        buildContextManager.clearBuildContext();
+
+
+            buildContextManager.clearBuildContext();
