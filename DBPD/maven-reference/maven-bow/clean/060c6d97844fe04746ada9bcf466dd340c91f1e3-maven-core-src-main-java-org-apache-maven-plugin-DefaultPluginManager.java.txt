o all core tests pass again, on to ITs


git-svn-id: https://svn.apache.org/repos/asf/maven/components/branches/MNG-2766@774620 13f79535-47bb-0310-9956-ffa450edef68

-// TODO: separate out project downloading, something should decide before the plugin executes. it should not happen inside this
+// TODO: rework the plugin classloader/plugin descriptor caching
+// TODO: surface all exceptions to the handler: get rid of generic useless exceptions
-                
-        return getPluginDescriptor( plugin );
+        
+        PluginDescriptor pluginDescriptor = getPluginDescriptor( plugin );
+        pluginDescriptor.setArtifacts( new ArrayList<Artifact>( pluginArtifacts ) );
+        
+        return pluginDescriptor;
-        throws MojoFailureException, PluginExecutionException, PluginConfigurationException
-    {
+        throws MojoFailureException, MojoExecutionException, PluginConfigurationException, PluginExecutionException
+    {        
-        catch ( MojoExecutionException e )
-        {
-            throw new PluginExecutionException( mojoExecution, project, e );
-        }
-        catch ( MojoFailureException e )
-        {
-            throw e;
-        }
-
