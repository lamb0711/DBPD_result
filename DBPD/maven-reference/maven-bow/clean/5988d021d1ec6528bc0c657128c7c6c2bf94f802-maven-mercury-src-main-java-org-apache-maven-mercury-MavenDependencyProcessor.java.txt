Fixed interpolation in maven-mercury.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@768140 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Arrays;
+import org.apache.maven.model.PomClassicDomainModel;
-        List<DomainModel> domainModels = new ArrayList<DomainModel>();
+        List<PomClassicDomainModel> domainModels = new ArrayList<PomClassicDomainModel>();
-            List<DomainModel> parentModels = getParentsOfDomainModel( domainModel, mdReader );
+            List<PomClassicDomainModel> parentModels = getParentsOfDomainModel( domainModel, mdReader );
+        List<DomainModel> iModels = new ArrayList<DomainModel>();
+
+        
-			return new MavenDomainModel(new DefaultInterpolator().interpolateDomainModel(ProcessorContext.build(domainModels, null), 
-					interpolatorProperties)).getDependencyMetadata();
+            for(PomClassicDomainModel m : domainModels)
+            {
+            	iModels.add(new DefaultInterpolator().interpolateDomainModel(m, interpolatorProperties));
+            }
+            iModels.get(0).setMostSpecialized(true);
+                	
+			return new MavenDomainModel(ProcessorContext.build(iModels, null)).getDependencyMetadata();
-			throw new DependencyProcessorException();
+			throw new DependencyProcessorException(e);
-    protected final List<DomainModel> getParentsOfDomainModel( MavenDomainModel domainModel, MetadataReader mdReader )
+    protected final List<PomClassicDomainModel> getParentsOfDomainModel( MavenDomainModel domainModel, MetadataReader mdReader )
-        List<DomainModel> domainModels = new ArrayList<DomainModel>();
+        List<PomClassicDomainModel> domainModels = new ArrayList<PomClassicDomainModel>();
