PR: MNG-613
make repository metadata behave more like snapshots with daily updates.
next step is to move the version checking to use that instead and fallback to the old files

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@266298 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.repository.metadata.RepositoryMetadata;
-        path.append( metadata.getArtifactId() ).append( PATH_SEPARATOR );
-        if ( metadata.storedInArtifactDirectory() )
+        if ( !metadata.storedInGroupDirectory() )
-            path.append( metadata.getBaseVersion() ).append( PATH_SEPARATOR );
+            path.append( metadata.getArtifactId() ).append( PATH_SEPARATOR );
+
+            if ( metadata.storedInArtifactVersionDirectory() )
+            {
+                path.append( metadata.getBaseVersion() ).append( PATH_SEPARATOR );
+            }
-    public String pathOfRepositoryMetadata( RepositoryMetadata metadata )
-    {
-        String file = metadata.getRepositoryPath();
-
-        String result;
-        int lastSlash = file.lastIndexOf( PATH_SEPARATOR );
-
-        if ( lastSlash > -1 )
-        {
-            String filePart = file.substring( lastSlash );
-
-            String dirPart = file.substring( 0, lastSlash );
-
-            result = formatAsDirectory( dirPart ) + filePart;
-        }
-        else
-        {
-            result = file;
-        }
-        return result;
-    }
-
