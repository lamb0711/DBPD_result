remove legacy metadata handling

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@292155 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.metadata.LegacyArtifactMetadata;
-import org.apache.maven.artifact.metadata.SnapshotArtifactMetadata;
-import org.apache.maven.artifact.repository.ArtifactRepositoryPolicy;
-import org.apache.maven.wagon.ResourceDoesNotExistException;
+import java.text.DateFormat;
+import java.text.SimpleDateFormat;
+import java.util.TimeZone;
+    private static final TimeZone UTC_TIME_ZONE = TimeZone.getTimeZone( "UTC" );
+
+    private static final String UTC_TIMESTAMP_PATTERN = "yyyyMMdd.HHmmss";
+
-            deploymentTimestamp = SnapshotArtifactMetadata.getUtcDateFormatter().format( new Date() );
+            deploymentTimestamp = getUtcDateFormatter().format( new Date() );
-    protected LegacyArtifactMetadata createLegacyMetadata( Artifact artifact )
-    {
-        return new SnapshotArtifactMetadata( artifact );
-    }
-
-        else
-        {
-            try
-            {
-                SnapshotArtifactMetadata snapshotMetadata = new SnapshotArtifactMetadata( artifact );
-                snapshotMetadata.retrieveFromRemoteRepository( remoteRepository, wagonManager,
-                                                               ArtifactRepositoryPolicy.CHECKSUM_POLICY_WARN );
-                getLogger().warn( "Using old-style versioning metadata from remote repo for " + artifact );
-
-                buildNumber = snapshotMetadata.getBuildNumber();
-            }
-            catch ( ResourceDoesNotExistException e1 )
-            {
-                // safe to ignore, use default snapshot data
-                getLogger().debug( "Unable to find legacy metadata - ignoring" );
-            }
-        }
+    public static DateFormat getUtcDateFormatter()
+    {
+        DateFormat utcDateFormatter = new SimpleDateFormat( UTC_TIMESTAMP_PATTERN );
+        utcDateFormatter.setTimeZone( UTC_TIME_ZONE );
+        return utcDateFormatter;
+    }
