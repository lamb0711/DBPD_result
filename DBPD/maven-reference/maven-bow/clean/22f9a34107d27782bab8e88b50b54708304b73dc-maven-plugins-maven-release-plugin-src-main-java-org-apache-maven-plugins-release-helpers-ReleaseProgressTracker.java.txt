various release plugin fixes

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@279240 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.plugin.MojoExecutionException;
-    public static final String CP_SNAPSHOTS_CHECKED = "snapshots-checked";
-
-    private ReleaseProgressTracker()
+    private ReleaseProgressTracker( Properties properties )
+        this.releaseProperties = properties;
-        ReleaseProgressTracker tracker = null;
+        ReleaseProgressTracker tracker;
-            tracker = new ReleaseProgressTracker();
+            tracker = create();
+    public static ReleaseProgressTracker create()
+    {
+        return new ReleaseProgressTracker( new Properties() );
+    }
+
-        ReleaseProgressTracker tracker = new ReleaseProgressTracker();
-
+        Properties rp;
-            Properties rp = new Properties();
+            rp = new Properties();
-
-            tracker.releaseProperties = rp;
-        return tracker;
+        return new ReleaseProgressTracker( rp );
-    private void checkInitialized()
-    {
-        if ( releaseProperties == null )
-        {
-            releaseProperties = new Properties();
-        }
-    }
-
-    private void checkLoaded()
-    {
-        if ( releaseProperties == null )
-        {
-            throw new IllegalStateException( "You must load this instance before reading from it." );
-        }
-    }
-
-        checkInitialized();
-
-        checkLoaded();
-
-        checkInitialized();
-
-        checkLoaded();
-
-        checkInitialized();
-
-        checkLoaded();
-
-        checkInitialized();
-
-        checkLoaded();
-
-        checkInitialized();
-
-        checkInitialized();
-
-    public void verifyResumeCapable()
-        throws MojoExecutionException
-    {
-        if ( getUsername() == null || getScmTag() == null || getScmTagBase() == null || getScmUrl() == null )
-        {
-            throw new MojoExecutionException( "Missing release preparation information. Failed to resume" );
-        }
-    }
-
-        checkInitialized();
-
-        checkLoaded();
-
