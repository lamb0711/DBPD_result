[MNG-3951] Hide drive-relative paths from plugins

o Merged from r739385

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@739735 13f79535-47bb-0310-9956-ffa450edef68

-    private String FILE_SEPARATOR = "/";
-
+        if ( path == null )
+        {
+            return null;
+        }
+
-        if ( requiresBaseDirectoryAlignment( s ) )
+        File file = new File( s );
+        if ( file.isAbsolute() )
+            // path was already absolute, just normalize file separator and we're done
+            s = file.getPath();
+        }
+        else if ( file.getPath().startsWith( File.separator ) )
+        {
+            // drive-relative Windows path, don't align with project directory but with drive root
+            s = file.getAbsolutePath();
+        }
+        else
+        {
+            // an ordinary relative path, align with project directory
-    private boolean requiresBaseDirectoryAlignment( String s )
-    {
-        if ( s != null )
-        {
-            File f = new File( s );
-
-            if ( s.startsWith( FILE_SEPARATOR ) || f.isAbsolute() )
-            {
-                return false;
-            }
-            else
-            {
-                return true;
-            }
-        }
-
-        return false;
-    }
-
