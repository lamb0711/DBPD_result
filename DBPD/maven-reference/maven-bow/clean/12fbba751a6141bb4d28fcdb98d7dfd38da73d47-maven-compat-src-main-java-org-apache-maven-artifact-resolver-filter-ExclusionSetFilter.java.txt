[MNG-4041] embedder returns stale maven project state
Submitted by: Igor Fedorenko

o Committed additional patch with bugfixes including minor modifications:
  - used LinkedHashSet instead of HashSet/TreeSet
  - added missing license headers

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@786882 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.HashSet;
+import java.util.LinkedHashSet;
-        this.excludes = new HashSet<String>( Arrays.asList( excludes ) );
+        this.excludes = new LinkedHashSet<String>( Arrays.asList( excludes ) );
-        return !excludes.contains(artifact.getArtifactId());
+        return !excludes.contains( artifact.getArtifactId() );
+    }
+
+    @Override
+    public int hashCode()
+    {
+        int hash = 17;
+        hash = hash * 31 + excludes.hashCode();
+        return hash;
+    }
+
+    @Override
+    public boolean equals( Object obj )
+    {
+        if ( this == obj )
+        {
+            return true;
+        }
+        
+        if ( !( obj instanceof ExclusionSetFilter ) )
+        {
+            return false;
+        }
+        
+        ExclusionSetFilter other = (ExclusionSetFilter) obj;
+        
+        return excludes.equals( other.excludes );
