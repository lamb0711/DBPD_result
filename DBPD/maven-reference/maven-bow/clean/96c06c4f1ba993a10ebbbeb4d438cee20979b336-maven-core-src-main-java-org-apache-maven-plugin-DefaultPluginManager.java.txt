o Added back some code to actually throw exceptions and abort the normal control flow in case artifact resolution fails

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@750029 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.resolver.ResolutionErrorHandler;
+    private ResolutionErrorHandler resolutionErrorHandler;
+
+    @Requirement
-        
-        if ( result.hasExceptions() )
-        {
-            result.getExceptions().get(  0 ).printStackTrace();
-        }
+        resolutionErrorHandler.throwErrors( request, result );
-        if ( result.hasErrorArtifactExceptions() )
+        if ( result.hasMissingArtifacts() )
-            if ( isAggregator && checkMissingArtifactsInReactor( context.getSortedProjects(), result.getMissingArtifacts() ) )
+            if ( isAggregator
+                && checkMissingArtifactsInReactor( context.getSortedProjects(), result.getMissingArtifacts() ) )
-            }
-            else
-            {
-                //we can't find all the artifacts in the reactor so bubble the exception up.
-                throw result.getErrorArtifactExceptions().get( 0 );
+                // all found, so clear up the result state to prevent the error handler from blowing up
+                result.setUnresolvedArtifacts( null );
+        resolutionErrorHandler.throwErrors( request, result );
