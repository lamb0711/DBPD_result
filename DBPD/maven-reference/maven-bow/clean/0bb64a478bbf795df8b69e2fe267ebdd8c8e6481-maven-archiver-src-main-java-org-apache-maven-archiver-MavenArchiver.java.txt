PR: MNG-742
Submitted by: Timothy Bennett
Reviewed by: Brett Porter
allow addition of custom entries to the manifest

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@239374 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Map;
-    
+
-        
+
-        
+
-            Manifest.Attribute buildNumberAttr = new Manifest.Attribute( "Build-Number", "" + project.getSnapshotDeploymentBuildNumber() );
+            Manifest.Attribute buildNumberAttr = new Manifest.Attribute( "Build-Number", "" +
+                project.getSnapshotDeploymentBuildNumber() );
-        
+
-        
+
-        
+
+        // any custom manifest entries in the archive configuration manifest?
+        if ( !archiveConfiguration.isManifestEntriesEmpty() )
+        {
+            Map entries = archiveConfiguration.getManifestEntries();
+            Set keys = entries.keySet();
+            for ( Iterator iter = keys.iterator(); iter.hasNext(); )
+            {
+                String key = (String) iter.next();
+                String value = (String) entries.get( key );
+                Manifest.Attribute attr = new Manifest.Attribute( key, value );
+                manifest.addConfiguredAttribute( attr );
+            }
+        }
+
