MNG-1488: added global scope defaultJavaBundleDir property. If set, all Java modules without a custom bundleDir are placed in the default bundle directory. See howto for an example.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@332974 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.plugin.MojoFailureException;
+import java.util.Set;
+
+
-    public JavaModule( Artifact a )
+    public JavaModule( Artifact a, String defaultJavaBundleDir )
+        setJavaBundleDir( defaultJavaBundleDir );
+
+    public void resolveArtifact( Set artifacts, String defaultJavaBundleDir )
+        throws MojoFailureException
+    {
+        // Let's resolve the artifact
+        super.resolveArtifact( artifacts, defaultJavaBundleDir );
+
+        // If the defaultJavaBundleDir is set and no bundle dir is
+        // set, set the default as bundle dir
+        setJavaBundleDir( defaultJavaBundleDir );
+    }
+
+
+    private void setJavaBundleDir( String defaultJavaBundleDir )
+    {
+        if ( defaultJavaBundleDir != null && bundleDir == null )
+        {
+            this.bundleDir = defaultJavaBundleDir;
+        }
+    }
