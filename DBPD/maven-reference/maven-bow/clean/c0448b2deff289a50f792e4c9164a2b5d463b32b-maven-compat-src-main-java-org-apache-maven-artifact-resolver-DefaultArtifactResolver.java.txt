[MNG-4500] [regression] Maven checks for updates of timestamped snapshots

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@892597 13f79535-47bb-0310-9956-ffa450edef68

-            boolean localCopy = isLocalCopy( artifact );
-
-            if ( ( force || !destination.exists() || ( artifact.isSnapshot() && !localCopy ) ) && !request.isOffline() )
+            if ( !request.isOffline() && ( force || !destination.exists() || isMutable( artifact ) ) )
-            if ( artifact.isSnapshot() && !artifact.getBaseVersion().equals( artifact.getVersion() ) )
+            if ( artifact.isSnapshot() && isTimestamped( artifact ) )
-        
+
+    private boolean isMutable( Artifact artifact )
+    {
+        return artifact.isSnapshot() && !isTimestamped( artifact ) && !isLocalCopy( artifact );
+    }
+
+    private boolean isTimestamped( Artifact artifact )
+    {
+        return !artifact.getBaseVersion().equals( artifact.getVersion() );
+    }
+
