need to use all test classpath artifacts, not just runtime

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@330010 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.DependencyResolutionRequiredException;
+import java.util.Arrays;
+
-            for ( Iterator i = getRuntimeClasspathArtifacts().iterator(); i.hasNext(); )
+            List testClasspathElements = project.getTestArtifacts();
+            for ( Iterator i = testClasspathElements.iterator(); i.hasNext(); )
-     * Get the list of Classpath Artifacts
-     *
-     * @return List of artifacts that are Classpath Elements
-     */
-    private List getRuntimeClasspathArtifacts()
-    {
-        Set artifacts = project.getArtifacts();
-        
-        if ( artifacts == null ||  artifacts.isEmpty() ) return Collections.EMPTY_LIST;
-        
-        ScopeArtifactFilter scopeFilter = new ScopeArtifactFilter( Artifact.SCOPE_RUNTIME );
-        
-        List list = new ArrayList();
-        
-        for ( Iterator i = artifacts.iterator(); i.hasNext(); )
-        {
-            Artifact artifact = (Artifact) i.next();
-            
-            if ( artifact.getArtifactHandler().isAddedToClasspath() && scopeFilter.include( artifact ) )
-            {
-                list.add( artifact );
-            }
-        }
-        
-        return list;
-    }
-
-    /**
