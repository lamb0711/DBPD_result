[MNG-4744] Validate coordinates of dependency exclusions

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@980725 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.Exclusion;
-        validateId( prefix + "artifactId", problems, d.getArtifactId(), d.getManagementKey(), d );
+        validateId( prefix + "artifactId", problems, Severity.ERROR, d.getArtifactId(), d.getManagementKey(), d );
-        validateId( prefix + "groupId", problems, d.getGroupId(), d.getManagementKey(), d );
+        validateId( prefix + "groupId", problems, Severity.ERROR, d.getGroupId(), d.getManagementKey(), d );
+
+        if ( request.getValidationLevel() >= ModelBuildingRequest.VALIDATION_LEVEL_MAVEN_2_0 )
+        {
+            for ( Exclusion exclusion : d.getExclusions() )
+            {
+                validateId( prefix + "exclusions.exclusion.groupId", problems, Severity.WARNING,
+                            exclusion.getGroupId(), d.getManagementKey(), exclusion );
+
+                validateId( prefix + "exclusions.exclusion.artifactId", problems, Severity.WARNING,
+                            exclusion.getArtifactId(), d.getManagementKey(), exclusion );
+            }
+        }
-        return validateId( fieldName, problems, id, null, tracker );
+        return validateId( fieldName, problems, Severity.ERROR, id, null, tracker );
-    private boolean validateId( String fieldName, ModelProblemCollector problems, String id, String sourceHint,
-                                InputLocationTracker tracker )
+    private boolean validateId( String fieldName, ModelProblemCollector problems, Severity severity, String id,
+                                String sourceHint, InputLocationTracker tracker )
-        if ( !validateStringNotEmpty( fieldName, problems, Severity.ERROR, id, sourceHint, tracker ) )
+        if ( !validateStringNotEmpty( fieldName, problems, severity, id, sourceHint, tracker ) )
-                addViolation( problems, Severity.ERROR, fieldName, sourceHint, "with value '" + id
+                addViolation( problems, severity, fieldName, sourceHint, "with value '" + id
