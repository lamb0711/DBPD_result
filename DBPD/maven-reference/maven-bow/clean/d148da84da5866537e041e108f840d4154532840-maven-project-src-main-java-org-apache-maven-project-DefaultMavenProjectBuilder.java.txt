o Fixed path normalization/alignment

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@761356 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.shared.model.ModelProperty;
-        }      
-            try
-            {
-                PomClassicDomainModel dm = ProcessorContext.mergeProfilesIntoModel( projectProfiles, domainModel );
-                ProcessorContext.interpolateModelProperties( dm.getModelProperties(),
-                                                             interpolatorProperties, dm );
-                dm = new PomClassicDomainModel( dm.getModelProperties(), false );
-                model = dm.getModel();
-            }
-            catch ( IOException e )
-            {
+        }
-                throw new ProjectBuildingException(projectId, "", projectDescriptor, e);
-            }   
+        try
+        {
+            PomClassicDomainModel dm = ProcessorContext.mergeProfilesIntoModel( projectProfiles, domainModel );
+            List<ModelProperty> mps = dm.getModelProperties();
+            ProcessorContext.interpolateModelProperties( mps, interpolatorProperties, dm );
+            if ( dm.getProjectDirectory() != null )
+            {
+                mps = ProcessorContext.alignPaths( mps, dm.getProjectDirectory() );
+            }
+            dm = new PomClassicDomainModel( mps, false );
+            model = dm.getModel();
+        }
+        catch ( IOException e )
+        {
+
+            throw new ProjectBuildingException( projectId, "", projectDescriptor, e );
+        }   
