o Revised transfer listener to provide better feedback

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@828026 13f79535-47bb-0310-9956-ffa450edef68

-    private long complete;
-    public void transferInitiated( ArtifactTransferEvent transferEvent )
-    {
-        super.transferInitiated( transferEvent );
-
-        complete = 0;
-
-        if ( !showEvent( transferEvent ) )
-        {
-            return;
-        }
-
-        String message =
-            transferEvent.getRequestType() == ArtifactTransferEvent.REQUEST_PUT ? "Uploading" : "Downloading";
-
-        String url = transferEvent.getSource().toString();
-
-        System.out.println( message + ": " + url + "/" + transferEvent.getResource().getName() );
-    }
-
-    public void transferProgress( ArtifactTransferEvent transferEvent, byte[] buffer, int length )
+    @Override
+    protected void doProgress( ArtifactTransferEvent transferEvent, long transferred, byte[] buffer, int offset,
+                               int length )
-        complete += length;
-
-        if ( !showEvent( transferEvent ) )
-        {
-            return;
-        }
+        long complete = transferred;
-            System.out.print(
-                ( complete / 1024 ) + "/" + ( total == -1 ? "?" : ( total / 1024 ) + "K" )
-                    + "\r" );
+            System.out.print( ( complete / 1024 ) + "/" + ( total == -1 ? "?" : ( total / 1024 ) + "K" ) + "\r" );
-}
+}
