o Added model and builder support for Profiles specified in settings.xml, profiles.xml, and the POM.
o Changed MBoot and Verifier accordingly.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@179233 13f79535-47bb-0310-9956-ffa450edef68

-    String[] builds = new String[]{"maven-model", "maven-settings", "maven-monitor", "maven-plugin-api",
+    String[] builds = new String[]{"maven-model", "maven-settings", "maven-profile", "maven-monitor", "maven-plugin-api",
+        targetVersions.put( "maven-profile", "1.0.0" );
+        modelFiles.put( "maven-profile", "profiles.mdo" );
-            Profile activeProfile = userModelReader.getActiveProfile();
-
-            if ( mavenRepoLocal == null && activeProfile != null )
-            {
-                mavenRepoLocal = new File( activeProfile.getLocalRepo() ).getAbsolutePath();
-            }
+            mavenRepoLocal = userModelReader.getLocalRepository();
-            System.out.println( "  <profiles>" );
-            System.out.println( "    <profile>" );
-            System.out.println( "      <active>true</active>" );
-            System.out.println( "      <localRepository>/path/to/your/repository</localRepository>" );
-            System.out.println( "    </profile>" );
-            System.out.println( "  </profiles>" );
+            System.out.println( "  <localRepository>/path/to/your/repository</localRepository>" );
-        private List profiles = new ArrayList();
-
-        private Profile currentProfile = null;
-
-        private Profile activeProfile = null;
-
-
-        public Profile getActiveProfile()
+        
+        private String localRepository;
+        
+        public String getLocalRepository()
-            return activeProfile;
+            return localRepository;
-            if ( "profile".equals( rawName ) )
+            if ( "localRepository".equals( rawName ) )
-                if ( notEmpty( currentProfile.getLocalRepo() ) )
+                if ( notEmpty( currentBody.toString() ) )
-                    profiles.add( currentProfile );
-                    currentProfile = null;
+                    localRepository = currentBody.toString().trim();
-            else if ( currentProfile != null )
-            {
-                if ( "active".equals( rawName ) )
-                {
-                    currentProfile.setActive( Boolean.valueOf( currentBody.toString().trim() ).booleanValue() );
-                }
-                else if ( "localRepository".equals( rawName ) )
-                {
-                    currentProfile.setLocalRepo( currentBody.toString().trim() );
-                }
-                else
-                {
-                    throw new SAXException( "Illegal element inside profile: \'" + rawName + "\'" );
-                }
-            }
-                if ( profiles.size() == 1 )
-                {
-                    activeProfile = (Profile) profiles.get( 0 );
-                }
-                else
-                {
-                    for ( Iterator it = profiles.iterator(); it.hasNext(); )
-                    {
-                        Profile profile = (Profile) it.next();
-                        if ( profile.isActive() )
-                        {
-                            activeProfile = profile;
-                        }
-                    }
-                }
-            if ( "profile".equals( rawName ) )
-            {
-                currentProfile = new Profile();
-            }
-            else if ( "proxy".equals( rawName ) )
+            if ( "proxy".equals( rawName ) )
-            this.activeProfile = null;
-            this.currentProfile = null;
-            this.profiles.clear();
+            this.localRepository = null;
-    public static class Profile
-    {
-        private String localRepo;
-
-        private boolean active = false;
-
-        public void setLocalRepo( String localRepo )
-        {
-            this.localRepo = localRepo;
-        }
-
-        public boolean isActive()
-        {
-            return active;
-        }
-
-        public void setActive( boolean active )
-        {
-            this.active = active;
-        }
-
-        public String getLocalRepo()
-        {
-            return localRepo;
-        }
-    }
-
