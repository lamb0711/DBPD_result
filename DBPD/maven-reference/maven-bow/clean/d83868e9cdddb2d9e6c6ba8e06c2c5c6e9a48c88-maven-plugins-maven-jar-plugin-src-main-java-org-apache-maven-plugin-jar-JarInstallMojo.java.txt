*** empty log message ***


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@162928 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.Artifact;
+import org.apache.maven.artifact.DefaultArtifact;
+import org.apache.maven.artifact.installer.ArtifactInstaller;
+import org.apache.maven.artifact.repository.ArtifactRepository;
-import org.apache.maven.artifact.installer.ArtifactInstaller;
-import org.codehaus.plexus.util.FileUtils;
-
-import java.io.File;
- * @description install a jar in local repository
+ * @description installs project's main artifact in local repository
+ *
+ * @parameter name="project"
+ * type="org.apache.maven.project.MavenProject"
+ * required="true"
+ * validator=""
+ * expression="#project"
+ * description=""
+ *
+ * @parameter name="installer"
+ * type="org.apache.maven.artifact.installer.ArtifactInstaller"
+ * required="true"
+ * validator=""
+ * expression="#component.org.apache.maven.artifact.installer.ArtifactInstaller"
+ * description=""
+ *
+ * @parameter name="localRepository"
+ * type="org.apache.maven.artifact.repository.ArtifactRepository"
+ * required="true"
+ * validator=""
+ * expression="#localRepository"
+ * description=""
- * @parameter
- *  name="jarName"
- *  type="String"
- *  required="true"
- *  validator=""
- *  expression="#maven.final.name"
- *  description=""
- *
- * @parameter
- *  name="outputDirectory"
- *  type="String"
- *  required="true"
- *  validator=""
- *  expression="#project.build.directory"
- *  description=""
- *
- * @parameter
- *  name="project"
- *  type="org.apache.maven.project.MavenProject"
- *  required="true"
- *  validator=""
- *  expression="#project"
- *  description=""
- *
- * @parameter
- *  name="installer"
- *  type="org.apache.maven.artifact.installer.ArtifactInstaller"
- *  required="true"
- *  validator=""
- *  expression="#component.org.apache.maven.artifact.installer.ArtifactInstaller"
- *  description=""
-        String outputDirectory = (String) request.getParameter( "outputDirectory" );
-
-        String jarName = (String) request.getParameter( "jarName" );
-
-        File jarFile = new File( outputDirectory, jarName + ".jar" );
-
-        artifactInstaller.install( jarFile, "jar", project );
+        ArtifactRepository localRepository = (ArtifactRepository) request.getParameter( "localRepository" );
+
+        Artifact artifact = new DefaultArtifact( project.getGroupId(),
+                                                 project.getArtifactId(),
+                                                 project.getVersion(),
+                                                 project.getType() );
+
+        artifactInstaller.install( project.getBuild().getDirectory(), artifact, localRepository );
