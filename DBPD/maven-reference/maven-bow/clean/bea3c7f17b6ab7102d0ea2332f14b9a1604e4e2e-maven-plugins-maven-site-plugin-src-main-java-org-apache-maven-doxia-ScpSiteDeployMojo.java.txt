o Throwing an exception if the procotol isn't 'scp' as that's the only protocol
  this provider currently supports.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@233310 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.Site;
-        File zipFile = null;
+        File zipFile;
-                String msg = "distributionManagement element is missing in the POM: " + project.getId();
-
-                throw new MojoExecutionException( msg );
+                throw new MojoExecutionException( "Missing distribution management information in the project" );
-            if ( distributionManagement.getSite() == null )
+            Site site = distributionManagement.getSite();
+
+            if ( site == null )
-                String msg = "distributionManagement/site element is missing in the POM: " + project.getId();
-
-                throw new MojoExecutionException( msg );
-
+                throw new MojoExecutionException( "Missing site information in the distribution management element in the project.." );
-            String url = distributionManagement.getSite().getUrl();
+            String url = site.getUrl();
-            String id = distributionManagement.getSite().getId();
+            String id = site.getId();
-                String msg = "distributionManagement/site/url element is missing in the POM: " + project.getId();
-
-                throw new MojoExecutionException( msg );
-
+                throw new MojoExecutionException( "The URL to the site is missing in the project descriptor." );
+            if ( !"scp".equals( repository.getProtocol() ) )
+            {
+                throw new MojoExecutionException( "The deploy mojo currently only supports site deployment using the 'scp' protocol." );
+            }
+
