[MNG-1412,4027] - dependency order from profile.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@763150 13f79535-47bb-0310-9956-ffa450edef68

+
+        	List<Profile> externalProfiles = new ArrayList<Profile>();
-    			logger.debug("Merging profile into model (build): Model = " + domainModel.getId() + ", Profile = " + p.getId() );
+            	if(!"pom".equals(p.getSource()))
+            	{
+            		logger.debug("Merging profile into model (build): Model = " + domainModel.getId() + ", Profile = " + p.getId() );
+            		externalProfiles.add(p);
+            	}   			
-            domainModel = ProcessorContext.mergeProfilesIntoModel( projectProfiles, domainModel );
+            domainModel = ProcessorContext.mergeProfilesIntoModel( externalProfiles, domainModel );
-        }  		
+        }
+        
