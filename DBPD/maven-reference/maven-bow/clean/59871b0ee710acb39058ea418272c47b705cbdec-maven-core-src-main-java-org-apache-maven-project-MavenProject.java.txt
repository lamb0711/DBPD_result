o Fixed backward-compat

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@831410 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.LinkedHashSet;
+import org.apache.maven.project.artifact.InvalidDependencyVersionException;
+import org.apache.maven.project.artifact.MavenMetadataSource;
+        throws InvalidDependencyVersionException
-        Set<Artifact> artifacts = new LinkedHashSet<Artifact>();
-
-        for ( Dependency d : getDependencies() )
-        {
-            Artifact dependencyArtifact =
-                repositorySystem.createArtifact( d.getGroupId(), d.getArtifactId(), d.getVersion(), d.getScope(),
-                                                 d.getType() );
-
-            if ( filter == null || filter.include( dependencyArtifact ) )
-            {
-                artifacts.add( dependencyArtifact );
-            }
-        }
-
-        return artifacts;        
+        return MavenMetadataSource.createArtifacts( artifactFactory, getDependencies(), inheritedScope, filter, this );
