o Updated profile selector to support collecting activation errors

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@782293 13f79535-47bb-0310-9956-ffa450edef68

-    public List<Profile> getActiveProfiles( Collection<Profile> profiles, ProfileActivationContext context )
-        throws ProfileActivationException
+    public ProfileSelectionResult getActiveProfiles( Collection<Profile> profiles, ProfileActivationContext context )
+        List<ProfileActivationException> activationExceptions = new ArrayList<ProfileActivationException>();
+
-                if ( activatedIds.contains( profile.getId() ) || isActive( profile, context ) )
+                if ( activatedIds.contains( profile.getId() ) || isActive( profile, context, activationExceptions ) )
-        return activeProfiles;
+        ProfileSelectionResult result = new ProfileSelectionResult();
+        result.setActiveProfiles( activeProfiles );
+        result.setActivationExceptions( activationExceptions );
+
+        return result;
-    private boolean isActive( Profile profile, ProfileActivationContext context )
-        throws ProfileActivationException
+    private boolean isActive( Profile profile, ProfileActivationContext context,
+                              List<ProfileActivationException> exceptions )
-            if ( activator.isActive( profile, context ) )
+            try
-                return true;
+                if ( activator.isActive( profile, context ) )
+                {
+                    return true;
+                }
+            }
+            catch ( ProfileActivationException e )
+            {
+                exceptions.add( e );
