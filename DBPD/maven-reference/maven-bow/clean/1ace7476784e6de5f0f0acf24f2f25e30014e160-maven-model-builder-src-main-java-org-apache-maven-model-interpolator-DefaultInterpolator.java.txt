o Guarded against NPE in case no project directory is available as in the case of repo artifacts

git-svn-id: https://svn.apache.org/repos/asf/maven/components/branches/MNG-2766@778491 13f79535-47bb-0310-9956-ffa450edef68

-        String basedir = projectDirectory.getAbsolutePath();
-        standardInterpolatorProperties.add( new InterpolatorProperty( "${project.basedir}", basedir, PomInterpolatorTag.PROJECT_PROPERTIES.name() ) );
-        standardInterpolatorProperties.add( new InterpolatorProperty( "${basedir}", basedir, PomInterpolatorTag.PROJECT_PROPERTIES.name() ) );
-        standardInterpolatorProperties.add( new InterpolatorProperty( "${pom.basedir}", basedir, PomInterpolatorTag.PROJECT_PROPERTIES.name() ) );
+        String basedir = null;
+        if ( projectDirectory != null )
+        {
+            basedir = projectDirectory.getAbsolutePath();
+            standardInterpolatorProperties.add( new InterpolatorProperty( "${project.basedir}", basedir,
+                                                                          PomInterpolatorTag.PROJECT_PROPERTIES.name() ) );
+            standardInterpolatorProperties.add( new InterpolatorProperty( "${basedir}", basedir,
+                                                                          PomInterpolatorTag.PROJECT_PROPERTIES.name() ) );
+            standardInterpolatorProperties.add( new InterpolatorProperty( "${pom.basedir}", basedir,
+                                                                          PomInterpolatorTag.PROJECT_PROPERTIES.name() ) );
-        String baseuri = projectDirectory.toURI().toString();
-        standardInterpolatorProperties.add( new InterpolatorProperty( "${project.baseUri}", baseuri, PomInterpolatorTag.PROJECT_PROPERTIES.name() ) );
-        standardInterpolatorProperties.add( new InterpolatorProperty( "${pom.baseUri}", baseuri, PomInterpolatorTag.PROJECT_PROPERTIES.name() ) );
+            String baseuri = projectDirectory.toURI().toString();
+            standardInterpolatorProperties.add( new InterpolatorProperty( "${project.baseUri}", baseuri,
+                                                                          PomInterpolatorTag.PROJECT_PROPERTIES.name() ) );
+            standardInterpolatorProperties.add( new InterpolatorProperty( "${pom.baseUri}", baseuri,
+                                                                          PomInterpolatorTag.PROJECT_PROPERTIES.name() ) );
+        }
-        		if ( !file.isAbsolute() && !mp.getResolvedValue().startsWith( "${project.build." ) && !mp.getResolvedValue().equals( "${project.basedir}" ) )
+        		if ( !file.isAbsolute() && !mp.getResolvedValue().startsWith( "${project.build." )
+                    && !mp.getResolvedValue().equals( "${project.basedir}" ) && basedir != null )
