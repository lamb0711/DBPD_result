[MNG-6656] Introduce base for build/consumer pom

+import javax.inject.Inject;
+import org.apache.maven.model.building.ModelSourceTransformer;
+import org.apache.maven.model.building.TransformerContext;
+import org.apache.maven.model.building.TransformerException;
+    @Inject
+    private ModelSourceTransformer transformer;
+    public void setTransformer( ModelSourceTransformer transformer )
+    {
+        this.transformer = transformer;
+    }
+    
-        Model model = read( new FileInputStream( input ), options );
+        TransformerContext context = null;
+        if ( options != null )
+        {
+            context = (TransformerContext) options.get( "transformerContext" );
+        }        
-        model.setPomFile( input );
+        final InputStream is;
+        if ( context == null )
+        {
+            is = new FileInputStream( input );
+        }
+        else
+        {
+            try
+            {
+                is = transformer.transform( input.toPath(), context );
+            }
+            catch ( TransformerException e )
+            {
+                throw new IOException( "Failed to transform " + input,  e );
+            }
+        }
-        return model;
+        try ( InputStream in = is )
+        {
+            Model model = read( is, options );
+
+            model.setPomFile( input );
+
+            return model;
+        }
