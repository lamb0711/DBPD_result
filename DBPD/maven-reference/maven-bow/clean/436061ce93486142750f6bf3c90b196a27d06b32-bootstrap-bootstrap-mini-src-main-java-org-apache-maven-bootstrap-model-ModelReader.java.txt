build plugins


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@344983 13f79535-47bb-0310-9956-ffa450edef68

+            else if ( rawName.equals( "optional" ) )
+            {
+                currentDependency.setOptional( Boolean.valueOf( getBodyText() ).booleanValue() );
+            }
-            if ( !excluded.contains( dependency.getConflictId() ) )
+            if ( !excluded.contains( dependency.getConflictId() ) && !dependency.isOptional() )
-                                                     dependency.getVersion(),
-                                                     dependency.getScope(), resolveTransitiveDependencies, excluded,
-                                                     dependency.getChain() );
+                                                     dependency.getVersion(), dependency.getScope(),
+                                                     resolveTransitiveDependencies, excluded, dependency.getChain() );
-                if ( !hasDependency( d, target ) && !excluded.contains( d.getConflictId() ) )
+                if ( !hasDependency( d, target ) && !excluded.contains( d.getConflictId() ) && !d.isOptional() )
