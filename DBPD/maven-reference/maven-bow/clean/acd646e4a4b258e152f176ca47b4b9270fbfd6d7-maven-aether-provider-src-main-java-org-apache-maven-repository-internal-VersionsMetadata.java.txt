[MNG-4952] [regression] RELEASE field of repository metadata is not updated upon repeated deployments

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@1054683 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.ArrayList;
+import java.util.Collection;
+import java.util.LinkedHashSet;
+    @Override
+    protected void merge( Metadata recessive )
+    {
+        Versioning versioning = metadata.getVersioning();
+        versioning.updateTimestamp();
+
+        if ( recessive.getVersioning() != null )
+        {
+            if ( versioning.getLatest() == null )
+            {
+                versioning.setLatest( recessive.getVersioning().getLatest() );
+            }
+            if ( versioning.getRelease() == null )
+            {
+                versioning.setRelease( recessive.getVersioning().getRelease() );
+            }
+
+            Collection<String> versions = new LinkedHashSet<String>( recessive.getVersioning().getVersions() );
+            versions.addAll( versioning.getVersions() );
+            versioning.setVersions( new ArrayList<String>( versions ) );
+        }
+    }
+
