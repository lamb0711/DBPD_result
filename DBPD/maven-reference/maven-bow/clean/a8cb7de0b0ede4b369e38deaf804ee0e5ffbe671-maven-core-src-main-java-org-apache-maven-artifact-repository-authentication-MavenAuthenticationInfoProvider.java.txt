o Added plugin version management/enforcement through the POM's build section.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163525 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.util.StringUtils;
-        ServerProfile serverProfile = UserModelUtils.getServerProfile( userModel, repo.getId() );
-
-        AuthenticationInfo info = new AuthenticationInfo();
-        if ( serverProfile != null )
+        String repoId = repo.getId();
+        if ( !StringUtils.isEmpty( repoId ) )
-            info.setUserName( serverProfile.getUsername() );
-            info.setPassword( serverProfile.getPassword() );
-            info.setPrivateKey( serverProfile.getPrivateKey() );
-            info.setPassphrase( serverProfile.getPassphrase() );
-        }
+            ServerProfile serverProfile = UserModelUtils.getServerProfile( userModel, repo.getId() );
-        repo.setAuthenticationInfo( info );
+            AuthenticationInfo info = new AuthenticationInfo();
+            if ( serverProfile != null )
+            {
+                info.setUserName( serverProfile.getUsername() );
+                info.setPassword( serverProfile.getPassword() );
+                info.setPrivateKey( serverProfile.getPrivateKey() );
+                info.setPassphrase( serverProfile.getPassphrase() );
+            }
+
+            repo.setAuthenticationInfo( info );
+        }
