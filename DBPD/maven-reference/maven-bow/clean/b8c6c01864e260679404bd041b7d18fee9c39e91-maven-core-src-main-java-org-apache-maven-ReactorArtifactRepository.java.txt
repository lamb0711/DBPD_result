o pushing up the dependency downloading logic into the lifecycle executor


git-svn-id: https://svn.apache.org/repos/asf/maven/components/branches/MNG-2766@773662 13f79535-47bb-0310-9956-ffa450edef68

-
-    private Map<String,MavenProject> reactorProjects;
-    
-    public ReactorArtifactRepository( Map<String,MavenProject> reactorProjects )
+    private Map<String, MavenProject> reactorProjects;
+
+    public ReactorArtifactRepository( Map<String, MavenProject> reactorProjects )
-        
+
-                
+
-                        
+
-            
-            File classesDirectory = new File( project.getBuild().getOutputDirectory() );
-            
-            if( classesDirectory.exists() )
+
+            if ( artifact.getType().equals( "jar" ) )
-                artifact.setFile( classesDirectory );
-             
-                artifact.setFromAuthoritativeRepository( true );
+                File classesDirectory = new File( project.getBuild().getOutputDirectory() );
+
+                if ( classesDirectory.exists() )
+                {
+                    artifact.setFile( classesDirectory );
+
+                    artifact.setFromAuthoritativeRepository( true );
+
+                    artifact.setResolved( true );
+                }
+            }
+            else if ( artifact.getType().equals( "pom" ) )
+            {
+                artifact.setFile( project.getFile() );
-                artifact.setResolved( true );                
-            }            
+                artifact.setFromAuthoritativeRepository( true );
+
+                artifact.setResolved( true );
+            }
-        
+
+    public String getId()
+    {
+        return "reactor";
+    }
+
+    @Override
