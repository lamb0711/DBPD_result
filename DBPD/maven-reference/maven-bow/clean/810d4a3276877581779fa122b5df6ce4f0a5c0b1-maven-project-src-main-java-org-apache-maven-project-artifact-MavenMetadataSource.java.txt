PR: MNG-505
artifact refactoring to facilitate version ranges



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@219616 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.versioning.VersionRange;
-    public MavenMetadataSource( ArtifactResolver artifactResolver, MavenProjectBuilder projectBuilder,
-                                ArtifactFactory artifactFactory )
+    public MavenMetadataSource( MavenProjectBuilder projectBuilder, ArtifactFactory artifactFactory )
-        Artifact pomArtifact = artifactFactory.createArtifact( artifact.getGroupId(), artifact.getArtifactId(),
-                                                               artifact.getVersion(), artifact.getScope(), "pom" );
+        Artifact pomArtifact = artifactFactory.createProjectArtifact( artifact.getGroupId(), artifact.getArtifactId(),
+                                                               artifact.getVersion(), artifact.getScope() );
-            
-            Set artifacts = createArtifacts( artifactFactory, dependencies, artifact.getScope(), artifact.getDependencyFilter() );
-            
+
+            Set artifacts = createArtifacts( artifactFactory, dependencies, artifact.getScope(),
+                                             artifact.getDependencyFilter() );
+
-            Artifact artifact = artifactFactory.createArtifact( d.getGroupId(), d.getArtifactId(), d.getVersion(),
-                                                                d.getScope(), d.getType(), inheritedScope );
+            Artifact artifact = artifactFactory.createDependencyArtifact( d.getGroupId(), d.getArtifactId(),
+                                                                          new VersionRange( d.getVersion() ),
+                                                                          d.getType(), d.getScope(), inheritedScope );
