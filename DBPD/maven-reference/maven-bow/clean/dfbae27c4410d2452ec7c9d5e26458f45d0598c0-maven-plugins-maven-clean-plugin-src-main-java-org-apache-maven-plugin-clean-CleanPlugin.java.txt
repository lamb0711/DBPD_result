o Added first-pass logging and event-monitoring impls. Converted all System.out calls in maven-component plugins to use logger.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163457 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.monitor.logging.Log;
+    private Log log;
+
-        outputDirectory = (String) request.getParameter( "outputDirectory" );
-
-        failOnError = Boolean.valueOf( (String) request.getParameter( "failedOnError" ) ).booleanValue();
-        
-        if ( outputDirectory != null )
+        try
-            File dir = new File( outputDirectory );
+            outputDirectory = (String) request.getParameter( "outputDirectory" );
-            if ( dir.exists() && dir.isDirectory() )
+            failOnError = Boolean.valueOf( (String) request.getParameter( "failedOnError" ) ).booleanValue();
+            
+            log = request.getLog();
+
+            if ( outputDirectory != null )
-                log( "Deleting directory " + dir.getAbsolutePath() );
-                removeDir( dir );
+                File dir = new File( outputDirectory );
+
+                if ( dir.exists() && dir.isDirectory() )
+                {
+                    log( "Deleting directory " + dir.getAbsolutePath() );
+                    removeDir( dir );
+                }
+        finally
+        {
+            // clean up state.
+            failOnError = false;
+            outputDirectory = null;
+            log = null;
+        }
-        System.out.println( message );
+        log.info( message );
