revert <includes> and <excludes> in MDO to old format


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163666 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.util.StringUtils;
-            String includes = resource.getIncludes();
+            String includesAsString = "**/**";
-            if ( includes == null || includes.length() == 0 )
+            java.util.List includes = resource.getIncludes();
+            if ( includes != null && includes.size() > 0 )
-                includes = "**/**";
+                includesAsString = StringUtils.join( includes.iterator(), "," );
-            String excludes = resource.getExcludes();
+            List excludes = resource.getExcludes();
-            if ( excludes != null && excludes.length() > 0 )
+            if ( excludes == null )
-                excludes += ",";
+                excludes = resource.getDefaultExcludes();
-            excludes += listToString( resource.getDefaultExcludes() );
+            else
+            {
+                excludes = new ArrayList( excludes );
+                excludes.addAll( resource.getDefaultExcludes() );
+            }
-            List files = FileUtils.getFileNames( resourceDirectory, includes, excludes, false );
+            String excludesAsString = StringUtils.join( excludes.iterator(), "," );
+
+            List files = FileUtils.getFileNames( resourceDirectory, includesAsString, excludesAsString, false );
-    private String listToString( List list )
-    {
-        StringBuffer sb = new StringBuffer();
-
-        for ( int i = 0; i < list.size(); i++ )
-        {
-            sb.append( list.get( i ) );
-
-            if ( i != list.size() - 1 )
-            {
-                sb.append( "," );
-            }
-        }
-
-        return sb.toString();
-    }
-
