o Fixed parsing of default phase bindings

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@806005 13f79535-47bb-0310-9956-ffa450edef68

-            // TODO: remove hard coding
-            if ( phase.equals( "clean" ) )
-            {
-                Plugin plugin = new Plugin();
-                plugin.setGroupId( "org.apache.maven.plugins" );
-                plugin.setArtifactId( "maven-clean-plugin" );
-                plugin.setVersion( "2.3" );
-                mojoExecutions.add( new MojoExecution( plugin, "clean", "default-clean" ) );
-            }
-
+            Map<String, String> phaseToGoalMapping = null;
+
-                Map<String, String> lifecyclePhasesForPackaging = lifecycleConfiguration.getPhases();
-
+                phaseToGoalMapping = lifecycleConfiguration.getPhases();
+            }
+            else if ( lifecycle.getDefaultPhases() != null )
+            {
+                phaseToGoalMapping = lifecycle.getDefaultPhases();
+            }
+            
+            if ( phaseToGoalMapping != null )
+            {
-                for ( Map.Entry<String, String> goalsForLifecyclePhase : lifecyclePhasesForPackaging.entrySet() )
+                for ( Map.Entry<String, String> goalsForLifecyclePhase : phaseToGoalMapping.entrySet() )
-            else if ( lifecycle.getDefaultPhases() != null )
-            {
-                for ( String goals : lifecycle.getDefaultPhases() )
-                {
-                    parseLifecyclePhaseDefinitions( plugins, null, goals );
-                }
-            }
