o Fix prepare release for poms with non snapshot parent
o Fix version resolver for version without "-" like -alpha-2 but 1.0.2

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@279767 13f79535-47bb-0310-9956-ffa450edef68

-            String parentVersion = getVersionResolver().getResolvedVersion( parentProject.getGroupId(),
-                                                                            parentProject.getArtifactId() );
+            String parentVersion = null;
-            if ( isSnapshot( parentVersion ) )
+            if ( isSnapshot( parentProject.getVersion() ) )
-                throw new MojoExecutionException( "Can't release project due to non released parent." );
+                parentVersion = getVersionResolver().getResolvedVersion( parentProject.getGroupId(),
+                                                                         parentProject.getArtifactId() );
+
+                if ( parentVersion == null )
+                {
+                    parentVersion = parentProject.getVersion();
+                }
+
+                if ( isSnapshot( parentVersion ) )
+                {
+                    throw new MojoExecutionException( "Can't release project due to non released parent (" +
+                        parentProject.getGroupId() + ":" + parentProject.getArtifactId() + parentVersion + "." );
+                }
