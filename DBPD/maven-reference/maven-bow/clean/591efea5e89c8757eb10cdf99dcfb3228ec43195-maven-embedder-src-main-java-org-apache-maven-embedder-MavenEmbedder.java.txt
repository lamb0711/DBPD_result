Gather more information on settings validation

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@570805 13f79535-47bb-0310-9956-ffa450edef68

-import java.io.FileNotFoundException;
-        ConfigurationValidationResult result = new DefaultConfigurationValidationResult();
+        DefaultConfigurationValidationResult result = new DefaultConfigurationValidationResult();
-        Reader fileReader;
+        Reader fileReader = null;
-                new SettingsXpp3Reader().read( fileReader );
-            }
-            catch ( FileNotFoundException e )
-            {
-                result.setUserSettingsFilePresent( false );
+                result.setUserSettings( new SettingsXpp3Reader().read( fileReader ) );
-                result.setUserSettingsFileParses( false );
+                result.setUserSettingsException( e );
-                result.setUserSettingsFileParses( false );
+                result.setUserSettingsException( e );
+            }
+            finally
+            {
+                try
+                {
+                    fileReader.close();
+                }
+                catch ( IOException e )
+                {
+                    // nothing to do
+                }
-                new SettingsXpp3Reader().read( fileReader );
-            }
-            catch ( FileNotFoundException e )
-            {
-                result.setGlobalSettingsFilePresent( false );
+                result.setGlobalSettings( new SettingsXpp3Reader().read( fileReader ) );
-                result.setGlobalSettingsFileParses( false );
+                result.setGlobalSettingsException( e );
-                result.setGlobalSettingsFileParses( false );
+                result.setGlobalSettingsException( e );
+            }
+            finally
+            {
+                try
+                {
+                    fileReader.close();
+                }
+                catch ( IOException e )
+                {
+                    // nothing to do
+                }
