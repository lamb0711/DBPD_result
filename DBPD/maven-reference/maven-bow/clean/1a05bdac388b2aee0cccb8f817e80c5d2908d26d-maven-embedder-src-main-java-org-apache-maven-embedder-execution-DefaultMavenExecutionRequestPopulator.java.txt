o use the repositories passed into the request
o make sure that mirrors are processed correctly in that the mirror that is defined must use the layout and policies of the repository it is mirroring


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@750251 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.repository.DefaultArtifactRepository;
-                
+                                                
+                    // Make sure that we take the the properties of the repository we are mirroring we want to direct
+                    // all requests for this mirror at the mirror, but the mirror specification does not allow for
+                    // any of the regular settings.
+                    mirror.setLayout( repository.getLayout() );
+                    mirror.setSnapshotUpdatePolicy( repository.getSnapshots() );
+                    mirror.setReleaseUpdatePolicy( repository.getReleases() );                
+                    
