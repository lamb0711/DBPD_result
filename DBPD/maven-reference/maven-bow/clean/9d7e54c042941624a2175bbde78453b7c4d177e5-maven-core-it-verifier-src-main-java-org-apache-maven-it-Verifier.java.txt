o Added model and builder support for Profiles specified in settings.xml, profiles.xml, and the POM.
o Changed MBoot and Verifier accordingly.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@179233 13f79535-47bb-0310-9956-ffa450edef68

-import org.xml.sax.Attributes;
+
-
-                    Profile activeProfile = userModelReader.getActiveMavenProfile();
-
-                    repo = new File( activeProfile.getLocalRepo() ).getAbsolutePath();
+                    
+                    repo = new File( userModelReader.getLocalRepository() ).getAbsolutePath();
-                e.printStackTrace();
+                System.out.println(">>>>>> Error Stacktrace:");
+                e.printStackTrace(System.out);
+                System.out.println("<<<<<< Error Stacktrace");
-
-        private List profiles = new ArrayList();
-
-        private Profile currentProfile = null;
+        
+        private String localRepository;
-        private Profile activeMavenProfile = null;
-
-        public Profile getActiveMavenProfile()
+        public String getLocalRepository()
-            return activeMavenProfile;
+            return localRepository;
-            if ( "profile".equals( rawName ) )
+            if ( "localRepository".equals( rawName ) )
-                if ( notEmpty( currentProfile.getLocalRepo() ) )
+                if ( notEmpty( currentBody.toString() ) )
-                    profiles.add( currentProfile );
-                    currentProfile = null;
+                    localRepository = currentBody.toString().trim();
-            else if ( currentProfile != null )
-            {
-                if ( "active".equals( rawName ) )
-                {
-                    currentProfile.setActive( Boolean.valueOf( currentBody.toString().trim() ).booleanValue() );
-                }
-                else if ( "localRepository".equals( rawName ) )
-                {
-                    currentProfile.setLocalRepo( currentBody.toString().trim() );
-                }
-                else
-                {
-                    throw new SAXException( "Illegal element inside profile: \'" + rawName + "\'" );
-                }
-            }
-            else if ( "settings".equals( rawName ) )
-            {
-                if ( profiles.size() == 1 )
-                {
-                    activeMavenProfile = (Profile) profiles.get( 0 );
-                }
-                else
-                {
-                    for ( Iterator it = profiles.iterator(); it.hasNext(); )
-                    {
-                        Profile profile = (Profile) it.next();
-                        if ( profile.isActive() )
-                        {
-                            activeMavenProfile = profile;
-                        }
-                    }
-                }
-            }
-        public void startElement( String uri, String localName, String rawName, Attributes attributes )
-            throws SAXException
-        {
-            if ( "profile".equals( rawName ) )
-            {
-                currentProfile = new Profile();
-            }
-        }
-
-            this.activeMavenProfile = null;
-            this.currentProfile = null;
-            this.profiles.clear();
+            this.localRepository = null;
-    public static class Profile
-    {
-
-        private String localRepository;
-
-        private boolean active = false;
-
-        public void setLocalRepo( String localRepo )
-        {
-            this.localRepository = localRepo;
-        }
-
-        public String getLocalRepo()
-        {
-            return localRepository;
-        }
-
-        public void setActive( boolean active )
-        {
-            this.active = active;
-        }
-
-        public boolean isActive()
-        {
-            return active;
-        }
-
-    }
-
