o Revised transfer listener to provide better feedback

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@828026 13f79535-47bb-0310-9956-ffa450edef68

+    private String repositoryUrl;
+
-    public MavenArtifact( String name, long contentLength )
+    public MavenArtifact( String repositoryUrl, String name, long contentLength )
-        this.name = name;
+        if ( repositoryUrl == null )
+        {
+            this.repositoryUrl = "";
+        }
+        else if ( !repositoryUrl.endsWith( "/" ) && repositoryUrl.length() > 0 )
+        {
+            this.repositoryUrl = repositoryUrl + '/';
+        }
+        else
+        {
+            this.repositoryUrl = repositoryUrl;
+        }
+
+        if ( name == null )
+        {
+            this.name = "";
+        }
+        else if ( name.startsWith( "/" ) )
+        {
+            this.name = name.substring( 1 );
+        }
+        else
+        {
+            this.name = name;
+        }
+
+    /**
+     * The base URL of the repository, e.g. "http://repo1.maven.org/maven2/". Unless the URL is unknown, it will be
+     * terminated by a trailing slash.
+     * 
+     * @return The base URL of the repository or an empty string if unknown, never {@code null}.
+     */
+    public String getRepositoryUrl()
+    {
+        return repositoryUrl;
+    }
+
+    /**
+     * The path of the artifact relative to the repository's base URL.
+     * 
+     * @return The path of the artifact, never {@code null}.
+     */
+    /**
+     * Gets the full URL of the artifact.
+     * 
+     * @return The full URL of the artifact, never {@code null}.
+     */
+    public String getUrl()
+    {
+        return getRepositoryUrl() + getName();
+    }
+
+    /**
+     * The size of the artifact in bytes.
+     * 
+     * @return The of the artifact in bytes or a negative value if unknown.
+     */
+    @Override
+    public String toString()
+    {
+        return getUrl();
+    }
+
