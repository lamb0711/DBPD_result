merging changes from 1.0-alpha-1 branch that enable output to logs from a marmalade mojo.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163859 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.monitor.logging.Log;
+import java.io.PrintWriter;
+import java.io.StringWriter;
+
-
+        
+        StringWriter sOutWriter = new StringWriter();
+        PrintWriter outWriter = new PrintWriter(sOutWriter);
+        
+        context.setOutWriter(outWriter);
+        
+        StringWriter sErrWriter = new StringWriter();
+        PrintWriter errWriter = new PrintWriter(sErrWriter);
+        
+        context.setErrWriter(errWriter);
+        
-            FailureResponse failure = new MarmaladeMojoFailureResponse( script.getLocation(), e );
-            response.setExecutionFailure( failure );
+            throw e;
+        }
+        
+        StringBuffer output = sOutWriter.getBuffer();
+        if(output.length() > 0)
+        {
+            getLog().info(output);
+        }
+        
+        StringBuffer error = sErrWriter.getBuffer();
+        if(error.length() > 0)
+        {
+            getLog().error(error);
