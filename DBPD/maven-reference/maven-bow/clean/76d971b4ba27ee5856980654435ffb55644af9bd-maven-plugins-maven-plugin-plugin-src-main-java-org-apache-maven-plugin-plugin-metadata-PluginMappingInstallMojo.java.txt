Removing leftover lifecycle binding for ValidatePomMojo in the maven-plugin-plugin (removed that last night).

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@219716 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.repository.ArtifactRepository;
-import org.apache.maven.artifact.repository.metadata.RepositoryMetadataManager;
-import org.apache.maven.plugin.AbstractMojo;
-import org.apache.maven.project.MavenProject;
-
-import java.io.File;
-    extends AbstractMojo
+    extends AbstractPluginMappingMojo
-    /**
-     * @parameter expression="${project}"
-     * @required
-     * @readonly
-     */
-    private MavenProject project;
-
-    /**
-     * @parameter expression="${component.org.apache.maven.artifact.repository.metadata.RepositoryMetadataManager}"
-     * @required
-     * @readonly
-     */
-    private RepositoryMetadataManager repositoryMetadataManager;
-
-    /**
-     * @parameter expression="${localRepository}"
-     * @required
-     * @readonly
-     */
-    private ArtifactRepository localRepository;
-
-    /**
-     * @parameter expression="${project.build.directory}/repository-metadata"
-     * @required
-     * @readonly
-     */
-    private String outputDirectory;
-
-        ArtifactRepository distributionRepository = project.getDistributionManagementArtifactRepository();
-        
-        String remoteRepositoryId = distributionRepository.getId();
-        
-        RepositoryMetadata metadata = new PluginMappingMetadata( project.getGroupId() );
-
-        File updatedMetadataFile = new File( outputDirectory, metadata.getRepositoryPath() ).getAbsoluteFile();
-        
-        if ( !updatedMetadataFile.exists() )
-        {
-            throw new MojoExecutionException( "Cannot find updated " + metadata + " in file: \'" + updatedMetadataFile + "\'. This seems to indicate that the 'package' lifecycle phase didn't succeed." );
-        }
-        
-        metadata.setFile( updatedMetadataFile );
+        RepositoryMetadata metadata = new PluginMappingMetadata( getProject().getGroupId() );
-            repositoryMetadataManager.install( metadata, localRepository, remoteRepositoryId );
+            getRepositoryMetadataManager().resolveLocally( metadata, getLocalRepository() );
+            
+            updatePluginMap( metadata );
+
+            getRepositoryMetadataManager().install( metadata, getLocalRepository() );
