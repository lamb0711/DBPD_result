[MNG-4840] Prerequisites is not working on m3

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@1055174 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.plugin.MavenPluginManager;
+import org.apache.maven.plugin.PluginIncompatibleException;
+    private MavenPluginManager mavenPluginManager;
+
+    @Requirement
+        try
+        {
+            mavenPluginManager.checkRequiredMavenVersion( mojoDescriptor.getPluginDescriptor() );
+        }
+        catch ( PluginIncompatibleException e )
+        {
+            throw new LifecycleExecutionException( mojoExecution, session.getCurrentProject(), e );
+        }
+
