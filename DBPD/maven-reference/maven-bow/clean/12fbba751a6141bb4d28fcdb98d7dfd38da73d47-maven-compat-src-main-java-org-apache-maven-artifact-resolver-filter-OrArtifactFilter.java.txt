[MNG-4041] embedder returns stale maven project state
Submitted by: Igor Fedorenko

o Committed additional patch with bugfixes including minor modifications:
  - used LinkedHashSet instead of HashSet/TreeSet
  - added missing license headers

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@786882 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.ArrayList;
+import java.util.LinkedHashSet;
+import java.util.Set;
-    private Collection<ArtifactFilter> filters;
+    private Set<ArtifactFilter> filters;
-        this.filters = filters;
+        this.filters = new LinkedHashSet<ArtifactFilter>( filters );
-            filters = new ArrayList<ArtifactFilter>();
+            filters = new LinkedHashSet<ArtifactFilter>();
+    @Override
+    public int hashCode()
+    {
+        int hash = 17;
+        hash = hash * 31 + filters.hashCode();
+        return hash;
+    }
+
+    @Override
+    public boolean equals( Object obj )
+    {
+        if ( this == obj )
+        {
+            return true;
+        }
+        
+        if ( !( obj instanceof OrArtifactFilter ) )
+        {
+            return false;
+        }
+        
+        OrArtifactFilter other = (OrArtifactFilter) obj;
+        
+        return filters.equals( other.filters );
+    }
+    
