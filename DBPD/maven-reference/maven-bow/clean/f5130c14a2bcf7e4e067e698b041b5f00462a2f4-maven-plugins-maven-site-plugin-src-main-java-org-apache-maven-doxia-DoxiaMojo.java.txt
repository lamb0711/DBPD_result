MNG-661: added link between parent project and modules

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@226364 13f79535-47bb-0310-9956-ffa450edef68

+     * @parameter expression="${addModules}"
+     *            default-value="true"
+     */
+    private boolean addModules;
+    
+    /**
+
+                // Copy the generated site in parent site if needed to provide module links
+                if ( addModules )
+                {
+                    MavenProject parentProject = project.getParent();
+                    if ( parentProject != null )
+                    {
+                        // TODO Handle user plugin configuration
+                        File parentSiteDir = new File( parentProject.getBasedir(), parentProject.getBuild().getDirectory()
+                            + File.separator + "site" + File.separator + project.getArtifactId() );
+    
+                        if ( !parentSiteDir.exists() )
+                        {
+                            parentSiteDir.mkdirs();
+                        }
+    
+                        File siteDir = new File( outputDirectory );
+                        FileUtils.copyDirectoryStructure( siteDir, parentSiteDir );
+                    }
+                }
-        // TODO i18n
-        buffer.append( "<menu name=\"Project Documentation\">\n" );
+        buffer.append( "<menu name=\"" );
+        buffer.append( i18n.getString( "site-plugin", locale, "report.menu.projectdocumentation" ) );
+        buffer.append( "\">\n" );
+     * Generate a menu for modules
+     * 
+     * @param locale the locale wanted
+     * @return a XML menu for modules
+     */
+    private String getModulesMenu( Locale locale )
+    {
+        StringBuffer buffer = new StringBuffer();
+        buffer.append( "<menu name=\"" );
+        buffer.append( i18n.getString( "site-plugin", locale, "report.menu.projectmodules" ) );
+        buffer.append( "\">\n" );
+
+        List modules = project.getModules();
+        if ( project.getModules() != null )
+        {
+            for (Iterator it = modules.iterator(); it.hasNext();)
+            {
+                String module = (String)it.next();
+                
+                buffer.append( "    <item name=\"" );
+                buffer.append( module );
+                buffer.append( "\" href=\"" + module + "/index.html\"/>\n" );
+            }
+        }
+        
+        buffer.append( "</menu>\n" );
+
+        return buffer.toString();
+    }
+
+    /**
+     * Generate a menu for the parent project
+     * 
+     * @param locale the locale wanted
+     * @return a XML menu for the parent project
+     */
+    private String getProjectParentMenu( Locale locale )
+    {
+        StringBuffer buffer = new StringBuffer();
+        buffer.append( "<menu name=\"" );
+        buffer.append( i18n.getString( "site-plugin", locale, "report.menu.parentproject" ) );
+        buffer.append( "\">\n" );
+  
+        buffer.append( "    <item name=\"" );
+        buffer.append( project.getParent().getArtifactId() );
+        buffer.append( "\" href=\"../index.html\"/>\n" );
+        
+        buffer.append( "</menu>\n" );
+
+        return buffer.toString();
+    }
+    
+    /**
+        if ( project.getParent() != null )
+        {
+            props.put( "parentProject", getProjectParentMenu( locale ) );
+        }
+        
+        if ( addModules )
+        {
+            if ( ( project.getModules() != null ) && ( project.getModules().size() > 0 ) )
+            {
+                props.put( "modules", getModulesMenu( locale ) );
+            }
+        }
+
