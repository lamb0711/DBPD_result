[MNG-6168] Fix unclosed streams

-import org.codehaus.plexus.util.IOUtil;
-        try
+        try ( final Writer out = output )
-            SettingsXpp3Writer w = new SettingsXpp3Writer();
-            w.write( output, settings );
-        }
-        finally
-        {
-            IOUtil.close( output );
+            new SettingsXpp3Writer().write( out, settings );
-        try
+        String encoding = settings.getModelEncoding();
+        // TODO Use StringUtils here
+        if ( encoding == null || encoding.length() <= 0 )
-            String encoding = settings.getModelEncoding();
-            // TODO Use StringUtils here
-            if ( encoding == null || encoding.length() <= 0 )
-            {
-                encoding = "UTF-8";
-            }
-            write( new OutputStreamWriter( output, encoding ), options, settings );
+            encoding = "UTF-8";
-        finally
+
+        try ( final Writer out = new OutputStreamWriter( output, encoding ) )
-            IOUtil.close( output );
+            write( out, options, settings );
