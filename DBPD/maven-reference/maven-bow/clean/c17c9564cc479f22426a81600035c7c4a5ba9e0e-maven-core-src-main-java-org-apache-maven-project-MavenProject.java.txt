[MNG-3641] Lack of error checks on profiles

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@787045 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.LinkedHashMap;
+    private Map<String, List<String>> injectedProfileIds = new LinkedHashMap<String, List<String>>();
+
+    public void setInjectedProfileIds( String source, List<String> injectedProfileIds )
+    {
+        if ( injectedProfileIds != null )
+        {
+            this.injectedProfileIds.put( source, new ArrayList<String>( injectedProfileIds ) );
+        }
+        else
+        {
+            this.injectedProfileIds.remove( source );
+        }
+    }
+
+    /**
+     * Gets the identifiers of all profiles that contributed to this project's effective model. This includes active
+     * profiles from the project's POM and all its parent POMs as well as from external sources like the {@code
+     * settings.xml}. The profile identifiers are grouped by the identifier of their source, e.g. {@code
+     * <groupId>:<artifactId>:<version>} for a POM profile or {@code external} for profiles from the {@code
+     * settings.xml}.
+     * 
+     * @return The identifiers of all injected profiles, indexed by the source from which the profiles originated, never
+     *         {@code null}.
+     */
+    public Map<String, List<String>> getInjectedProfileIds()
+    {
+        return this.injectedProfileIds;
+    }
+
