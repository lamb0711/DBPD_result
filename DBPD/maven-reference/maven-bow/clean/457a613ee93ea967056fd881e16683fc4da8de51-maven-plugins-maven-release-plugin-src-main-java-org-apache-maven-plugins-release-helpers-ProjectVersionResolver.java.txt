various release plugin fixes

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@279256 13f79535-47bb-0310-9956-ffa450edef68

-        String projectId = ArtifactUtils.versionlessKey( project.getGroupId(), project.getArtifactId() );
-
-        String projectVersion = (String) resolvedVersions.get( projectId );
-
-        if ( projectVersion == null )
-        {
-            throw new IllegalArgumentException(
-                "Project \'" + projectId + "\' has not been resolved. Cannot increment an unresolved version." );
-        }
+        String projectVersion = project.getOriginalModel().getVersion();
+        String projectId = ArtifactUtils.versionlessKey( project.getGroupId(), project.getArtifactId() );
-
-                project.getOriginalModel().setVersion( projectVersion );
-
-                resolvedVersions.put( projectId, projectVersion );
+
+        project.getOriginalModel().setVersion( projectVersion );
+
+        resolvedVersions.put( projectId, projectVersion );
