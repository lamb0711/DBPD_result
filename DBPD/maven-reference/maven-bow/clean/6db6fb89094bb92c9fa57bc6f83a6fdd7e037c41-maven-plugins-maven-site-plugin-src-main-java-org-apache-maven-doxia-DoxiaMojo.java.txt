MNG-722: Applied changes proposed by Incze Lajos, ie using OutputStreamWriter(FileOutputStream(...), outputEncoding) instead of FileWriter(...). Added also the outputEncoding parameter in the default-site.xml.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@232989 13f79535-47bb-0310-9956-ffa450edef68

-import java.io.FileWriter;
+import java.io.OutputStreamWriter;
-                            siteRenderer.generateDocument( new FileWriter( outputFile ), template, attributes, sink,
-                                                           locale );
+                            siteRenderer.generateDocument( new OutputStreamWriter( new FileOutputStream( outputFile ),
+                                                                                   outputEncoding ), template,
+                                                           attributes, sink, locale );
+        props.put( "outputEncoding", outputEncoding );
+
-        siteRenderer.generateDocument( new FileWriter( new File( getOuputDirectory( locale ), outputFileName ) ),
+        File outputFile = new File( getOuputDirectory( locale ), outputFileName );
+        
+        siteRenderer.generateDocument( new OutputStreamWriter( new FileOutputStream( outputFile ), outputEncoding ),
-        siteRenderer.generateDocument( new FileWriter( new File( getOuputDirectory( locale ), outputFileName ) ),
-                                       template, attributes, sink, locale );
+        File outputFile = new File( getOuputDirectory( locale ), outputFileName );
+
+        siteRenderer.generateDocument( new OutputStreamWriter( new FileOutputStream( outputFile ) ), template,
+                                       attributes, sink, locale );
-        siteRenderer.generateDocument( new FileWriter( new File( getOuputDirectory( locale ), outputFileName ) ),
-                                       template, attributes, sink, locale );
+        File outputFile = new File( getOuputDirectory( locale ), outputFileName );
+
+        siteRenderer.generateDocument( new OutputStreamWriter( new FileOutputStream( outputFile ) ), template,
+                                       attributes, sink, locale );
