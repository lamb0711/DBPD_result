o use the class lookup method which will now automatically partition lookups based on the class
  submitted by: Dain Sundstrom



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@717964 13f79535-47bb-0310-9956-ffa450edef68

-            Map factories = container.lookupMap( ToolchainFactory.ROLE );
+            Map<String, ToolchainFactory> factories = container.lookupMap( ToolchainFactory.class );
-                        ToolchainFactory fact = (ToolchainFactory) factories.get( toolchainModel.getType() );
+                        ToolchainFactory fact = factories.get( toolchainModel.getType() );
-            Iterator it = factories.values().iterator();
-            while ( it.hasNext() )
+            for ( ToolchainFactory toolchainFactory : factories.values() )
-                ToolchainFactory fact = (ToolchainFactory) it.next();
-                ToolchainPrivate tool = fact.createDefaultToolchain();
+                ToolchainPrivate tool = toolchainFactory.createDefaultToolchain();
-                ToolchainFactory fact = (ToolchainFactory) container.lookup(ToolchainFactory.ROLE, type);
+                ToolchainFactory fact = container.lookup(ToolchainFactory.class, type);
