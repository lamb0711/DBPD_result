Removed the need for MavenMojoDescriptor (collapsed to just MojoDescriptor)...also partially setup the possibility for container-injected configurations, provided we enhance as described in getting-to-container-configured-mojos.apt.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@165378 13f79535-47bb-0310-9956-ffa450edef68

-import org.codehaus.plexus.component.repository.ComponentRequirement;
+import org.apache.maven.plugin.Mojo;
+import org.codehaus.plexus.component.repository.ComponentDescriptor;
+import org.codehaus.plexus.configuration.xml.XmlPlexusConfiguration;
-import java.util.ArrayList;
+    extends ComponentDescriptor
+    // TODO: share with type handler
+    public static String MAVEN_PLUGIN = "maven-plugin";
+
+    private static final String DEFAULT_INSTANTIATION_STRATEGY = "per-lookup";
+
-    private String implementation;
-
-    private String description;
-
-    private String instantiationStrategy = "per-lookup";
-
-    private List requirements;
-
-    private String language = DEFAULT_LANGUAGE;
+    private PlexusConfiguration mojoConfiguration;
-    private PlexusConfiguration configuration;
+    public MojoDescriptor()
+    {
+        setInstantiationStrategy( DEFAULT_INSTANTIATION_STRATEGY );
+        setComponentFactory( DEFAULT_LANGUAGE );
+    }
-    public String getImplementation()
-    {
-        return implementation;
-    }
-
-    public void setImplementation( String implementation )
-    {
-        this.implementation = implementation;
-    }
-
-    public String getDescription()
-    {
-        return description;
-    }
-
-    public void setDescription( String description )
-    {
-        this.description = description;
-    }
-
-    public String getInstantiationStrategy()
-    {
-        return instantiationStrategy;
-    }
-
-    public void setInstantiationStrategy( String instantiationStrategy )
-    {
-        this.instantiationStrategy = instantiationStrategy;
-    }
-
-        return language;
+        return getComponentFactory();
-        this.language = language;
+        setComponentFactory( language );
-    public void setRequirements( List requirements )
-    {
-        this.requirements = requirements;
-    }
-
-    public List getRequirements()
-    {
-        if ( requirements == null )
-        {
-            requirements = new ArrayList();
-        }
-        return requirements;
-    }
-
-    public void addRequirement( ComponentRequirement cr )
+    public PlexusConfiguration getMojoConfiguration()
-        getRequirements().add( cr );
+        if ( mojoConfiguration == null )
+        {
+            mojoConfiguration = new XmlPlexusConfiguration( "configuration" );
+        }
+        return mojoConfiguration;
-    public void setConfiguration( PlexusConfiguration configuration )
+    public void setMojoConfiguration( PlexusConfiguration mojoConfiguration )
-        this.configuration = configuration;
+        this.mojoConfiguration = mojoConfiguration;
-    public PlexusConfiguration getConfiguration()
+    public String getRole()
-        return configuration;
+        return Mojo.ROLE;
+
+    public String getRoleHint()
+    {
+        return getId();
+    }
+
+    public String getComponentType()
+    {
+        return MAVEN_PLUGIN;
+    }
+
