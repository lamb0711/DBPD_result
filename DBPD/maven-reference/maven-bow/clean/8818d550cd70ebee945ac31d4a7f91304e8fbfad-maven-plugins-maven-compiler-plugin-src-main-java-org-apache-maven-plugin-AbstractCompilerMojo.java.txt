PR: MNG-1210
Submitted by: Matthew Pocock
Reviewed by:  Brett Porter
Show command line options when forking the compiler
(applied with modifications)


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@321344 13f79535-47bb-0310-9956-ffa450edef68

-            staleSources = computeStaleSources( compilerConfiguration, compiler,
-                                                getSourceInclusionScanner( staleMillis ) );
+            staleSources =
+                computeStaleSources( compilerConfiguration, compiler, getSourceInclusionScanner( staleMillis ) );
+
+            if ( fork )
+            {
+                try
+                {
+                    String[] cl = compiler.createCommandLine( compilerConfiguration );
+                    if ( cl != null && cl.length > 0 )
+                    {
+                        StringBuffer sb = new StringBuffer();
+                        sb.append( cl[0] );
+                        for ( int i = 1; i < cl.length; i++ )
+                        {
+                            sb.append( " " );
+                            sb.append( cl[i] );
+                        }
+                        getLog().debug( "Command line options:" );
+                        getLog().debug( sb );
+                    }
+                }
+                catch ( CompilerException ce )
+                {
+                    getLog().debug( ce );
+                }
+            }
