if a version part has a leading 0, fallback to string comparison but to retain the extra 0.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@231016 13f79535-47bb-0310-9956-ffa450edef68

-                buildNumber = Integer.valueOf( part2 );
+                if ( part2.length() == 1 || !part2.startsWith( "0" ) )
+                {
+                    buildNumber = Integer.valueOf( part2 );
+                }
+                else
+                {
+                    qualifier = part2;
+                }
+            boolean fallback = false;
-                majorVersion = Integer.valueOf( tok.nextToken() );
+                majorVersion = getNextIntegerToken( tok );
-                    minorVersion = Integer.valueOf( tok.nextToken() );
+                    minorVersion = getNextIntegerToken( tok );
-                    incrementalVersion = Integer.valueOf( tok.nextToken() );
+                    incrementalVersion = getNextIntegerToken( tok );
-                    // qualifier is the whole version, including "-"
-                    qualifier = version;
-                    majorVersion = null;
-                    minorVersion = null;
-                    incrementalVersion = null;
+                    fallback = true;
+                fallback = true;
+            }
+
+            if ( fallback )
+            {
+                incrementalVersion = null;
+    private static Integer getNextIntegerToken( StringTokenizer tok )
+    {
+
+        String s = tok.nextToken();
+        if ( s.length() > 1 && s.startsWith( "0" ) )
+        {
+            throw new NumberFormatException( "Number part has a leading 0: '" + s + "'" );
+        }
+        return Integer.valueOf( s );
+    }
+
