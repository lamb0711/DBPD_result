PomClassicTransformer now using a factory to create domain model.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@720277 13f79535-47bb-0310-9956-ffa450edef68

+    private final DomainModelFactory factory;
+
+    public PomClassicTransformer(DomainModelFactory factory)
+    {
+        this.factory = factory;
+    }
+
-        String xml = null;
-        try
-        {
-            xml = ModelMarshaller.unmarshalModelPropertiesToXml( props, ProjectUri.baseUri );
-            return new PomClassicDomainModel( new MavenXpp3Reader().read( new StringReader( xml ) ) );
-        }
-        catch ( XmlPullParserException e )
-        {
-            throw new IOException( e + ":\r\n" + xml );
-        }
+        return factory.createDomainModel( props );
