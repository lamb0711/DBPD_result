[MNG-1703] <pluginManagement><dependencies> is not propagated to child POMs
Submitted by: Edwin Punzalan


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@379365 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.HashMap;
-        
+
+        child.setDependencies( mergeDependencyList( child.getDependencies(), parent.getDependencies() ) );
+
+
+    public static List mergeDependencyList( List child, List parent )
+    {
+        Map depsMap = new HashMap();
+
+        if ( parent != null )
+        {
+            for ( Iterator it = parent.iterator(); it.hasNext(); )
+            {
+                Dependency dependency = (Dependency) it.next();
+                depsMap.put( dependency.getManagementKey(), dependency );
+            }
+        }
+
+        if ( child != null )
+        {
+            for ( Iterator it = child.iterator(); it.hasNext(); )
+            {
+                Dependency dependency = (Dependency) it.next();
+                depsMap.put( dependency.getManagementKey(), dependency );
+            }
+        }
+
+        return new ArrayList( depsMap.values() );
+    }
+
