[MNG-2591 - Plugin config inheritance.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@758121 13f79535-47bb-0310-9956-ffa450edef68

-        /*
-        if(project.getRemoteArtifactRepositories() == null)
-        {
-            try
-            {
-                System.out.println(convertToDomainModel(project.getModel(), true).asString());
-            }
-            catch ( IOException e )
-            {
-                // TODO Auto-generated catch block
-                e.printStackTrace();
-            }
-        }
-        */
+
-
-        try
+        if(!projectProfiles.isEmpty())
-            PomClassicDomainModel dm = ProcessorContext.mergeProfilesIntoModel( projectProfiles, model, false );
-            ProcessorContext.interpolateModelProperties( dm.getModelProperties(),
-                                                         new ArrayList<InterpolatorProperty>(), dm );
-            dm = new PomClassicDomainModel( dm.getModelProperties(), false );
-            model = dm.getModel();
-        }
-        catch ( IOException e )
-        {
+            try
+            {
+                PomClassicDomainModel dm = ProcessorContext.mergeProfilesIntoModel( projectProfiles, model, false );
+                ProcessorContext.interpolateModelProperties( dm.getModelProperties(),
+                                                             new ArrayList<InterpolatorProperty>(), dm );
+                dm = new PomClassicDomainModel( dm.getModelProperties(), false );
+                model = dm.getModel();
+            }
+            catch ( IOException e )
+            {
-            throw new ProjectBuildingException(projectId, "", projectDescriptor, e);
+                throw new ProjectBuildingException(projectId, "", projectDescriptor, e);
+            }            
