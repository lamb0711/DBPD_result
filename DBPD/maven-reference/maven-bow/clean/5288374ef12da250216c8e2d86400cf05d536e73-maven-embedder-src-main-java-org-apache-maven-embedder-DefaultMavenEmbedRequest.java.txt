o fixes to the embedder for finding settings and cleaning up embedder initialization
  Submitted by: Eugene Kuleshov


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@505612 13f79535-47bb-0310-9956-ffa450edef68

+import org.codehaus.plexus.classworlds.ClassWorld;
-    /**
-     * List&lt;URL>.
-     */
+    /** List&lt;URL>. */
-    /**
-     * Creates a new instance of DefaultMavenEmbedRequest
-     */
+    private MavenEmbedderLogger logger;
+
+    private ClassWorld classWorld;
+
+    /** Creates a new instance of DefaultMavenEmbedRequest */
-    public MavenEmbedRequest setSystemProperties(Properties properties) 
+    public MavenEmbedRequest setSystemProperties( Properties properties )
-    public Properties getSystemProperties() 
+    public Properties getSystemProperties()
+
+    public MavenEmbedRequest setMavenEmbedderLogger( MavenEmbedderLogger logger )
+    {
+        this.logger = logger;
+        return this;
+    }
+
+    public MavenEmbedderLogger getMavenEmbedderLogger()
+    {
+        return logger;
+    }
+
+    public ClassWorld getClassWorld()
+    {
+        return classWorld;
+    }
+
+    public MavenEmbedRequest setClassWorld( ClassWorld classWorld )
+    {
+        this.classWorld = classWorld;
+        return this;
+    }
+
+    public MavenEmbedRequest setClassLoader( ClassLoader loader )
+    {
+        this.classWorld = new ClassWorld( "plexus.core", loader );
+        return this;
+    }
