[MNG-4298] Build MavenProject instances incrementally
Submitted by: Igor Fedorenko

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@803961 13f79535-47bb-0310-9956-ffa450edef68

-        CacheKey cacheKey = new CacheKey( artifact, resolveManagedVersions, localRepository, remoteRepositories );
+        CacheKey cacheKey = newCacheKey( artifact, resolveManagedVersions, localRepository, remoteRepositories );
-        CacheKey cacheKey = new CacheKey( artifact, resolveManagedVersions, localRepository, remoteRepositories );
+        put( newCacheKey( artifact, resolveManagedVersions, localRepository, remoteRepositories ), result );
+    }
+
+    protected CacheKey newCacheKey( Artifact artifact, boolean resolveManagedVersions,
+                                    ArtifactRepository localRepository, List<ArtifactRepository> remoteRepositories )
+    {
+        return new CacheKey( artifact, resolveManagedVersions, localRepository, remoteRepositories );
+    }
+
+    protected void put( CacheKey cacheKey, ResolutionGroup result )
+    {
