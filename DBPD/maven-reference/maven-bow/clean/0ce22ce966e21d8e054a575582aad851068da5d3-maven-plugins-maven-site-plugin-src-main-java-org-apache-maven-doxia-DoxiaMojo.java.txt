Allow user to change the template

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@179471 13f79535-47bb-0310-9956-ffa450edef68

+import java.net.MalformedURLException;
+import java.net.URL;
+import java.net.URLClassLoader;
-     * @parameterX expression="${template}
+     * @parameter expression="${templateDirectory}
+     */
+    private String templateDirectory;
+
+    /**
+     * @parameter expression="${template}
-     * @parameterX expression="${attributes}
+     * @parameter expression="${attributes}
-        siteRenderer.setTemplateClassLoader( DoxiaMojo.class.getClassLoader() );
+        if ( templateDirectory == null )
+        {
+            siteRenderer.setTemplateClassLoader( DoxiaMojo.class.getClassLoader() );
+        }
+        else
+        {
+            try
+            {
+                URL templateDirectoryUrl = new URL( templateDirectory );
+
+                URL[] urls = { templateDirectoryUrl };
+
+                URLClassLoader urlClassloader = new URLClassLoader( urls );
+
+                siteRenderer.setTemplateClassLoader( urlClassloader );
+            }
+            catch( MalformedURLException e )
+            {
+                throw new MojoExecutionException( templateDirectory + " isn't a valid URL." );
+            }
+        }
