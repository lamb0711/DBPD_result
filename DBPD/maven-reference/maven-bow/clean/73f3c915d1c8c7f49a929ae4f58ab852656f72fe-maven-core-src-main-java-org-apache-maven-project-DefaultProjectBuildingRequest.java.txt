o Decoupled project building request from model building request
o Moved model resolver into model building request

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@782223 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.model.DefaultModelBuildingRequest;
-import org.apache.maven.model.ModelBuildingRequest;
-    private ModelBuildingRequest modelBuildingRequest = new DefaultModelBuildingRequest().setProcessPlugins( true );
+    private boolean lenientValidation;
+
+    private boolean processPlugins;
+
+    private List<Profile> profiles;
+
+    private List<String> activeProfileIds;
+
+    private List<String> inactiveProfileIds;
+
+    private Properties executionProperties;
+
+    public DefaultProjectBuildingRequest()
+    {
+        processPlugins = true;
+        profiles = new ArrayList<Profile>();
+        activeProfileIds = new ArrayList<String>();
+        inactiveProfileIds = new ArrayList<String>();
+        executionProperties = new Properties();
+    }
-        return modelBuildingRequest.getExecutionProperties();
+        return executionProperties;
-        modelBuildingRequest.setExecutionProperties( executionProperties );
+        this.executionProperties.clear();
+        if ( executionProperties != null )
+        {
+            this.executionProperties.putAll( executionProperties );
+        }
+
-        return modelBuildingRequest.isProcessPlugins();
+        return processPlugins;
-        modelBuildingRequest.setProcessPlugins( processPlugins );
+        this.processPlugins = processPlugins;
-        modelBuildingRequest.setLenientValidation( lenientValidation );
+        this.lenientValidation = lenientValidation;
-        return modelBuildingRequest.istLenientValidation();
+        return lenientValidation;
-        return modelBuildingRequest.getActiveProfileIds();
+        return activeProfileIds;
-        modelBuildingRequest.setActiveProfileIds( activeProfileIds );
+        this.activeProfileIds.clear();
+        if ( activeProfileIds != null )
+        {
+            this.activeProfileIds.addAll( activeProfileIds );
+        }
-        return modelBuildingRequest.getInactiveProfileIds();
+        return inactiveProfileIds;
-        modelBuildingRequest.setInactiveProfileIds( inactiveProfileIds );
+        this.inactiveProfileIds.clear();
+        if ( inactiveProfileIds != null )
+        {
+            this.inactiveProfileIds.addAll( inactiveProfileIds );
+        }
-        modelBuildingRequest.setProfiles( profiles );
+        this.profiles.clear();
+        if ( profiles != null )
+        {
+            this.profiles.addAll( profiles );
+        }
-        modelBuildingRequest.getProfiles().add(profile);
+        profiles.add(profile);
-        return modelBuildingRequest.getProfiles();
-    }
-
-    public ModelBuildingRequest getModelBuildingRequest()
-    {
-        return modelBuildingRequest;
+        return profiles;
