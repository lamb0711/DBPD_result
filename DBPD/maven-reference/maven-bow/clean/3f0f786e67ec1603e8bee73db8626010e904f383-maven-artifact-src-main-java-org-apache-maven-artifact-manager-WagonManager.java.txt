transform deployment of SNAPSHOT.
Currently, the POM and artifact are deployed separately, causing an inconsistent version to be written out.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163684 13f79535-47bb-0310-9956-ffa450edef68

-    // TODO: don't throw exception
-    void releaseWagon( Wagon wagon )
-        throws Exception;
-
-    // TODO: don't throw exception
-        throws Exception;
+        throws TransferFailedException;
-    void getMetadata( ArtifactMetadata metadata, ArtifactRepository remoteRepository,
-                      ArtifactRepository localRepository )
+    public void putArtifactMetadata( File source, ArtifactMetadata artifactMetadata, ArtifactRepository repository )
+        throws TransferFailedException;
+
+    public void getArtifactMetadata( ArtifactMetadata metadata, ArtifactRepository remoteRepository, File destination )
