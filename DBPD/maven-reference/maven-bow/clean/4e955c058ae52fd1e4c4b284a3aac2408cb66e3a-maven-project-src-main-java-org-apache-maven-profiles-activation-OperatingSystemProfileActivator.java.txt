PR: MNG-1509
Submitted By: Bernd Bohmann
Reviewed By: John Casey

Applied patches. These patches added the OS activator to the component descriptor, fixed the activation implementation for it, and finally added a unit test for OS activation.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@355387 13f79535-47bb-0310-9956-ffa450edef68

-        
-        boolean hasNonNull = ensureAtLeastOneNonNull( os );
-        
-        boolean isFamily = determineFamilyMatch( os.getFamily() );
-        boolean isName = determineNameMatch( os.getName() );
-        boolean isArch = determineArchMatch( os.getArch() );
-        boolean isVersion = determineVersionMatch( os.getVersion() );
-        
-        return hasNonNull && isFamily && isName && isArch && isVersion;
+
+        boolean result = ensureAtLeastOneNonNull( os );
+
+        if ( result && os.getFamily() != null )
+        {
+            result = determineFamilyMatch( os.getFamily() );
+        }
+        if ( result && os.getName() != null )
+        {
+            result = determineNameMatch( os.getName() );
+        }
+        if ( result && os.getArch() != null )
+        {
+            result = determineArchMatch( os.getArch() );
+        }
+        if ( result && os.getVersion() != null )
+        {
+            result = determineVersionMatch( os.getVersion() );
+        }
+        return result;
-    
+
-        
+
-        
+
