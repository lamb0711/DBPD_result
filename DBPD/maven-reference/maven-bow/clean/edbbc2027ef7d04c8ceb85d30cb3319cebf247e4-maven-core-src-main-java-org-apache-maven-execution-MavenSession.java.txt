o Restored mojo context passing

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@788982 13f79535-47bb-0310-9956-ffa450edef68

+
+    private Map<String,Map<String,Map<String,Object>>>  pluginContextsByProjectAndPluginKey = new HashMap<String,Map<String,Map<String,Object>>> ();
-    public Map<String,Map<String,Object>> getPluginContext( PluginDescriptor pluginDescriptor, MavenProject project )
+    public Map<String, Object> getPluginContext( PluginDescriptor plugin, MavenProject project )
-        return new HashMap<String,Map<String,Object>>();
-    }    
+        String projectKey = project.getId();
-    /*
-    private Map pluginContextsByProjectAndPluginKey = new HashMap();
-    
-    public Map getPluginContext( PluginDescriptor plugin, MavenProject project )
-    {
-        Map pluginContextsByKey = (Map) pluginContextsByProjectAndPluginKey.get( project.getId() );
+        Map<String, Map<String, Object>> pluginContextsByKey = pluginContextsByProjectAndPluginKey.get( projectKey );
-            pluginContextsByKey = new HashMap();
+            pluginContextsByKey = new HashMap<String, Map<String, Object>>();
-            pluginContextsByProjectAndPluginKey.put( project.getId(), pluginContextsByKey );
+            pluginContextsByProjectAndPluginKey.put( projectKey, pluginContextsByKey );
-        Map pluginContext = (Map) pluginContextsByKey.get( plugin.getPluginLookupKey() );
+        String pluginKey = plugin.getPluginLookupKey();
+
+        Map<String, Object> pluginContext = pluginContextsByKey.get( pluginKey );
-            pluginContext = new HashMap();
-            pluginContextsByKey.put( plugin.getPluginLookupKey(), pluginContext );
+            pluginContext = new HashMap<String, Object>();
+
+            pluginContextsByKey.put( pluginKey, pluginContext );
-    */
-    
-}
+
+}
