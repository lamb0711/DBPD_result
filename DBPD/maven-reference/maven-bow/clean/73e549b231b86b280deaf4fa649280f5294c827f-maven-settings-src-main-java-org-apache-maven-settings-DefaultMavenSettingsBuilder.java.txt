o Fixing resolution of LATEST in plugin-versions, when <useLatest/> is enabled in plugin-registry.xml, or when --check-plugin-latest is specified on the command line.

o Fixing core-library resolution for expression: ${plugin.artifacts} and ${plugin.artifactMap} (latter is keyed by g:a)

o Modified maven-core-it-plugin to accept something like "-DartifactToFile=org.apache.maven:maven-artifact"...it'll lookup that artifact in ${plugin.artifactMap}, and touch a file that's a mutation of the abs. path for that artifact.

o Added pomArtifact to ResolutionGroup, since the MavenMetadataSource ALWAYS creates a new Artifact for a pom...this allows us to retrieve the resolved Artifact for that pom.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@225234 13f79535-47bb-0310-9956-ffa450edef68

+    
+    private Settings loadedSettings;
-        Settings globalSettings = readSettings( globalSettingsFile );
-        Settings userSettings = readSettings( userSettingsFile );
-
-        if ( userSettings == null )
+        if ( loadedSettings == null )
-            userSettings = new Settings();
-            userSettings.setRuntimeInfo( new RuntimeInfo( userSettings ) );
+            Settings globalSettings = readSettings( globalSettingsFile );
+            Settings userSettings = readSettings( userSettingsFile );
+
+            if ( userSettings == null )
+            {
+                userSettings = new Settings();
+                userSettings.setRuntimeInfo( new RuntimeInfo( userSettings ) );
+            }
+
+            SettingsUtils.merge( userSettings, globalSettings, TrackableBase.GLOBAL_LEVEL );
+
+            setLocalRepository( userSettings );
+            
+            loadedSettings = userSettings;
-        SettingsUtils.merge( userSettings, globalSettings, TrackableBase.GLOBAL_LEVEL );
-
-        setLocalRepository( userSettings );
-
-        return userSettings;
+        return loadedSettings;
