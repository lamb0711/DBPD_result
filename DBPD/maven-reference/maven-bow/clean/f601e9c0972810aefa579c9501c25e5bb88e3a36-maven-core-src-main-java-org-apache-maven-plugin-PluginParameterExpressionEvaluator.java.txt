[MNG-4423] Allow to query session data via plugin parameter expressions

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@831552 13f79535-47bb-0310-9956-ffa450edef68

+        else if ( expression.startsWith( "session" ) )
+        {
+            try
+            {
+                int pathSeparator = expression.indexOf( "/" );
+
+                if ( pathSeparator > 0 )
+                {
+                    String pathExpression = expression.substring( 1, pathSeparator );
+                    value = ReflectionValueExtractor.evaluate( pathExpression, session );
+                    value = value + expression.substring( pathSeparator );
+                }
+                else
+                {
+                    value = ReflectionValueExtractor.evaluate( expression.substring( 1 ), session );
+                }
+            }
+            catch ( Exception e )
+            {
+                // TODO: don't catch exception
+                throw new ExpressionEvaluationException( "Error evaluating plugin parameter expression: " + expression,
+                                                         e );
+            }
+        }
-        else if ("mojoExecution".equals(expression))
+        else if ( "mojoExecution".equals( expression ) )
-        	value = mojoExecution;
+            value = mojoExecution;
-        {            
+        {
