Fix: mng3746 - Implemented proper ordering of system, user and model properties used in interpolation. this required creating a tag value, which could be used for comparing and ordering of InterpolatorProperty.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@695196 13f79535-47bb-0310-9956-ffa450edef68

+                                                                      String interpolatorTag,
-            {
+            {   ip.setTag( interpolatorTag );
-                            ip.getValue().replaceAll( a.getKey(), a.getValue()) ) );
+                            ip.getValue().replaceAll( a.getKey(), a.getValue()),
+                            interpolatorTag) );
+        if( modelProperties == null )
+        {
+            throw new IllegalArgumentException("modelProperties: null");
+        }
+
+        if( interpolatorProperties == null )
+        {
+            throw new IllegalArgumentException("interpolatorProperties: null");
+        }
-        for ( InterpolatorProperty ip : interpolatorProperties )
+        LinkedHashSet<InterpolatorProperty> ips = new LinkedHashSet<InterpolatorProperty>();
+        ips.addAll(interpolatorProperties);
+
+        for ( InterpolatorProperty ip : ips)
-
-        for ( InterpolatorProperty ip : interpolatorProperties )
+        for ( InterpolatorProperty ip : ips )
-
