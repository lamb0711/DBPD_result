Storing plugin contexts by plugin and project in the release manager, and furnishing access to them via the session. This will restrict shared information scopes to the plugin AND the project, in a reactored situation.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@292105 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.plugin.descriptor.PluginDescriptor;
+    private Map pluginContextsByProjectAndPluginKey = new HashMap();
+
-
+    
+    
+    public Map getPluginContext( PluginDescriptor plugin, MavenProject project )
+    {
+        Map pluginContextsByKey = (Map) pluginContextsByProjectAndPluginKey.get( project.getId() );
+        
+        if ( pluginContextsByKey == null )
+        {
+            pluginContextsByKey = new HashMap();
+            pluginContextsByProjectAndPluginKey.put( project.getId(), pluginContextsByKey );
+        }
+        
+        Map pluginContext = (Map) pluginContextsByKey.get( plugin.getPluginLookupKey() );
+        
+        if ( pluginContext == null )
+        {
+            pluginContext = new HashMap();
+            pluginContextsByKey.put( plugin.getPluginLookupKey(), pluginContext );
+        }
+        
+        return pluginContext;
+    }
