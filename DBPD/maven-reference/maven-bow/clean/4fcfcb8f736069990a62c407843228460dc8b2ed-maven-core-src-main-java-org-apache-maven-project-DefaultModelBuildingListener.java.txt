MNG-5306 : introduce ModelProblemCollectorRequest and a new ModelProblem property - version which denotes on which validation level the error/warning applies. Additionally move the logic on failing the ModelBuilding from ModelProblemCollector to ModelBuilder's protected method to allow overriding. Default maven behaviour should stay the same.

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@1357589 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.building.ModelProblem.Version;
+import org.apache.maven.model.building.ModelProblemCollectorRequest;
-            event.getProblems().add( Severity.ERROR, "Invalid plugin repository: " + e.getMessage(), null, e );
+            event.getProblems().add( new ModelProblemCollectorRequest( Severity.ERROR, Version.BASE)
+                    .setMessage( "Invalid plugin repository: " + e.getMessage() )
+                    .setException( e ));
-                event.getProblems().add( Severity.ERROR, "Unresolveable build extension: " + e.getMessage(), null, e );
+                event.getProblems().add( new ModelProblemCollectorRequest( Severity.ERROR, Version.BASE)
+                        .setMessage( "Unresolveable build extension: " + e.getMessage())
+                        .setException( e ));
-                event.getProblems().add( Severity.ERROR, "Unresolveable build extension: " + e.getMessage(), null, e );
+                event.getProblems().add( new ModelProblemCollectorRequest( Severity.ERROR, Version.BASE)
+                        .setMessage( "Unresolveable build extension: " + e.getMessage() )
+                        .setException( e ));
-            event.getProblems().add( Severity.ERROR, "Invalid artifact repository: " + e.getMessage(), null, e );
+            event.getProblems().add( new ModelProblemCollectorRequest( Severity.ERROR, Version.BASE)
+                    .setMessage( "Invalid artifact repository: " + e.getMessage() )
+                    .setException( e ));
