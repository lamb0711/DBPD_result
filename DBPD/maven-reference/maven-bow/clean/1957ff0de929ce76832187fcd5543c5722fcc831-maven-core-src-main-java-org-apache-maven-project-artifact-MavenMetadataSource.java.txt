o Optimized performance

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@895249 13f79535-47bb-0310-9956-ffa450edef68

+    private static Properties envVars;
+
-        try
+        if ( envVars == null )
-            Properties envVars = CommandLineUtils.getSystemEnvVars();
-            for ( Entry<Object, Object> e : envVars.entrySet() )
+            Properties tmp = new Properties();
+            try
-                props.setProperty( "env." + e.getKey().toString(), e.getValue().toString() );
+                Properties env = CommandLineUtils.getSystemEnvVars();
+                for ( Entry<Object, Object> e : env.entrySet() )
+                {
+                    tmp.setProperty( "env." + e.getKey().toString(), e.getValue().toString() );
+                }
+            catch ( IOException e )
+            {
+                logger.debug( "Error getting environment variables: " + e );
+            }
+            envVars = tmp;
-        catch ( IOException e )
-        {
-            logger.debug( "Error getting environment variables: " + e );
-        }
+
+        props.putAll( envVars );
