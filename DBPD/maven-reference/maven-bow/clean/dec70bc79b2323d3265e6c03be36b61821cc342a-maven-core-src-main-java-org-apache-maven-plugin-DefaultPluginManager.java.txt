Update to latest HEAD of plexus-containers - getLookupRealm is now a PlexusContainer instance API method

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@498749 13f79535-47bb-0310-9956-ffa450edef68

-    
+
-        
+
-    
+
-        
+
-    
+
-        
+
-    
+
-        // TODO When/if we go to project-level plugin instances (like for plugin-level deps in the 
+        // TODO When/if we go to project-level plugin instances (like for plugin-level deps in the
-        
+
-        
+
-            ClassRealm oldRealm = DefaultPlexusContainer.setLookupRealm( pluginRealm );
+            ClassRealm oldRealm = container.setLookupRealm( pluginRealm );
-            DefaultPlexusContainer.setLookupRealm( oldRealm );
+            container.setLookupRealm( oldRealm );
-            ClassRealm oldRealm = DefaultPlexusContainer.setLookupRealm( realm );
-
+                ClassRealm oldRealm = container.setLookupRealm( realm );
+
+                getLogger().info( "Looking up mojo " + mojoDescriptor.getRoleHint() + " in realm " + realm.getId() + " - descRealmId=" + mojoDescriptor.getRealmId()  );
+
+
+                if ( plugin != null )
+                getLogger().info( "Looked up - " + plugin + " - " + plugin.getClass().getClassLoader() );
+                else// not needed i guess.
+                    getLogger().warn("No luck.");
+
+                container.setLookupRealm( oldRealm );
+                getLogger().info( "Looking up mojo " + mojoDescriptor.getRoleHint() + " in default realm " + container.getLookupRealm() + " - descRealmId=" + mojoDescriptor.getRealmId()  );
+
+
+                if ( plugin != null )
+                getLogger().info( "Looked up - " + plugin + " - " + plugin.getClass().getClassLoader() );
+                else// not needed i guess.
+                    getLogger().warn("No luck.");
+
-            DefaultPlexusContainer.setLookupRealm( oldRealm );
+
-            pluginRealm = DefaultPlexusContainer.getLookupRealm();
+            pluginRealm = container.getLookupRealm();
-        
+
-            pluginRealm = DefaultPlexusContainer.getLookupRealm();
+            pluginRealm = container.getLookupRealm();
