Removing maven-build-context, and replacing it with caching aspects for model-lineage stuff and project instances. Still needs caching for artifact resolution, and I have an aspect for this too, but it's not enabled yet, since it's still buggy.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@595215 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.repository.metadata.RepositoryMetadataManager;
-import org.apache.maven.context.BuildContextManager;
-import org.apache.maven.project.build.ProjectBuildCache;
-    private BuildContextManager buildContextManager;
-
-        ProjectBuildCache cache = ProjectBuildCache.read( buildContextManager );
-
-        MavenProject project;
+        MavenProject project = null;
-        project = cache.getCachedProject( artifactMetadata.getGroupId(), artifactMetadata.getArtifactId(), artifactMetadata.getVersion() );
-
-        if ( project == null )
+        try
-            try
+            project = mavenProjectBuilder.buildFromRepository( pomArtifact, remoteRepositories, localRepository );
+        }
+        catch ( InvalidProjectModelException e )
+        {
+            // We want to capture this in the graph so that we can display the error to the user
+        }
+        catch ( ProjectBuildingException e )
+        {
+            if ( strictlyEnforceThePresenceOfAValidMavenPOM )
-                project = mavenProjectBuilder.buildFromRepository( pomArtifact, remoteRepositories, localRepository );
-            }
-            catch ( InvalidProjectModelException e )
-            {
-                // We want to capture this in the graph so that we can display the error to the user
-            }
-            catch ( ProjectBuildingException e )
-            {
-                if ( strictlyEnforceThePresenceOfAValidMavenPOM )
-                {
-                    throw new MetadataRetrievalException(
-                        "Unable to read the metadata file for artifactMetadata '" +
-                            artifactMetadata.getDependencyConflictId() + "': " + e.getMessage(), e, artifactMetadata );
-                }
+                throw new MetadataRetrievalException(
+                    "Unable to read the metadata file for artifactMetadata '" +
+                        artifactMetadata.getDependencyConflictId() + "': " + e.getMessage(), e, artifactMetadata );
