[MNG-4795] [regression] Dependencies in forked reactor projects are not resolved when aggregator bound to lifecycle forks

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@996206 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.lifecycle.MavenExecutionPlan;
-    public void resolveDependencies( boolean aggregating, MavenProject currentProject,
-                                     MavenSession sessionForThisModule, MavenExecutionPlan executionPlan,
-                                     Set<Artifact> projectArtifacts )
-        throws LifecycleExecutionException
-    {
-        List<MavenProject> projectsToResolve = getProjects( currentProject, sessionForThisModule, aggregating );
-        resolveDependencies( aggregating, sessionForThisModule, executionPlan, projectsToResolve, projectArtifacts );
-    }
-
-    public void checkForUpdate( MavenSession session, DependencyContext dependenctContext )
-        throws LifecycleExecutionException
-    {
-
-        if ( dependenctContext.isSameButUpdatedProject( session ) )
-        {
-            resolveProjectDependencies( dependenctContext.getLastProject(), dependenctContext.getScopesToCollect(),
-                                         dependenctContext.getScopesToResolve(), session,
-                                         dependenctContext.isAggregating(), new HashSet<Artifact>() );
-        }
-
-        dependenctContext.setLastProject( session.getCurrentProject() );
-        dependenctContext.setLastDependencyArtifacts( session.getCurrentProject().getDependencyArtifacts() );
-    }
-
-    private void resolveDependencies( boolean aggregating, MavenSession session, MavenExecutionPlan executionPlan,
-                                       List<MavenProject> projectsToResolve, Set<Artifact> projectArtifacts )
-        throws LifecycleExecutionException
-    {
-        for ( MavenProject project : projectsToResolve )
-        {
-            resolveProjectDependencies( project, executionPlan.getRequiredCollectionScopes(),
-                                         executionPlan.getRequiredResolutionScopes(), session, aggregating,
-                                         projectArtifacts );
-        }
-    }
-
-    private void resolveProjectDependencies( MavenProject project, Collection<String> scopesToCollect,
-                                              Collection<String> scopesToResolve, MavenSession session,
-                                              boolean aggregating, Set<Artifact> projectArtifacts )
+    public void resolveProjectDependencies( MavenProject project, Collection<String> scopesToCollect,
+                                            Collection<String> scopesToResolve, MavenSession session,
+                                            boolean aggregating, Set<Artifact> projectArtifacts )
