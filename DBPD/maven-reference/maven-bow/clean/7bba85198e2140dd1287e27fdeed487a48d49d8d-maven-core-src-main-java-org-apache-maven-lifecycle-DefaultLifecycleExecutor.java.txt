Check if plugin contains some mojo, and send an exception instead of NullPointerException if it isn't the case.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@179369 13f79535-47bb-0310-9956-ffa450edef68

-        // TODO: should be able to create a Map from this
-        for ( Iterator i = pluginDescriptor.getMojos().iterator(); i.hasNext() && mojoDescriptor == null; )
+        if ( pluginDescriptor.getMojos() != null )
-            MojoDescriptor desc = (MojoDescriptor) i.next();
-            if ( desc.getGoal().equals( goal ) )
+            // TODO: should be able to create a Map from this
+            for ( Iterator i = pluginDescriptor.getMojos().iterator(); i.hasNext() && mojoDescriptor == null; )
-                mojoDescriptor = desc;
+                MojoDescriptor desc = (MojoDescriptor) i.next();
+                if ( desc.getGoal().equals( goal ) )
+                {
+                    mojoDescriptor = desc;
+                }
+        else
+        {
+            throw new LifecycleExecutionException( "The plugin " + pluginDescriptor.getGroupId() + ":" + 
+                                                   pluginDescriptor.getArtifactId() + ":" +
+                                                   pluginDescriptor.getVersion() +
+                                                   " doesn't contain any mojo. Check if it isn't corrupted." );
+        }
