PR: MNG-586
o update ant tasks to latest artifact library changes
o allow addition of extra wagons
o remove wagon-ssh and wagon-scm from depoloyed jar

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@239660 13f79535-47bb-0310-9956-ffa450edef68

-        ArtifactRepository deploymentRepository = createRemoteArtifactRepository( remoteRepository );
-
-        ArtifactRepository snapshotRepository = null;
-        if ( remoteSnapshotRepository != null )
-        {
-            snapshotRepository = createRemoteArtifactRepository( remoteSnapshotRepository );
-        }
-
+        ArtifactRepository deploymentRepository = createRemoteArtifactRepository( remoteRepository );
+
+        if ( remoteSnapshotRepository != null && artifact.isSnapshot() )
+        {
+            deploymentRepository = createRemoteArtifactRepository( remoteSnapshotRepository );
+        }
+
-        log( "Deploying to " + remoteRepository.getUrl() );
+        log( "Deploying to " + deploymentRepository.getUrl() );
