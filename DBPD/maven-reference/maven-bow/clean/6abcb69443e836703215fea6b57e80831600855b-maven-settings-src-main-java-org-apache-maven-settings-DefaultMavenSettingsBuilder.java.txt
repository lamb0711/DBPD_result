enable activeByDefault from settings.xml
PR: MNG-1586
Submitted by: Edwin Punzalan


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@355878 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Iterator;
+import java.util.List;
+            
+            activateDefaultProfiles( userSettings );
+    private void activateDefaultProfiles( Settings settings )
+    {
+        List activeProfiles = settings.getActiveProfiles();
+        
+        for( Iterator profiles = settings.getProfiles().iterator(); profiles.hasNext(); )
+        {
+            Profile profile = (Profile) profiles.next();
+            if ( profile.getActivation() != null && profile.getActivation().isActiveByDefault() )
+            {
+                if ( !activeProfiles.contains( profile.getId() ) )
+                {
+                    settings.addActiveProfile( profile.getId() );
+                }
+            }
+        }
+    }
+
