o adding method to the maven project builder that takes a transfer listener
as a parameter. this method is currently being used in the embedder

o see MNG-1015 for notes on where the monitor may be bested placed. if
everything eventually uses the embedder then it won't matter so much.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@291499 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.manager.WagonManager;
+import org.apache.maven.wagon.events.TransferListener;
+    // ----------------------------------------------------------------------
+    // I am making this available for use with a new method that takes a
+    // a monitor wagon monitor as a parameter so that tools can use the
+    // methods here and receive callbacks. MNG-1015
+    // ----------------------------------------------------------------------
+
+    private WagonManager wagonManager;
+
+    public MavenProject buildWithDependencies( File projectDescriptor,
+                                               ArtifactRepository localRepository,
+                                               ProfileManager profileManager )
+        throws ProjectBuildingException, ArtifactResolutionException
+    {
+        return buildWithDependencies( projectDescriptor, localRepository, profileManager, null );
+    }
+
-    public MavenProject buildWithDependencies( File projectDescriptor, ArtifactRepository localRepository,
-                                               ProfileManager profileManager )
+    public MavenProject buildWithDependencies( File projectDescriptor,
+                                               ArtifactRepository localRepository,
+                                               ProfileManager profileManager,
+                                               TransferListener transferListener )
+
+        if ( transferListener != null )
+        {
+            wagonManager.setDownloadMonitor( transferListener );
+        }
+
+
