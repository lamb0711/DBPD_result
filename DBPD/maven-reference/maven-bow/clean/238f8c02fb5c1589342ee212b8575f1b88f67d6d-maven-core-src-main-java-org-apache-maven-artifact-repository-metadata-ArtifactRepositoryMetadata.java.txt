[MNG-2994] Snapshot repositories are not checked when using ranges

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@932128 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.ArtifactUtils;
+import org.apache.maven.artifact.versioning.ArtifactVersion;
+import org.apache.maven.artifact.versioning.Restriction;
+import org.apache.maven.artifact.versioning.VersionRange;
+    public int getNature()
+    {
+        if ( artifact.getVersion() != null )
+        {
+            return artifact.isSnapshot() ? SNAPSHOT : RELEASE;
+        }
+
+        VersionRange range = artifact.getVersionRange();
+        if ( range != null )
+        {
+            for ( Restriction restriction : range.getRestrictions() )
+            {
+                if ( isSnapshot( restriction.getLowerBound() ) || isSnapshot( restriction.getUpperBound() ) )
+                {
+                    return RELEASE_OR_SNAPSHOT;
+                }
+            }
+        }
+
+        return RELEASE;
+    }
+
+    private boolean isSnapshot( ArtifactVersion version )
+    {
+        return version != null && ArtifactUtils.isSnapshot( version.getQualifier() );
+    }
+
