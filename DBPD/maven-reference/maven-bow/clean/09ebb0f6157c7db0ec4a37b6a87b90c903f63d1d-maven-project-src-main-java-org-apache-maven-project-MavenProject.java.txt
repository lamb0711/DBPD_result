Resolving: MNG-163

Use MavenProject.addResource(..) and .addTestResource(..) to perform this function. I've built a BuildOverlay to insulate the interpolated, initialized Model's Build instance from runtime changes to these, in a similar fashion to addCompileSourceRoots(..), because I wanted to preserve some compat with plugins using ${project.build.resources}.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@230920 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.Resource;
+import org.apache.maven.project.overlay.BuildOverlay;
+    private Build buildOverlay;
+
+        this.buildOverlay = new BuildOverlay( build );
+        
-        return model.getBuild();
+        if ( buildOverlay == null )
+        {
+            buildOverlay = new BuildOverlay( model.getBuild() );
+        }
+        
+        return buildOverlay;
+    }
+    
+    public List getResources()
+    {
+        return getBuild().getResources();
+    }
+
+    public List getTestResources()
+    {
+        return getBuild().getTestResources();
+    }
+
+    public void addResource( Resource resource )
+    {
+        getBuild().addResource( resource );
+    }
+
+    public void addTestResource( Resource testResource )
+    {
+        getBuild().addTestResource( testResource );
-
+    
