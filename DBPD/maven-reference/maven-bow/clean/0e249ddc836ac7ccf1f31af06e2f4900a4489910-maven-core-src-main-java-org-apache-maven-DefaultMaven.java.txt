reintroduce execution failures


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163412 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.execution.MavenProjectExecutionRequest;
-import org.codehaus.plexus.personality.plexus.lifecycle.phase.Contextualizable;
+import org.codehaus.plexus.personality.plexus.lifecycle.phase.Contextualizable;
-        MavenExecutionResponse response = new MavenExecutionResponse();
-
-        try
-        {
-            response.setStart( new Date() );
+        resolveParameters( request );
-            resolveParameters( request );
-
-            lifecycleExecutor.execute( request.getGoals(), session );
-
-            response.setFinish( new Date() );
-        }
-        catch ( Exception e )
-        {
-            response.setFinish( new Date() );
-
-            response.setException( e );
-
-            logError( response );
-
-            return;
-        }
+        MavenExecutionResponse response = lifecycleExecutor.execute( request.getGoals(), session );
-            logFailure( response );
+            if ( response.getException() != null )
+            {
+                logError( response );
+            }
+            else
+            {
+                logFailure( response );
+            }
-        MavenSession session = new MavenSession( container,
-                                                 pluginManager,
-                                                 request.getLocalRepository(),
-                                                 request.getGoals() );
-
-        return session;
+        return new MavenSession( container, pluginManager, request.getLocalRepository(), request.getGoals() );
