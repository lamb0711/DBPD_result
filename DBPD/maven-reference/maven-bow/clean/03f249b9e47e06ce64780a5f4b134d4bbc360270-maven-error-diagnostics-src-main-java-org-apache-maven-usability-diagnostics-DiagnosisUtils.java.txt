remove "Error type"

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@320962 13f79535-47bb-0310-9956-ffa450edef68

-
- * Copyright 2001-2005 The Apache Software Foundation.
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
+* Copyright 2001-2005 The Apache Software Foundation.
+*
+* Licensed under the Apache License, Version 2.0 (the "License");
+* you may not use this file except in compliance with the License.
+* You may obtain a copy of the License at
+*
+*      http://www.apache.org/licenses/LICENSE-2.0
+*
+* Unless required by applicable law or agreed to in writing, software
+* distributed under the License is distributed on an "AS IS" BASIS,
+* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+* See the License for the specific language governing permissions and
+* limitations under the License.
+*/
-    
+
-        
-        while( cause != null )
+
+        while ( cause != null )
-            if( test.isInstance( cause ) )
+            if ( test.isInstance( cause ) )
-            
+
-        
+
-        
-        while( true )
+
+        while ( true )
-            
-            if( nextCause == null )
+
+            if ( nextCause == null )
-        
+
-        
-        while( cause != null )
+
+        while ( cause != null )
-            if( targetClass.isInstance( cause ) )
+            if ( targetClass.isInstance( cause ) )
-            
+
-        
+
-    public static void appendRootCauseIfPresentAndUnique( Throwable error, StringBuffer message, boolean includeTypeInfo )
+    public static void appendRootCauseIfPresentAndUnique( Throwable error, StringBuffer message,
+                                                          boolean includeTypeInfo )
-        Throwable root = DiagnosisUtils.getRootCause( error );
-        
-        if ( root != null && root != error )
+        Throwable root = getRootCause( error );
+
+        if ( root != null && !root.equals( error ) )
-            
-            if ( rootMsg != null && error.getMessage().indexOf(rootMsg) < 0 )
+
+            if ( rootMsg != null && error.getMessage().indexOf( rootMsg ) < 0 )
-                message.append( "\nRoot message: " ).append( rootMsg );
-                
+                message.append( "\n" ).append( rootMsg );
+
