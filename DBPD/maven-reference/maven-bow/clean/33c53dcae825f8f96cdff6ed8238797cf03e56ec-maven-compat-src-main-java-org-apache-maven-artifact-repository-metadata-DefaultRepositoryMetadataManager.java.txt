Safer deletes

-                            file.delete();
+                            if ( !file.delete() )
+                            {
+                                // sleep for 10ms just in case this is windows holding a file lock
+                                try
+                                {
+                                    Thread.sleep( 10 );
+                                }
+                                catch ( InterruptedException ie )
+                                {
+                                    // ignore
+                                }
+                                file.delete(); // if this fails, forget about it
+                            }
-                file.delete();
+                if ( !file.delete() )
+                {
+                    // sleep for 10ms just in case this is windows holding a file lock
+                    try
+                    {
+                        Thread.sleep( 10 );
+                    }
+                    catch ( InterruptedException ie )
+                    {
+                        // ignore
+                    }
+                    file.delete(); // if this fails, forget about it
+                }
