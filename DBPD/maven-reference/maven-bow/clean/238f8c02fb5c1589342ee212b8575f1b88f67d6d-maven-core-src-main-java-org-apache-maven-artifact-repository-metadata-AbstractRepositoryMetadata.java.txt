[MNG-2994] Snapshot repositories are not checked when using ranges

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@932128 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.repository.ArtifactRepositoryPolicy;
+
+    public int getNature()
+    {
+        return RELEASE;
+    }
+
+    public ArtifactRepositoryPolicy getPolicy( ArtifactRepository repository )
+    {
+        int nature = getNature();
+        if ( ( nature & RepositoryMetadata.RELEASE_OR_SNAPSHOT ) == RepositoryMetadata.RELEASE_OR_SNAPSHOT )
+        {
+            ArtifactRepositoryPolicy policy = new ArtifactRepositoryPolicy( repository.getReleases() );
+            policy.merge( repository.getSnapshots() );
+            return policy;
+        }
+        else if ( ( nature & RepositoryMetadata.SNAPSHOT ) != 0 )
+        {
+            return repository.getSnapshots();
+        }
+        else
+        {
+            return repository.getReleases();
+        }
+    }
+
