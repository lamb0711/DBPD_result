transform deployment of SNAPSHOT.
Currently, the POM and artifact are deployed separately, causing an inconsistent version to be written out.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163684 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.manager.WagonManager;
-import org.apache.maven.artifact.repository.layout.ArtifactPathFormatException;
-import org.apache.maven.artifact.resolver.ArtifactResolutionException;
-
-import java.io.IOException;
- * @todo naming is too close to ArtifactMetadataSource which refers to a POM. A POM is sometimes an artifact itself,
- * so that naming may no longer be appropriate.
+ * @todo merge with artifactmetadatasource
+ * @todo retrieval exception not appropriate for store
+ * @todo not happy about the store/retrieve methods - they use "this"
-        throws IOException, ArtifactPathFormatException;
+        throws ArtifactMetadataRetrievalException;
-     * @param localRepository  the local repository
+     * @param wagonManager     the wagon manager to use to retrieve the metadata
-    void retrieveFromRemoteRepository( ArtifactRepository remoteRepository, ArtifactRepository localRepository )
-        throws IOException, ArtifactResolutionException;
+    public void retrieveFromRemoteRepository( ArtifactRepository remoteRepository, WagonManager wagonManager )
+        throws ArtifactMetadataRetrievalException;
