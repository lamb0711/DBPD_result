[MNG-2174] plugin management dependencies.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@762892 13f79535-47bb-0310-9956-ffa450edef68

-       // Collections.reverse( profileModels );
-        model.setDependencyManagement( depMng );
-        //TODO: Merge
-        target.getBuild().setPluginManagement( mng );
+
+        PluginsManagementProcessor pmp = new PluginsManagementProcessor();
+        if( mng != null )
+        {
+        	if(target.getBuild().getPluginManagement() != null)
+        	{
+        		pmp.process(null, mng.getPlugins(), target.getBuild().getPluginManagement().getPlugins(), false);	
+        	}
+        	else
+        	{
+        		target.getBuild().setPluginManagement( mng );	
+        	}  		
+        }
+        
+        //TODO: Merge Dependency Management
-        b.setPluginManagement( base.getPluginManagement() );
+        b.setPluginManagement( copyPluginManagement(base.getPluginManagement()) );
+    private static PluginManagement copyPluginManagement(PluginManagement mng)
+    {
+    	if(mng == null)
+    	{
+    		return null;
+    	}
+    	
+    	PluginManagement pm = new PluginManagement();
+    	pm.setPlugins(copyPlugins(mng.getPlugins()));
+    	return pm;
+    }
+    
