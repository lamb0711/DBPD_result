o Fixed artifact filtering

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@786212 13f79535-47bb-0310-9956-ffa450edef68

-            Artifact dependencyArtifact = repositorySystem.createArtifact( d.getGroupId(), d.getArtifactId(), d.getVersion(), d.getScope(), d.getType() );
-            if ( filter != null )
+            Artifact dependencyArtifact =
+                repositorySystem.createArtifact( d.getGroupId(), d.getArtifactId(), d.getVersion(), d.getScope(),
+                                                 d.getType() );
+
+            if ( filter == null || filter.include( dependencyArtifact ) )
-                if ( filter.include( dependencyArtifact ) )
-                {
-                    artifacts.add( dependencyArtifact );
-                }
+                artifacts.add( dependencyArtifact );
