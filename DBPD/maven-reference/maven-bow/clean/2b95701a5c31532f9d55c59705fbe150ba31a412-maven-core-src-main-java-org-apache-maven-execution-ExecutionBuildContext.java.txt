Rearranging project-builder caching so it's done externally and available for use in the model-lineage builder and during artifact resolution as well.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@509692 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Map;
-    private final MavenExecutionRequest request;
+    private static final String REQUEST_KEY = "request";
+    
+    private MavenExecutionRequest request;
+    
+    private ExecutionBuildContext()
+    {
+    }
-        ExecutionBuildContext executionContext = null;
+        ExecutionBuildContext executionContext = new ExecutionBuildContext();
-            executionContext = (ExecutionBuildContext) buildContext.get( BUILD_CONTEXT_KEY );
+            if ( !buildContext.retrieve( executionContext ) )
+            {
+                return null;
+            }
-        buildContext.put( this );
+        buildContext.store( this );
+
+    public Map getData()
+    {
+        return Collections.singletonMap( REQUEST_KEY, request );
+    }
+
+    public void setData( Map data )
+    {
+        this.request = (MavenExecutionRequest) data.get( REQUEST_KEY );
+    }
