[MNG-2324] Added getWagon( Repository ) to WagonManager

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@409806 13f79535-47bb-0310-9956-ffa450edef68

- * Copyright 2001-2005 The Apache Software Foundation.
+ * Copyright 2001-2006 The Apache Software Foundation.
+    /** Map( String, XmlPlexusConfiguration ) with the repository id and the wagon configuration */
+    public Wagon getWagon( Repository repository )
+        throws UnsupportedProtocolException, WagonConfigurationException
+    {
+        String protocol = repository.getProtocol();
+
+        if ( protocol == null )
+        {
+            throw new UnsupportedProtocolException( "The repository " + repository + " does not specify a protocol" );
+        }
+
+        Wagon wagon = getWagon( protocol );
+
+        configureWagon( wagon, repository.getId() );
+
+        return wagon;
+    }
+
+       configureWagon( wagon, repository.getId() );
+    }
-        final String repositoryId = repository.getId();
-
+    private void configureWagon( Wagon wagon, String repositoryId )
+        throws WagonConfigurationException
+    {
-    
-
+
