o swapping the branch to trunk


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@779660 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.File;
+
-import org.apache.maven.errors.DefaultCoreErrorReporter;
+import org.apache.maven.exception.ExceptionSummary;
-import java.io.File;
-
-    public static int main( String[] args,
-                            ClassWorld classWorld )
+    public static int main( String[] args, ClassWorld classWorld )
-            CLIReportingUtils.showError( "Error reading user settings: ", cvr.getUserSettingsException(), showErrors );
+            //TODO: CLIReportingUtils.showError( "Error reading user settings: ", cvr.getUserSettingsException(), showErrors );
-            CLIReportingUtils.showError( "Error reading global settings: ", cvr.getGlobalSettingsException(), showErrors );
+            //TODO: CLIReportingUtils.showError( "Error reading global settings: ", cvr.getGlobalSettingsException(), showErrors );
+        
-            CLIReportingUtils.showError( "Unable to start the embedder: ", e, showErrors );
+            //TODO: CLIReportingUtils.showError( "Unable to start the embedder: ", e, showErrors );
-
-        CLIReportingUtils.logResult( request, result, logger );
-
+        
+        // The exception handling should be handled in Maven itself.
+        
+            ExceptionSummary es = result.getExceptionSummary();
+            
+            if ( es == null )
+            {
+                result.getExceptions().get( 0 ).printStackTrace();
+            }
+            else
+            {
+            System.out.println( es.getMessage() );
+            
+            es.getException().printStackTrace();
+            }
+            
-            .setErrorReporter( new DefaultCoreErrorReporter() )
-
+        
