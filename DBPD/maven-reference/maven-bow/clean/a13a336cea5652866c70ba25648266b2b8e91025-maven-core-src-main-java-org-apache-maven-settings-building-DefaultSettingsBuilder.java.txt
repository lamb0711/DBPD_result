[MNG-4390] Make parsing of settings.xml lenient with respect to unrecognized tags

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@824188 13f79535-47bb-0310-9956-ffa450edef68

-            boolean strict = true;
+            Map<String, ?> options = Collections.singletonMap( SettingsReader.IS_STRICT, Boolean.TRUE );
-            Map<String, ?> options = Collections.singletonMap( SettingsReader.IS_STRICT, Boolean.valueOf( strict ) );
+            try
+            {
+                settings = settingsReader.read( settingsFile, options );
+            }
+            catch ( SettingsParseException e )
+            {
+                options = Collections.singletonMap( SettingsReader.IS_STRICT, Boolean.FALSE );
-            settings = settingsReader.read( settingsFile, options );
+                settings = settingsReader.read( settingsFile, options );
+
+                problems.add( new DefaultSettingsProblem( e.getMessage(), SettingsProblem.Severity.WARNING,
+                                                          settingsFile.getAbsolutePath(), e.getLineNumber(),
+                                                          e.getColumnNumber(), e ) );
+            }
-            problems.add( new DefaultSettingsProblem( "Non-parseable settings " + settingsFile,
+            problems.add( new DefaultSettingsProblem( "Non-parseable settings " + settingsFile + ": " + e.getMessage(),
-            problems.add( new DefaultSettingsProblem( "Non-readable settings " + settingsFile,
+            problems.add( new DefaultSettingsProblem( "Non-readable settings " + settingsFile + ": " + e.getMessage(),
