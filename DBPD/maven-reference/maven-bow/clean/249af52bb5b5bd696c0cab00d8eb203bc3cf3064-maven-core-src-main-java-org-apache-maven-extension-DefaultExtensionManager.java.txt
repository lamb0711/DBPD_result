Wiring plugin-as-extension back into the new extension scanning stuff.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@598720 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Collections;
+        getLogger().debug( "Adding plugin: " + plugin.getKey() + " as an extension." );
+
+        String pluginVersion = plugin.getVersion();
+
+        // TODO: Forbid this?
+        if ( pluginVersion == null )
+        {
+            pluginVersion = Artifact.RELEASE_VERSION;
+        }
+
-                                                                       plugin.getVersion(), "maven-plugin" );
+                                                                       pluginVersion, "maven-plugin" );
+
+            dummyProject.setPluginArtifactRepositories( remoteRepositories );
+            dummyProject.setRemoteArtifactRepositories( Collections.EMPTY_LIST );
+
