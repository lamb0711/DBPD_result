[MNG-4296] allow core extensions configure new classrealms
Submitted by: Igor Fedorenko



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@803811 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Collections;
+import java.util.List;
+import org.codehaus.plexus.component.repository.exception.ComponentLookupException;
+            for ( ClassRealmManagerDelegate delegate : getDelegates() )
+            {
+                delegate.setupRealm( classRealm );
+            }
+
+    private List<ClassRealmManagerDelegate> getDelegates()
+    {
+        try
+        {
+            return container.lookupList( ClassRealmManagerDelegate.class );
+        }
+        catch ( ComponentLookupException e )
+        {
+            return Collections.emptyList();
+        }
+    }
+
