updated CI


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@344986 13f79535-47bb-0310-9956-ffa450edef68

+    private boolean updateSnapshots;
+
+    private boolean offline;
+
+
+        // TODO: use from Bootstrap.java
+        this.updateSnapshots = parser.isArgumentSet( "--update-snapshots" );
+
+        this.offline = parser.isArgumentSet( "--offline" );
-        System.out.println( "ARGS = " + Arrays.asList( args ) );
-
+        parser.addArgument( "--update-snapshots", "Update snapshots during build" );
+        parser.addArgument( "--offline", "Run build in offline mode", "-o" );
-            runMaven( installation, new File( pluginsDirectory ), new String[]{ "clean", "install" } );
+            runMaven( installation, new File( pluginsDirectory ),
+                      new String[]{"--no-plugin-registry", "--fail-at-end", "clean", "install"} );
+        cli.createArgument().setValue( "-e" );
+        cli.createArgument().setValue( "--batch-mode" );
+
+        if ( offline )
+        {
+            cli.createArgument().setValue( "-o" );
+        }
+        if ( updateSnapshots )
+        {
+            cli.createArgument().setValue( "--update-snapshots" );
+        }
+
