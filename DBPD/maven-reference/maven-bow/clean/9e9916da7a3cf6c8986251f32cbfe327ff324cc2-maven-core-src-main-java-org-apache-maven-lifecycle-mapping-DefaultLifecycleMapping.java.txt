backwards compatibility with plugins built in earlier betas

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@307240 13f79535-47bb-0310-9956-ffa450edef68

+    /** @deprecated use lifecycles instead */
+    private Map phases;
+
-            for ( Iterator i = lifecycles.iterator(); i.hasNext(); )
+            if ( lifecycles != null )
-                Lifecycle l = (Lifecycle) i.next();
-                lifecycleMap.put( l.getId(), l );
+                for ( Iterator i = lifecycles.iterator(); i.hasNext(); )
+                {
+                    Lifecycle l = (Lifecycle) i.next();
+                    lifecycleMap.put( l.getId(), l );
+                }
-        return l != null ? l.getPhases() : null;
+
+        Map mappings = null;
+        if ( l == null )
+        {
+            if ( "default".equals( lifecycle ) )
+            {
+                mappings = phases;
+            }
+        }
+        else
+        {
+            mappings = l.getPhases();
+        }
+
+        return mappings;
