Fix: Interpolation of standalone super poms.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@695615 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.project.builder.PomClassicTransformer;
+        List<InterpolatorProperty> interpolatorProperties = new ArrayList<InterpolatorProperty>();
+        interpolatorProperties.addAll( InterpolatorProperty.toInterpolatorProperties( config.getExecutionProperties(),
+                PomInterpolatorTag.SYSTEM_PROPERTIES.name()));
+        interpolatorProperties.addAll( InterpolatorProperty.toInterpolatorProperties( config.getUserProperties(),
+                PomInterpolatorTag.USER_PROPERTIES.name()));
+
+        if(config.getBuildStartTime() != null)
+        {
+            interpolatorProperties.add(new InterpolatorProperty("${build.timestamp}",
+                new SimpleDateFormat("yyyyMMdd-hhmm").format( config.getBuildStartTime() ),
+                PomInterpolatorTag.PROJECT_PROPERTIES.name()));
+        }
+
+        File basedir = null;
+        for(InterpolatorProperty ip : interpolatorProperties )
+        {
+            if(ip.getKey().equals("${basedir}"))
+            {
+                basedir = new File(ip.getValue());
+                break;
+            }
+        }
+
+        if(basedir == null)
+        {
+            String bd = System.getProperty("basedir");
+            if( bd != null )
+            {
+                basedir = new File(bd);
+            }
+        }
+
+        try
+        {
+            superModel = PomClassicTransformer.interpolateModel(superModel, interpolatorProperties, basedir);
+        }
+        catch (IOException e)
+        {
+            throw new ProjectBuildingException(STANDALONE_SUPERPOM_GROUPID + ":" + STANDALONE_SUPERPOM_ARTIFACTID,
+                                                "Interpolation failure:", e);
+        }
+
