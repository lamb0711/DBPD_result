[MNG-5937] Optimize code for Java 8

-import java.io.File;
-import java.io.FileOutputStream;
+import java.nio.file.Files;
+import java.nio.file.Path;
+                @Override
-    public void download( URI address, File destination )
-        throws Exception
+    @Override
+    public void download( URI address, Path destination ) throws IOException
-        if ( destination.exists() )
+        if ( Files.exists( destination ) )
-        destination.getParentFile().mkdirs();
+        Files.createDirectories( destination.getParent() );
-    private void downloadInternal( URI address, File destination )
-        throws Exception
+    private void downloadInternal( URI address, Path destination ) throws IOException
-        OutputStream out = null;
-        URLConnection conn;
-        InputStream in = null;
-        try
+        URL url = address.toURL();
+        URLConnection conn = url.openConnection();
+        addBasicAuthentication( address, conn );
+        final String userAgentValue = calculateUserAgent();
+        conn.setRequestProperty( "User-Agent", userAgentValue );
+
+        try ( OutputStream out = new BufferedOutputStream( Files.newOutputStream( destination ) );
+              InputStream in = conn.getInputStream() )
-            URL url = address.toURL();
-            out = new BufferedOutputStream( new FileOutputStream( destination ) );
-            conn = url.openConnection();
-            addBasicAuthentication( address, conn );
-            final String userAgentValue = calculateUserAgent();
-            conn.setRequestProperty( "User-Agent", userAgentValue );
-            in = conn.getInputStream();
-            if ( in != null )
-            {
-                in.close();
-            }
-            if ( out != null )
-            {
-                out.close();
-            }
