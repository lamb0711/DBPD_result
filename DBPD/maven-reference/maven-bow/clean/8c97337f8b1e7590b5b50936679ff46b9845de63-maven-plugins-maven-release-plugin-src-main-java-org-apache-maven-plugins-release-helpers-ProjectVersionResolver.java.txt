release plugin bugfixes

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@279051 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.Model;
-            throw new IllegalArgumentException( "Project: " + projectId
-                + " is already resolved. Each project should only be resolved once." );
+            throw new IllegalArgumentException(
+                "Project: " + projectId + " is already resolved. Each project should only be resolved once." );
-        project.setVersion( projectVersion );
+        Model model = project.getOriginalModel();
+
+        model.setVersion( projectVersion );
-            throw new IllegalArgumentException( "Project \'" + projectId
-                + "\' has not been resolved. Cannot increment an unresolved version." );
+            throw new IllegalArgumentException(
+                "Project \'" + projectId + "\' has not been resolved. Cannot increment an unresolved version." );
-            projectVersion = projectVersion.substring( 0, projectVersion.lastIndexOf( "-" ) + 1 ) + nextVersionString
-                + SNAPSHOT_CLASSIFIER;
+            projectVersion = projectVersion.substring( 0, projectVersion.lastIndexOf( "-" ) + 1 ) + nextVersionString +
+                SNAPSHOT_CLASSIFIER;
