o merging from my branch to trunk


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@699806 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.project.workspace.ProjectWorkspace;
-    private ProjectWorkspace projectWorkspace;
-
-        ModelAndFile current = projectWorkspace.getModelAndFile( pom );
-        if ( current == null )
-        {
-            current = new ModelAndFile( readModel( pom ), pom, isReactorProject );
-            projectWorkspace.storeModelAndFile( current );
-        }
+        ModelAndFile current = current = new ModelAndFile( readModel( pom ), pom, isReactorProject );
-
-//                getLogger().debug( "Checking cache for parent model-and-file instance: " + key + " using file: " + parentPomFile );
-
-                result = projectWorkspace.getModelAndFile( parentPomFile );
-                if ( result != null && !parentModelMatches( modelParent, result.getModel() ) )
-                {
-                    parentPomFile = null;
-                    result = null;
-                }
-            if ( result == null )
-            {
-//                getLogger().debug( "Checking cache for parent model-and-file instance: " + key + " using project groupId:artifactId:version." );
-
-                result = projectWorkspace.getModelAndFile( modelParent.getGroupId(), modelParent.getArtifactId(), modelParent.getVersion() );
-            }
-
-            if ( result != null )
-            {
-//                getLogger().debug( "Returning cached instance." );
-                return result;
-            }
-
-//            getLogger().debug( "Allowing parent-model resolution to proceed for: " + key + " (child is: " + model.getId() + ")" );
-
-        if ( result != null )
-        {
-//            getLogger().debug( "Caching parent model-and-file: " + result );
-            projectWorkspace.storeModelAndFile( result );
-        }
-
