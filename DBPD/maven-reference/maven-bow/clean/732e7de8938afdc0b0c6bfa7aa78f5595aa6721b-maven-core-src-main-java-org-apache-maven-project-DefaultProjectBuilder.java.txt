[MNG-6529] ProjectBuilder.build(List<Project> ...) honor
request.isResolveDependency

-                       new HashMap<File, Boolean>() ) && noErrors;
+                       new HashMap<File, Boolean>(), config.session ) && noErrors;
-                           ProjectBuildingRequest request, Map<File, Boolean> profilesXmls )
+                           ProjectBuildingRequest request, Map<File, Boolean> profilesXmls,
+                           RepositorySystemSession session )
-                    build( results, modules, projectIndex, interimResult.modules, request, profilesXmls ) && noErrors;
+                    build( results, modules, projectIndex, interimResult.modules, request, profilesXmls, session )
+                    && noErrors;
+                DependencyResolutionResult resolutionResult = null;
+                if ( request.isResolveDependencies() )
+                {
+                    resolutionResult = resolveDependencies( project, session );
+                }
-                results.add( new DefaultProjectBuildingResult( project, result.getProblems(), null ) );
+                results.add( new DefaultProjectBuildingResult( project, result.getProblems(), resolutionResult ) );
