write the plugin file, not the project file

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@168492 13f79535-47bb-0310-9956-ffa450edef68

- * Copyright 2001-2004 The Apache Software Foundation.
+ * Copyright 2001-2005 The Apache Software Foundation.
-import org.apache.maven.project.MavenProject;
-import java.util.Set;
-            writeProjectFile( w, pluginDescriptor );
+            writePluginFile( w, pluginDescriptor );
-    private void writePluginFile( PrettyPrintXMLWriter w, String goalPrefix, Set mojoDescriptors, MavenProject project )
+    private void writePluginFile( PrettyPrintXMLWriter w, PluginDescriptor pluginDescriptor )
-        w.addAttribute( "xmlns:" + goalPrefix, goalPrefix );
+        w.addAttribute( "xmlns:" + pluginDescriptor.getGoalPrefix(), pluginDescriptor.getGoalPrefix() );
-        w.addAttribute( "uri", goalPrefix );
+        w.addAttribute( "uri", pluginDescriptor.getGoalPrefix() );
-        for ( Iterator it = mojoDescriptors.iterator(); it.hasNext(); )
+        for ( Iterator it = pluginDescriptor.getMojos().iterator(); it.hasNext(); )
-            processPluginDescriptor( descriptor, w, project );
+            processMojoDescriptor( descriptor, w );
-        for ( Iterator it = mojoDescriptors.iterator(); it.hasNext(); )
+        for ( Iterator it = pluginDescriptor.getMojos().iterator(); it.hasNext(); )
-    protected void processPluginDescriptor( MojoDescriptor mojoDescriptor, XMLWriter w, MavenProject project )
+    protected void processMojoDescriptor( MojoDescriptor mojoDescriptor, XMLWriter w )
