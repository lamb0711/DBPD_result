update to released versions

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@169961 13f79535-47bb-0310-9956-ffa450edef68

-                        HttpUtils.getFile( metaUrl, file, ignoreErrors, false, proxyHost, proxyPort, proxyUserName,
+                        HttpUtils.getFile( metaUrl, file, ignoreErrors, true, proxyHost, proxyPort, proxyUserName,
-                        String ver = version.substring( version.lastIndexOf( "-", version.lastIndexOf( "-" ) - 1 ) + 1 );
-                        String extension = url.substring( url.length() - 4 );
-                        url = getSnapshotMetadataFile( url, ver + extension );
+                        if ( !version.endsWith( "SNAPSHOT" ) )
+                        {
+                            String ver = version.substring(
+                                version.lastIndexOf( "-", version.lastIndexOf( "-" ) - 1 ) + 1 );
+                            String extension = url.substring( url.length() - 4 );
+                            url = getSnapshotMetadataFile( url, ver + extension );
+                        }
+                        else if ( destinationFile.exists() )
+                        {
+                            // It's already there
+                            return true;
+                        }
+                    String name = dep.getArtifactId() + "-" + dep.getResolvedVersion() + ".pom";
-                                                                 dep.getVersion(), dep.getType(),
-                                                                 dep.getArtifactId() + "-" + dep.getResolvedVersion() +
-                                                                 ".pom" );
+                                                                 dep.getVersion(), dep.getType(), name );
