MNG-5608: warn if file-based profile activation uses ${project.basedir} since only ${basedir} is supported

+import org.apache.maven.model.Activation;
+import org.apache.maven.model.ActivationFile;
+                validate30RawProfileActivation( problems, profile.getActivation(), profile.getId(), prefix + ".activation", request );
+
+    private void validate30RawProfileActivation( ModelProblemCollector problems, Activation activation,
+                                                 String sourceHint, String prefix, ModelBuildingRequest request )
+    {
+        if ( activation == null )
+        {
+            return;
+        }
+
+        ActivationFile file = activation.getFile();
+
+        if ( file != null )
+        {
+            String path;
+            boolean missing;
+
+            if ( StringUtils.isNotEmpty( file.getExists() ) )
+            {
+                path = file.getExists();
+                missing = false;
+            }
+            else if ( StringUtils.isNotEmpty( file.getMissing() ) )
+            {
+                path = file.getMissing();
+                missing = true;
+            }
+            else
+            {
+                return;
+            }
+
+            if ( hasProjectExpression( path ) )
+            {
+                addViolation( problems,
+                              Severity.WARNING,
+                              Version.V30,
+                              prefix + ( missing ? ".file.missing" : ".file.exists" ),
+                              null,
+                              "Failed to interpolate file location "
+                                  + path
+                                  + " for profile "
+                                  + sourceHint
+                                  + ": ${project.basedir} expression not supported during profile activation, use ${basedir} instead",
+                              file.getLocation( missing ? "missing" : "exists" ) );
+            }
+        }
+    }
+
+    private boolean hasProjectExpression( String value )
+    {
+        return value != null && value.contains( "${project." );
+    }
+
