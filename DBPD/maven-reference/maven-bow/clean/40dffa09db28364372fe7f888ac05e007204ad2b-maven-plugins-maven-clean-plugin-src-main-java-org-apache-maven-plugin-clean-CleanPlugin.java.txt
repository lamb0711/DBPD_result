other directories may not be under target


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@290923 13f79535-47bb-0310-9956-ffa450edef68

+ * Goal which cleans the build.
+
- * @description Goal which cleans the build
-     * This is where compiled classes go.
+     * This is where build results go.
-    private String outputDirectory;
+    private File directory;
-    // TODO: not in the descriptor previously
-//    private boolean failOnError;
+    /** 
+     * This is where compiled classes go.
+     * 
+     * @parameter expression="${project.build.outputDirectory}"
+     * @required
+     * @readonly
+     */
+    private File outputDirectory;
+
+    /** 
+     * This is where compiled test classes go.
+     * 
+     * @parameter expression="${project.build.testOutputDirectory}"
+     * @required
+     * @readonly
+     */
+    private File testOutputDirectory;
-        if ( outputDirectory != null )
-        {
-            File dir = new File( outputDirectory );
+        removeDirectory( directory );
+        removeDirectory( outputDirectory );
+        removeDirectory( testOutputDirectory );
+    }
+    private void removeDirectory( File dir )
+        throws MojoExecutionException
+    {
+        if ( dir != null )
+        {
