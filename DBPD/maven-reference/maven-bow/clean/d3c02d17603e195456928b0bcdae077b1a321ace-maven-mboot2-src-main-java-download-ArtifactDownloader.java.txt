use the correct resolved version for a dependency even if it was previously downloaded.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@168129 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.HashMap;
+import java.util.Map;
-    private Set downloadedArtifacts = new HashSet();
+    private Map downloadedArtifacts = new HashMap();
-            if ( !downloadedArtifacts.contains( dep ) )
+            String dependencyConflictId = dep.getDependencyConflictId();
+            if ( !downloadedArtifacts.containsKey( dependencyConflictId ) )
-                downloadedArtifacts.add( dep );
+                downloadedArtifacts.put( dependencyConflictId, dep );
+            }
+            else
+            {
+                Dependency d = (Dependency) downloadedArtifacts.get( dependencyConflictId );
+                dep.setResolvedVersion( d.getResolvedVersion() );
