[MNG-4112] Add properties "maven.version" and "maven.build.version" which contain the current version of Maven

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@1147597 13f79535-47bb-0310-9956-ffa450edef68

+    
+    public static final String BUILD_VERSION_PROPERTY = "version";
+        stdout.println( createMavenVersionString( properties ) );
-        String timestamp = reduce( properties.getProperty( "timestamp" ) );
-        String version = reduce( properties.getProperty( "version" ) );
-        String rev = reduce( properties.getProperty( "buildNumber" ) );
+        stdout.println( "Maven home: " + System.getProperty( "maven.home", "<unknown maven home>" ) );
+
+        stdout.println( "Java version: " + System.getProperty( "java.version", "<unknown java version>" )
+            + ", vendor: " + System.getProperty( "java.vendor", "<unknown vendor>" ) );
+
+        stdout.println( "Java home: " + System.getProperty( "java.home", "<unknown java home>" ) );
+
+        stdout.println( "Default locale: " + Locale.getDefault() + ", platform encoding: "
+            + System.getProperty( "file.encoding", "<unknown encoding>" ) );
+
+        stdout.println( "OS name: \"" + Os.OS_NAME + "\", version: \"" + Os.OS_VERSION + "\", arch: \"" + Os.OS_ARCH
+            + "\", family: \"" + Os.OS_FAMILY + "\"" );
+    }
+
+    /**
+     * Create a human readable string containing the Maven version, buildnumber, and time of build
+     * 
+     * @param buildProperties The build properties
+     * @return Readable build info
+     */
+    static String createMavenVersionString( Properties buildProperties )
+    {
+        String timestamp = reduce( buildProperties.getProperty( "timestamp" ) );
+        String version = reduce( buildProperties.getProperty( BUILD_VERSION_PROPERTY ) );
+        String rev = reduce( buildProperties.getProperty( "buildNumber" ) );
-
-        stdout.println( msg );
-
-        stdout.println( "Maven home: " + System.getProperty( "maven.home", "<unknown maven home>" ) );
-
-        stdout.println( "Java version: " + System.getProperty( "java.version", "<unknown java version>" )
-            + ", vendor: " + System.getProperty( "java.vendor", "<unknown vendor>" ) );
-
-        stdout.println( "Java home: " + System.getProperty( "java.home", "<unknown java home>" ) );
-
-        stdout.println( "Default locale: " + Locale.getDefault() + ", platform encoding: "
-            + System.getProperty( "file.encoding", "<unknown encoding>" ) );
-
-        stdout.println( "OS name: \"" + Os.OS_NAME + "\", version: \"" + Os.OS_VERSION + "\", arch: \"" + Os.OS_ARCH
-            + "\", family: \"" + Os.OS_FAMILY + "\"" );
+        return msg;
