turn off caching in mboot for snapshot version files


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163940 13f79535-47bb-0310-9956-ffa450edef68

-    public static void useProxyUser( final String proxyHost,
-                                     final String proxyPort,
-                                     final String proxyUserName,
+    public static void useProxyUser( final String proxyHost, final String proxyPort, final String proxyUserName,
-                                                           proxyPassword == null ? new char[0] : proxyPassword.toCharArray() );
+                                                           proxyPassword == null
+                                                           ? new char[0] : proxyPassword.toCharArray() );
-    public static void getFile( String url,
-                                File destinationFile,
-                                boolean ignoreErrors,
-                                boolean useTimestamp,
-                                String proxyHost,
-                                String proxyPort,
-                                String proxyUserName,
-                                String proxyPassword,
+    public static void getFile( String url, File destinationFile, boolean ignoreErrors, boolean useTimestamp,
+                                String proxyHost, String proxyPort, String proxyUserName, String proxyPassword,
-        getFile( url,
-                 destinationFile,
-                 ignoreErrors,
-                 useTimestamp,
-                 proxyHost,
-                 proxyPort,
-                 proxyUserName,
-                 proxyPassword );
+        getFile( url, destinationFile, ignoreErrors, useTimestamp, proxyHost, proxyPort, proxyUserName, proxyPassword );
-                getFile( url + ".md5",
-                         checksumFile,
-                         ignoreErrors,
-                         useTimestamp,
-                         proxyHost,
-                         proxyPort,
-                         proxyUserName,
+                getFile( url + ".md5", checksumFile, ignoreErrors, useTimestamp, proxyHost, proxyPort, proxyUserName,
-    public static void getFile( String url,
-                                File destinationFile,
-                                boolean ignoreErrors,
-                                boolean useTimestamp,
-                                String proxyHost,
-                                String proxyPort,
-                                String proxyUserName,
-                                String proxyPassword )
+    public static void getFile( String url, File destinationFile, boolean ignoreErrors, boolean useTimestamp,
+                                String proxyHost, String proxyPort, String proxyUserName, String proxyPassword )
-            getFile( url,
-                     destinationFile,
-                     timestamp,
-                     proxyHost,
-                     proxyPort,
-                     proxyUserName,
-                     proxyPassword );
+            getFile( url, destinationFile, timestamp, proxyHost, proxyPort, proxyUserName, proxyPassword );
-    public static void getFile( String url,
-                                File destinationFile,
-                                long timestamp,
-                                String proxyHost,
-                                String proxyPort,
-                                String proxyUserName,
-                                String proxyPassword )
+    public static void getFile( String url, File destinationFile, long timestamp, String proxyHost, String proxyPort,
+                                String proxyUserName, String proxyPassword )
+        connection.setUseCaches( timestamp >= 0 );
+
-                throw new FileNotFoundException( url.toString() + " (HTTP Error: "
-                                                 + httpConnection.getResponseCode() + " " + httpConnection.getResponseMessage() + ")" );
+                throw new FileNotFoundException(
+                    url.toString() + " (HTTP Error: " + httpConnection.getResponseCode() + " " +
+                    httpConnection.getResponseMessage() +
+                    ")" );
-        if ( connection.getLastModified() <= timestamp &&
-            connection.getLastModified() != 0 )
+        if ( connection.getLastModified() <= timestamp && connection.getLastModified() != 0 )
