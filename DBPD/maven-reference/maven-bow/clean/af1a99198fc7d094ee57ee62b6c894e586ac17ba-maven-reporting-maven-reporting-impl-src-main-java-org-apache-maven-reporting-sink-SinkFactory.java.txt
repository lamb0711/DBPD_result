merge from branch maven-2.0.x, up to rev 365776


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@365790 13f79535-47bb-0310-9956-ffa450edef68

-import org.codehaus.doxia.sink.Sink;
-import org.codehaus.doxia.site.renderer.SiteRenderer;
-import org.codehaus.plexus.util.StringInputStream;
+import org.apache.maven.doxia.sink.Sink;
+import org.apache.maven.doxia.siterenderer.Renderer;
+import org.apache.maven.doxia.siterenderer.RendererException;
-import java.io.InputStream;
+import java.io.IOException;
-    private String outputDirectory;
-
-    private SiteRenderer siteRenderer;
+    private Renderer siteRenderer;
-    private InputStream siteDescriptor;
-
-    private String flavour;
-
-    public void setOutputDirectory( String outputDirectory )
-    {
-        this.outputDirectory = outputDirectory;
-    }
-
-    public void setSiteRenderer( SiteRenderer siteRenderer )
+    public void setSiteRenderer( Renderer siteRenderer )
-    public void setFlavour( String flavour )
-    {
-        this.flavour = flavour;
-    }
-
-    public void setSiteDescriptor( InputStream siteDescriptor )
-    {
-        this.siteDescriptor = siteDescriptor;
-    }
-
-        throws Exception
+        throws RendererException, IOException
-        InputStream descriptor = siteDescriptor;
-        if ( descriptor == null )
-        {
-            descriptor = new StringInputStream( "" );
-        }
-
-        return (Sink) siteRenderer.createSink( new File( siteDirectory ), outputFileName, outputDirectory,
-                                        descriptor, flavour );
+        return siteRenderer.createSink( new File( siteDirectory ), outputFileName );
