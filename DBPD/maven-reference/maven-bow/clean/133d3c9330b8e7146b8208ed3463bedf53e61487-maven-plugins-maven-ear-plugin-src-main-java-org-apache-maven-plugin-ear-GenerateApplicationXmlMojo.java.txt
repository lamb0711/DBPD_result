Applying patch(es) for: MNG-576

One change:

o Applied lifecycle mapping patch to a new file in src/main/resources of the ear plugin project, to create META-INF/plexus/components.xml with the custom lifecycle mapping.

This plugin needs an integration test.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@216275 13f79535-47bb-0310-9956-ffa450edef68

- * @phase process-resources
+ * @phase generate-resources
+
+    /**
+     * Whether the application.xml should be generated or not.
+     *
+     * @parameter
+     */
+    private Boolean generateApplicationXml = Boolean.TRUE;
+
-     * @parameter expression="${maven.ear.appxml.version}"
+     * @parameter
-     * @parameter
+     * @parameter expression="${project.description}"
+        getLog().debug( "generateApplicationXml[" + generateApplicationXml + "]" );
+        if ( !generateApplicationXml.booleanValue() )
+        {
+            getLog().debug( "Generation of application.xml is disabled" );
+            return;
+        }
+
+        // Check version
-        // Generate deployment descriptor
+        // Generate deployment descriptor and copy it to the build directory
