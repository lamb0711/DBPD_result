PR: MNG-615
implement repository confidence levels. currently updates poms daily if they are not deployed or verified

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@225714 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.maven.artifact.repository;/*
+package org.apache.maven.artifact.repository;
+
+/*
+import java.util.Calendar;
+import java.util.Date;
+
+    public static final String CHECKSUM_POLICY_IGNORE = "ignore";
+
+
+    public boolean checkOutOfDate( Date lastModified )
+    {
+        boolean checkForUpdates = false;
+
+        if ( UPDATE_POLICY_ALWAYS.equals( updatePolicy ) )
+        {
+            checkForUpdates = true;
+        }
+        else if ( UPDATE_POLICY_DAILY.equals( updatePolicy ) )
+        {
+            // Get midnight boundary
+            Calendar cal = Calendar.getInstance();
+            cal.set( Calendar.HOUR_OF_DAY, 0 );
+            cal.set( Calendar.MINUTE, 0 );
+            cal.set( Calendar.SECOND, 0 );
+            cal.set( Calendar.MILLISECOND, 0 );
+            if ( cal.getTime().after( lastModified ) )
+            {
+                checkForUpdates = true;
+            }
+        }
+        else if ( updatePolicy.startsWith( UPDATE_POLICY_INTERVAL ) )
+        {
+            String s = updatePolicy.substring( UPDATE_POLICY_INTERVAL.length() + 1 );
+            int minutes = Integer.valueOf( s ).intValue();
+            Calendar cal = Calendar.getInstance();
+            cal.add( Calendar.MINUTE, -minutes );
+            if ( cal.getTime().after( lastModified ) )
+            {
+                checkForUpdates = true;
+            }
+        }
+        // else assume "never"
+        return checkForUpdates;
+    }
