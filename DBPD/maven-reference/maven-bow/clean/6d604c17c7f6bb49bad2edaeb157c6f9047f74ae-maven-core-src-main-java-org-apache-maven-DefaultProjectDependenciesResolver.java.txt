[MNG-4331] Add new mojo annotation @requiresDependencyCollection to grab dependency tree without files

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@809431 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.artifact.resolver.filter.ArtifactFilter;
-    public Set<Artifact> resolve( MavenProject project, Collection<String> scopes, MavenSession session )
+    public Set<Artifact> resolve( MavenProject project, Collection<String> scopesToResolve, MavenSession session )
-        return resolve( Collections.singleton( project ), scopes, session );
+        return resolve( Collections.singleton( project ), scopesToResolve, session );
-    public Set<Artifact> resolve( Collection<? extends MavenProject> projects, Collection<String> scopes,
+    public Set<Artifact> resolve( MavenProject project, Collection<String> scopesToCollect,
+                                  Collection<String> scopesToResolve, MavenSession session )
+        throws ArtifactResolutionException, ArtifactNotFoundException
+    {
+        return resolve( Collections.singleton( project ), scopesToCollect, scopesToResolve, session );
+    }
+
+    public Set<Artifact> resolve( Collection<? extends MavenProject> projects, Collection<String> scopesToResolve,
+        return resolve( projects, null, scopesToResolve, session );
+    }
+
+    public Set<Artifact> resolve( Collection<? extends MavenProject> projects, Collection<String> scopesToCollect,
+                                  Collection<String> scopesToResolve, MavenSession session )
+        throws ArtifactResolutionException, ArtifactNotFoundException
+    {
-        ArtifactFilter scopeFilter = new CumulativeScopeArtifactFilter( scopes );
+        CumulativeScopeArtifactFilter resolutionScopeFilter = new CumulativeScopeArtifactFilter( scopesToResolve );
-        ArtifactFilter filter = scopeFilter; 
+        CumulativeScopeArtifactFilter collectionScopeFilter = new CumulativeScopeArtifactFilter( scopesToCollect );
+        collectionScopeFilter = new CumulativeScopeArtifactFilter( collectionScopeFilter, resolutionScopeFilter );
-            .setFilter( filter )
+            .setCollectionFilter( collectionScopeFilter )
+            .setResolutionFilter( resolutionScopeFilter )
