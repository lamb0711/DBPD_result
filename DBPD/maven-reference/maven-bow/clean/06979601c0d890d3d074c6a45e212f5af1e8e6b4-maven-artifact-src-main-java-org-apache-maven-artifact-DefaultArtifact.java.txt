[MNG-2961] WOO HOO! Finally fixed this horrible behavior of having to call isSnapshot().

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@565901 13f79535-47bb-0310-9956-ffa450edef68

-        this.baseVersion = version;
+        this.setBaseVersion( version );
-        if ( version != null || baseVersion != null )
+        if ( getBaseVersion() != null )
-            baseVersion = version;
-
+            setBaseVersion( version );
-        this.baseVersion = baseVersion;
+        Matcher m = VERSION_FILE_PATTERN.matcher( baseVersion );
+        if ( m.matches() )
+        {
+            this.baseVersion = m.group( 1 ) + "-" + SNAPSHOT_VERSION;
+        }
+        else
+        {
+            this.baseVersion = baseVersion;
+        }
-        this.baseVersion = version;
+        setBaseVersion( version );
-        if ( version != null || baseVersion != null )
+        if ( getBaseVersion() != null )
-            Matcher m = VERSION_FILE_PATTERN.matcher( getBaseVersion() );
-            if ( m.matches() )
-            {
-                setBaseVersion( m.group( 1 ) + "-" + SNAPSHOT_VERSION );
-                return true;
-            }
-            else
-            {
-                return getBaseVersion().endsWith( SNAPSHOT_VERSION ) || getBaseVersion().equals( LATEST_VERSION );
-            }
+            return getBaseVersion().endsWith( SNAPSHOT_VERSION ) || getBaseVersion().equals( LATEST_VERSION );
