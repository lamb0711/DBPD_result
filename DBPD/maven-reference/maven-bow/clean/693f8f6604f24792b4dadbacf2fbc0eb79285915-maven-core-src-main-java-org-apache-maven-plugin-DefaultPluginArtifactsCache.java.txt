MNG-5677 hooks to allow fine-grained cache management

Also fixed broken cache #flush() and missing #dispose() in
couple of places.

Signed-off-by: Igor Fedorenko <igor@ifedorenko.com>

-import java.util.HashMap;
+import java.util.concurrent.ConcurrentHashMap;
-    private static class CacheKey
+    protected static class CacheKey
-    protected final Map<Key, CacheRecord> cache = new HashMap<Key, CacheRecord>();
+    protected final Map<Key, CacheRecord> cache = new ConcurrentHashMap<Key, CacheRecord>();
-    public void register( MavenProject project, CacheRecord record )
+    public void register( MavenProject project, Key cacheKey, CacheRecord record )
