working on MercuryRepositorySystem - oprimized Adapter

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@762576 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.mercury.artifact.Artifact;
-@Component( role = RepositorySystem.class, hint = "mercury" )
+@Component( role = RepositorySystem.class, hint = "default" )
-            List<ArtifactMetadata> mercuryMetadataList =
-                _mercury.resolve( repos, null, MercuryAdaptor.toMercuryMetadata( request.getArtifact() ) );
+            org.apache.maven.artifact.Artifact mavenRootArtifact = request.getArtifact();
+            
+            ArtifactMetadata rootMd = MercuryAdaptor.toMercuryMetadata( mavenRootArtifact );
+            
+            List<ArtifactMetadata> mercuryMetadataList = _mercury.resolve( repos, null,  rootMd );
+            {
+                
+                // maven likes the original artifact instance - fill it in
+                Artifact mercuryRootArtifact = mercuryArtifactList.get( 0 );
+                
+                mavenRootArtifact.setFile( mercuryRootArtifact.getFile() );
+            }
