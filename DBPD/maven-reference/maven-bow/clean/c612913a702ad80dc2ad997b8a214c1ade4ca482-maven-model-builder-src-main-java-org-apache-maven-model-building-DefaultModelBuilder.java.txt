o Refactored profile selector to use problem collector

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@800426 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.model.profile.ProfileActivationException;
-import org.apache.maven.model.profile.ProfileSelectionResult;
-        List<Profile> activeExternalProfiles = getActiveExternalProfiles( request, profileActivationContext, problems );
+        List<Profile> activeExternalProfiles =
+            profileSelector.getActiveProfiles( request.getProfiles(), profileActivationContext, problems );
-            List<Profile> activePomProfiles = getActivePomProfiles( rawModel, profileActivationContext, problems );
+            List<Profile> activePomProfiles =
+                profileSelector.getActiveProfiles( rawModel.getProfiles(), profileActivationContext, problems );
-    private List<Profile> getActiveExternalProfiles( ModelBuildingRequest request, ProfileActivationContext context,
-                                                     ModelProblemCollector problems )
-    {
-        ProfileSelectionResult result = profileSelector.getActiveProfiles( request.getProfiles(), context );
-
-        for ( ProfileActivationException e : result.getActivationExceptions() )
-        {
-            problems.addError( "Invalid activation condition for external profile " + e.getProfile().getId() + ": "
-                + e.getMessage(), e );
-        }
-
-        return result.getActiveProfiles();
-    }
-
-    private List<Profile> getActivePomProfiles( Model model, ProfileActivationContext context,
-                                                ModelProblemCollector problems )
-    {
-        ProfileSelectionResult result = profileSelector.getActiveProfiles( model.getProfiles(), context );
-
-        for ( ProfileActivationException e : result.getActivationExceptions() )
-        {
-            problems.addError( "Invalid activation condition for project profile " + e.getProfile().getId() + ": "
-                + e.getMessage(), e );
-        }
-
-        return result.getActiveProfiles();
-    }
-
