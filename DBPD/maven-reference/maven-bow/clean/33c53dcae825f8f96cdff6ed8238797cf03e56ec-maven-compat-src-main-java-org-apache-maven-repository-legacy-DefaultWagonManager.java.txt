Safer deletes

-                    temp.delete();
+                    if ( !temp.delete() )
+                    {
+                        temp.deleteOnExit();
+                    }
-            try
+            if ( !file.delete() )
-                file.delete();
-            }
-            catch ( Exception e )
-            {
-                logger.warn( "skip failed to delete temporary file : " + file.getAbsolutePath() + " , message "
-                    + e.getMessage() );
+                logger.warn( "skip failed to delete temporary file : " + file.getAbsolutePath() );
+                file.deleteOnExit();
-                    checksumFile.delete();
+                    checksumFile.delete(); // ignore if failed as we will overwrite
-                tempChecksumFile.delete();
+                if ( !tempChecksumFile.delete() )
+                {
+                    tempChecksumFile.deleteOnExit();
+                }
