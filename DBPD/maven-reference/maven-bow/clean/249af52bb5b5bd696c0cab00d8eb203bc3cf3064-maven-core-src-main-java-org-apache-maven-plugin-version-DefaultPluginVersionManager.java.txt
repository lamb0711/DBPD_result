Wiring plugin-as-extension back into the new extension scanning stuff.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@598720 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.HashMap;
-import java.util.Map;
+
-        if ( StringUtils.isEmpty( version ) )
+        if ( StringUtils.isEmpty( version ) || Artifact.LATEST_VERSION.equals( version ) )
-        if ( StringUtils.isEmpty( version ) )
+        if ( StringUtils.isEmpty( version ) || Artifact.RELEASE_VERSION.equals( version ) )
-                for ( Iterator it = project.getReportPlugins().iterator(); it.hasNext() && version == null; )
+                for ( Iterator it = project.getReportPlugins().iterator(); it.hasNext() && ( version == null ); )
-                for ( Iterator it = project.getBuildPlugins().iterator(); it.hasNext() && version == null; )
+                for ( Iterator it = project.getBuildPlugins().iterator(); it.hasNext() && ( version == null ); )
-            while ( !pluginValid && artifactVersion != null )
+            while ( !pluginValid && ( artifactVersion != null ) )
-                    
+
-                if ( pluginProject.getPrerequisites() != null && pluginProject.getPrerequisites().getMaven() != null )
+                if ( ( pluginProject.getPrerequisites() != null ) && ( pluginProject.getPrerequisites().getMaven() != null ) )
