actually, you can specify a sys property instead


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163025 13f79535-47bb-0310-9956-ffa450edef68

-        if ( !reader.parse( userPomFile ) )
+
+        if ( userPomFile.exists() && !reader.parse( userPomFile ) )
+        {
+            System.err.println( "Error reading user POM file" );
+
+            System.exit( 1 );
+        }
+
+        String mavenRepoLocal = System.getProperty( "maven.repo.local", reader.getLocal().getRepository() );
+
+        if ( mavenRepoLocal == null )
-            System.out.println( "<local>\n" );
-            System.out.println( "  <repository>/path/to/m2/repository</repository> (required)\n" );
-            System.out.println( "  <online>true</online> (optional)\n" );
+            System.out.println( "<local>" );
+            System.out.println( "  <repository>/path/to/m2/repository</repository> (required)" );
+            System.out.println( "  <online>true</online> (optional)" );
+            System.out.println();
+            System.out.println( "Alternatively, you can specify -Dmaven.repo.local=/path/to/m2/repository" );
-        String mavenRepoLocal = System.getProperty( "maven.repo.local", reader.getLocal().getRepository() );
-
