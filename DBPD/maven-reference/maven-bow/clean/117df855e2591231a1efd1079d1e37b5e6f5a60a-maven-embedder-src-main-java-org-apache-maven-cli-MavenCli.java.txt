dispose dynamically created class realms

this is mostly to help integration tests reuse the same realm ids,
but plugging resource leaks is generally a good thing.

Signed-off-by: Igor Fedorenko <ifedorenko@apache.org>

+import java.util.Collections;
+import java.util.HashSet;
+import java.util.Set;
+import org.codehaus.plexus.classworlds.realm.NoSuchRealmException;
+        final Set<String> realms;
+        if ( classWorld != null )
+        {
+            realms = new HashSet<String>();
+            for ( ClassRealm realm : classWorld.getRealms() )
+            {
+                realms.add( realm.getId() );
+            }
+        }
+        else
+        {
+            realms = Collections.emptySet();
+        }
+
+            if ( classWorld != null )
+            {
+                for ( ClassRealm realm : new ArrayList<ClassRealm>( classWorld.getRealms() ) )
+                {
+                    String realmId = realm.getId();
+                    if ( !realms.contains( realmId ) )
+                    {
+                        try
+                        {
+                            classWorld.disposeRealm( realmId );
+                        }
+                        catch ( NoSuchRealmException ignored )
+                        {
+                            // can't happen
+                        }
+                    }
+                }
+            }
