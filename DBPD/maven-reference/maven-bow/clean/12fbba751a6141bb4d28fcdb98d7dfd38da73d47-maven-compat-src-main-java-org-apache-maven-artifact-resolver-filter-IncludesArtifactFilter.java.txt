[MNG-4041] embedder returns stale maven project state
Submitted by: Igor Fedorenko

o Committed additional patch with bugfixes including minor modifications:
  - used LinkedHashSet instead of HashSet/TreeSet
  - added missing license headers

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@786882 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.ArrayList;
+import java.util.LinkedHashSet;
+import java.util.Set;
-    private final List<String> patterns;
+    private final Set<String> patterns;
-        this.patterns = patterns;
+        this.patterns = new LinkedHashSet<String>( patterns );
-    
+
-        return patterns;
+        return new ArrayList<String>( patterns );
+    }
+
+    @Override
+    public int hashCode()
+    {
+        int hash = 17;
+        hash = hash * 31 + patterns.hashCode();
+        
+        return hash;
+    }
+
+    @Override
+    public boolean equals( Object obj )
+    {
+        if ( this == obj ) 
+        {
+            return true;
+        }
+
+        // make sure IncludesArtifactFilter is not equal ExcludesArtifactFilter! 
+        if ( obj == null || getClass() != obj.getClass() )
+        {
+            return false;
+        }
+
+        IncludesArtifactFilter other = (IncludesArtifactFilter) obj;
+
+        return patterns.equals( other.patterns );
