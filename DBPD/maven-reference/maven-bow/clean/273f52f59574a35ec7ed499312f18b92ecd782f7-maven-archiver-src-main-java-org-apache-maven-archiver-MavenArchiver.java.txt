fix addClasspath handling

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@164297 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.artifact.DependencyResolutionRequiredException;
+import java.util.List;
-        throws ManifestException
+        throws ManifestException, DependencyResolutionRequiredException
-            Set artifacts = project.getArtifacts();
+            List artifacts = project.getRuntimeClasspathElements();
-                Artifact artifact = (Artifact) iter.next();
-                if ( "jar".equals( artifact.getType() ) && Artifact.SCOPE_RUNTIME.equals( artifact.getScope() ) )
-                {
-                    if ( classpath.length() > 0 )
-                    {
-                        classpath.append( " " );
-                    }
+                File f = (File) iter.next();
-                    classpath.append( artifact.getArtifactId() + "-" + artifact.getVersion() + ".jar" );
+                if ( classpath.length() > 0 )
+                {
+                    classpath.append( " " );
+
+                classpath.append( f.getName() );
-        throws ArchiverException, ManifestException, IOException
+        throws ArchiverException, ManifestException, IOException, DependencyResolutionRequiredException
