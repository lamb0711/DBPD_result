Adding more unit tests for error reporting. Almost done with project-based errors now.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@612333 13f79535-47bb-0310-9956-ffa450edef68

-                activeProfiles = profileManager.getActiveProfiles();
+                activeProfiles = profileManager.getActiveProfiles( model );
-    public LinkedHashSet getArtifactRepositoriesFromActiveProfiles( ProfileManager profileManager,
+    public LinkedHashSet getArtifactRepositoriesFromActiveProfiles( Model model,
-                                                                    String modelId )
+                                                                    ProfileManager profileManager )
-                activeExternalProfiles = profileManager.getActiveProfiles();
+                activeExternalProfiles = profileManager.getActiveProfiles( model );
-                                                    modelId,
+                                                    model.getId(),
-                            throw new ProjectBuildingException( modelId, e.getMessage(), e );
+                            throw new ProjectBuildingException( model.getId(), e.getMessage(), e );
-        return getArtifactRepositoriesFromActiveProfiles( profileManager, pomFile, model.getId() );
+        return getArtifactRepositoriesFromActiveProfiles( model, pomFile, profileManager );
