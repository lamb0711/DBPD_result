build plugins


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@344983 13f79535-47bb-0310-9956-ffa450edef68

-                    if ( arg.isHasValue() )
+                    if ( arg != null )
-                        String value = null;
-                        if ( index >= 0 )
+                        if ( arg.isHasValue() )
-                            value = args[i].substring( index + 1 ).trim();
-                        }
-                        else if ( i != args.length - 1 && !args[i + 1].startsWith( "-" ) )
-                        {
-                            value = args[i + 1];
-                            i++;
-                        }
+                            String value = null;
+                            if ( index >= 0 )
+                            {
+                                value = args[i].substring( index + 1 ).trim();
+                            }
+                            else if ( i != args.length - 1 && !args[i + 1].startsWith( "-" ) )
+                            {
+                                value = args[i + 1];
+                                i++;
+                            }
-                        arg.setValue( value );
+                            arg.setValue( value );
+                        }
+                        arg.setSet( true );
-                    if ( arg.isHasValue() )
+                    if ( arg != null )
-                        String value = null;
-                        if ( args[i].length() > 2 )
+                        if ( arg.isHasValue() )
-                            value = args[i].substring( 2 );
-                        }
-                        else if ( i != args.length - 1 && !args[i + 1].startsWith( "-" ) )
-                        {
-                            value = args[i + 1];
-                            i++;
-                        }
+                            String value = null;
+                            if ( args[i].length() > 2 )
+                            {
+                                value = args[i].substring( 2 );
+                            }
+                            else if ( i != args.length - 1 && !args[i + 1].startsWith( "-" ) )
+                            {
+                                value = args[i + 1];
+                                i++;
+                            }
-                        arg.setValue( value );
+                            arg.setValue( value );
+                        }
+                        arg.setSet( true );
-    public void addArgument( String argument, String description, String alias )
-    {
-        addArgument( argument, description, alias, false, null );
-    }
-
-    public void addArgument( String argument, String description, String alias, boolean hasValue, String defaultValue )
-    {
-        Argument arg = new Argument( argument, description, alias, hasValue, defaultValue );
-        arguments.put( argument, arg );
-        if ( alias != null )
-        {
-            arguments.put( alias, arg );
-        }
-    }
-
+    public void addArgument( String argument, String description, String alias )
+    {
+        addArgument( argument, description, alias, false, null );
+    }
+
+    public void addArgument( String argument, String description, String alias, boolean hasValue, String defaultValue )
+    {
+        Argument arg = new Argument( argument, description, alias, hasValue, defaultValue );
+        arguments.put( argument, arg );
+        if ( alias != null )
+        {
+            arguments.put( alias, arg );
+        }
+    }
+
+    public void addArgument( String argument, String description )
+    {
+        addArgument( argument, description, null );
+    }
+
+    public void addArgument( String argument, String description, boolean hasValue )
+    {
+        addArgument( argument, description, hasValue, null );
+    }
+
+    public boolean isArgumentSet( String argument )
+    {
+        return arguments.containsKey( argument );
+    }
+
+        private boolean set;
+
+
+        public boolean isSet()
+        {
+            return set;
+        }
+
+        public void setSet( boolean set )
+        {
+            this.set = set;
+        }
