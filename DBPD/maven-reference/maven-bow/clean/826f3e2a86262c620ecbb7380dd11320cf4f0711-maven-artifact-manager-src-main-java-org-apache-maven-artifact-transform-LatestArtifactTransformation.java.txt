PR: MNG-916
ensure RELEASE is not selected as is

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@292172 13f79535-47bb-0310-9956-ffa450edef68

-            if ( version != null && !version.equals( artifact.getVersion() ) )
+            if ( Artifact.LATEST_VERSION.equals( version ) )
-                artifact.setBaseVersion( version );
-                artifact.updateVersion( version, localRepository );
+                throw new ArtifactMetadataRetrievalException(
+                    "Unable to determine the latest version for artifact " + artifact );
+
+            artifact.setBaseVersion( version );
+            artifact.updateVersion( version, localRepository );
