o use the programmatic setup of the container
o use the new active collections in Pleuxus


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@587015 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.plugin.MavenPluginCollector;
+import org.apache.maven.plugin.MavenPluginDiscoverer;
+
+
-                    map.putAll( getPluginExtensionComponents( plugin ) );
+                    Map extensionComponents = getPluginExtensionComponents( plugin );
+
+                    map.putAll( extensionComponents );
+
+
+
+            //TODO: ok this is crappy, now there are active collections so when new artifact handlers 
+            // enter the system they should be available.
+
-        MavenProjectBuildingResult projectBuildingResult = null;
+        MavenProjectBuildingResult projectBuildingResult;
-            ContainerConfiguration cc = new DefaultContainerConfiguration()
+            ContainerConfiguration cc = new DefaultContainerConfiguration()                
+                .addComponentDiscoverer( new MavenPluginDiscoverer() )                
+                .addComponentDiscoveryListener( new MavenPluginCollector() )
