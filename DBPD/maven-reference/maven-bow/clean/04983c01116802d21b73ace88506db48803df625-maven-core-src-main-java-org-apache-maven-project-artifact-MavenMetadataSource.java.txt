o Refactored code

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@901701 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Locale;
+import org.apache.maven.properties.internal.EnvironmentUtils;
-import org.codehaus.plexus.util.Os;
-    private static Properties envVars;
-
-        if ( envVars == null )
-        {
-            Properties tmp = new Properties();
-            boolean caseSensitive = !Os.isFamily( Os.FAMILY_WINDOWS );
-            for ( Map.Entry<String, String> entry : System.getenv().entrySet() )
-            {
-                String key = "env." + ( caseSensitive ? entry.getKey() : entry.getKey().toUpperCase( Locale.ENGLISH ) );
-                tmp.setProperty( key, entry.getValue() );
-            }
-            envVars = tmp;
-        }
-
-        props.putAll( envVars );
+        EnvironmentUtils.addEnvVars( props );
