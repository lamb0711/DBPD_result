Resolving: MNG-823...added context-awareness to AbstractMojo, using ContextEnabled interface to avoid breaking Mojo API for direct implementors. Added two mojos in the core-it plugin to use the plugin context map, and an IT - it0073 - to test the whole thing.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@292023 13f79535-47bb-0310-9956-ffa450edef68

-
+        
+        if ( plugin instanceof ContextEnabled )
+        {
+            Map pluginContext;
+            try
+            {
+                pluginContext = (Map) pluginContainer.getContext().get( ContextEnabled.PLUGIN_CONTEXT_SESSION_KEY );
+            }
+            catch ( ContextException e )
+            {
+                // this is thrown the first time for each plugin, since the map hasn't been initialized in the
+                // new plugin's container context.
+                getLogger().debug( "Initializing plugin context map for plugin: " + pluginDescriptor.getPluginLookupKey() );
+                
+                pluginContext = new HashMap();
+                
+                pluginContainer.getContext().put( ContextEnabled.PLUGIN_CONTEXT_SESSION_KEY, pluginContext );
+            }
+            
+            ( (ContextEnabled) plugin ).setPluginContext( pluginContext );
+        }
+        
