Resolving: MNG-397

o Added ResolutionGroup class which contains a set of artifacts and a list of repositories to resolve them.
o Made the ResolutionNode a standalone class, and added the remote repositories to it
o Changed ArtifactMetadataSource.retrieve(..) to return ResolutionGroup rather than Set, in order to help keep track of the repositories which should be used to resolve the retrieved artifacts.

We need some tests for this...


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@219276 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.HashMap;
-import java.util.Map;
+import java.util.HashSet;
+import java.util.Iterator;
-import java.util.Collections;
-    private Set artifacts = Collections.EMPTY_SET;
+    private Set resolutionNodes;
-    private Map conflicts;
-
+    // calculated.
+    private Set artifacts;
+    
-        conflicts = new HashMap();
+        if ( artifacts == null )
+        {
+            artifacts = new HashSet();
+            
+            for ( Iterator it = resolutionNodes.iterator(); it.hasNext(); )
+            {
+                ResolutionNode node = (ResolutionNode) it.next();
+                artifacts.add( node.getArtifact() );
+            }
+        }
+        
-
-    public Map getConflicts()
+    
+    public Set getArtifactResolutionNodes()
-        return conflicts;
+        return resolutionNodes;
-    public void setArtifacts( Set artifacts )
+    public void setArtifactResolutionNodes( Set resolutionNodes )
-        this.artifacts = artifacts;
+        this.resolutionNodes = resolutionNodes;
+        
+        // clear the cache
+        this.artifacts = null;
