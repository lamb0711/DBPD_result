[MNG-6105] properties.internal.SystemProperties.addSystemProperties() is not really thread-safe

Refactoring the current code setting system properties to synchronize correctly on the given ones: avoids ConcurrentModificationException and NullPointerException if the properties is modified by another thread.

+        final Properties systemProperties = new Properties();
+        
-        Properties sysProps = new Properties();
-        for ( String key : System.getProperties().stringPropertyNames() )
+        // MNG-6053 guard against key without value
+        Properties sysProp = System.getProperties();
+        synchronized ( sysProp )
-            sysProps.put( key, System.getProperty( key ) );
+            systemProperties.putAll( sysProp );
-        session.setSystemProperties( sysProps );
-        session.setConfigProperties( sysProps );
+
+        session.setSystemProperties( systemProperties );
+        session.setConfigProperties( systemProperties );
