[MNG-4795] [regression] Dependencies in forked reactor projects are not resolved when aggregator bound to lifecycle forks

git-svn-id: https://svn.apache.org/repos/asf/maven/maven-3/trunk@996206 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.maven.lifecycle.internal.DependencyContext;
-import org.apache.maven.lifecycle.internal.DefaultLifecycleExecutionPlanCalculator;
-import java.util.Collections;
-import java.util.TreeSet;
-        Set<String> requiredDependencyResolutionScopes = new TreeSet<String>();
-        Set<String> requiredDependencyCollectionScopes = new TreeSet<String>();
-                                             // Ok, so this method could probably have a better location.
-        DefaultLifecycleExecutionPlanCalculator.collectDependencyRequirements( requiredDependencyResolutionScopes,
-                                                                            requiredDependencyCollectionScopes,
-                                                                            mojoExecution );
-
-        final DependencyContext context =
-            new DependencyContext( requiredDependencyCollectionScopes, requiredDependencyResolutionScopes,
-                                   mojoExecution.getMojoDescriptor().isAggregator() );
-        mojoExecutor.executeForkedExecutions( mojoExecution, session, new ProjectIndex( session.getProjects() ),
-                                              context );
-        return Collections.emptyList();
+        return mojoExecutor.executeForkedExecutions( mojoExecution, session, new ProjectIndex( session.getProjects() ) );
-
