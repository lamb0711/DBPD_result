override with goal configuration if it exists


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163618 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.model.Goal;
-                    return CollectionUtils.mergeMaps( plugin.getConfiguration(), map );
+                    map = CollectionUtils.mergeMaps( plugin.getConfiguration(), map );
+
+                    // TODO: much less of this magic is needed - make the mojoDescriptor just store the first and second part
+                    int index = goalId.indexOf( ':' );
+                    if ( index >= 0 )
+                    {
+                        String goalName = goalId.substring( index + 1 );
+                        for ( Iterator j = plugin.getGoals().iterator(); j.hasNext(); )
+                        {
+                            Goal goal = (Goal) j.next();
+                            if ( goal.getId().equals( goalName ) )
+                            {
+                                map = CollectionUtils.mergeMaps( goal.getConfiguration(), map );
+                                break;
+                            }
+                        }
+                    }
+
+                    return map;
