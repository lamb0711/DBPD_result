o Kept active external and POM profiles separate in model building result

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@784583 13f79535-47bb-0310-9956-ffa450edef68

-    private Map<Model, List<Profile>> activeProfiles;
+    private Map<Model, List<Profile>> activePomProfiles;
+
+    private List<Profile> activeExternalProfiles;
-        activeProfiles = new HashMap<Model, List<Profile>>();
+        activePomProfiles = new HashMap<Model, List<Profile>>();
+        activeExternalProfiles = new ArrayList<Profile>();
-    public List<Profile> getActiveProfiles( Model rawModel )
+    public List<Profile> getActivePomProfiles( Model rawModel )
-        List<Profile> profiles = this.activeProfiles.get( rawModel );
+        List<Profile> profiles = this.activePomProfiles.get( rawModel );
-    public DefaultModelBuildingResult setActiveProfiles( Model rawModel, List<Profile> activeProfiles )
+    public DefaultModelBuildingResult setActivePomProfiles( Model rawModel, List<Profile> activeProfiles )
-            this.activeProfiles.put( rawModel, new ArrayList<Profile>( activeProfiles ) );
+            this.activePomProfiles.put( rawModel, new ArrayList<Profile>( activeProfiles ) );
-            this.activeProfiles.remove( rawModel );
+            this.activePomProfiles.remove( rawModel );
-    public DefaultModelBuildingResult addActiveProfiles( Model rawModel, List<Profile> activeProfiles )
+    public DefaultModelBuildingResult addActivePomProfiles( Model rawModel, List<Profile> activeProfiles )
-        List<Profile> currentProfiles = this.activeProfiles.get( rawModel );
+        List<Profile> currentProfiles = this.activePomProfiles.get( rawModel );
-            this.activeProfiles.put( rawModel, currentProfiles );
+            this.activePomProfiles.put( rawModel, currentProfiles );
+    public List<Profile> getActiveExternalProfiles()
+    {
+        return Collections.unmodifiableList( activeExternalProfiles );
+    }
+
+    public DefaultModelBuildingResult setActiveExternalProfiles( List<Profile> activeProfiles )
+    {
+        this.activeExternalProfiles.clear();
+        if ( activeProfiles != null )
+        {
+            this.activeExternalProfiles.addAll( activeProfiles );
+        }
+
+        return this;
+    }
+
