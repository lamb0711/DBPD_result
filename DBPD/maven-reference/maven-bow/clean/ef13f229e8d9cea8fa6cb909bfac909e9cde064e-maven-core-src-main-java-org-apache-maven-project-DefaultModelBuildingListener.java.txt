o Fixed project realm handling to be more embedder friendly

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@795206 13f79535-47bb-0310-9956-ffa450edef68

-            /*
-             * Update the context class loader so that the container will search the project realm when the model
-             * builder injects the lifecycle bindings from the packaging next. The class loader is reset by the project
-             * builder when the project is fully assembled.
-             */
-            Thread.currentThread().setContextClassLoader( projectRealm );
+            if ( projectRealm != null )
+            {
+                /*
+                 * Update the context class loader such that the container will search the project realm when the model
+                 * builder injects the lifecycle bindings from the packaging in the next step. The context class loader
+                 * will be reset by the project builder when the project is fully assembled.
+                 */
+                Thread.currentThread().setContextClassLoader( projectRealm );
+            }
