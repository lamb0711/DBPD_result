MNG-695: Added more tests on anonymousConnection, devConnection and scmUrl to prevent NPE. Added the test case num 11.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@230612 13f79535-47bb-0310-9956-ffa450edef68

+            if ( StringUtils.isEmpty( anonymousConnection ) &&
+                StringUtils.isEmpty( devConnection ) &&
+                StringUtils.isEmpty( scm.getUrl() ) )
+            {
+                startSection( getTitle() );
+
+                paragraph( getBundle( locale ).getString( "report.scm.noscm" ) );
+
+                endSection();
+
+                return;
+            }
+            
-            if ( scmUrl == null )
+            if ( StringUtils.isEmpty( scmUrl ) )
-                || ( isScmSystem( anonymousRepository, "starteam" ) ) )
+                || ( isScmSystem( anonymousRepository, "starteam" ) ) 
+                || ( StringUtils.isEmpty( anonymousConnection ) ) )
+                if ( anonymousConnection.length() < 4 )
+                {
+                    throw new IllegalArgumentException( "The source repository connection is too short." );
+                }
+
+            if ( StringUtils.isEmpty( devConnection ) )
+            {
+                return;
+            }
+            
+                if ( devConnection.length() < 4 )
+                {
+                    throw new IllegalArgumentException( "The source repository connection is too short." );
+                }
+
-            if ( scmUrl == null )
+            if ( StringUtils.isEmpty( scmUrl ) )
