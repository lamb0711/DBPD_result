o Removed dependency validation after default injection, since this is the job of the validator (later in the project-building process)
o Reformatted using m2 eclipse formatting file.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163330 13f79535-47bb-0310-9956-ffa450edef68

- * @author jdcasey
- *
- * Created on Feb 1, 2005
+ * @author jdcasey Created on Feb 1, 2005
-public class DefaultProjectDefaultsInjector implements ProjectDefaultsInjector
+public class DefaultProjectDefaultsInjector
+    implements ProjectDefaultsInjector
-    
-    public void injectDefaults(MavenProject project)
+
+    public void injectDefaults( MavenProject project )
-        injectDependencyDefaults(project.getDependencies(), project.getDependencyManagement());
+        injectDependencyDefaults( project.getDependencies(), project.getDependencyManagement() );
-    /** Added: Feb 1, 2005 by jdcasey
+    /**
+     * Added: Feb 1, 2005 by jdcasey
-        if(dependencyManagement != null)
+        if ( dependencyManagement != null )
-            // a given project's dependencies should be smaller than the group-defined defaults set...
-            // in other words, the project's deps will probably be a subset of those specified in defaults.
+            // a given project's dependencies should be smaller than the
+            // group-defined defaults set...
+            // in other words, the project's deps will probably be a subset of
+            // those specified in defaults.
-                depsMap.put(dep.getManagementKey(), dep);
+                depsMap.put( dep.getManagementKey(), dep );
-            
+
-            
+
-                
-                Dependency dep = (Dependency) depsMap.get(key);
-                if(dep != null)
+
+                Dependency dep = (Dependency) depsMap.get( key );
+                if ( dep != null )
-                    mergeWithDefaults(dep, def);
-                    validateDependency(dep);
+                    mergeWithDefaults( dep, def );
-    /** Added: Feb 1, 2005 by jdcasey
+    /**
+     * Added: Feb 1, 2005 by jdcasey
-        if(dep.getVersion() == null && def.getVersion() != null)
+        if ( dep.getVersion() == null && def.getVersion() != null )
-            dep.setVersion(def.getVersion());
+            dep.setVersion( def.getVersion() );
-        
-        Properties props = new Properties(def.getProperties());
-        props.putAll(dep.getProperties());
-        dep.setProperties(props);
+
+        Properties props = new Properties( def.getProperties() );
+        props.putAll( dep.getProperties() );
+        dep.setProperties( props );
-    /** Added: Feb 1, 2005 by jdcasey
-     */
-    private void validateDependency( Dependency dep )
-    {
-        if(StringUtils.isEmpty(dep.getVersion()))
-        {
-            throw new IllegalStateException("Dependency version is null for: " + dep.getId());
-        }
-    }
-
-}
+}
