remove legacy metadata handling

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@292156 13f79535-47bb-0310-9956-ffa450edef68

-import util.FileUtils;
-                    boolean legacy = false;
-                    else
-                    {
-                        log( "WARNING: attempting to use legacy metadata" );
-                        filename = getSnapshotMetadataFile( destinationFile.getName(), "SNAPSHOT.version.txt" );
-                        File f = localRepository.getMetadataFile( dep.getGroupId(), dep.getArtifactId(),
-                                                                  dep.getVersion(), dep.getType(), filename );
-                        metadataPath = remoteRepo.getMetadataPath( dep.getGroupId(), dep.getArtifactId(),
-                                                                   dep.getVersion(), dep.getType(), filename );
-                        metaUrl = remoteRepo.getBasedir() + "/" + metadataPath;
-                        log( "Downloading " + metaUrl );
-                        try
-                        {
-                            HttpUtils.getFile( metaUrl, f, ignoreErrors, true, proxyHost, proxyPort, proxyUserName,
-                                               proxyPassword, false );
-                        }
-                        catch ( IOException e )
-                        {
-                            log( "WARNING: remote SNAPSHOT version not found, using local: " + e.getMessage() );
-                            f.delete();
-                        }
-
-                        if ( f.exists() )
-                        {
-                            if ( !localFile.exists() || localFile.lastModified() < f.lastModified() )
-                            {
-                                version = FileUtils.fileRead( f );
-                                log( "Resolved version: " + version );
-                                dep.setResolvedVersion( version );
-                                if ( !version.endsWith( "SNAPSHOT" ) )
-                                {
-                                    String ver = version.substring(
-                                        version.lastIndexOf( "-", version.lastIndexOf( "-" ) - 1 ) + 1 );
-                                    String extension = url.substring( url.length() - 4 );
-                                    url = getSnapshotMetadataFile( url, ver + extension );
-                                }
-                                else if ( destinationFile.exists() )
-                                {
-                                    // It's already there
-                                    return true;
-                                }
-                                legacy = true;
-                            }
-                        }
-                        else
-                        {
-                            log( "WARNING: local SNAPSHOT version not found, using default" );
-                        }
-                    }
-
-                    if ( !legacy && file.exists() )
+                    if ( file.exists() )
