PR: MNG-593
ensure there are no duplicates in the assembled model's dependency list

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@220344 13f79535-47bb-0310-9956-ffa450edef68

-        for ( Iterator iterator = dependencies.iterator(); iterator.hasNext(); )
+        List childDeps = child.getDependencies();
+
+        Map mappedChildDeps = new TreeMap();
+        for ( Iterator it = childDeps.iterator(); it.hasNext(); )
-            Dependency dependency = (Dependency) iterator.next();
+            Dependency dep = (Dependency) it.next();
+            mappedChildDeps.put( dep.getManagementKey(), dep );
+        }
-            child.addDependency( dependency );
-
+        for ( Iterator it = parent.getDependencies().iterator(); it.hasNext(); )
+        {
+            Dependency dep = (Dependency) it.next();
+            if ( !mappedChildDeps.containsKey( dep.getManagementKey() ) )
+            {
+                child.addDependency( dep );
+            }
