PR: MNG-418

use a silent transfer monitor in batch mode


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@191492 13f79535-47bb-0310-9956-ffa450edef68

-        System.out.print( ( complete / 1024 ) + "/" +
-                          ( total == WagonConstants.UNKNOWN_LENGTH ? "?" : ( total / 1024 ) + "K" ) + "\r" );
+        if ( total >= 1024 )
+        {
+            System.out.print(
+                ( complete / 1024 ) + "/" + ( total == WagonConstants.UNKNOWN_LENGTH ? "?" : ( total / 1024 ) + "K" ) +
+                    "\r" );
+        }
+        else
+        {
+            System.out.print( complete + "/" + ( total == WagonConstants.UNKNOWN_LENGTH ? "?" : total + "b" ) + "\r" );
+        }
-        System.out.println(
-            ( complete / 1024 ) + "K " +
-            ( transferEvent.getRequestType() == TransferEvent.REQUEST_PUT ? "uploaded" : "downloaded" ) );
+        long contentLength = transferEvent.getResource().getContentLength();
+        if ( contentLength != WagonConstants.UNKNOWN_LENGTH )
+        {
+            String type = ( transferEvent.getRequestType() == TransferEvent.REQUEST_PUT ? "uploaded" : "downloaded" );
+            String l = contentLength >= 1024 ? ( contentLength / 1024 ) + "K" : contentLength + "b";
+            System.out.println( l + " " + type );
+        }
