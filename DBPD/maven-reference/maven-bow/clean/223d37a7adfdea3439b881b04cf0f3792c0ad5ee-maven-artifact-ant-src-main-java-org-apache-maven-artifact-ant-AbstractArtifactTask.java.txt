PR: MNG-440
support "servers" element from settings for obtaining authentication info



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@189489 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.settings.Server;
-        return new ArtifactRepository( "remote", repository.getUrl(), repositoryLayout );
+        ArtifactRepository artifactRepository;
+        if ( repository.getSnapshotPolicy() != null )
+        {
+            artifactRepository = new ArtifactRepository( "remote", repository.getUrl(), repositoryLayout,
+                                                         repository.getSnapshotPolicy() );
+        }
+        else
+        {
+            artifactRepository = new ArtifactRepository( "remote", repository.getUrl(), repositoryLayout );
+        }
+        return artifactRepository;
+
+    protected RemoteRepository createAntRemoteRepository( org.apache.maven.model.Repository pomRepository )
+    {
+        RemoteRepository r = new RemoteRepository();
+        r.setUrl( pomRepository.getUrl() );
+        r.setSnapshotPolicy( pomRepository.getSnapshotPolicy() );
+        r.setLayout( pomRepository.getLayout() );
+
+        Server server = getSettings().getServer( pomRepository.getId() );
+        if ( server != null )
+        {
+            r.addAuthentication( new Authentication( server ) );
+        }
+        return r;
+    }
