Resolving: MNG-1052

o Added pluginManagement injection to MavenProject.addPlugin(..) so that no Plugin definition added to the project can go without having managed info injected into it.



git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@293454 13f79535-47bb-0310-9956-ffa450edef68

+            PluginManagement pm = build.getPluginManagement();
+            
+            if ( pm != null )
+            {
+                Map pmByKey = pm.getPluginsAsMap();
+                
+                String pluginKey = plugin.getKey();
+                
+                if ( pmByKey != null && pmByKey.containsKey( pluginKey ) )
+                {
+                    Plugin pmPlugin = (Plugin) pmByKey.get( pluginKey );
+                    
+                    ModelUtils.mergePluginDefinitions( plugin, pmPlugin, false );
+                }
+                
+            }
+            
