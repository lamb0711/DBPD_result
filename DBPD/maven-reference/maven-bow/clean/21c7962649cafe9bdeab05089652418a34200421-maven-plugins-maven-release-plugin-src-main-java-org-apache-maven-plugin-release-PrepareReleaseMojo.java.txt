Add pom rewriting

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@170605 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.plugin.transformer.PomTransformer;
+import org.apache.maven.plugin.transformer.VersionTransformer;
-import java.io.IOException;
-import java.io.StringWriter;
-import java.util.Set;
-        //checkin();
+        checkin();
+        //Write pom
-            //TODO: Write in pom file
-            //TODO: Write only necessary informations
-            StringWriter writer = new StringWriter();
-            modelWriter.write( writer, model );
-            getLog().info( writer.toString() );
+            PomTransformer transformer = new VersionTransformer();
+            transformer.setOutputFile( project.getFile() );
+            transformer.setProject( project.getFile() );
+            transformer.setUpdatedModel ( model );
+            transformer.transformNodes();
+            transformer.write();
-        catch ( IOException e )
+        catch ( Exception e )
