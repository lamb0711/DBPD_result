o Fixed injection of repository layouts

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@795086 13f79535-47bb-0310-9956-ffa450edef68

-    @Requirement
-    private ArtifactRepositoryLayout defaultArtifactRepositoryLayout;
-
-    @Requirement
-    private Map<String,ArtifactRepositoryLayout> layouts;
+    @Requirement( role = ArtifactRepositoryLayout.class )
+    private Map<String, ArtifactRepositoryLayout> layouts;
-        return createArtifactRepository( repositoryId, url, defaultArtifactRepositoryLayout, snapshotsPolicy, releasesPolicy );
+        return createArtifactRepository( repositoryId, url, null, snapshotsPolicy, releasesPolicy );
-    {        
+    {
-            repositoryLayout = defaultArtifactRepositoryLayout;
+            repositoryLayout = layouts.get( "default" );
-             
+
