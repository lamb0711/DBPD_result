Run goals at the end of perform release. The default goals are "deploy site:site site:deploy".

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@170614 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.maven.plugin.logging.Log;
+import org.apache.maven.project.MavenProject;
+import org.codehaus.plexus.util.cli.CommandLineException;
+import org.codehaus.plexus.util.cli.CommandLineUtils;
+import org.codehaus.plexus.util.cli.Commandline;
+import org.codehaus.plexus.util.cli.DefaultConsumer;
+import org.codehaus.plexus.util.cli.StreamConsumer;
+
+import sun.security.action.GetLongAction;
+import sun.tools.jar.CommandLine;
+    /**
+     * @parameter expression="${goals}"
+     * @required
+     */
+    private String goals = "deploy site:site site:deploy";
+
+
+        runGoals();
+
+    private void runGoals()
+        throws MojoExecutionException
+    {
+        Commandline cl = new Commandline();
+        cl.setExecutable( "m2" );
+        cl.setWorkingDirectory( getWorkingDirectory() );
+        cl.createArgument().setLine( goals );
+        StreamConsumer consumer = new DefaultConsumer();
+        try
+        {
+            CommandLineUtils.executeCommandLine( cl, consumer, consumer );
+        }
+        catch ( CommandLineException e )
+        {
+            throw new MojoExecutionException( "Can't run goal " + goals, e );
+        }
+    }
