MNG-1979 throw IllegalStateException when calling methods in wrong order.

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@400260 13f79535-47bb-0310-9956-ffa450edef68

+    
+    private boolean started = false;
-     * @deprecated not used.
+     * 
-        return localRepositoryDirectory;
+        return new File(getLocalRepositoryPath(settings));
+    /**
+     * read the model.
+     * requires a start()-ed embedder.
+     */
+        checkStarted();
+    /**
+     * write the model.
+     * requires a start()-ed embedder.
+     */
+        checkStarted();
+    /**
+     * read the project.
+     * requires a start()-ed embedder.
+     */
+        checkStarted();
+        checkStarted();
+        checkStarted();
+        checkStarted();
+        checkStarted();
+        checkStarted();
+        checkStarted();
+        checkStarted();
+        checkStarted();
+    
+            started = true;
+        started = false;
+        checkStarted();
+        checkStarted();
+        checkStarted();
+        checkStarted();
+        checkStarted();
+        checkStarted();
+    
+    private void checkStarted() {
+        if (!started) {
+            throw new IllegalStateException("The embedder is not started, you need to call start() on the embedder prior to calling this method");
+        } 
+    }
