o making the build.properties generally available to the bootstrapper and
  just passing in those properties to the artifact downloader.


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@162561 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.IOException;
+import java.io.InputStream;
+import java.util.Properties;
+    private Properties properties;
+
-        downloader = new ArtifactDownloader();
+        properties = loadProperties( new File( System.getProperty( "user.home" ), "build.properties" ) );
+
+        downloader = new ArtifactDownloader( properties );
+    private Properties loadProperties( File file )
+    {
+        try
+        {
+            return loadProperties( new FileInputStream( file ) );
+        }
+        catch ( Exception e )
+        {
+            // ignore
+        }
+
+        return new Properties();
+    }
+
+    private static Properties loadProperties( InputStream is )
+    {
+        Properties properties = new Properties();
+
+        try
+        {
+            if ( is != null )
+            {
+                properties.load( is );
+            }
+        }
+        catch ( IOException e )
+        {
+            // ignore
+        }
+        finally
+        {
+            try
+            {
+                if ( is != null )
+                {
+                    is.close();
+                }
+            }
+            catch ( IOException e )
+            {
+                // ignore
+            }
+        }
+
+        return properties;
+    }
+
+
