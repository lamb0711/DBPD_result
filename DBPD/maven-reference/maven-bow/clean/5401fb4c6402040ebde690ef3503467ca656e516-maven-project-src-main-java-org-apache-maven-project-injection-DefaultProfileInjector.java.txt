OPEN - issue MNG-2784: Multiple executions of the same plugin at the same life cycle phase in a multi-module profile mixed up 
http://jira.codehaus.org/browse/MNG-2784

NOT applying this patch, as there is a much simpler solution. The processing is currently in the correct order, so all we need to do is make sure the Map.values() method retains this order. Therefore, I changed the Map implementation for plugin executions to LinkedHashMap.

I've also added a test for this issue...

git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@543599 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.LinkedHashMap;
-import java.util.TreeMap;
-     * 
+     *
-     * 
+     *
-     *  
-     * Result: 
-     * 
+     *
+     * Result:
+     *
-        if ( profileContainer == null || modelContainer == null )
+        if ( ( profileContainer == null ) || ( modelContainer == null ) )
-        
+
-                if ( profilePlugin != null && !mergedPlugins.contains( profilePlugin ) )
+                if ( ( profilePlugin != null ) && !mergedPlugins.contains( profilePlugin ) )
-        if ( profilePlugin == null || modelPlugin == null )
+        if ( ( profilePlugin == null ) || ( modelPlugin == null ) )
-        if ( modelExecutions == null || modelExecutions.isEmpty() )
+        if ( ( modelExecutions == null ) || modelExecutions.isEmpty() )
-            Map executions = new TreeMap();
+            Map executions = new LinkedHashMap();
-                    if ( modelGoals != null && !modelGoals.isEmpty() )
+                    if ( ( modelGoals != null ) && !modelGoals.isEmpty() )
-        if ( modelModules != null && !modelModules.isEmpty() )
+        if ( ( modelModules != null ) && !modelModules.isEmpty() )
