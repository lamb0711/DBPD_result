o Refined DirectoryScanner excludes
o Fixed some problems with version parsing from legacy repo searches.
o Added extension() method to artifact handlers used for conversions only
o Changed reports-directory layout to be less flat (faster to load on web browser, etc.)


git-svn-id: https://svn.apache.org/repos/asf/maven/components/trunk@163750 13f79535-47bb-0310-9956-ffa450edef68

+                String artifactReportPath = buildArtifactReportPath(artifact);
+                
-                    artifactReporter = new Reporter( reportsBase, artifact.getId().replace(':', '_') + ".report.txt" );
+                    artifactReporter = new Reporter( reportsBase, artifactReportPath );
-                    artifactReporter.error("Error while rewriting file or POM for artifact: \'" + artifact.getId() + "\'", e);
+                    artifactReporter.error("Error while rewriting file or POM for artifact: \'" + artifact.getId() + "\'. See report at: \'" + artifactReportPath + "\'.", e);
+    private String buildArtifactReportPath( Artifact artifact )
+    {
+        String classifier = artifact.getClassifier();
+        
+        return artifact.getGroupId().replace('.', '/') + "/" + artifact.getArtifactId() + "/" + artifact.getType() + "/" + ((classifier != null)?(classifier + "-"):("")) + artifact.getVersion() + ".report.txt";
+    }
+
