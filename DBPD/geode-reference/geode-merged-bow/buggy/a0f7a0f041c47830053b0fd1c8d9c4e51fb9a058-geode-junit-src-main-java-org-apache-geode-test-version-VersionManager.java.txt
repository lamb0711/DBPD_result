GEODE-7168 tomcat rolling upgrade test failure

This PR reinstates the changes to this test and modifies the
geode-old-versions subproject to preserve the full version string (with
periods) for older versions.  This lets the tomcat test build a
classpath without requiring the target version to have representation in
Version.java.

-import org.apache.geode.internal.serialization.Version;
-
-  public static final String CURRENT_VERSION = "000";
-  public static final String GEODE_110 = "110";
-  public static final String GEODE_120 = "120";
-  public static final String GEODE_130 = "130";
-  public static final String GEODE_140 = "140";
+  public static final String CURRENT_VERSION = "0.0.0";
+   * Remove the dots from a version string. "1.2.0" -> "120"
+   */
+  public String versionWithNoDots(String s) {
+    StringBuilder b = new StringBuilder(10);
+    int length = s.length();
+    for (int i = 0; i < length; i++) {
+      char ch = s.charAt(i);
+      if (ch != '.') {
+        // leave off any trailing stuff like "-incubating"
+        if (!Character.isDigit(ch)) {
+          break;
+        }
+        b.append(ch);
+      }
+    }
+    return b.toString();
+  }
+
+  /**
-        if (parsedVersion.get().equals("140")
+        if (parsedVersion.get().equals("1.4.0")
-          // in 150. As a result, 140 servers and clients will fail categorically when run in
+          // in 1.5.0. As a result, 1.4.0 servers and clients will fail categorically when run in
-              "Geode version 140 is incompatible with Java 9 and higher.  Skipping this version.");
+              "Geode version 1.4.0 is incompatible with Java 9 and higher.  Skipping this version.");
-    if (version.startsWith("test") && version.length() >= "test".length()) {
-      if (version.equals("test")) {
-        parsedVersion = CURRENT_VERSION;
-      } else {
-        parsedVersion = version.substring("test".length());
-      }
+    if (version.length() > 0 && Character.isDigit(version.charAt(0))
+        && version.length() >= "1.2.3".length()) {
+      parsedVersion = version;
-
-  /**
-   * map a VersionManager version string (like "180) to the actual name of the corresponding
-   * Version
-   */
-  public String getVersionName(String oldVersion) {
-    if (oldVersion.equals(CURRENT_VERSION)) {
-      return Version.CURRENT.getName();
-    }
-    if (!this.testVersions.contains(oldVersion)) {
-      throw new IllegalArgumentException("Unknown version of Geode: " + oldVersion);
-    }
-    for (Version v : Version.getAllVersions()) {
-      if (oldVersion.equals(v.getName().replace(".", ""))) {
-        return v.getName();
-      }
-    }
-    throw new IllegalArgumentException("Unknown version of Geode: " + oldVersion);
-  }

INS31 INS31 INS29 INS83 MOV43 INS42 MOV44 INS8 INS83 MOV74 INS42 MOV44 INS8 UPD45 INS65 UPD42 INS60 INS60 INS24 INS41 MOV60 INS25 MOV41 INS66 INS43 INS59 INS39 INS59 INS58 INS27 INS37 INS8 INS32 INS27 INS8 UPD42 MOV42 UPD42 MOV42 INS14 UPD42 MOV42 INS32 INS39 INS59 INS42 INS42 INS42 INS60 INS25 INS42 INS42 INS27 INS27 INS21 INS43 INS34 INS42 INS42 UPD42 MOV42 INS34 INS39 INS59 INS27 INS8 UPD27 MOV27 INS32 INS32 INS32 INS7 UPD42 MOV42 INS42 INS32 INS42 INS13 MOV25 INS21 INS34 INS42 INS42 INS32 UPD42 MOV42 UPD42 MOV42 INS45 UPD42 MOV42 INS42 INS42 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 INS38 INS32 UPD42 MOV42 UPD42 MOV42 INS34 INS32 INS10 INS42 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 UPD45 UPD45 DEL40 DEL26 DEL83 DEL83 DEL83 DEL43 DEL45 DEL59 DEL23 DEL83 DEL83 DEL83 DEL43 DEL45 DEL59 DEL23 DEL83 DEL83 DEL83 DEL42 DEL43 DEL42 DEL45 DEL59 DEL23 DEL83 DEL83 DEL83 DEL42 DEL43 DEL45 DEL59 DEL23 DEL32 DEL40 DEL42 DEL32 DEL41 DEL45 DEL42 DEL32 DEL83 DEL42 DEL42 DEL42 DEL45 DEL32 DEL27 DEL42 DEL42 DEL45 DEL32 DEL42 DEL42 DEL7 DEL21 DEL8 DEL42 DEL45 DEL32 DEL32 DEL7 DEL21 DEL8 DEL25 DEL8 DEL25 DEL8 DEL31 DEL66 DEL66 DEL65 DEL29 DEL83 DEL42 DEL52 DEL42 DEL22 DEL32 DEL38 DEL42 DEL43 DEL45 DEL42 DEL27 DEL14 DEL53 DEL8 DEL25 DEL42 DEL43 DEL42 DEL44 DEL32 DEL42 DEL42 DEL32 DEL42 DEL45 DEL45 DEL32 DEL32 DEL42 DEL32 DEL41 DEL8 DEL25 DEL8 DEL70 DEL42 DEL43 DEL45 DEL42 DEL27 DEL14 DEL53 DEL8 DEL31