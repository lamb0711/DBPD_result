GEODE-6771: Have ProcessWrapper implement Consumer (#3588)

- Log all stdout/stderr from DeprecatedCacheServerLauncherIntegrationTest
  java invocations.
- Ensure LogManager is initialized correctly in ProcessLogger
- Clean up manifest jars created by ProcessWrapper

Authored-by: Jens Deppe <jdeppe@pivotal.io>
+import java.util.function.Consumer;
-public class ProcessWrapper {
+public class ProcessWrapper implements Consumer<String> {
+  private Consumer<String> consumer;
-    this.lineBuffer = new LinkedBlockingQueue<String>();
-    this.allLines = Collections.synchronizedList(new ArrayList<String>());
+    this.lineBuffer = new LinkedBlockingQueue<>();
+    this.allLines = Collections.synchronizedList(new ArrayList<>());
+  }
+
+  public void setConsumer(Consumer<String> consumer) {
+    this.consumer = consumer;
+  }
+
+  @Override
+  public void accept(String line) {
+    this.lineBuffer.offer(line);
+    this.allLines.add(line);
+
+    if (consumer != null) {
+      consumer.accept(line);
+    }
-            this.process.getInputStream(), this.lineBuffer, this.allLines);
+            this.process.getInputStream(), this);
-            this.process.getErrorStream(), this.lineBuffer, this.allLines);
+            this.process.getErrorStream(), this);
+      jarFile.deleteOnExit();

INS26 INS40 INS74 INS23 INS31 INS31 INS43 INS43 INS83 INS74 INS59 INS83 INS39 INS42 INS44 INS8 INS78 INS83 INS39 INS42 INS44 INS8 INS42 INS42 INS43 MOV43 INS42 INS74 INS42 INS21 INS42 INS43 INS42 INS21 INS21 INS25 INS42 INS43 MOV43 INS7 INS42 INS32 INS32 INS27 INS8 INS42 INS22 INS42 MOV22 INS42 INS42 MOV22 INS42 INS42 INS42 INS33 INS21 INS21 UPD74 INS52 INS42 INS32 INS32 UPD74 INS42 INS42 INS42 INS42 INS42 INS52 INS52 DEL52 DEL42 DEL22 DEL52 DEL42 DEL22