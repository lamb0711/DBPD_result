GEODE-3618: Move GfshRule into geode-junit

This closes #781.

-package org.apache.geode.test.dunit.rules.gfsh;
+package org.apache.geode.test.rules.gfsh;
-import org.apache.geode.management.internal.cli.commands.StatusLocatorRealGfshTest;
-import org.apache.geode.management.internal.cli.util.CommandStringBuilder;
-import org.apache.geode.test.dunit.rules.RequiresGeodeHome;
+import org.apache.geode.test.rules.RequiresGeodeHome;
+
- * binaries. For a usage example, see {@link StatusLocatorRealGfshTest}. Each call to
- * {@link GfshRule#execute(GfshScript)} will invoke the given gfsh script in a forked JVM. The
- * {@link GfshRule#after()} method will attempt to clean up all forked JVMs.
+ * binaries. Each call to {@link GfshRule#execute(GfshScript)} will invoke the given gfsh script in
+ * a forked JVM. The {@link GfshRule#after()} method will attempt to clean up all forked JVMs.
+  private static final String DOUBLE_QUOTE = "\"";
+
-    String stopServerCommand =
-        new CommandStringBuilder("stop server").addOption("dir", dir).toString();
+    String stopServerCommand = "stop server --dir=" + quoteArgument(dir.toString());
-    String stopLocatorCommand =
-        new CommandStringBuilder("stop locator").addOption("dir", dir).toString();
+    String stopLocatorCommand = "stop locator --dir=" + quoteArgument(dir.toString());
+  private String quoteArgument(String argument) {
+    if (!argument.startsWith(DOUBLE_QUOTE)) {
+      argument = DOUBLE_QUOTE + argument;
+    }
+
+    if (!argument.endsWith(DOUBLE_QUOTE)) {
+      argument = argument + DOUBLE_QUOTE;
+    }
+
+    return argument;
+  }
+

UPD40 UPD40 INS23 INS31 MOV66 INS83 INS83 INS83 INS43 INS59 INS83 INS43 INS42 INS44 INS8 UPD66 UPD66 UPD66 INS42 INS42 INS45 INS42 INS43 INS42 INS25 INS25 INS41 INS42 INS38 INS8 INS38 INS8 INS42 INS27 INS27 INS32 INS21 INS32 INS21 INS45 INS32 INS45 INS32 INS42 INS42 INS42 INS7 INS42 INS42 INS42 INS7 UPD42 MOV42 INS32 UPD42 MOV42 INS32 INS42 INS27 INS42 INS27 MOV42 MOV42 MOV42 MOV42 INS42 INS42 INS42 INS42 DEL40 DEL26 DEL40 DEL26 DEL42 DEL65 DEL42 DEL43 DEL45 DEL14 DEL45 DEL32 DEL32 DEL42 DEL43 DEL45 DEL14 DEL45 DEL32 DEL32