GEODE-1814: Create the gateway receivers after regions

Create the gateway receivers last, to ensure that they don't try to
process any events until the regions are actually created.

-    for (GatewayReceiver receiverCreation : this.getGatewayReceivers()) {
-      GatewayReceiverFactory factory = cache.createGatewayReceiverFactory();
-      factory.setBindAddress(receiverCreation.getBindAddress());
-      factory.setMaximumTimeBetweenPings(receiverCreation
-          .getMaximumTimeBetweenPings());
-      factory.setStartPort(receiverCreation.getStartPort());
-      factory.setEndPort(receiverCreation.getEndPort());
-      factory.setSocketBufferSize(receiverCreation.getSocketBufferSize());
-      factory.setManualStart(receiverCreation.isManualStart());
-      for (GatewayTransportFilter filter : receiverCreation
-          .getGatewayTransportFilters()) {
-        factory.addGatewayTransportFilter(filter);
-      }
-      factory.setHostnameForSenders(receiverCreation.getHost()); 
-      GatewayReceiver receiver = factory.create();
-       if (receiver.isManualStart()) {
-        cache
-            .getLoggerI18n()
-            .info(
-                LocalizedStrings.CacheCreation_0_IS_NOT_BEING_STARTED_SINCE_IT_IS_CONFIGURED_FOR_MANUAL_START,
-                receiver);
-      }
-    }
-
+
+    for (GatewayReceiver receiverCreation : this.getGatewayReceivers()) {
+      GatewayReceiverFactory factory = cache.createGatewayReceiverFactory();
+      factory.setBindAddress(receiverCreation.getBindAddress());
+      factory.setMaximumTimeBetweenPings(receiverCreation
+          .getMaximumTimeBetweenPings());
+      factory.setStartPort(receiverCreation.getStartPort());
+      factory.setEndPort(receiverCreation.getEndPort());
+      factory.setSocketBufferSize(receiverCreation.getSocketBufferSize());
+      factory.setManualStart(receiverCreation.isManualStart());
+      for (GatewayTransportFilter filter : receiverCreation
+          .getGatewayTransportFilters()) {
+        factory.addGatewayTransportFilter(filter);
+      }
+      factory.setHostnameForSenders(receiverCreation.getHost());
+      GatewayReceiver receiver = factory.create();
+      if (receiver.isManualStart()) {
+        cache
+            .getLoggerI18n()
+            .info(
+                LocalizedStrings.CacheCreation_0_IS_NOT_BEING_STARTED_SINCE_IT_IS_CONFIGURED_FOR_MANUAL_START,
+                receiver);
+      }
+    }
+

MOV70