GEODE-17: Refactor admin rest commands test not to test authorization.

* added GfshCommandTests to test authorization.

+import com.gemstone.gemfire.management.internal.cli.CliUtil;
-import com.gemstone.gemfire.management.internal.cli.shell.Gfsh;
-  private boolean useHttpOnConnect = false;
+  private boolean useHttp = false;
-  private CommandResult result;
+  private boolean authenticated;
-  public GfshShellConnectionRule(int jmxPort, int httpPort,  boolean useHttpOnConnect) {
+  public GfshShellConnectionRule(int jmxPort, int httpPort, boolean useHttp) {
-    this.useHttpOnConnect = useHttpOnConnect;
+    this.useHttp = useHttp;
-    Gfsh.SUPPORT_MUTLIPLESHELL = true;
+    CliUtil.isGfshVM = true;
-    if (useHttpOnConnect) {
+    if (useHttp) {
-    result = (CommandResult) gfsh.getResult();
+    CommandResult result = (CommandResult) gfsh.getResult();
-    if(result.getContent().toString().contains("Authentication Failed Wrong username/password")){
-      throw new SecurityException(result.getContent().toString());
+    String message = result.getContent().toString();
+    if(message.contains("Authentication Failed Wrong username/password") ||
+        message.contains("The HTTP request failed with: 403 - Access Denied")){
+      this.authenticated = false;
+    }
+    else{
+      this.authenticated = true;
+      gfsh.setThreadLocalInstance();
+    CliUtil.isGfshVM = false;
-  public CommandResult getResult() {
-    return result;
+  public boolean isAuthenticated() {
+    return authenticated;

MOV26 UPD40 INS39 INS39 INS42 UPD42 UPD42 UPD42 INS60 INS60 INS21 UPD42 MOV43 INS59 INS43 INS59 INS27 INS8 INS7 UPD42 UPD42 UPD40 INS42 MOV11 INS42 INS42 MOV32 INS32 INS32 INS21 INS21 INS21 INS40 INS9 UPD42 UPD42 MOV42 UPD42 MOV42 INS45 UPD42 MOV42 MOV42 UPD45 MOV45 INS7 INS7 INS32 INS22 INS9 INS22 INS9 INS42 INS42 INS52 INS42 INS52 INS42 DEL42 DEL43 DEL42 DEL7 DEL21 DEL32 DEL32 DEL32 DEL42 DEL43 DEL14 DEL53 DEL42