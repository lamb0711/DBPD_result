GEODE-6013: Made changes to use the expected initial image requester's rvv information (#2819)

* GEODE-6013: Made changes to use the expected initial image requester's rvv information instead of the image provider's local rvv while determining full or delta GII.

There was logical error where it was using provider's local exception(rvv) instead of using requester's local exception(rvv). This could result in performing Delta GII instead of Full GII.


-  private boolean isGCVersionDominatedByHolder(Long gcVersion, RegionVersionHolder<T> otherHolder) {
+  private boolean isGCVersionDominatedByOtherHolder(Long gcVersion,
+      RegionVersionHolder<T> otherHolder) {
-      return !holder.isNewerThanOrCanFillExceptionsFor(otherHolder);
+      return otherHolder.dominates(holder);
-   * Test to see if this vector's rvvgc has updates that has not seen.
+   * See if this vector's rvvgc has updates that has not seen.
-  public synchronized boolean isRVVGCDominatedBy(RegionVersionVector<T> other) {
-    if (other.singleMember) {
+  public synchronized boolean isRVVGCDominatedBy(RegionVersionVector<T> requesterRVV) {
+    if (requesterRVV.singleMember) {
-          other.memberToVersion.entrySet().iterator().next();
+          requesterRVV.memberToVersion.entrySet().iterator().next();
-      return isGCVersionDominatedByHolder(gcVersion, entry.getValue());
+      return isGCVersionDominatedByOtherHolder(gcVersion, entry.getValue());
-      RegionVersionHolder<T> otherHolder = other.memberToVersion.get(this.myId);
-      isDominatedByRemote = isGCVersionDominatedByHolder(localgcversion, otherHolder);
+      RegionVersionHolder<T> otherHolder = requesterRVV.memberToVersion.get(this.myId);
+      isDominatedByRemote = isGCVersionDominatedByOtherHolder(localgcversion, otherHolder);
-      if (mbr.equals(other.getOwnerId())) {
-        otherHolder = localExceptions;
+      if (mbr.equals(requesterRVV.getOwnerId())) {
+        otherHolder = requesterRVV.localExceptions;
-        otherHolder = other.memberToVersion.get(mbr);
+        otherHolder = requesterRVV.memberToVersion.get(mbr);
-      isDominatedByRemote = isGCVersionDominatedByHolder(gcVersion, otherHolder);
+      isDominatedByRemote = isGCVersionDominatedByOtherHolder(gcVersion, otherHolder);

UPD42 UPD42 UPD66 UPD40 INS32 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 UPD42 UPD40 UPD42 UPD42 UPD42 INS40 UPD40 UPD40 DEL32 DEL38 DEL42