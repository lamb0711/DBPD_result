GEODE-6786: Provide ability to delete a region using V2 REST API (#3610)


+import org.apache.geode.cache.RegionDestroyedException;
-  RegionFactory getRegionFactory(Cache cache, RegionAttributesType regionAttributes) {
+  private RegionFactory getRegionFactory(Cache cache, RegionAttributesType regionAttributes) {
-  public void delete(RegionConfig config, Cache cache) {}
+  public void delete(RegionConfig config, Cache cache) {
+    Region region = cache.getRegion(config.getName());
+    if (region == null) {
+      // Since we are trying to delete this region, we can return early
+      return;
+    }
+    try {
+      region.destroyRegion();
+    } catch (RegionDestroyedException dex) {
+      // Probably happened as a distirbuted op but it still reflects our current desired action
+      // which is why it can be ignored here.
+    }
+  }

INS26 INS40 INS83 INS8 INS60 INS25 INS54 INS43 INS59 INS27 INS8 INS8 INS12 INS42 INS42 INS32 INS42 INS33 INS41 INS21 INS44 INS8 INS42 INS42 INS32 INS32 INS43 INS42 INS42 INS42 INS42 INS42 INS42 DEL8