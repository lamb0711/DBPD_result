GEODE-4788: change back the behavior of test code of getSomeKeys to ignore exceptions. (#1564)


+import org.apache.logging.log4j.Logger;
+
+import org.apache.geode.internal.logging.LogService;
+  private static final Logger logger = LogService.getLogger();
+
-      Integer[] bucketIds = bucketIdSet.toArray(new Integer[bucketIdSet.size()]);
+      Object[] bucketIds = bucketIdSet.toArray();
+      Integer bucketId = null;
-          int bucketId = bucketIds[whichBucket];
+          bucketId = (Integer) bucketIds[whichBucket];
-        } catch (ForceReattemptException | PRLocallyDestroyedException e) {
-          throw new RuntimeException(e);
+        } catch (ForceReattemptException movinOn) {
+          partitionedRegion.checkReadiness();
+          logger.debug(
+              "Test hook getSomeKeys caught a ForceReattemptException for bucketId={}{}{}. Moving on to another bucket",
+              partitionedRegion.getPRId(), partitionedRegion.BUCKET_ID_SEPARATOR, bucketId,
+              movinOn);
+          continue;
+        } catch (PRLocallyDestroyedException ignore) {
+          logger.debug("getSomeKeys: Encountered PRLocallyDestroyedException");
+          partitionedRegion.checkReadiness();
+          continue;

INS26 INS26 INS40 INS40 INS23 INS83 INS83 INS83 INS43 INS59 INS42 INS42 INS32 INS42 INS42 INS60 UPD5 MOV43 INS59 INS43 INS42 INS33 INS42 INS12 INS21 INS44 INS8 INS7 MOV43 INS42 INS21 INS21 INS18 MOV43 UPD42 INS21 INS21 INS18 INS42 INS11 INS32 INS32 INS32 INS32 MOV43 MOV2 INS42 INS42 INS42 INS42 INS45 INS32 INS40 INS42 INS42 INS42 INS42 INS45 INS42 INS42 INS42 INS42 DEL85 DEL5 DEL42 DEL42 DEL32 DEL3 DEL39 DEL42 DEL59 DEL60 DEL84 DEL42 DEL43 DEL42 DEL14 DEL53