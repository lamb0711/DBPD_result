GEODE-2012: always write stat types to archive

* write additional tests for stat archive rolling
* expose bug GEODE-2012 in StatTypesAreRolledOverRegressionTest
* fix failure in StatTypesAreRolledOverRegressionTest

+  private final NanoTimer timer;
+
+    this(stopper, samplerStats, new NanoTimer());
+  }
+
+  protected HostStatSampler(CancelCriterion stopper, StatSamplerStats samplerStats,
+      NanoTimer timer) {
+    this.timer = timer;
-    NanoTimer timer = new NanoTimer();
-
-      this.sampleCollector.initialize(this, NanoTimer.getTime());
+      this.sampleCollector.initialize(this, timer.getTime());
-        delay(timer, nanosToDelay);
+        delay(nanosToDelay);
-    return this.statSamplerInitializedLatch.await(ms);
+    return awaitInitialization(ms, TimeUnit.MILLISECONDS);
+  }
+
+  /**
+   * Awaits the initialization of special statistics.
+   *
+   * @see #initSpecialStats
+   */
+  public final boolean awaitInitialization(final long timeout, final TimeUnit unit)
+      throws InterruptedException {
+    return this.statSamplerInitializedLatch.await(timeout, unit);
-    this.sampleCollector.changeArchive(newFile, NanoTimer.getTime());
+    this.sampleCollector.changeArchive(newFile, timer.getTime());
-   * @param timer a NanoTimer used to compute the elapsed delay
-  private void delay(NanoTimer timer, final long nanosToDelay) throws InterruptedException {
+  private void delay(final long nanosToDelay) throws InterruptedException {

INS23 INS31 INS31 INS83 INS83 MOV43 INS59 INS83 INS42 INS44 INS44 INS8 MOV44 INS8 INS29 INS83 INS83 INS39 INS42 INS44 INS44 INS43 MOV8 INS42 INS43 INS42 INS43 INS42 INS17 INS21 INS41 INS65 INS65 INS83 INS39 INS42 INS83 INS43 INS42 INS42 INS42 INS42 INS42 INS42 MOV14 INS7 INS32 INS66 INS67 INS42 INS22 INS42 INS42 INS42 INS40 INS42 UPD42 INS42 INS52 INS42 UPD42 UPD42 DEL42 DEL59 DEL60 DEL42 DEL42 DEL66 DEL65