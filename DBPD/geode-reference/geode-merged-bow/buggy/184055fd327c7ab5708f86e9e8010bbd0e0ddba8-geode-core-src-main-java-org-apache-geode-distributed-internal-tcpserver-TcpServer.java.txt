GEODE-3774: Amended TCPServer code to store the loader and not the clientProtocolService

+import org.apache.geode.internal.cache.tier.sockets.ClientProtocolServiceLoader;
+import org.apache.geode.internal.cache.tier.sockets.ServiceLoadingFailureException;
-  private final ClientProtocolService clientProtocolService;
+  private final ClientProtocolServiceLoader clientProtocolServiceLoader;
-  public ClientProtocolService getClientProtocolService() {
-    return clientProtocolService;
+  public ClientProtocolServiceLoader getClientProtocolServiceLoader() {
+    return clientProtocolServiceLoader;
-      ClientProtocolService clientProtocolService) {
+      ClientProtocolServiceLoader clientProtocolServiceLoader) {
-    this.clientProtocolService = clientProtocolService;
+    this.clientProtocolServiceLoader = clientProtocolServiceLoader;
-            if (clientProtocolService == null) {
-              // this shouldn't happen.
-              log.error("Client protocol service not initialized but a request was received");
-              socket.close();
-              throw new IOException(
-                  "Client protocol service not initialized but a request was received");
-            } else {
+            try {
+              ClientProtocolService clientProtocolService =
+                  clientProtocolServiceLoader.lookupService();
+            } catch (ServiceLoadingFailureException e) {
+              log.error("There was an error looking up the client protocol service", e);
+              socket.close();
+              throw new IOException("There was an error looking up the client protocol service", e);

INS26 INS26 INS40 INS40 UPD43 UPD43 UPD42 UPD42 UPD42 UPD42 INS43 UPD42 UPD42 INS42 UPD42 UPD42 MOV8 MOV27 INS8 MOV8 INS54 MOV8 INS12 INS60 INS44 MOV8 MOV43 INS59 INS43 INS42 INS42 INS32 INS42 INS42 INS42 UPD45 INS42 UPD45 INS42 DEL42 DEL33 DEL27 DEL25 DEL8