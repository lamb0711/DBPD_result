GEODE-4859: Preparing GfshCommand to be public interface (#1647)

* GfshCommand class to return Cache instead of InternalCache
* Exposed authorize methods to delegate to underlying security service.

Signed-off-by: Jens Deppe <jdeppe@pivotal.io>

+import org.apache.shiro.subject.Subject;
+import org.apache.geode.distributed.ClusterConfigurationService;
-import org.apache.geode.internal.security.SecurityService;
+import org.apache.geode.security.ResourcePermission;
-  public InternalCache getCache() {
+  public Cache getCache() {
-  public InternalClusterConfigurationService getSharedConfiguration() {
+  public InternalClusterConfigurationService getConfigurationService() {
-    InternalClusterConfigurationService sc = getSharedConfiguration();
+    InternalClusterConfigurationService sc = getConfigurationService();
-  public SecurityService getSecurityService() {
-    return getCache().getSecurityService();
+  public void authorize(ResourcePermission.Resource resource,
+      ResourcePermission.Operation operation, ResourcePermission.Target target) {
+    cache.getSecurityService().authorize(resource, operation, target);
+  }
+
+  public void authorize(ResourcePermission.Resource resource,
+      ResourcePermission.Operation operation, String target) {
+    cache.getSecurityService().authorize(resource, operation, target);
+  }
+
+  public void authorize(ResourcePermission.Resource resource,
+      ResourcePermission.Operation operation, String target, String key) {
+    cache.getSecurityService().authorize(resource, operation, target, key);
+  }
+
+  public Subject getSubject() {
+    return cache.getSecurityService().getSubject();
-    return CliUtil.getDistributedMemberByNameOrId(memberName, getCache());
+    return CliUtil.getDistributedMemberByNameOrId(memberName, (InternalCache) getCache());
-    return CliUtil.findMembers(groups, members, getCache());
+    return CliUtil.findMembers(groups, members, (InternalCache) getCache());
-    return CliUtil.findMembersIncludingLocators(groups, members, getCache());
+    return CliUtil.findMembersIncludingLocators(groups, members, (InternalCache) getCache());
-    return CliUtil.getMembersWithAsyncEventQueue(getCache(), queueId);
+    return CliUtil.getMembersWithAsyncEventQueue((InternalCache) getCache(), queueId);

MOV26 INS26 INS26 INS40 INS40 UPD40 INS31 INS31 INS31 INS43 UPD42 INS83 INS39 INS42 INS44 INS44 INS44 INS8 INS83 INS39 INS42 INS44 INS44 INS44 INS8 INS83 INS39 INS42 INS44 INS44 INS44 INS44 INS8 UPD43 UPD42 INS42 INS43 INS42 INS43 INS42 INS43 INS42 INS21 INS43 INS42 INS43 INS42 INS43 INS42 INS21 INS43 INS42 INS43 INS42 INS43 INS42 INS43 INS42 INS21 UPD42 INS40 INS40 INS40 INS32 INS40 INS40 INS42 INS32 INS40 INS40 INS42 INS42 INS32 INS32 INS32 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS11 INS11 INS11 INS11 UPD42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 MOV42 MOV43 MOV32 INS43 MOV32 INS43 MOV32 INS43 MOV32 INS42 INS42 INS42 DEL32 DEL42 DEL32