GEODE-6802: Execute region synchronization on newly joined member. (#3623)

 * Region sync will be invoked to avoid data inconsistency on a newly joined/restarted member
   if it received a region synchronization request from other members due to timed task.
 * Use a flag in RegionVersionHolder to ensure only one such call is executed.
 * Make sure RVV exception is filled for persistent member requesting region sync. (This may
   leads to CommitConflictException on some transactions on persistent regions due to this
   region sync operation. But it should be rare and is acceptable compared to data inconsistency
   issue.)

+    CacheProfile cacheProfile = (CacheProfile) profile;
+    PersistentMemberID persistentId = getPersistentID(cacheProfile);
+    VersionSource lostVersionID;
+    if (persistentId != null) {
+      lostVersionID = persistentId.getVersionMember();
+    } else {
+      lostVersionID = id;
+    }
-        CacheProfile cp = (CacheProfile) profile;
-        PersistentMemberID persistentId = cp.persistentID;
-          // or an empty accessor. We don't need to to a synchronization
+          // or an empty accessor. We don't need to do a synchronization
-
-
-        VersionSource lostVersionID;
-        if (persistentId != null) {
-          lostVersionID = persistentId.getVersionMember();
-        } else {
-          lostVersionID = id;
-        }
+    if (dr.getConcurrencyChecksEnabled()) {
+      dr.setRegionSynchronizeScheduled(lostVersionID);
+    }
+  }
+
+  private PersistentMemberID getPersistentID(CacheProfile cp) {
+    return cp.persistentID;

INS31 INS83 INS43 INS42 INS44 INS8 MOV60 INS60 MOV60 MOV25 INS25 INS42 INS43 INS42 INS41 MOV43 INS59 INS32 INS8 INS42 INS40 UPD42 INS42 INS32 INS42 INS42 INS21 INS42 INS42 INS32 INS42 INS42 INS42 DEL42 DEL40 DEL59 DEL60