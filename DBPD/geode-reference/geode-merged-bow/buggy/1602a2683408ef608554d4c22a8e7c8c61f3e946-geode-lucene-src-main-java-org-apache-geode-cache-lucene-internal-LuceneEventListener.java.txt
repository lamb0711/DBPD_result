GEODE-2674: Changing the lucene listener to fetch the value from the region

Rather than use the value that is in the queue, use the latest value
from the region to update the lucene index.

This ensures that even if the queue contains spurious events due to
retries or other issues, we put the correct value in the index.

This also potentially saves memory and disk space for the queue, because
the queue does not need to hold the value for the entry.

+import org.apache.geode.cache.EntryDestroyedException;
+import org.apache.geode.cache.Region.Entry;
-        Operation op = event.getOperation();
-
-        if (op.isCreate()) {
-          repository.update(key, event.getDeserializedValue());
-        } else if (op.isUpdate()) {
-          repository.update(key, event.getDeserializedValue());
-        } else if (op.isDestroy()) {
-          repository.delete(key);
-        } else if (op.isInvalidate()) {
-          repository.delete(key);
-        } else {
-          throw new InternalGemFireError("Unhandled operation " + op + " on " + event.getRegion());
+        final Entry entry = region.getEntry(key);
+        Object value;
+        try {
+          value = entry == null ? null : entry.getValue();
+        } catch (EntryDestroyedException e) {
+          value = null;
+
+        if (value != null) {
+          repository.update(key, value);
+        } else {
+          repository.delete(key);
+        }
+

INS26 INS26 INS40 INS40 INS60 INS54 INS25 INS83 UPD43 INS43 INS59 INS8 INS12 INS27 MOV8 MOV8 UPD42 UPD42 INS42 INS42 MOV21 INS44 INS8 INS42 INS33 UPD42 UPD42 INS42 INS7 INS43 INS42 MOV21 INS42 INS16 INS42 INS7 UPD42 INS42 INS27 INS33 INS32 INS42 INS33 INS42 INS33 UPD42 MOV42 UPD42 MOV42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL42 DEL42 DEL32 DEL8 DEL42 DEL42 DEL32 DEL8 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL43 DEL45 DEL42 DEL45 DEL42 DEL42 DEL32 DEL27 DEL14 DEL53 DEL8 DEL25 DEL25 DEL25 DEL25