GEODE-5618: Auth Attributes in FunctionService (#2360)

   * When a client executes a function using the id instead of the actual instance, an internal invocation to the `GetFunctionAttributeOp` function is executed to get the metadata about the original function itself. This invocation doesn't set the user attributes requried by the authentication mechanism, so the entire invocation fails.
   * Added distributed tests.
   * Classes `ServerFunctionExecutor` and `ServerRegionFunctionExecutor` now set the `userAttributes` in the local thread before getting the metadata when the function is executed by id.
-  // private ServerRegionFunctionExecutor(ServerRegionFunctionExecutor sre) {
-  // super(sre);
-  // this.region = sre.region;
-  // if (sre.filter != null) {
-  // this.filter.clear();
-  // this.filter.addAll(sre.filter);
-  // }
-  // }
-
+  @Override
+  @Override
+  @Override
+  @Override
+  @Override
+
-        ServerRegionProxy srp = getServerRegionProxy();
-        Object obj = srp.getFunctionAttributes(functionName);
-        functionAttributes = (byte[]) obj;
-        addFunctionAttributes(functionName, functionAttributes);
+        // GEODE-5618: Set authentication properties before executing the internal function.
+        try {
+          if (proxyCache != null) {
+            if (this.proxyCache.isClosed()) {
+              throw proxyCache.getCacheClosedException("Cache is closed for this user.");
+            }
+            UserAttributes.userAttributes.set(this.proxyCache.getUserAttributes());
+          }
+
+          ServerRegionProxy srp = getServerRegionProxy();
+          Object obj = srp.getFunctionAttributes(functionName);
+          functionAttributes = (byte[]) obj;
+          addFunctionAttributes(functionName, functionAttributes);
+        } finally {
+          UserAttributes.userAttributes.set(null);
+        }
-      boolean hasResult = ((functionAttributes[0] == 1) ? true : false);
-      boolean isHA = ((functionAttributes[1] == 1) ? true : false);
-      boolean optimizeForWrite = ((functionAttributes[2] == 1) ? true : false);
+
+      boolean isHA = functionAttributes[1] == 1;
+      boolean hasResult = functionAttributes[0] == 1;
+      boolean optimizeForWrite = functionAttributes[2] == 1;

INS78 INS78 INS78 INS78 INS78 INS42 INS42 INS42 INS42 INS42 MOV60 INS8 INS54 MOV27 MOV27 MOV27 MOV8 INS8 INS25 INS21 INS27 INS8 INS32 INS42 INS33 INS25 INS21 INS40 INS42 INS33 INS32 INS8 INS32 INS22 INS42 INS53 INS40 INS42 INS32 INS52 INS42 INS32 INS22 INS42 INS42 INS42 INS45 INS52 INS42 DEL36 DEL9 DEL9 DEL16 DEL36 DEL36 DEL9 DEL9 DEL16 DEL36 DEL36 DEL9 DEL9 DEL16 DEL36