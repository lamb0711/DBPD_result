GEODE-4590: pass executor in to clear (#1392)

Instead of looking up the waiting pool executor
from a singleton, it is now passed in based on
the owner of the AbstractRegionMap.
-import java.util.concurrent.ConcurrentMap;
+import java.util.concurrent.Executor;
-import org.apache.geode.distributed.internal.InternalDistributedSystem;
-  /**
-   * Removes all of the mappings from this map.
-   */
+  // GemStone addition
-  public void clear() {
+  public void clearWithExecutor(Executor executor) {
-        InternalDistributedSystem ids = InternalDistributedSystem.getConnectedInstance();
-        if (ids != null) {
+        if (executor != null) {
-            ids.getDistributionManager().getWaitingThreadPool().execute(runnable);
+            executor.execute(runnable);
+   * Removes all of the mappings from this map.
+   */
+  @Override
+  public void clear() {
+    clearWithExecutor(null);
+  }
+  // End GemStone addition
+
+  /**

UPD40 INS31 UPD42 INS44 MOV29 INS78 INS83 INS39 INS42 INS8 INS43 INS42 INS42 INS21 INS42 INS32 INS42 INS33 UPD42 UPD42 MOV42 DEL40 DEL26 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL32 DEL42 DEL32