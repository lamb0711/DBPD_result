GEODE-8295: refactor GeodeRedisServer (#5289)

* removed main thread from GeodeRedisServer
* removed NamedThreadFactory in favor of geode's LoggingThreadFactory.
* now uses LoggingExecutors instead of Executors.
* removed logLevel since it is configured by gemfire
* A cache is now passed to the GeodeRedisServer constructor; it no longer creates its own
* region initialization now done in RegionProvider
* extracted passive expiration code
* extracted netty server code
* changed passive expiration to use scheduleWithFixedDelay

-import java.util.concurrent.atomic.AtomicBoolean;
+import java.util.function.Supplier;
-  private final GeodeRedisServer server;
-  private final AtomicBoolean needChannelFlush;
+  private final RegionProvider regionProvider;
+  private final PubSub pubsub;
+  private final EventLoopGroup subscriberGroup;
+  private final Supplier<Boolean> allowUnsupportedSupplier;
+  private final Runnable shutdownInvoker;
-   * @param server Instance of the server it is attached to, only used so that any execution
-   *        can initiate a shutdown
-  public ExecutionHandlerContext(Channel channel, GeodeRedisServer server, byte[] password) {
-    this.server = server;
+  public ExecutionHandlerContext(Channel channel, RegionProvider regionProvider, PubSub pubsub,
+      EventLoopGroup subscriberGroup, Supplier<Boolean> allowUnsupportedSupplier,
+      Runnable shutdownInvoker, byte[] password) {
+    this.regionProvider = regionProvider;
+    this.pubsub = pubsub;
+    this.subscriberGroup = subscriberGroup;
+    this.allowUnsupportedSupplier = allowUnsupportedSupplier;
+    this.shutdownInvoker = shutdownInvoker;
-    this.needChannelFlush = new AtomicBoolean(false);
-    return this.server.allowUnsupportedCommands();
+    return allowUnsupportedSupplier.get();
-    return server.getSubscriberGroup();
+    return subscriberGroup;
-    return server.getRegionProvider();
+    return regionProvider;
-  public GeodeRedisServer getServer() {
-    return server;
+  public void shutdown() {
+    shutdownInvoker.run();
-    return server.getPubSub();
+    return pubsub;

MOV23 MOV23 UPD40 INS23 INS23 INS23 UPD43 INS83 INS83 INS43 INS59 INS83 INS83 INS43 INS59 INS74 INS83 INS83 INS43 INS59 INS44 INS44 INS44 INS44 MOV21 MOV21 INS39 INS42 UPD42 UPD42 INS42 INS42 INS42 INS42 INS43 INS43 UPD42 INS42 INS42 INS43 INS42 INS43 INS42 INS43 INS42 INS74 UPD42 INS43 INS42 INS21 INS21 INS21 INS21 INS42 UPD42 MOV42 INS42 INS42 INS42 INS43 INS43 INS42 INS7 INS7 INS7 INS42 INS42 INS32 INS42 UPD42 MOV42 INS42 UPD42 INS42 INS22 INS42 INS22 INS42 INS22 INS42 INS42 UPD42 INS42 INS42 UPD42 UPD42 INS52 INS42 INS52 INS42 INS52 INS42 DEL43 DEL42 DEL66 DEL66 DEL65 DEL43 DEL42 DEL43 DEL9 DEL14 DEL52 DEL42 DEL22 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL43 DEL42 DEL42 DEL41 DEL42 DEL42 DEL32