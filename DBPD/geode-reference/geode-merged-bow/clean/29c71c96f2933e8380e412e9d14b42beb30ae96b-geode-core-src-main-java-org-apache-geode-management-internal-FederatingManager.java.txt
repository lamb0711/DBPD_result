GEODE-5281: replicate failure and fix bug (#2096)

* GEODE-5281: replicate failure and fix bug

- replicate the bad timing using a DUnit test
- fix the bug by only doing one lookup of MBeans
- add more tests
- fix potential NPE in waiting for regions to be ready on servers

Co-authored-by: Kenneth Howe <khowe@pivotal.io>

* add TestingOnly annotation to setter

add a TestingOnly annotation to setter for ProxyFactory in the
FederatingManager for injecting test spies.

+  @TestingOnly
+  void setProxyFactory(MBeanProxyFactory newProxyFactory) {
+    this.proxyFactory = newProxyFactory;
+  }
+

INS31 INS78 INS39 INS42 INS44 INS8 INS42 INS43 INS42 INS21 INS42 INS7 INS22 INS42 INS52 INS42