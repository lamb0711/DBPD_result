merge GEODE-2995, GEODE-3775 into develop with integration test.

Signed-off-by: Brian Rowe <browe@pivotal.io>

- * Stub, this will be hooked up to the new client protocol when it's implemented.
+ * This is an interface that other modules can implement to hook into
+ * {@link GenericProtocolServerConnection} to handle messages sent to Geode.
+ *
+ * Currently, only one {@link ClientProtocolMessageHandler} at a time can be used in a Geode
+ * instance. It gets wired into {@link ServerConnectionFactory} to create all instances of
+ * {@link GenericProtocolServerConnection}.
-public class ClientProtocolMessageHandler {
-  /**
-   * Bogus, but it lets us write an integration test so that nobody breaks our flow.
-   */
-  public void receiveMessage(InputStream inputStream, OutputStream outputStream,
-      InternalCache cache) throws IOException {
-    outputStream.write(inputStream.read());
-  }
+public interface ClientProtocolMessageHandler {
+  void receiveMessage(InputStream inputStream, OutputStream outputStream, InternalCache cache)
+      throws IOException;

UPD66 INS65 INS66 INS66 INS65 INS66 INS66 INS65 INS66 INS65 INS66 INS42 INS42 INS42 INS42 DEL66 DEL65 DEL29 DEL83 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL8