Merge branch 'release/1.0.0-incubating.M3'

-import java.io.BufferedWriter;
-import java.io.OutputStreamWriter;
-import java.io.PrintWriter;
-import java.io.Writer;
-  public HeadlessGfsh(String name, int timeout) throws ClassNotFoundException, IOException {
-    this(name, timeout, null);
+  public HeadlessGfsh(String name, int timeout, String parentDir) throws ClassNotFoundException, IOException {
+    this(name, timeout, null, parentDir);
-  public HeadlessGfsh(String name, int timeout, Properties envProps) throws ClassNotFoundException, IOException {
+  public HeadlessGfsh(String name, int timeout, Properties envProps, String parentDir) throws ClassNotFoundException, IOException {
-    this.shell = new HeadlessGfshShell(name, this);
+    this.shell = new HeadlessGfshShell(name, this, parentDir);
-  int getCommandExecutionStatus() {
+  public int getCommandExecutionStatus() {
-    protected HeadlessGfshShell(String testName, ResultHandler handler) throws ClassNotFoundException, IOException {
-      super(false, new String[]{}, new HeadlessGfshConfig(testName));
+    protected HeadlessGfshShell(String testName, ResultHandler handler, String parentDir) throws ClassNotFoundException, IOException {
+      super(false, new String[]{}, new HeadlessGfshConfig(testName, parentDir));
-
-    public HeadlessGfshConfig(String name) {
+    public HeadlessGfshConfig(String name, String parentDir) {
-      parentDir = new File("gfsh_files");
-      parentDir.mkdirs();
+      this.parentDir = new File(parentDir);
+      this.parentDir.mkdirs();

INS44 INS44 INS83 INS43 INS42 INS43 INS42 INS44 INS44 INS42 INS42 INS42 INS43 INS42 INS43 INS42 INS42 INS42 INS42 INS42 INS22 INS22 INS52 INS42 INS42 INS52 INS42 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL42 DEL45 DEL42