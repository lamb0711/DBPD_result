GEODE-1723 Merge from 82 for performance improvement.

Other improvement:We take lock on key while doing op on BucketRegion.
In that case we notify to other thread only when there is a thread
waiting for it. Modified one condition to log message to reduce garbage.

-  private Map map;
+  private Region map;
-    else {
-      return null;
-    }
+    return null;
-    ClientUpdateMessageImpl cum = (ClientUpdateMessageImpl)map.get(key);
-    if (cum != null) {
-      cum.setEventIdentifier(((HAEventWrapper)key).getEventId());
-      if (cum.hasCqs()) {
-        cum.setClientCqs(((HAEventWrapper)key).getClientCqs());
+    ClientUpdateMessageImpl msg = (ClientUpdateMessageImpl)map.get(key);
+    if (msg != null) {
+      msg.setEventIdentifier(((HAEventWrapper)key).getEventId());
+      if (msg.hasCqs()) {
+        msg.setClientCqs(((HAEventWrapper)key).getClientCqs());
-    return cum;
+    return msg;
-      ClientUpdateMessageImpl cum = (ClientUpdateMessageImpl)entry.getValue();
-      cum.setEventIdentifier(((HAEventWrapper)key).getEventId());
-      if(cum.hasCqs()) {
-        cum.setClientCqs(((HAEventWrapper)key).getClientCqs());
+      ClientUpdateMessageImpl msg = (ClientUpdateMessageImpl)entry.getValue();
+      msg.setEventIdentifier(((HAEventWrapper)key).getEventId());
+      if(msg.hasCqs()) {
+        msg.setClientCqs(((HAEventWrapper)key).getClientCqs());
+  @SuppressWarnings("unchecked")
+  public Object putIfAbsent(Object key, Object value) {
+    return map.putIfAbsent(key, value);
+  }
+  

INS31 UPD43 INS79 INS83 INS43 INS42 INS44 INS44 INS8 UPD42 MOV41 INS42 INS45 INS42 INS43 INS42 INS43 INS42 INS41 UPD42 INS42 INS42 INS32 UPD42 UPD42 INS42 INS42 INS42 INS42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 DEL8