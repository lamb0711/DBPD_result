GEODE-3059: LoadMonitor.connectionClosed incrementing statistics only for client-server connection

The stat should only be incremented/decremented for certain kinds of
connections.  I've modified it to include protobuf connections.  All
of the constant byte identifiers in Acceptor.java have been moved to
an enum in CommunicationMode.java.  In that class I've added some
"isa" checks to replace the many big "if" checks for different kinds
of connection modes.

A new connection modes will henceforth need to be added to
CommunicationMode.java where the appropriate "isa" methods can be
updated to include the new mode.

+import org.apache.geode.internal.cache.tier.CommunicationMode;
-      byte communicationMode, SecurityService securityService)
+      CommunicationMode communicationMode, SecurityService securityService)
-          if (this.clientVersion.compareTo(Version.GFE_65) < 0
-              || communicationMode == Acceptor.GATEWAY_TO_GATEWAY) {
+          if (this.clientVersion.compareTo(Version.GFE_65) < 0 || communicationMode.isWAN()) {
-  private byte write(DataOutputStream dos, DataInputStream dis, byte communicationMode,
+  private byte write(DataOutputStream dos, DataInputStream dis, CommunicationMode communicationMode,
-      hdos.writeByte(communicationMode);
+      hdos.writeByte(communicationMode.getModeNumber());
-      if (isCallbackConnection || communicationMode == Acceptor.GATEWAY_TO_GATEWAY) {
-        if (isCallbackConnection && this.multiuserSecureMode
-            && communicationMode != Acceptor.GATEWAY_TO_GATEWAY) {
+      if (isCallbackConnection || communicationMode.isWAN()) {
+        if (isCallbackConnection && this.multiuserSecureMode && !communicationMode.isWAN()) {
-      byte communicationMode, Principal principal) throws IOException {
+      CommunicationMode communicationMode, Principal principal) throws IOException {
-    if (communicationMode == Acceptor.GATEWAY_TO_GATEWAY && principal != null) {
+    if (communicationMode.isWAN() && principal != null) {
-    if (communicationMode == Acceptor.GATEWAY_TO_GATEWAY) {
+    if (communicationMode.isWAN()) {
-    if (communicationMode != Acceptor.GATEWAY_TO_GATEWAY
-        && this.clientVersion.compareTo(Version.GFE_61) >= 0) {
+    if (!communicationMode.isWAN() && this.clientVersion.compareTo(Version.GFE_61) >= 0) {
-    if (communicationMode == Acceptor.GATEWAY_TO_GATEWAY && principal != null) {
+    if (communicationMode.isWAN() && principal != null) {
-    if (communicationMode == Acceptor.GATEWAY_TO_GATEWAY
-        && this.clientVersion.compareTo(Version.GFE_66) >= 0
+    if (communicationMode.isWAN() && this.clientVersion.compareTo(Version.GFE_66) >= 0
-    if ((communicationMode == Acceptor.GATEWAY_TO_GATEWAY)
-        && this.clientVersion.compareTo(Version.GFE_80) >= 0
+    if ((communicationMode.isWAN()) && this.clientVersion.compareTo(Version.GFE_80) >= 0
-      byte communicationMode) throws IOException, AuthenticationRequiredException,
+      CommunicationMode communicationMode) throws IOException, AuthenticationRequiredException,
-      if (communicationMode == Acceptor.GATEWAY_TO_GATEWAY) {
+      if (communicationMode.isWAN()) {
-      if (communicationMode != Acceptor.GATEWAY_TO_GATEWAY
-          && intermediateAcceptanceCode != REPLY_AUTH_NOT_REQUIRED
+      if (!communicationMode.isWAN() && intermediateAcceptanceCode != REPLY_AUTH_NOT_REQUIRED
-      if (communicationMode == Acceptor.GATEWAY_TO_GATEWAY
-          && !(acceptanceCode == REPLY_EXCEPTION_AUTHENTICATION_REQUIRED
-              || acceptanceCode == REPLY_EXCEPTION_AUTHENTICATION_FAILED)) {
+      if (communicationMode.isWAN() && !(acceptanceCode == REPLY_EXCEPTION_AUTHENTICATION_REQUIRED
+          || acceptanceCode == REPLY_EXCEPTION_AUTHENTICATION_FAILED)) {
-      if (communicationMode != Acceptor.GATEWAY_TO_GATEWAY
-          && currentClientVersion.compareTo(Version.GFE_61) >= 0) {
+      if (!communicationMode.isWAN() && currentClientVersion.compareTo(Version.GFE_61) >= 0) {
-      if (communicationMode == Acceptor.GATEWAY_TO_GATEWAY
-          && Version.GFE_66.compareTo(conn.getWanSiteVersion()) <= 0
+      if (communicationMode.isWAN() && Version.GFE_66.compareTo(conn.getWanSiteVersion()) <= 0
-      if (communicationMode == Acceptor.GATEWAY_TO_GATEWAY
-          && Version.GFE_80.compareTo(conn.getWanSiteVersion()) <= 0
+      if (communicationMode.isWAN() && Version.GFE_80.compareTo(conn.getWanSiteVersion()) <= 0
-      byte mode =
-          isPrimary ? Acceptor.PRIMARY_SERVER_TO_CLIENT : Acceptor.SECONDARY_SERVER_TO_CLIENT;
+      CommunicationMode mode = isPrimary ? CommunicationMode.PrimaryServerToClient
+          : CommunicationMode.SecondaryServerToClient;

INS26 INS40 INS43 INS43 INS43 INS43 INS42 INS42 INS42 INS32 INS42 INS32 INS42 INS42 INS38 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS32 INS43 INS32 INS32 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS32 INS38 INS42 MOV42 INS42 INS42 INS42 INS42 INS42 INS38 INS42 INS42 INS32 INS32 INS32 UPD40 UPD40 INS38 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS32 INS42 INS42 INS42 INS42 INS42 INS42 DEL39 DEL42 DEL40 DEL27 DEL39 DEL42 DEL40 DEL27 DEL42 DEL40 DEL27 DEL39 DEL42 DEL40 DEL27 DEL42 DEL40 DEL27 DEL42 DEL40 DEL27 DEL42 DEL40 DEL27 DEL42 DEL40 DEL27 DEL42 DEL40 DEL27 DEL39 DEL42 DEL40 DEL27 DEL42 DEL40 DEL27 DEL42 DEL40 DEL27 DEL42 DEL40 DEL27 DEL42 DEL40 DEL27 DEL42 DEL40 DEL27 DEL39