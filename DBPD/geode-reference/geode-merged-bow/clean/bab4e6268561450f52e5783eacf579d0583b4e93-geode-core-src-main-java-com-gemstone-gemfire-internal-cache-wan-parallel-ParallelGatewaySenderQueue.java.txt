Merge branch 'develop' into feature/GEODE-1571

-    List batch = new ArrayList();
+    List<GatewaySenderEventImpl> batch = new ArrayList<>();
-  private void addPeekedEvents(List batch, int batchSize) {
+  private void addPeekedEvents(List<GatewaySenderEventImpl> batch, int batchSize) {
+
+      //Remove all entries from peekedEvents for buckets that are not longer primary
+      //This will prevent repeatedly trying to dispatch non-primary events
+      for(Iterator<GatewaySenderEventImpl> iterator = peekedEvents.iterator(); iterator.hasNext(); ) {
+        GatewaySenderEventImpl event = iterator.next();
+        final int bucketId = event.getBucketId();
+        final PartitionedRegion region = (PartitionedRegion) event.getRegion();
+        if(!region.getRegionAdvisor().isPrimaryForBucket(bucketId)) {
+          iterator.remove();
+        }
+      }
+
-  private void addPreviouslyPeekedEvents(List batch, int batchSize) {
+  private void addPreviouslyPeekedEvents(List<GatewaySenderEventImpl> batch, int batchSize) {

INS74 INS74 INS74 MOV43 INS43 MOV43 INS43 MOV43 INS43 INS42 INS24 INS42 INS42 INS74 INS58 INS32 INS8 MOV43 INS74 INS59 INS42 INS42 INS60 INS60 INS60 INS25 INS43 INS43 INS42 INS32 INS43 INS59 INS83 INS39 INS59 INS83 INS43 INS59 INS38 INS8 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS32 INS42 INS42 INS11 INS32 INS21 INS42 INS42 INS42 INS42 INS43 INS32 INS32 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS42