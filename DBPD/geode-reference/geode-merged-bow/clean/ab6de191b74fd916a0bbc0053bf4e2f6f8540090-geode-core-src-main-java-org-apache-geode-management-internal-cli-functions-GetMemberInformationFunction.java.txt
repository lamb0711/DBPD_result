GEODE-6745: Add status to list members output for REST v2 (#3558)


+import org.apache.geode.distributed.LocatorLauncher;
+import org.apache.geode.distributed.ServerLauncher;
-      memberInfo.setProcessId("" + member.getProcessId());
+      memberInfo.setProcessId(member.getProcessId());
-
-      memberInfo.setHeapUsage(Long.toString(bytesToMeg(memUsage.getUsed())));
-      memberInfo.setMaxHeapSize(Long.toString(bytesToMeg(memUsage.getMax())));
-      memberInfo.setInitHeapSize(Long.toString(bytesToMeg(memUsage.getInit())));
+      memberInfo.setHeapUsage(bytesToMeg(memUsage.getUsed()));
+      memberInfo.setMaxHeapSize(bytesToMeg(memUsage.getMax()));
+      memberInfo.setInitHeapSize(bytesToMeg(memUsage.getInit()));
-          String bindAddress = cs.getBindAddress();
-          int port = cs.getPort();
-          boolean isRunning = cs.isRunning();
-
-          CacheServerInfo cacheServerInfo = new CacheServerInfo(bindAddress, port, isRunning);
+          CacheServerInfo cacheServerInfo = new CacheServerInfo(cs);
+
+        ServerLauncher.ServerState state = ServerLauncher.getServerState();
+        if (state != null) {
+          memberInfo.setStatus(state.getStatus().getDescription());
+        }
+
+        LocatorLauncher.LocatorState state = LocatorLauncher.getLocatorState();
+        if (state != null) {
+          memberInfo.setStatus(state.getStatus().getDescription());
+        }

INS26 INS26 INS40 INS40 MOV32 MOV32 MOV32 MOV32 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 INS60 INS25 INS60 INS25 INS43 INS59 INS27 INS8 INS43 INS59 INS27 INS8 INS40 INS42 INS32 INS42 INS33 INS21 INS40 INS42 INS32 INS42 INS33 INS21 MOV43 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 MOV43 UPD42 INS32 INS42 INS32 INS42 INS42 INS42 INS42 INS42 DEL45 DEL27 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL39 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL39 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42