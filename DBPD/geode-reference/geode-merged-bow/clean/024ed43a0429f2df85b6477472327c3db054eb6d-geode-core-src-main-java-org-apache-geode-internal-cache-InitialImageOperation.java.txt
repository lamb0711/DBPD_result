GEODE-5278 Unexpected CommitConflictException caused by faulty region synchronization

Modified RegionVersionVector.contains(id,version) to answer true
if the vector is for sychronization and the ID is that of the owner
of the vector.  This causes the get-initial-image code to ignore entries
last changed by the server requesting the synch operation.

-    final DiskRegion dr = this.region.getDiskRegion();
-    if (dr != null) {
-      dr.setClearCountReference();
+    final DiskRegion diskRegion = this.region.getDiskRegion();
+    if (diskRegion != null) {
+      diskRegion.setClearCountReference();
-        if (dr != null) {
+        if (diskRegion != null) {
-          RegionEntry re = this.entries.getEntry(entry.key);
+          RegionEntry regionEntry = this.entries.getEntry(entry.key);
-            logger.trace("processChunk:entry={},tag={},re={}", entry, tag, re);
+            logger.trace("processChunk:entry={},tag={},re={}", entry, tag, regionEntry);
-          if (re != null) {
-            synchronized (re) { // fixes bug 41409
-              if (dr.testIsRecoveredAndClear(re)) {
+          if (regionEntry != null) {
+            synchronized (regionEntry) { // fixes bug 41409
+              if (diskRegion.testIsRecoveredAndClear(regionEntry)) {
-                VersionStamp stamp = re.getVersionStamp();
+                VersionStamp stamp = regionEntry.getVersionStamp();
-      if (dr != null) {
-        dr.removeClearCountReference();
+      if (diskRegion != null) {
+        diskRegion.removeClearCountReference();
-                      int fid = flowControl.getId();
+                      int flowControlId = flowControl.getId();
-                      replyWithData(dm, entries, seriesNum, msgNum++, numSeries, this.last, fid,
+                      replyWithData(dm, entries, seriesNum, msgNum++, numSeries, this.last,
+                          flowControlId,

UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42