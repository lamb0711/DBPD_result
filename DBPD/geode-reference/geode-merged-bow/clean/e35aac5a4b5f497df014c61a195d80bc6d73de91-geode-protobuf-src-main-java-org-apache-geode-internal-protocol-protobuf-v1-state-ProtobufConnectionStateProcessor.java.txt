Merge branch 'release/1.5.0'

-package org.apache.geode.internal.protocol.state;
+package org.apache.geode.internal.protocol.protobuf.v1.state;
-import org.apache.geode.internal.protocol.MessageExecutionContext;
-import org.apache.geode.internal.protocol.OperationContext;
-import org.apache.geode.internal.protocol.ProtocolErrorCode;
-import org.apache.geode.internal.protocol.state.exception.ConnectionStateException;
+import org.apache.geode.internal.protocol.protobuf.v1.BasicTypes;
+import org.apache.geode.internal.protocol.protobuf.v1.MessageExecutionContext;
+import org.apache.geode.internal.protocol.protobuf.v1.ProtobufOperationContext;
+import org.apache.geode.internal.protocol.protobuf.v1.ProtobufSerializationService;
+import org.apache.geode.internal.protocol.protobuf.v1.serialization.exception.DecodingException;
+import org.apache.geode.internal.protocol.protobuf.v1.state.exception.ConnectionStateException;
- * protocol connection. It is used to inject behavior at specific points in the processing of
+ * protobuf connection. It is used to inject behavior at specific points in the processing of
-public interface ConnectionStateProcessor {
+public interface ProtobufConnectionStateProcessor {
-  void validateOperation(MessageExecutionContext messageContext, OperationContext operationContext)
-      throws ConnectionStateException;
+  void validateOperation(Object message, ProtobufSerializationService serializer,
+      MessageExecutionContext messageContext, ProtobufOperationContext operationContext)
+      throws ConnectionStateException, DecodingException;
-   * @return specialized ConnectionAuthenticatingStateProcessor interface implementation which can
-   *         move to a new state
+   * @return specialized ProtobufConnectionAuthenticatingStateProcessor interface implementation
+   *         which can move to a new state
-  default ConnectionAuthenticatingStateProcessor allowAuthentication()
+  default ProtobufConnectionAuthenticatingStateProcessor allowAuthentication()
-    throw new ConnectionStateException(ProtocolErrorCode.AUTHENTICATION_REQUIRED,
+    throw new ConnectionStateException(BasicTypes.ErrorCode.AUTHENTICATION_REQUIRED,

INS26 INS26 UPD40 INS40 UPD40 UPD40 UPD40 INS40 UPD40 UPD42 INS44 INS44 INS43 UPD43 UPD66 INS43 INS42 INS43 INS42 UPD43 INS42 UPD42 INS42 INS42 UPD42 UPD66 UPD66 UPD40