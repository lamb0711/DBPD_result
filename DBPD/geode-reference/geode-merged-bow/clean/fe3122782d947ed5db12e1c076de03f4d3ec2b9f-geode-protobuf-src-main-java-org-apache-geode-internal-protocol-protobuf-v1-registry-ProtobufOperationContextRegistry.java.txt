GEODE-4607: Remove protobuf Request and Response objects, renumber message types (#1389)


-import org.apache.geode.internal.protocol.protobuf.v1.ClientProtocol.Request.RequestAPICase;
-  private Map<RequestAPICase, ProtobufOperationContext> operationContexts =
+  private Map<ClientProtocol.Message.MessageTypeCase, ProtobufOperationContext> operationContexts =
-  public ProtobufOperationContext getOperationContext(RequestAPICase apiCase) {
+  public ProtobufOperationContext getOperationContext(
+      ClientProtocol.Message.MessageTypeCase apiCase) {
-    operationContexts.put(RequestAPICase.AUTHENTICATIONREQUEST,
-        new ProtobufOperationContext<>(ClientProtocol.Request::getAuthenticationRequest,
+    operationContexts.put(ClientProtocol.Message.MessageTypeCase.AUTHENTICATIONREQUEST,
+        new ProtobufOperationContext<>(ClientProtocol.Message::getAuthenticationRequest,
-            opsResp -> ClientProtocol.Response.newBuilder().setAuthenticationResponse(opsResp),
+            opsResp -> ClientProtocol.Message.newBuilder().setAuthenticationResponse(opsResp),
-    operationContexts.put(RequestAPICase.GETREQUEST,
-        new ProtobufOperationContext<>(ClientProtocol.Request::getGetRequest,
+    operationContexts.put(ClientProtocol.Message.MessageTypeCase.GETREQUEST,
+        new ProtobufOperationContext<>(ClientProtocol.Message::getGetRequest,
-            opsResp -> ClientProtocol.Response.newBuilder().setGetResponse(opsResp),
+            opsResp -> ClientProtocol.Message.newBuilder().setGetResponse(opsResp),
-    operationContexts.put(RequestAPICase.GETALLREQUEST,
-        new ProtobufOperationContext<>(ClientProtocol.Request::getGetAllRequest,
+    operationContexts.put(ClientProtocol.Message.MessageTypeCase.GETALLREQUEST,
+        new ProtobufOperationContext<>(ClientProtocol.Message::getGetAllRequest,
-            opsResp -> ClientProtocol.Response.newBuilder().setGetAllResponse(opsResp),
+            opsResp -> ClientProtocol.Message.newBuilder().setGetAllResponse(opsResp),
-    operationContexts.put(RequestAPICase.PUTREQUEST,
-        new ProtobufOperationContext<>(ClientProtocol.Request::getPutRequest,
+    operationContexts.put(ClientProtocol.Message.MessageTypeCase.PUTREQUEST,
+        new ProtobufOperationContext<>(ClientProtocol.Message::getPutRequest,
-            opsResp -> ClientProtocol.Response.newBuilder().setPutResponse(opsResp),
+            opsResp -> ClientProtocol.Message.newBuilder().setPutResponse(opsResp),
-    operationContexts.put(RequestAPICase.PUTALLREQUEST,
-        new ProtobufOperationContext<>(ClientProtocol.Request::getPutAllRequest,
+    operationContexts.put(ClientProtocol.Message.MessageTypeCase.PUTALLREQUEST,
+        new ProtobufOperationContext<>(ClientProtocol.Message::getPutAllRequest,
-            opsResp -> ClientProtocol.Response.newBuilder().setPutAllResponse(opsResp),
+            opsResp -> ClientProtocol.Message.newBuilder().setPutAllResponse(opsResp),
-    operationContexts.put(RequestAPICase.REMOVEREQUEST,
-        new ProtobufOperationContext<>(ClientProtocol.Request::getRemoveRequest,
+    operationContexts.put(ClientProtocol.Message.MessageTypeCase.REMOVEREQUEST,
+        new ProtobufOperationContext<>(ClientProtocol.Message::getRemoveRequest,
-            opsResp -> ClientProtocol.Response.newBuilder().setRemoveResponse(opsResp),
+            opsResp -> ClientProtocol.Message.newBuilder().setRemoveResponse(opsResp),
-    operationContexts.put(RequestAPICase.GETREGIONNAMESREQUEST,
-        new ProtobufOperationContext<>(ClientProtocol.Request::getGetRegionNamesRequest,
+    operationContexts.put(ClientProtocol.Message.MessageTypeCase.GETREGIONNAMESREQUEST,
+        new ProtobufOperationContext<>(ClientProtocol.Message::getGetRegionNamesRequest,
-            opsResp -> ClientProtocol.Response.newBuilder().setGetRegionNamesResponse(opsResp),
+            opsResp -> ClientProtocol.Message.newBuilder().setGetRegionNamesResponse(opsResp),
-    operationContexts.put(RequestAPICase.GETREGIONREQUEST,
-        new ProtobufOperationContext<>(ClientProtocol.Request::getGetRegionRequest,
+    operationContexts.put(ClientProtocol.Message.MessageTypeCase.GETREGIONREQUEST,
+        new ProtobufOperationContext<>(ClientProtocol.Message::getGetRegionRequest,
-            opsResp -> ClientProtocol.Response.newBuilder().setGetRegionResponse(opsResp),
+            opsResp -> ClientProtocol.Message.newBuilder().setGetRegionResponse(opsResp),
-    operationContexts.put(RequestAPICase.GETSERVERREQUEST,
-        new ProtobufOperationContext<>(ClientProtocol.Request::getGetServerRequest,
+    operationContexts.put(ClientProtocol.Message.MessageTypeCase.GETSERVERREQUEST,
+        new ProtobufOperationContext<>(ClientProtocol.Message::getGetServerRequest,
-            opsResp -> ClientProtocol.Response.newBuilder().setGetServerResponse(opsResp),
+            opsResp -> ClientProtocol.Message.newBuilder().setGetServerResponse(opsResp),
-    operationContexts.put(RequestAPICase.EXECUTEFUNCTIONONREGIONREQUEST,
-        new ProtobufOperationContext<>(ClientProtocol.Request::getExecuteFunctionOnRegionRequest,
+    operationContexts.put(ClientProtocol.Message.MessageTypeCase.EXECUTEFUNCTIONONREGIONREQUEST,
+        new ProtobufOperationContext<>(ClientProtocol.Message::getExecuteFunctionOnRegionRequest,
-            opsResp -> ClientProtocol.Response.newBuilder()
+            opsResp -> ClientProtocol.Message.newBuilder()

UPD74 UPD43 UPD43 INS40 INS40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 DEL40 DEL26 DEL42 DEL42