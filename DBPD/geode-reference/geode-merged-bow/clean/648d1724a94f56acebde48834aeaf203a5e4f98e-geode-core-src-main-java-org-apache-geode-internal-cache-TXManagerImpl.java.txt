Feature/geode 3897 (#968)

* GEODE-3897: Use internalSuspend before start a new transaction.

  * When registering pdx in a new transaction, product should internal suspend an existing transaction.
  * Add a unit test that fails without this fix.

-   * transaction. The same thread is expected to unpause/resume the transaction later.
+   * transaction. The same thread is expected to unpause/resume the transaction later. The thread
+   * should not start a new transaction after it paused a transaction.
-   * If the current thread is in a transaction then suspend will cause it to no longer be in a
-   * transaction. Currently only used in testing.
+   * If the current thread is in a transaction then internal suspend will cause it to no longer be
+   * in a transaction. The thread can start a new transaction after it internal suspended a
+   * transaction.
-   * @deprecated use {@link TXManagerImpl#pauseTransaction} or
-   *             {@link CacheTransactionManager#suspend} instead
-  @Deprecated
-   * resume it. Currently only used in testing.
+   * resume it.
-   * 
-   * @deprecated use {@link TXManagerImpl#unpauseTransaction} or
-   *             {@link CacheTransactionManager#resume} instead
-  @Deprecated

UPD66 INS66 UPD66 INS66 UPD66 UPD66 DEL66 DEL42 DEL42 DEL67 DEL65 DEL66 DEL42 DEL42 DEL67 DEL65 DEL66 DEL65 DEL42 DEL78 DEL66 DEL42 DEL42 DEL67 DEL65 DEL66 DEL42 DEL42 DEL67 DEL65 DEL66 DEL65 DEL42 DEL78