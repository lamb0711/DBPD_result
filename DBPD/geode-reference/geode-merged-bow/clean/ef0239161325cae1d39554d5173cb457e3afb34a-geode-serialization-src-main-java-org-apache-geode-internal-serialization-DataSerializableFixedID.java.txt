GEODE-7720: Review javadocs, API, and code coverage for the geode-serialization module (#4607)

Added more javadocs and moved a few things into an "internal" package
under "serialization".
- * An interface that implements data serialization for internal GemFire product classes that have a
+ * An interface that implements data serialization for internal Geode product classes that have a
- * used in a switch statement at deserialization time. All the codes should be static final in this
- * class.
+ * used in locating the constructor code for the class at deserialization.
- * <li>Define a constant with an id that is free and put it in <code>DataSerializableFixedID</code>
- * as a "byte". Make sure and update the "unused" comments to no longer mention your new id. If
- * implementing a class used only for tests then there is no need to consume a fixed id and you
- * should use {@link #NO_FIXED_ID}. In this case you can skip steps 3 and 4.
+ * <li>Define a constant with an id that is free and put it either
+ * in<code>DataSerializableFixedID</code>
+ * or in the DSFID registration code for your module (for instance, in Services in the geode-
+ * membership module). Make sure to update the "unused" comments to no longer mention your new id.
+ * If
+ * implementing a class used only for tests in geode-core and downstream modules then there is no
+ * need to consume a fixed id and you should use {@link #NO_FIXED_ID}. In this case you can skip
+ * steps 3 and 4.
+ * For modules below geode-core you may not use {@link #NO_FIXED_ID}.
- * <li>Add registration of your class to DSFIDFactory's registration method.
+ * <li>Add registration of your class in your module using DSFIDFactory's registerDSFID() method.
+ * <li>Implement the SerializationVersions API for backward-compatibility when necessary. This
+ * lets you implement multiple versions of toData and fromData based on the Geode version of
+ * the destination or source, respectively.
-  /*
-   * In the class to be serialized, add public FOO(DataInput in) throws IOException,
-   * ClassNotFoundException { fromData(in); }
-   *
-   * public int getDSFID() { return FOO; }
-   *
-   * In DataSerializableFixedId, allocate an ID for the class byte FOO = -54;
-   *
-   * In DSFIDFactory, add a case for the new class case FOO: return new FOO(in);
-   */
-  byte DISTRIBUTED_REGION_FUNCTION_MESSAGE = -104;
-  byte DISTRIBUTED_REGION_FUNCTION_REPLY_MESSAGE = -103;
-  byte MEMBER_FUNCTION_MESSAGE = -102;
-  byte MEMBER_FUNCTION_REPLY_MESSAGE = -101;
+  // -104 through -101 unused
+
-  byte PR_FUNCTION_MESSAGE = -94;
-  byte PR_FUNCTION_REPLY_MESSAGE = -93;
+
+  // -94 and -93 unused
-  byte GATEWAY_EVENT_CALLBACK_ARGUMENT = -56;
+  // -56 unused
-  public static final byte REMOVE_CACHESERVER_PROFILE_UPDATE = -19;
+  byte REMOVE_CACHESERVER_PROFILE_UPDATE = -19;
-  // IDs -18 .. -16 are not used
-
-  /**
-   * A header byte meaning that the next element in the stream is a <code>VMIdProfile</code>.
-   */
-  byte VMID_PROFILE_MESSAGE = -15;
-
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>LocalRegion.UUIDProfile</code>.
-   */
-  byte REGION_UUID_PROFILE_MESSAGE = -14;
-
-  short TX_REMOTE_COMMIT_PHASE1_MESSAGE = -13;
-  short TX_BATCH_MESSAGE = -12;
-  short TX_CLEANUP_ENTRY_MESSAGE = -11;
-  short TX_BATCH_REPLY_MESSAGE = -10;
+  // IDs -18 through -10 unused
-  // 1 available for reuse. Retired in Geode v1.0
-  // byte JGROUPS_VIEW = 1;
-
-  // 2 available for reuse. Retired in Geode v1.0
-  // byte JGROUPS_JOIN_RESP = 2;
+  // 1 through 2 unused
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>InitialImageOperation.EventStateMessage</code>.
-   */
-
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>ClientInstantiatorMessage</code>.
-   */
-
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>InternalInstantiator.RegistrationMessage</code>.
-   */
-
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>InternalInstantiator.RegistrationContextMessage</code>.
-   */
-  // PRQueryProcessor.EndOfBucket
-  byte CONCURRENT_HASH_MAP = 21;
+  // 21 unused
+
-  /**
-   * A header byte meaning that the next element in the stream is a <code>ObjectPartList</code>.
-   */
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>ClearRegionWithContextMessage</code>.
-   */
-
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>ClientUpdateMessage</code>.
-   */
-  /**
-   * A header byte meaning that the next element in the stream is a <code>EventID</code>.
-   */
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>ClientProxyMembershipID</code>.
-   */
+
-  // 70 available for reuse - retired in Geode v1.0
-  // byte IP_ADDRESS = 70;
+  // 70 unused
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>UpdateOperation.UpdateMessage</code>.
-   */
-
-  /**
-   * A header byte meaning that the next element in the stream is a <code>ReplyMessage</code>.
-   */
-
-  /** <code>DestroyMessage</code> */
-
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>CreateRegionReplyMessage</code>.
-   */
-
-  // DLockReleaseMessage
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>SystemMemberCacheMessage</code>.
-   */
-  // added for feature requests #32887
-  // CloseCacheMessage
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>UpdateOperation.UpdateWithContextMessage</code>.
-   */
-  // GrantorRequestProcessor
-  // StartupMessage
-
-  // StartupResponseMessage
-  // ShutdownMessage
-
-  // DestroyRegionOperation
-
-
-  // InvalidateOperation
-
-  // DestroyOperation
-
-  // DistributionAdvisor
-  byte DA_PROFILE = 103;
-
-  // CacheDistributionAdvisor
-  byte CACHE_PROFILE = 104;
-
-  // EntryEventImpl
+  byte DA_PROFILE = 103; // DistributionAdvisor profile
+  byte CACHE_PROFILE = 104; // CacheDistributionAdvisor profile
-
-  // UpdateAttributesProcessor
-
-  // RegionEventImpl
-
-  // TXId
-
-
-
-  /**
-   * A header byte meaning that the next element in the stream is a <code>HAEventWrapper</code>.
-   */
-  // TXCommitMessage.CommitProcessForTXIdMessage
-  // TXLockIdImpl
-  // TXCommitMessage.CommitProcessForLockIdMessage
-
-  // NonGrantorDestroyedProcessor.NonGrantorDestroyedMessage (dlock)
-
-  // Token.EndOfStream
-
-  /** {@link org.apache.geode.internal.cache.partitioned.GetMessage.GetReplyMessage} */
-
-  /** {@link org.apache.geode.internal.cache.Node} */
-  /**
-   * A header byte meaning that the next element in the stream is a
-   * <code>DestroyOperation.DestroyWithContextMessage</code>.
-   */
-  short SHUTDOWN_ALL_GATEWAYSENDERS_REQUEST = 160;
-  short SHUTDOWN_ALL_GATEWAYSENDERS_RESPONSE = 161;
+  // 160 through 164 unused
-  short SHUTDOWN_ALL_GATEWAYRECEIVERS_REQUEST = 162;
-  short SHUTDOWN_ALL_GATEWAYRECEIVERS_RESPONSE = 163;
-
-  short TX_COMMIT_MESSAGE_701 = 164;
-  // 171..999 unused
+
+  // 171 through 999 unused
-  short MISSING_PERSISTENT_IDS_RESPONSE_662 = 2130;
+
+  // 2130 unused
-  short PARALLEL_QUEUE_BATCH_REMOVAL_MESSAGE = 2140;
-  short PARALLEL_QUEUE_BATCH_REMOVAL_REPLY = 2141;
+  // 2140 through 2141 unused
-  // 2141 unused
-   * this code.
+   * this code and it is only available for use in geode-core and its downstream modules.

UPD66 UPD66 UPD66 INS66 INS66 UPD66 INS66 UPD66 UPD66 UPD66 INS66 INS66 INS65 INS66 UPD66 INS66 INS66 INS66 INS67 UPD66 INS42 DEL66 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL83 DEL83 DEL83 DEL66 DEL65 DEL29 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL66 DEL66 DEL65 DEL29 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL39 DEL42 DEL34 DEL38 DEL59 DEL23 DEL66 DEL66 DEL65 DEL29 DEL66 DEL66 DEL65 DEL29 DEL66 DEL66 DEL65 DEL29 DEL66 DEL66 DEL65 DEL29 DEL39 DEL42 DEL34 DEL59 DEL23 DEL66 DEL65 DEL29 DEL66 DEL66 DEL65 DEL29 DEL66 DEL66 DEL65 DEL29 DEL66 DEL65 DEL29 DEL66 DEL66 DEL65 DEL29 DEL66 DEL66 DEL65 DEL29 DEL66 DEL65 DEL29 DEL66 DEL65 DEL29 DEL66 DEL66 DEL65 DEL29 DEL66 DEL66 DEL65 DEL29 DEL66 DEL66 DEL65 DEL29 DEL66 DEL65 DEL29 DEL40 DEL65 DEL66 DEL65 DEL29 DEL40 DEL65 DEL66 DEL65 DEL29 DEL66 DEL66 DEL65 DEL29 DEL39 DEL42 DEL34 DEL59 DEL23 DEL39 DEL42 DEL34 DEL59 DEL23 DEL39 DEL42 DEL34 DEL59 DEL23 DEL39 DEL42 DEL34 DEL59 DEL23 DEL39 DEL42 DEL34 DEL59 DEL23 DEL39 DEL42 DEL34 DEL59 DEL23 DEL39 DEL42 DEL34 DEL59 DEL23 DEL39 DEL42 DEL34 DEL59 DEL23