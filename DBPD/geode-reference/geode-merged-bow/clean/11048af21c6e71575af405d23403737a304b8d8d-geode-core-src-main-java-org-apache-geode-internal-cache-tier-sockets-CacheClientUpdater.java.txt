GEODE-7600-4: Further cleanup (#4642)

* GEODE-7600-4: Further cleanup
- Cleaning the teardown approach
- Change to wait for event history to be correct.
- Getting rid of a timing issue
- Getting rid of a debug change.

-  private QueueManager qManager = null;
-  private EndpointManager eManager = null;
-  private Endpoint endpoint = null;
+  private QueueManager qManager;
+  private EndpointManager eManager;
+  private Endpoint endpoint;
-            new Object[] {this, ex}));
+            this, ex));
-                new Object[] {this, ex}));
+                this, ex));
-            new Object[] {this, e}),
+            this, e),
-            new Object[] {this, e}),
+            this, e),
-  public InternalLogWriter getSecurityLogger() {
+  private InternalLogWriter getSecurityLogger() {
-      Object newValue = null;
-      Object fullValue = null;
+      Object objectValue = null;
-        // bug #42162 - must check for a serialized null here
-        if (isCreate && InternalDataSerializer.isSerializedNull(serializedForm)) {
-          // newValue = null; newValue is already null
-        } else {
-          newValue = valuePart.getSerializedForm();
+        if (!isCreate || !InternalDataSerializer.isSerializedNull(serializedForm)) {
+          objectValue = valuePart.getSerializedForm();
-          fullValue = valuePart.getObject();
+          objectValue = valuePart.getObject();
-          region.basicBridgeClientUpdate(eventId.getDistributedMember(), key, newValue, deltaBytes,
+          region.basicBridgeClientUpdate(eventId.getDistributedMember(), key, objectValue,
+              deltaBytes,
-            fullValue = newEvent.getNewValue();
+            objectValue = newEvent.getNewValue();
-          fullValue = newValue = fullValuePart.getObject(); // TODO: fix this line
+          objectValue = fullValuePart.getObject();
-          region.basicBridgeClientUpdate(eventId.getDistributedMember(), key, newValue, null,
+          region.basicBridgeClientUpdate(eventId.getDistributedMember(), key, objectValue, null,
-        partCnt = processCqs(clientMessage, partCnt, numCqsPart.getInt(),
-            clientMessage.getMessageType(), key, fullValue, deltaBytes, eventId);
+        processCqs(clientMessage, partCnt, numCqsPart.getInt(),
+            clientMessage.getMessageType(), key, objectValue, deltaBytes, eventId);
-        partCnt = processCqs(clientMessage, partCnt, numCqsPart.getInt(), regionOpType.getInt(),
+        processCqs(clientMessage, partCnt, numCqsPart.getInt(), regionOpType.getInt(),
-      boolean withInterest = ((Boolean) isInterestListPassedPart.getObject()).booleanValue();
-      boolean withCQs = ((Boolean) hasCqsPart.getObject()).booleanValue();
+      boolean withInterest = (Boolean) isInterestListPassedPart.getObject();
+      boolean withCQs = (Boolean) hasCqsPart.getObject();
-        partCnt = processCqs(clientMessage, partCnt, numCqsPart.getInt(),
+        processCqs(clientMessage, partCnt, numCqsPart.getInt(),
-        // TODO: partCnt is unused -- does processCqs have side effects
-        partCnt = processCqs(clientMessage, partCnt, numCqsPart.getInt(),
+        processCqs(clientMessage, partCnt, numCqsPart.getInt(),
-        partCnt = processCqs(clientMessage, partCnt, numCqsPart.getInt(),
+        processCqs(clientMessage, partCnt, numCqsPart.getInt(),
-      partCnt++; // Part callbackArgumentPart = m.getPart(partCnt++);
+      partCnt++;
-        // TODO: partCnt is unused
-        partCnt = processCqs(clientMessage, partCnt, numCqsPart.getInt(),
+        processCqs(clientMessage, partCnt, numCqsPart.getInt(),
-      Part receiveUpdatesAsInvalidatesPart = clientMessage.getPart(partCnt++);
+      Part receiveUpdatesAsInvalidatesPart = clientMessage.getPart(partCnt);
-      Part receiveUpdatesAsInvalidatesPart = clientMessage.getPart(partCnt++);
+      Part receiveUpdatesAsInvalidatesPart = clientMessage.getPart(partCnt);
-          EventID eventID = (EventID) clientMessage.getPart(partIdx++).getObject();
+          EventID eventID = (EventID) clientMessage.getPart(partIdx).getObject();
-          Set<Object> removedKeys = (Set<Object>) clientMessage.getPart(partIdx++).getObject();
+          Set<Object> removedKeys = (Set<Object>) clientMessage.getPart(partIdx).getObject();
-    if (this.system.getCancelCriterion().isCancelInProgress()) {
-      return true;
-    }
+    return this.system.getCancelCriterion().isCancelInProgress();
-    return false;
-          new Object[] {this, message, exception}), exception);
+          this, message, exception), exception);

UPD83 MOV41 MOV60 MOV32 UPD42 INS11 INS11 MOV43 MOV74 UPD27 MOV32 MOV32 MOV43 MOV32 MOV43 MOV32 MOV32 MOV32 MOV32 MOV32 INS42 INS42 INS52 INS42 INS42 INS38 INS38 UPD42 MOV43 MOV74 INS42 MOV32 INS52 INS42 INS52 INS42 INS52 INS42 INS52 INS42 UPD42 UPD42 INS42 INS42 UPD42 MOV7 UPD42 UPD42 UPD42 DEL33 DEL33 DEL33 DEL42 DEL43 DEL85 DEL5 DEL52 DEL42 DEL4 DEL3 DEL42 DEL43 DEL85 DEL5 DEL52 DEL42 DEL4 DEL3 DEL42 DEL43 DEL85 DEL5 DEL52 DEL42 DEL4 DEL3 DEL42 DEL43 DEL85 DEL5 DEL52 DEL42 DEL4 DEL3 DEL42 DEL43 DEL42 DEL33 DEL59 DEL60 DEL42 DEL8 DEL42 DEL7 DEL42 DEL7 DEL42 DEL7 DEL11 DEL36 DEL42 DEL32 DEL11 DEL36 DEL42 DEL32 DEL42 DEL7 DEL42 DEL7 DEL42 DEL7 DEL42 DEL7 DEL42 DEL37 DEL42 DEL37 DEL42 DEL37 DEL42 DEL37 DEL9 DEL8 DEL25 DEL9 DEL41 DEL42 DEL43 DEL85 DEL5 DEL52 DEL42 DEL42 DEL4 DEL3