Merge branch 'release/1.5.0'

-import java.io.File;
+import java.util.Collections;
+import java.util.Properties;
-import org.apache.geode.distributed.internal.DM;
+import org.apache.geode.distributed.internal.DistributionManager;
+  private static final AbortBackupFactory abortBackupFactory = new AbortBackupFactory();
-  public static BackupDataStoreResult backupAllMembers(DM dm, Set recipients, File targetDir,
-      File baselineDir) {
+  public static BackupDataStoreResult backupAllMembers(DistributionManager dm, Set recipients,
+      Properties properties) {
-          prepareBackupFactory).send();
+          prepareBackupFactory, properties).send();
-      successfulMembers = new FinishBackupOperation(dm, dm.getId(), dm.getCache(), recipients,
-          targetDir, baselineDir, abort, finishBackupFactory).send();
+      if (abort) {
+        new AbortBackupOperation(dm, dm.getId(), dm.getCache(), recipients, abortBackupFactory)
+            .send();
+        successfulMembers = Collections.emptyMap();
+      } else {
+        successfulMembers = new FinishBackupOperation(dm, dm.getId(), dm.getCache(), recipients,
+            finishBackupFactory).send();
+      }
-  private static DistributedLockService getLockService(DM dm) {
+  private static DistributedLockService getLockService(DistributionManager dm) {
-  public static boolean obtainLock(DM dm) {
+  public static boolean obtainLock(DistributionManager dm) {
-  public static void releaseLock(DM dm) {
+  public static void releaseLock(DistributionManager dm) {

MOV26 INS26 INS40 UPD40 UPD40 INS23 INS83 INS83 INS83 INS43 INS59 INS42 INS42 INS14 UPD43 UPD43 UPD42 UPD43 UPD43 UPD43 INS43 UPD42 UPD42 INS8 UPD42 UPD42 UPD42 INS42 INS25 INS42 INS8 MOV8 INS21 INS21 INS32 INS7 INS42 INS14 INS42 INS42 INS32 INS43 INS42 INS32 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42