Merge branch 'release/1.3.0'

-import java.io.FileNotFoundException;
-import java.io.UnsupportedEncodingException;
-import java.nio.charset.Charset;
+import java.sql.Time;
-  /**
-   * @return the gfJsonObject
-   */
-   * 
-   * @param footerText
-   * @return this ResultData
+   *
-    String toAdd = String.valueOf(new java.sql.Time(System.currentTimeMillis()));
+    String toAdd = String.valueOf(new Time(System.currentTimeMillis()));
-    byte[] bytes = data;
-    return addAsFile(fileName, bytes, fileType, message);
+    return addAsFile(fileName, data, fileType, message);
-    String options = length > 1 ? "(y/N/a)" : "(y/N)"; // TODO - Abhishek Make this consistent -
-                                                       // with
-                                                       // AbstractCliAroundInterceptor.readYesNo()
-
-    BYTEARRAY_LOOP: for (int i = 0; i < length; i++) {
+    String options = length > 1 ? "(y/N/a)" : "(y/N)";
+    for (int i = 0; i < length; i++) {
-      byte[] fileNameBytes = null;
-      String fileName = null;
+      byte[] fileNameBytes;
+      String fileName;
-      byte[] fileMessageBytes = null;
-      String fileMessage = null;
+      byte[] fileMessageBytes;
+      String fileMessage;
-      boolean isGfshVM = CliUtil.isGfshVM();
+      Gfsh gfsh = Gfsh.getCurrentInstance();
-                new Object[] {fileName, fileToDumpData.getParent(), options});
-        if (isGfshVM) {
-          Gfsh gfsh = Gfsh.getCurrentInstance();
-          if (gfsh != null && !gfsh.isQuietMode() && !overwriteAllExisting) {
-            fileExistsMessage = fileExistsMessage + " Overwrite? " + options + " : ";
-            String interaction = gfsh.interact(fileExistsMessage);
-            if ("a".equalsIgnoreCase(interaction.trim())) {
-              overwriteAllExisting = true;
-            } else if (!"y".equalsIgnoreCase(interaction.trim())) {
-              // do not save file & continue
-              continue BYTEARRAY_LOOP;
-            }
+                fileName, fileToDumpData.getParent(), options);
+        if (gfsh != null && !gfsh.isQuietMode() && !overwriteAllExisting) {
+          fileExistsMessage = fileExistsMessage + " Overwrite? " + options + " : ";
+          String interaction = gfsh.interact(fileExistsMessage);
+          if ("a".equalsIgnoreCase(interaction.trim())) {
+            overwriteAllExisting = true;
+          } else if (!"y".equalsIgnoreCase(interaction.trim())) {
+            // do not save file & continue
+            continue;
-            fileToDumpData.getAbsolutePath()), isGfshVM);
+            fileToDumpData.getAbsolutePath()));
-            fileToDumpData.getAbsolutePath()), isGfshVM);
+            fileToDumpData.getAbsolutePath()));
-                fileToDumpData.getAbsolutePath()),
-            isGfshVM);
+                fileToDumpData.getAbsolutePath()));
-      // System.out.println("fileMessage :: "+fileMessage);
-        if (isGfshVM) {
-          Gfsh.println(
-              MessageFormat.format(fileMessage, new Object[] {fileToDumpData.getAbsolutePath()}));
+        if (gfsh != null) {
+          Gfsh.println(MessageFormat.format(fileMessage, fileToDumpData.getAbsolutePath()));
-      // System.out.println(new String(uncompressed));
-  // TODO - Abhishek : prepare common utility for this & ANSI Styling
-  static void handleCondition(String message, boolean isGfshVM) throws IOException {
-    if (isGfshVM) {
-      Gfsh gfsh = Gfsh.getCurrentInstance();
-      // null check required in GfshVM too to avoid test issues
-      if (gfsh != null && !gfsh.isQuietMode()) {
-        gfsh.logWarning(message, null);
-      }
+  static void handleCondition(String message) throws IOException {
+    Gfsh gfsh = Gfsh.getCurrentInstance();
+    // null check required in GfshVM too to avoid test issues
+    if (gfsh != null && !gfsh.isQuietMode()) {
+      gfsh.logWarning(message, null);

UPD40 MOV8 MOV24 MOV8 UPD42 MOV60 MOV25 MOV32 INS25 UPD43 INS60 MOV38 INS8 INS25 INS42 MOV43 INS59 INS8 INS21 INS41 MOV38 INS8 INS25 INS27 INS42 INS32 MOV53 INS32 INS21 INS41 MOV38 MOV8 INS42 INS33 INS42 INS42 INS40 INS42 MOV32 INS42 INS42 MOV32 INS32 INS21 INS41 INS42 MOV32 INS32 INS42 MOV32 MOV32 DEL40 DEL26 DEL40 DEL26 DEL66 DEL65 DEL29 DEL42 DEL65 DEL66 DEL65 DEL40 DEL39 DEL85 DEL5 DEL42 DEL42 DEL59 DEL60 DEL33 DEL33 DEL33 DEL33 DEL39 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL42 DEL42 DEL42 DEL40 DEL42 DEL43 DEL85 DEL5 DEL42 DEL42 DEL4 DEL3 DEL32 DEL59 DEL60 DEL8 DEL42 DEL42 DEL32 DEL21 DEL41 DEL8 DEL42 DEL42 DEL32 DEL21 DEL41 DEL8 DEL42 DEL42 DEL32 DEL21 DEL41 DEL8 DEL25 DEL25 DEL25 DEL25 DEL42 DEL42 DEL43 DEL85 DEL5 DEL4 DEL3 DEL42 DEL30 DEL39 DEL42 DEL44 DEL42 DEL25 DEL8