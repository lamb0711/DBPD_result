GEODE-3710 Make CodecAlreadyRegisteredForTypeException a RuntimeException.

If we throw this exception, the `SerializationCodecRegistry` will
already be in an invalid state, so it doesn't make sense for anyone to
catch it.

* privatize `SerializationCodecRegistry.register()`.
* Throw a `GemFireConfigException` when a
  `CodecAlreadyRegisteredForTypeException` is thrown, because it is a
  fatal error that will halt client messaging.
* remove most of `CodecRegistryJUnitTest`.
  This test was mostly testing that `PowerMockito` could create enum
  variants that didn't exist.

Signed-off-by: Sarge <mdodge@pivotal.io>

This closes #825

+import org.apache.geode.GemFireConfigException;
-  private HashMap<SerializationType, TypeCodec> codecRegistry = new HashMap<>();
+  private final HashMap<SerializationType, TypeCodec> codecRegistry = new HashMap<>();
-  public SerializationCodecRegistry() throws CodecAlreadyRegisteredForTypeException {
+  public SerializationCodecRegistry() {
-    for (TypeCodec typeCodec : typeCodecs) {
-      register(typeCodec.getSerializationType(), typeCodec);
+    try {
+      for (TypeCodec typeCodec : typeCodecs) {
+        register(typeCodec.getSerializationType(), typeCodec);
+      }
+    } catch (CodecAlreadyRegisteredForTypeException ex) {
+      throw new GemFireConfigException("Multiple implementations found for the same TypeCodec", ex);
-  public synchronized void register(SerializationType serializationType, TypeCodec<?> typeCodec)
-      throws CodecAlreadyRegisteredForTypeException {
+  private void register(SerializationType serializationType, TypeCodec<?> typeCodec) {

INS26 INS40 INS83 UPD83 INS54 INS8 INS12 MOV70 INS44 INS8 MOV43 INS42 INS53 INS14 INS43 INS45 INS42 INS42 DEL83 DEL42 DEL43