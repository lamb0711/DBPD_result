GEODE-7194: simplify CMS 'get' return type (#4047)


-
+import org.apache.geode.management.api.ClusterManagementGetResult;
- * CacheElement}s and call the corresponding
- * {@link ClientClusterManagementService#create(CacheElement)},
- * {@link ClientClusterManagementService#delete(CacheElement)} or
- * {@link ClientClusterManagementService#update(CacheElement)} method. The returned {@link
+ * AbstractConfiguration}s and call the corresponding
+ * {@link ClientClusterManagementService#create(AbstractConfiguration)},
+ * {@link ClientClusterManagementService#delete(AbstractConfiguration)} or
+ * {@link ClientClusterManagementService#update(AbstractConfiguration)} method. The returned {@link
-    String endPoint = getEndpoint(config);
+    String endPoint = URI_VERSION + config.getEndpoint();
-    String uri = getIdentityEndPoint(config);
+    String uri = getIdentityEndpoint(config);
-    String endPoint = getEndpoint(config);
+    String endPoint = URI_VERSION + config.getEndpoint();
-  public <T extends AbstractConfiguration<R>, R extends RuntimeInfo> ClusterManagementListResult<T, R> get(
+  public <T extends AbstractConfiguration<R>, R extends RuntimeInfo> ClusterManagementGetResult<T, R> get(
-        .exchange(getIdentityEndPoint(config), HttpMethod.GET, makeEntity(config),
-            ClusterManagementListResult.class)
+        .exchange(getIdentityEndpoint(config), HttpMethod.GET, makeEntity(config),
+            ClusterManagementGetResult.class)
-  private String getEndpoint(AbstractConfiguration config) {
-    String endpoint = config.getEndpoint();
-    if (endpoint == null) {
-      throw new IllegalArgumentException(
-          "unable to construct the uri with the current configuration.");
-    }
-    return URI_VERSION + endpoint;
-  }
-
-  private String getIdentityEndPoint(AbstractConfiguration config) {
-    String uri = config.getIdentityEndPoint();
+  private String getIdentityEndpoint(AbstractConfiguration config) {
+    String uri = config.getIdentityEndpoint();
-          "unable to construct the uri with the current configuration.");
+          "Unable to construct the URI with the current configuration.");
-    if (!result.isSuccessful()) {
+    if (result == null) {
+      ClusterManagementResult somethingVeryBadHappened = new ClusterManagementResult(
+          ClusterManagementResult.StatusCode.ERROR, "Unable to parse server response.");
+      throw new ClusterManagementException(somethingVeryBadHappened);
+    } else if (!result.isSuccessful()) {

INS26 INS40 UPD74 UPD42 MOV44 UPD43 MOV42 MOV42 INS25 UPD42 UPD42 INS27 INS8 MOV25 INS27 INS27 UPD42 MOV42 MOV42 INS42 INS33 INS60 INS53 UPD43 UPD43 UPD43 INS42 INS32 UPD42 INS42 INS32 UPD42 INS43 INS59 INS14 UPD42 UPD42 UPD42 MOV42 INS42 MOV42 INS42 UPD45 INS42 INS42 INS14 INS43 INS42 UPD42 UPD43 INS43 INS40 INS45 INS42 UPD42 INS42 DEL42 DEL32 DEL42 DEL32 DEL83 DEL42 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL43 DEL45 DEL14 DEL53 DEL8 DEL25 DEL8 DEL31