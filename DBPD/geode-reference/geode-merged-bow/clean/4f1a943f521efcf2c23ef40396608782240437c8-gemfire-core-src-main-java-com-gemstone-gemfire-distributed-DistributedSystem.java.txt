Merge branch 'develop' into feature/GEODE-77

-        if (!existingSystems.isEmpty()) {
+        boolean existingSystemDisconnecting = true;
+        while (!existingSystems.isEmpty() && existingSystemDisconnecting) {
-            (InternalDistributedSystem) existingSystems.get(0);
-          if (existingSystem.isDisconnecting()) {
-            while (existingSystem.isConnected()) {
-              boolean interrupted = Thread.interrupted();
-              try {
-                existingSystemsLock.wait(500);
-              } 
-              catch (InterruptedException ex) {
-                interrupted = true;
-              }
-              finally {
-                if (interrupted) {
-                  Thread.currentThread().interrupt();
-                }
+              (InternalDistributedSystem) existingSystems.get(0);
+          existingSystemDisconnecting = existingSystem.isDisconnecting();
+          if (existingSystemDisconnecting) {
+            boolean interrupted = Thread.interrupted();
+            try {
+              // no notify for existingSystemsLock, just to release the sync
+              existingSystemsLock.wait(50);
+            } 
+            catch (InterruptedException ex) {
+              interrupted = true;
+            }
+            finally {
+              if (interrupted) {
+                Thread.currentThread().interrupt();
-          }
-
-          if (existingSystem.isConnected()) {
+          } else if (existingSystem.isConnected()) {
+          } else {
+          // This should not happen: existingSystem.isConnected()==false && existingSystem.isDisconnecting()==false 
+            throw new AssertionError("system should not be disconnecting==false and isConnected==falsed");

MOV8 MOV25 INS51 INS42 MOV8 MOV54 INS40 MOV8 INS60 INS39 INS59 INS27 INS8 INS42 INS9 MOV38 INS42 MOV21 MOV60 INS21 INS25 INS7 INS42 MOV8 INS25 UPD42 MOV42 INS42 MOV32 MOV32 MOV8 INS8 MOV42 INS41 INS53 INS42 INS14 INS42 INS42 INS42 INS43 INS45 UPD34 INS42 INS42 INS42 DEL32 DEL25 DEL25 DEL42 DEL40 DEL25 DEL8 DEL51 DEL8