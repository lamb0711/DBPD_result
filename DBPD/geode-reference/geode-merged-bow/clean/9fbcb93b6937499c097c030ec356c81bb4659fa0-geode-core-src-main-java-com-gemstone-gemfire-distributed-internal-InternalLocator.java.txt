Merge branch 'develop' of https://git-wip-us.apache.org/repos/asf/incubator-geode into develop

+
+  private WanLocatorDiscoverer locatorDiscoverer;
-    
+    // TODO:GEODE-1243: this.server is now a TcpServer and it should store or return its non-zero port in a variable to use here
+
-        slocator.startDistributedSystem();
+        slocator.startDistributedSystem(); // TODO:GEODE-1243: throws Exception if TcpServer still has zero for its locator port
-    if (locatorsAreCoordinators) {
-      // LOG: changed from config to info
-      logger.info(LocalizedMessage.create(LocalizedStrings.InternalLocator_FORCING_GROUP_COORDINATION_INTO_LOCATORS));
-    }
-    
+
-    WanLocatorDiscoverer s = WANServiceProvider.createLocatorDiscoverer();
-    if(s != null) {
-      s.discover(this.port, config, locatorListener);
+    this.locatorDiscoverer = WANServiceProvider.createLocatorDiscoverer();
+    if(this.locatorDiscoverer != null) {
+      this.locatorDiscoverer.discover(this.port, config, locatorListener);
+    if (this.locatorDiscoverer != null) {
+      this.locatorDiscoverer.stop();
+      this.locatorDiscoverer = null;
+    }
+

INS23 INS83 MOV43 INS59 INS42 INS21 INS25 INS7 INS27 INS8 INS22 MOV32 INS22 INS22 INS33 INS21 INS21 INS52 INS42 INS52 INS42 INS52 INS42 INS32 INS7 INS22 INS22 INS42 INS22 INS33 INS52 INS42 INS52 INS42 INS52 INS42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL40 DEL32 DEL32 DEL21 DEL8 DEL25 DEL42 DEL59 DEL60 DEL42 DEL42