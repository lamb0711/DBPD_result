Revert "GEODE-7828: Convert backing store for Redis Hashes and Sets to single regions (#4745)" (#4780)

This reverts commit 2f6bf013368df5a4b5efe68162a4953f9a88bbf2.
-import java.util.Set;
-import org.apache.geode.cache.TimeoutException;
-import org.apache.geode.redis.internal.AutoCloseableLock;
-  private static final int NONE_REMOVED = 0;
+  private final int NONE_REMOVED = 0;
+    @SuppressWarnings("unchecked")
+    Region<ByteArrayWrapper, Boolean> keyRegion =
+        (Region<ByteArrayWrapper, Boolean>) context.getRegionProvider().getRegion(key);
-    Region<ByteArrayWrapper, Set<ByteArrayWrapper>> region = getRegion(context);
+    if (keyRegion == null) {
+      command.setResponse(Coder.getIntegerResponse(context.getByteBufAllocator(), NONE_REMOVED));
+      return;
+    }
-    try (AutoCloseableLock regionLock = withRegionLock(context, key)) {
-      Set<ByteArrayWrapper> set = region.get(key);
-      if (set == null || set.isEmpty()) {
-        command.setResponse(Coder.getIntegerResponse(context.getByteBufAllocator(), NONE_REMOVED));
-        return;
-      }
-
-      for (int i = 2; i < commandElems.size(); i++) {
-        if (set.remove(new ByteArrayWrapper(commandElems.get(i)))) {
-          numRemoved++;
-        }
-      }
-
-      region.put(key, set);
-    } catch (InterruptedException e) {
-      Thread.currentThread().interrupt();
-      command.setResponse(
-          Coder.getErrorResponse(context.getByteBufAllocator(), "Thread interrupted."));
-      return;
-    } catch (TimeoutException e) {
-      command.setResponse(Coder.getErrorResponse(context.getByteBufAllocator(),
-          "Timeout acquiring lock. Please try again."));
-      return;
+    for (int i = 2; i < commandElems.size(); i++) {
+      Object oldVal;
+      oldVal = keyRegion.remove(new ByteArrayWrapper(commandElems.get(i)));
+      if (oldVal != null)
+        numRemoved++;

INS60 MOV25 MOV24 INS79 UPD74 MOV74 INS59 INS27 INS42 INS45 UPD43 MOV43 INS42 INS11 UPD42 MOV42 MOV33 INS60 INS21 UPD42 INS74 INS32 INS43 INS59 INS7 INS27 MOV21 UPD43 MOV43 MOV43 UPD43 MOV43 INS32 UPD42 MOV42 MOV42 INS42 INS42 INS42 MOV32 INS42 INS33 UPD42 UPD42 UPD42 MOV42 UPD42 MOV42 UPD42 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL83 DEL74 DEL27 DEL42 DEL42 DEL32 DEL27 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL8 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL32 DEL59 DEL58 DEL74 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL32 DEL21 DEL8 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL32 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL45 DEL32 DEL32 DEL21 DEL41 DEL8 DEL12 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL45 DEL32 DEL32 DEL21 DEL41 DEL8 DEL12 DEL54