commit dade94b3b5a3a3b2178a62e31edab27ccca40aa8
Merge: 526bcfc 73be2d9
Author: Bruce Schuchardt <bschuchardt@pivotal.io>
Date:   Mon Nov 20 11:39:19 2017 -0800

    GEODE-3793: Refactor version validation into testable class.

    Merge branch 'feature/GEODE-3793' of https://github.com/PivotalSarge/geode into PivotalSarge-feature/GEODE-3793

+  private final VersionValidator validator = new VersionValidator();
-    boolean handshakeSucceeded = false;
-    // Require an exact match with our version of the protobuf code for this implementation
-    if (request.getMajorVersion() == ConnectionAPI.MajorVersions.CURRENT_MAJOR_VERSION_VALUE
-        && request.getMinorVersion() == ConnectionAPI.MinorVersions.CURRENT_MINOR_VERSION_VALUE) {
-      handshakeSucceeded = true;
+    final boolean handshakeSucceeded =
+        validator.isValid(request.getMajorVersion(), request.getMinorVersion());
+    if (handshakeSucceeded) {

INS23 INS83 INS83 INS43 INS59 INS42 INS42 INS14 INS43 INS83 INS42 INS42 INS32 INS42 INS42 MOV32 MOV32 DEL9 DEL40 DEL27 DEL40 DEL27 DEL27 DEL42 DEL9 DEL7 DEL21