GEODE-4142: save commit message for failover after jta commit (#1324)

* GEODE-4142: save commit message for failover after jta commit.

  check if the jta has completed before retrying the beforeCompeltion and afterCompletion in failover cases.

-    TXCommitMessage cmsg = null;
+    TXCommitMessage commitMessage = txMgr.getRecentlyCompletedMessage(txId);
-      if (txMgr.isHostedTxRecentlyCompleted(txId)) {
+      if (commitMessage != null) {
-        cmsg = txMgr.getRecentlyCompletedMessage(txId);
-        if (txMgr.isExceptionToken(cmsg)) {
-          throw txMgr.getExceptionForToken(cmsg, txId);
+        if (txMgr.isExceptionToken(commitMessage)) {
+          throw txMgr.getExceptionForToken(commitMessage, txId);
-          cmsg = txState.getCommitMessage();
+          commitMessage = txState.getCommitMessage();
-    TXRemoteCommitReplyMessage.send(getSender(), getProcessorId(), cmsg, getReplySender(dm));
+    TXRemoteCommitReplyMessage.send(getSender(), getProcessorId(), commitMessage,
+        getReplySender(dm));
+      if (val != null) {
+        val.setClientVersion(null);
+      }

INS25 UPD42 MOV32 UPD42 INS27 INS8 INS27 INS42 INS33 INS21 INS42 INS33 INS32 INS42 INS42 INS33 UPD42 UPD42 UPD42 DEL33 DEL42 DEL42 DEL42 DEL32 DEL42 DEL7 DEL21