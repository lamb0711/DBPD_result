GEODE-3213: Refactor ProtoBuf handler flow. This now closes #646

Signed-off-by: Alexander Murmann <amurmann@pivotal.io>

-import org.apache.geode.cache.Region;
-import org.apache.geode.protocol.protobuf.BasicTypes;
-import org.apache.geode.protocol.protobuf.ClientProtocol;
-import org.apache.geode.protocol.protobuf.RegionAPI;
+import java.util.Set;
+
-import java.util.Set;
+import org.apache.geode.cache.Region;
+import org.apache.geode.protocol.protobuf.ClientProtocol;
+import org.apache.geode.protocol.protobuf.RegionAPI;
-  /**
-   * This creates response object containing a ClientProtocol.ErrorResponse
-   *
-   * @param errorMessage - description of the error
-   * @return An error response containing the above parameters
-   */
-  public static ClientProtocol.Response createErrorResponse(String errorMessage) {
-    ClientProtocol.ErrorResponse error =
-        ClientProtocol.ErrorResponse.newBuilder().setMessage(errorMessage).build();
-    return ClientProtocol.Response.newBuilder().setErrorResponse(error).build();
-  }
-  public static ClientProtocol.Response createAndLogErrorResponse(String errorMessage,
+  public static ClientProtocol.ErrorResponse createAndLogErrorResponse(String errorMessage,
-    return createErrorResponse(errorMessage);
-  }
-
-  /**
-   * This creates a response object containing a RegionAPI.GetResponse
-   *
-   * @param resultValue - the encoded result value, see createEncodedValue in
-   *        {@link ProtobufUtilities}
-   * @return A response indicating the passed value was found for a incoming GetRequest
-   */
-  public static ClientProtocol.Response createGetResponse(BasicTypes.EncodedValue resultValue) {
-    RegionAPI.GetResponse getResponse =
-        RegionAPI.GetResponse.newBuilder().setResult(resultValue).build();
-    return ClientProtocol.Response.newBuilder().setGetResponse(getResponse).build();
-  }
-
-  /**
-   * This creates a response object containing a RegionAPI.RemoveResponse
-   *
-   * @return A response indicating the entry with the passed key was removed
-   */
-  public static ClientProtocol.Response createRemoveResponse() {
-    RegionAPI.RemoveResponse removeResponse = RegionAPI.RemoveResponse.newBuilder().build();
-    return ClientProtocol.Response.newBuilder().setRemoveResponse(removeResponse).build();
-  }
-
-  /**
-   * This creates a response object containing a RegionAPI.GetResponse
-   *
-   * @return A response indicating a failure to find a requested key or value
-   */
-  public static ClientProtocol.Response createNullGetResponse() {
-    return ClientProtocol.Response.newBuilder().setGetResponse(RegionAPI.GetResponse.newBuilder())
-        .build();
+    return ClientProtocol.ErrorResponse.newBuilder().setMessage(errorMessage).build();
-  public static ClientProtocol.Response createGetRegionNamesResponse(Set<Region<?, ?>> regionSet) {
+  public static RegionAPI.GetRegionNamesResponse createGetRegionNamesResponse(
+      Set<Region<?, ?>> regionSet) {
-    return ClientProtocol.Response.newBuilder().setGetRegionNamesResponse(builder).build();
-  }
-
-  /**
-   * This creates a response object containing a RegionAPI.PutResponse
-   *
-   * @return A response object indicating a successful put
-   */
-  public static ClientProtocol.Response createPutResponse() {
-    return ClientProtocol.Response.newBuilder().setPutResponse(RegionAPI.PutResponse.newBuilder())
-        .build();
-  }
-
-  /**
-   * This creates a response object containing a RegionAPI.GetAllResponse
-   *
-   * @param entries - key, value pairs for which lookups succeeded
-   * @return A response object containing all the passed results
-   */
-  public static ClientProtocol.Response createGetAllResponse(Set<BasicTypes.Entry> entries) {
-    RegionAPI.GetAllResponse.Builder builder = RegionAPI.GetAllResponse.newBuilder();
-    builder.addAllEntries(entries);
-    return ClientProtocol.Response.newBuilder().setGetAllResponse(builder).build();
-  }
-
-  /**
-   * This creates a response for a putAll request
-   *
-   * @return A response object indicating any invalid keys (all others are assumed to have
-   *         succeeded)
-   */
-  public static ClientProtocol.Response createPutAllResponse() {
-    return ClientProtocol.Response.newBuilder()
-        .setPutAllResponse(RegionAPI.PutAllResponse.newBuilder()).build();
-  }
-
-  /**
-   * This creates a ClientProtocol.Response object containing a RegionAPI.GetRegionResponse
-   *
-   * @return A ClientProtocol.Response object indicating a successful getRegionRequest
-   */
-  public static ClientProtocol.Response createGetRegionResponse(BasicTypes.Region protoRegion) {
-    return ClientProtocol.Response.newBuilder()
-        .setGetRegionResponse(RegionAPI.GetRegionResponse.newBuilder().setRegion(protoRegion))
-        .build();
+    return builder.build();

MOV26 MOV26 MOV43 UPD43 UPD40 MOV32 MOV42 DEL40 DEL26 DEL66 DEL65 DEL42 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL83 DEL40 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL59 DEL60 DEL40 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL32 DEL41 DEL8 DEL31 DEL40 DEL43 DEL42 DEL42 DEL32 DEL66 DEL65 DEL42 DEL66 DEL42 DEL65 DEL65 DEL66 DEL65 DEL29 DEL83 DEL83 DEL40 DEL43 DEL42 DEL40 DEL43 DEL42 DEL44 DEL40 DEL43 DEL42 DEL40 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL32 DEL59 DEL60 DEL40 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL32 DEL41 DEL8 DEL31 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL83 DEL40 DEL43 DEL42 DEL40 DEL43 DEL42 DEL40 DEL42 DEL32 DEL42 DEL32 DEL59 DEL60 DEL40 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL32 DEL41 DEL8 DEL31 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL83 DEL40 DEL43 DEL42 DEL40 DEL42 DEL32 DEL42 DEL40 DEL42 DEL32 DEL32 DEL42 DEL32 DEL41 DEL8 DEL31 DEL40 DEL42 DEL32 DEL42 DEL32 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL83 DEL40 DEL43 DEL42 DEL40 DEL42 DEL32 DEL42 DEL40 DEL42 DEL32 DEL32 DEL42 DEL32 DEL41 DEL8 DEL31 DEL66 DEL65 DEL42 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL83 DEL40 DEL43 DEL42 DEL42 DEL43 DEL40 DEL43 DEL74 DEL42 DEL44 DEL40 DEL43 DEL42 DEL40 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL21 DEL40 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL32 DEL41 DEL8 DEL31 DEL66 DEL65 DEL66 DEL66 DEL65 DEL29 DEL83 DEL83 DEL40 DEL43 DEL42 DEL40 DEL42 DEL32 DEL42 DEL40 DEL42 DEL32 DEL32 DEL42 DEL32 DEL41 DEL8 DEL31 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL83 DEL40 DEL43 DEL42 DEL40 DEL43 DEL42 DEL44 DEL40 DEL42 DEL32 DEL42 DEL40 DEL42 DEL32 DEL42 DEL42 DEL32 DEL32 DEL42 DEL32 DEL41 DEL8 DEL31