Feature/geode 3583 storage (#1285)

* This resolves the following tickets: GEODE-4196, GEODE-4197, GEODE-4198, GEODE-4199
   GEODE-4200, GEODE-4201, GEODE-4203, GEODE-4204, GEODE-4205, GEODE-4206
   GEODE-4208, GEODE-4209, GEODE-4210, GEODE-4212, and GEODE-4213
-        root.getDistributionAdvisor().addMembershipListener(new MemberFailureListener());
+        root.getDistributionAdvisor().addMembershipListener(new MemberFailureListener(cache));
-  public static void cleanUpMetaDataOnNodeFailure(DistributedMember failedMemId) {
+  public static void cleanUpMetaDataOnNodeFailure(InternalCache cache,
+      DistributedMember failedMemId) {
-      final InternalCache cache = GemFireCacheImpl.getInstance();
-      DistributionManager dm = cache.getInternalDistributedSystem().getDistributionManager();
-
+    InternalCache cache = null;
+
+    MemberFailureListener(InternalCache cache) {
+      this.cache = cache;
+    }
+
-      PartitionedRegionHelper.cleanUpMetaDataOnNodeFailure(id);
+      PartitionedRegionHelper.cleanUpMetaDataOnNodeFailure(cache, id);

INS44 INS23 INS31 MOV43 INS42 INS43 INS59 INS42 INS44 INS8 INS42 INS42 INS33 INS43 INS42 INS21 INS42 INS7 INS22 INS42 INS42 INS52 INS42 INS42 DEL83 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL42 DEL32 DEL59 DEL60