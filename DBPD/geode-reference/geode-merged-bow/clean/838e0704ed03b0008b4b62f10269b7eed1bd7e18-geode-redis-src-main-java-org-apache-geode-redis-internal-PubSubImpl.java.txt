GEODE-7840: Redis pub/sub does not handle binary messages correctly (#4762)


-  public long publish(String channel, String message) {
+  public long publish(String channel, byte[] message) {
-        .setArguments(new String[] {channel, message})
+        .setArguments(new Object[] {channel, message})
-    FunctionService.registerFunction(new Function<String[]>() {
+    FunctionService.registerFunction(new Function<Object[]>() {
-      public void execute(FunctionContext<String[]> context) {
-        String[] publishMessage = context.getArguments();
-        long subscriberCount = publishMessageToSubscribers(publishMessage[0], publishMessage[1]);
+      public void execute(FunctionContext<Object[]> context) {
+        Object[] publishMessage = context.getArguments();
+        long subscriberCount =
+            publishMessageToSubscribers((String) publishMessage[0], (byte[]) publishMessage[1]);
-  long publishMessageToSubscribers(String channel, String message) {
+  long publishMessageToSubscribers(String channel, byte[] message) {

INS5 INS5 INS39 INS85 INS39 INS85 UPD74 UPD5 UPD5 UPD43 UPD43 UPD42 UPD74 UPD42 UPD5 UPD5 UPD43 INS43 UPD42 INS42 INS11 INS11 MOV43 MOV2 INS5 MOV2 INS39 INS85 DEL42 DEL43 DEL42 DEL43