GEODE-1598: fix autocomplete for first option and repeat tabs

* This closes #185

-        int walkBackwards = remainingBuffer.length() - 1;
-        while (remainingBuffer.charAt(walkBackwards) != '-') {
-          walkBackwards--;
+        if (remainingBuffer.contains("-")) {
+          int walkBackwards = remainingBuffer.length() - 1;
+          while (remainingBuffer.charAt(walkBackwards) != '-' && walkBackwards > 0) {
+            walkBackwards--;
+          }
+          while (remainingBuffer.charAt(walkBackwards) == '-' && walkBackwards > 0) {
+            walkBackwards--;
+          }
+          while (remainingBuffer.charAt(walkBackwards) == ' ' && walkBackwards > 0) {
+            walkBackwards--;
+          }
+          if (walkBackwards > 0) {
+            walkBackwards += 2;
+            desiredCursorPosition += walkBackwards;
+          }
+          updatedDesiredCursorPosition = true;
-        walkBackwards -= 2;
-        desiredCursorPosition += walkBackwards;
-        updatedDesiredCursorPosition = true;
-      }
+      } // gfsh>start server --name=server1 --lo
+
-      subString = remainingBuffer.substring(newCursor + (sizeReduced ? -1 : 0) - cursorStart).trim();
+      int sizedReducedAdj = sizeReduced ? -1 : 0;
+      int begin = newCursor + sizedReducedAdj - cursorStart;
+      subString = remainingBuffer.substring(begin).trim();
-
-    if (coe != null && newCursor < cursor && completionCandidates.size() == 0 && !(PreprocessorUtils.containsOnlyWhiteSpaces(subString) || ((subString
-                                                                                                                                               .endsWith(SyntaxConstants.LONG_OPTION_SPECIFIER) && subString
-                                                                                                                                               .startsWith(SyntaxConstants.LONG_OPTION_SPECIFIER)) || (subString
-                                                                                                                                                                                                         .startsWith(SyntaxConstants.SHORT_OPTION_SPECIFIER) && subString
-                                                                                                                                                                                                         .endsWith(SyntaxConstants.SHORT_OPTION_SPECIFIER))))) {
+    if (coe != null // hasException
+      && newCursor < cursor // newCursorIsEarlierThanCursor
+      && completionCandidates.size() == 0 // zeroCompletionCandidates
+      &&!(PreprocessorUtils.containsOnlyWhiteSpaces(subString) // onlyHasWhiteSpaces
+        || ((subString.endsWith(SyntaxConstants.LONG_OPTION_SPECIFIER) && subString.startsWith(SyntaxConstants.LONG_OPTION_SPECIFIER)) // isHypenHyphen
+        || (subString.startsWith(SyntaxConstants.SHORT_OPTION_SPECIFIER) && subString.endsWith(SyntaxConstants.SHORT_OPTION_SPECIFIER))))) { // isHyphen
+

INS60 INS60 INS8 INS39 INS59 INS39 INS59 INS25 INS42 MOV16 INS42 INS27 INS32 MOV8 INS27 INS42 INS42 INS42 INS45 INS61 INS61 INS25 INS42 INS42 INS42 INS27 INS27 INS8 INS27 INS8 INS27 INS8 MOV27 INS27 INS27 INS27 INS21 INS27 INS27 INS21 INS42 INS34 MOV21 MOV21 INS42 INS34 INS32 INS13 INS42 INS34 INS37 INS32 INS13 INS42 INS34 INS37 UPD7 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 DEL42 DEL36 DEL27 DEL42 DEL27