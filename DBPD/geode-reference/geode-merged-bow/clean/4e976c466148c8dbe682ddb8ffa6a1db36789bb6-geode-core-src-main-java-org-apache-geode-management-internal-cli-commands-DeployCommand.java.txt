GEODE-5971: refactor more to use ResultModel (#3268)

Co-authored-by: Owen Nichols <onichols@pivotal.io>
+import org.apache.geode.management.internal.cli.remote.CommandExecutor;
-import org.apache.geode.management.internal.cli.result.TabularResultData;
+import org.apache.geode.management.internal.cli.result.model.ResultModel;
+import org.apache.geode.management.internal.cli.result.model.TabularResultModel;
-  public Result deploy(
+  public ResultModel deploy(
-    TabularResultData tabularData = ResultBuilder.createTabularResultData();
+    ResultModel result = new ResultModel();
+    TabularResultModel deployResult = result.addTable("deployResult");
-    for (CliFunctionResult result : cleanedResults) {
-      if (result.getThrowable() != null) {
-        tabularData.accumulate("Member", result.getMemberIdOrName());
-        tabularData.accumulate("Deployed JAR", "");
-        tabularData.accumulate("Deployed JAR Location",
-            "ERROR: " + result.getThrowable().getClass().getName() + ": "
-                + result.getThrowable().getMessage());
-        tabularData.setStatus(Result.Status.ERROR);
+    deployResult.setColumnHeader("Member", "Deployed JAR", "Deployed JAR Location");
+    for (CliFunctionResult cliResult : cleanedResults) {
+      if (cliResult.getThrowable() != null) {
+        deployResult.addRow(cliResult.getMemberIdOrName(), "",
+            "ERROR: " + cliResult.getThrowable().getClass().getName() + ": "
+                + cliResult.getThrowable().getMessage());
+        result.setStatus(Result.Status.ERROR);
-        String[] strings = (String[]) result.getSerializables();
+        String[] strings = (String[]) cliResult.getSerializables();
-          tabularData.accumulate("Member", result.getMemberIdOrName());
-          tabularData.accumulate("Deployed JAR", strings[i]);
-          tabularData.accumulate("Deployed JAR Location", strings[i + 1]);
+          deployResult.addRow(cliResult.getMemberIdOrName(), strings[i], strings[i + 1]);
-    Result result = ResultBuilder.buildResult(tabularData);
-    InternalConfigurationPersistenceService sc =
-        (InternalConfigurationPersistenceService) getConfigurationPersistenceService();
+    InternalConfigurationPersistenceService sc = getConfigurationPersistenceService();
-      result.setCommandPersisted(false);
+      result.addInfo().addLine(CommandExecutor.SERVICE_NOT_RUNNING_CHANGE_NOT_PERSISTED);
-      result.setCommandPersisted(true);
-

INS26 INS26 INS40 INS40 UPD40 UPD43 MOV60 UPD42 INS21 UPD43 UPD43 INS32 MOV43 UPD42 INS42 INS14 UPD42 UPD42 INS42 INS42 INS45 INS45 INS45 UPD42 MOV32 INS43 UPD42 UPD42 INS45 INS32 INS42 INS21 INS32 INS42 INS40 UPD42 INS32 MOV5 MOV42 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 MOV32 MOV45 MOV27 UPD42 UPD42 MOV5 UPD42 UPD42 UPD42 INS32 MOV2 UPD42 INS42 INS42 UPD42 DEL42 DEL42 DEL42 DEL32 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL45 DEL42 DEL42 DEL32 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL21 DEL45 DEL42 DEL43 DEL11 DEL9 DEL32 DEL42 DEL42 DEL9 DEL32 DEL21