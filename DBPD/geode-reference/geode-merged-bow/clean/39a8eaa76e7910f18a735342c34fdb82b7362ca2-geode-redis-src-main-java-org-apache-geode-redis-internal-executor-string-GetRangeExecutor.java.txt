GEODE-7886 Update strings tests to cover sad as well as happy paths (#4821)


Co-authored-by: Sarah Abbey <sabbey@pivotal.io>
-  private final String ERROR_NOT_INT = "The indexes provided must be numeric values";
-
-  private final int startIndex = 2;
-
-  private final int stopIndex = 3;
+  private static final String ERROR_NOT_INT = "value is not an integer or out of range";
+  private static final int startIndex = 2;
+  private static final int stopIndex = 3;
-    Region<ByteArrayWrapper, ByteArrayWrapper> r = context.getRegionProvider().getStringsRegion();
-
-    if (commandElems.size() < 4) {
+    if (commandElems.size() != 4) {
-    ByteArrayWrapper key = command.getKey();
-    checkDataType(key, RedisDataType.REDIS_STRING, context);
-    ByteArrayWrapper valueWrapper = r.get(key);
-
-    if (valueWrapper == null) {
-      command.setResponse(Coder.getNilResponse(context.getByteBufAllocator()));
-      return;
-    }
-
-    byte[] value = valueWrapper.toBytes();
-    int length = value.length;
-
+
+    Region<ByteArrayWrapper, ByteArrayWrapper> r = context.getRegionProvider().getStringsRegion();
+    ByteArrayWrapper key = command.getKey();
+    checkDataType(key, RedisDataType.REDIS_STRING, context);
+    ByteArrayWrapper valueWrapper = r.get(key);
+
+    if (valueWrapper == null) {
+      command.setResponse(Coder.getEmptyStringResponse(context.getByteBufAllocator()));
+      return;
+    }
+
+    byte[] value = valueWrapper.toBytes();
+    int length = value.length;
+
-     * If the properly formatted indexes are illegal, send nil
+     * Can't 'start' at end of value
-      command.setResponse(Coder.getNilResponse(context.getByteBufAllocator()));
+      command.setResponse(Coder.getEmptyStringResponse(context.getByteBufAllocator()));

INS83 INS83 INS83 MOV60 MOV60 MOV60 MOV54 UPD45 UPD27 UPD42 UPD42