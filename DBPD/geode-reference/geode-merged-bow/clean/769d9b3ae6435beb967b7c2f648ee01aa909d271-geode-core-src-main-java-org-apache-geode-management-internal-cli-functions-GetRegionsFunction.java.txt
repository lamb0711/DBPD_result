GEODE-136: Fix possible NullPointerException in Gfsh's 'list regions' command's GetRegionsFunction.

* this closes #253

-import org.apache.geode.cache.CacheClosedException;
-import org.apache.geode.cache.execute.FunctionAdapter;
+import org.apache.geode.cache.execute.Function;
- *
-public class GetRegionsFunction extends FunctionAdapter implements InternalEntity {
+public class GetRegionsFunction implements Function, InternalEntity {
-	/**
-	 * 
-	 */
-	private static final long	serialVersionUID	= 1L;
+  private static final long serialVersionUID = 1L;
-	@Override
-	public String getId() {
-		// TODO Auto-generated method stub
-		return GetRegionsFunction.class.toString();
-	}
-	
-	@Override
-	public void execute(FunctionContext functionContext) {
-		try {
-			
-			Cache cache = CacheFactory.getAnyInstance();
-			Set <Region<?,?>> regions = cache.rootRegions();
-			
-			if (regions.isEmpty() || regions == null) {
-				functionContext.getResultSender().lastResult(null);
-			} else {
-				//Set<RegionInformation> regionInformationSet = RegionInformation.getRegionInformation(regions, true);
-				Set<RegionInformation> regionInformationSet = new HashSet<RegionInformation>();
-				
-				for (Region<?,?> region : regions) {
-				  RegionInformation regInfo = new RegionInformation(region, true);
-				  regionInformationSet.add(regInfo);
-				}
-				functionContext.getResultSender().lastResult(regionInformationSet.toArray());
-			}
-		} catch (CacheClosedException e) {
-			functionContext.getResultSender().sendException(e);
-		} catch (Exception e) {
-			functionContext.getResultSender().sendException(e);
-		}
-	}
+  @Override
+  public String getId() {
+    // TODO Auto-generated method stub
+    return GetRegionsFunction.class.toString();
+  }
+
+  @Override
+  public void execute(FunctionContext functionContext) {
+    try {
+      Cache cache = CacheFactory.getAnyInstance();
+      Set<Region<?, ?>> regions = cache.rootRegions(); // should never return a null
+
+      if (regions == null || regions.isEmpty()) {
+        functionContext.getResultSender().lastResult(null);
+      } else {
+        Set<RegionInformation> regionInformationSet = new HashSet<>();
+
+        for (Region<?, ?> region : regions) {
+          RegionInformation regInfo = new RegionInformation(region, true);
+          regionInformationSet.add(regInfo);
+        }
+        functionContext.getResultSender().lastResult(regionInformationSet.toArray());
+      }
+    } catch (Exception e) {
+      functionContext.getResultSender().sendException(e);
+    }
+  }

UPD40 UPD43 UPD42 MOV32 UPD74 DEL40 DEL26 DEL29 DEL42 DEL43 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL21 DEL8 DEL12