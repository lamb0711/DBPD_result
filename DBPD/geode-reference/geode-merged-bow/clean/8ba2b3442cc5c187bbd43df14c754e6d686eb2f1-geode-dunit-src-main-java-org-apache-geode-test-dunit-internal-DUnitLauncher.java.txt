GEODE-6100: Cleanup suspect string logic for better readability (#2920)


-import java.net.URISyntaxException;
+import java.util.regex.Pattern;
-      Method getInstance = clazz.getMethod("getInstance", new Class[0]);
+      Method getInstance = clazz.getMethod("getInstance");
-  private static void launch() throws URISyntaxException, AlreadyBoundException, IOException,
+  private static void launch() throws AlreadyBoundException, IOException,
-    Runtime.getRuntime().addShutdownHook(new Thread() {
-      public void run() {
-        // System.out.println("shutting down DUnit JVMs");
-        // for (int i=0; i<NUM_VMS; i++) {
-        // try {
-        // processManager.getStub(i).shutDownVM();
-        // } catch (Exception e) {
-        // System.out.println("exception shutting down vm_"+i+": " + e);
-        // }
-        // }
-        // // TODO - hasLiveVMs always returns true
-        // System.out.print("waiting for JVMs to exit");
-        // long giveUp = System.currentTimeMillis() + 5000;
-        // while (giveUp > System.currentTimeMillis()) {
-        // if (!processManager.hasLiveVMs()) {
-        // return;
-        // }
-        // System.out.print(".");
-        // System.out.flush();
-        // try {
-        // Thread.sleep(1000);
-        // } catch (InterruptedException e) {
-        // break;
-        // }
-        // }
-        // System.out.println("\nkilling any remaining JVMs");
-        processManager.killVMs();
-      }
-    });
+    Runtime.getRuntime().addShutdownHook(new Thread(processManager::killVMs));
-      final boolean skipLogMsgs = ExpectedStrings.skipLogMsgs("dunit");
-      final List<?> expectedStrings = ExpectedStrings.create("dunit");
-      final LogConsumer logConsumer = new LogConsumer(skipLogMsgs, expectedStrings, "log4j", 5);
+      final List<Pattern> expectedStrings = ExpectedStrings.create("dunit");
+      final LogConsumer logConsumer = new LogConsumer(true, expectedStrings, "log4j", 5);

MOV26 UPD40 INS90 UPD74 INS42 INS42 INS43 INS42 INS9 DEL42 DEL43 DEL85 DEL5 DEL34 DEL3 DEL42 DEL43 DEL83 DEL39 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL31 DEL1 DEL83 DEL39 DEL42 DEL42 DEL42 DEL45 DEL32 DEL59 DEL60 DEL76 DEL42