GEODE-3948 fixing handling of sotimeout in Message.receive()

Changes made for GEODE-3948 caused the Message.receive() method to block
indefinitely waiting for a response.  That wasn't the intent - it should
honor the current setting of sotimeout.

(cherry picked from commit 2758f58b9d)

-  private static final int NO_HEADER_READ_TIMEOUT = 0;
-
-  private void readHeaderAndBody(int headerReadTimeoutMillis) throws IOException {
+  private void readHeaderAndBody(boolean setHeaderReadTimeout, int headerReadTimeoutMillis)
+      throws IOException {
-    int timeout = socket.getSoTimeout();
-    try {
+    int oldTimeout = -1;
+    if (setHeaderReadTimeout) {
+      oldTimeout = socket.getSoTimeout();
+    }
+    try {
-      socket.setSoTimeout(timeout);
+      if (setHeaderReadTimeout) {
+        socket.setSoTimeout(oldTimeout);
+      }
-        readHeaderAndBody(timeoutMillis);
+        readHeaderAndBody(true, timeoutMillis);
-    receiveWithHeaderReadTimeout(NO_HEADER_READ_TIMEOUT);
+    if (this.socket != null) {
+      synchronized (getCommBuffer()) {
+        readHeaderAndBody(false, -1);
+      }
+    } else {
+      throw new IOException("Dead Connection");
+    }

INS44 INS8 INS39 INS42 INS25 INS25 INS42 INS8 INS8 INS27 INS8 INS8 UPD42 INS38 INS21 MOV21 INS25 INS22 INS33 INS51 INS53 INS34 INS7 INS42 INS8 INS52 INS42 INS32 INS8 INS14 INS42 MOV32 MOV21 INS42 MOV21 INS43 INS45 INS42 UPD42 INS9 UPD42 INS9 INS38 INS34 DEL83 DEL83 DEL83 DEL39 DEL42 DEL34 DEL59 DEL23 DEL8 DEL42 DEL8