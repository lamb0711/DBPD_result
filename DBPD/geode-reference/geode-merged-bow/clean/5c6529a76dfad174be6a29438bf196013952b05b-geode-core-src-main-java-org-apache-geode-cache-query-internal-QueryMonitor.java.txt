Geode 4263 (#4691)

GEODE-4263: Cleaned up and phase 1 ready.

- Initial refactor to cleanup
- removing a bunch of thread sleeps
- adding awaits
- One key fix was to increase the latch wait time.
- Added a latch to fix an issue where we might not be waiting long enough
- Requested changes made.

- * <li>sets the {@link ExecutionContext#queryCanceled} thread-local variable to {@code true}
+ * <li>sets the {@link ExecutionContext#isCanceled} thread-local variable to {@code true}
-        .setCancelationTask(scheduleCancelationTask(executionContext, maxQueryExecutionTime));
+        .setCancellationTask(scheduleCancelationTask(executionContext, maxQueryExecutionTime));
-    executionContext.getCancelationTask().ifPresent(task -> task.cancel(false));
+    executionContext.getCancellationTask().ifPresent(task -> task.cancel(false));
-    CacheRuntimeException createCancelationException(long timeLimitMillis,
+    CacheRuntimeException createCancellationException(long timeLimitMillis,
-      public CacheRuntimeException createCancelationException(final long timeLimitMillis,
+      public CacheRuntimeException createCancellationException(final long timeLimitMillis,
-            createCancelationException(timeLimitMillis, executionContext);
+            createCancellationException(timeLimitMillis, executionContext);
-      public CacheRuntimeException createCancelationException(final long timeLimitMillis,
+      public CacheRuntimeException createCancellationException(final long timeLimitMillis,
-          .createCancelationException(timeLimitMillis, executionContext);
+          .createCancellationException(timeLimitMillis, executionContext);

UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42