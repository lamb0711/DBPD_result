GEODE-4372: clean up RemoteOperationMessage classes (#1338)


* throw RemoteOperationException instead of ForceReattemptException when cache is closing. All ForceReattemptException throwing by RemoteOperationMessage has been removed.

* now uses SERIAL_EXECUTOR for all RemoteOperationMessages.
Previously most of these messages where processed in the partitioned message
thread pool even though most all of these messages where not partitioned.
It is possible that RemotePutAll and RemoteRemoveAll will have some trouble
being SERIAL_EXECUTOR.

* added comments for all RemoteOperationMessages describing what
they are used for

* Improved RemoteOperationMessageTest

* added a BucketTXRegionStub to calculate bucket region size on a stub.

* removed GemFireCacheImpl.getInstance call

* added RemoteOperationResponse unit test

* renamed handleAsUnexpected to handleCause

* renamed waitForCacheException to waitForRemoteResponse

* moved RemoteOperation classes to tx package


-package org.apache.geode.internal.cache;
-
-import java.util.Set;
+package org.apache.geode.internal.cache.tx;
+import org.apache.geode.internal.cache.DirectReplyMessage;
- * Used for partitioned region messages which support direct ack responses. Direct ack should be
- * used for message with a response from a single member, or responses which are small.
+ * Used for remote operation messages which support direct ack responses. Direct ack should be used
+ * for message with a response from a single member, or responses which are small.
- * Additionally, if the ReplyProcessor used for this message extends PartitionResponse, it should
- * pass false for the register parameter of the PartitionResponse.
- *
-
-  public RemoteOperationMessageWithDirectReply(Set recipients, String regionPath,
-      DirectReplyProcessor processor) {
-    super(recipients, regionPath, processor);
-    this.processor = processor;
-  }
-
-  /**
-   * @param original
-   */
-  public RemoteOperationMessageWithDirectReply(RemoteOperationMessageWithDirectReply original) {
-    super(original);
-    this.processor = original.processor;
-  }
-
-

MOV26 UPD40 UPD40 UPD66 UPD66 DEL66 DEL66 DEL83 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL46 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL8 DEL31 DEL42 DEL65 DEL29 DEL83 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL46 DEL52 DEL42 DEL22 DEL40 DEL7 DEL21 DEL8 DEL31