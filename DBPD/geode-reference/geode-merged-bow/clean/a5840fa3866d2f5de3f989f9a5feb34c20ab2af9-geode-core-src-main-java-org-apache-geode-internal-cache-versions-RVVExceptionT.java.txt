GEODE-5559: Improve runtime of RegionVersionHolder.canonicalExceptions (#2298)

This modifies the RVVException to iterate over the received version newest to
oldest, which makes generating the canonical exceptions much more
straightforward.


-import org.apache.geode.internal.cache.versions.RVVException.ReceivedVersionsIterator;
-    for (ReceivedVersionsIterator it = receivedVersionsIterator(); it.hasNext();) {
+    for (ReceivedVersionsReverseIterator it = receivedVersionsReverseIterator(); it.hasNext();) {
-    for (ReceivedVersionsIterator it = ex.receivedVersionsIterator(); it.hasNext();) {
+    for (ReceivedVersionsReverseIterator it = ex.receivedVersionsReverseIterator(); it.hasNext();) {
-  public ReceivedVersionsIterator receivedVersionsIterator() {
-    ReceivedVersionsIteratorT result = new ReceivedVersionsIteratorT();
-    result.initForForwardIteration();
-    return result;
+  public ReceivedVersionsReverseIterator receivedVersionsReverseIterator() {
+    return new ReceivedVersionsReverseIteratorT();
-
-
-    for (ReceivedVersionsIterator it = this.receivedVersionsIterator(); it.hasNext();) {
+    for (ReceivedVersionsReverseIterator it = this.receivedVersionsReverseIterator(); it
+        .hasNext();) {
-
-
-  /** it's a shame that BitSet has no iterator */
-  protected class ReceivedVersionsIteratorT extends ReceivedVersionsIterator {
+  protected class ReceivedVersionsReverseIteratorT extends ReceivedVersionsReverseIterator {
-    void initForForwardIteration() {
+    ReceivedVersionsReverseIteratorT() {
-        this.treeSetIterator = received.iterator();
+        this.treeSetIterator = received.descendingIterator();
-

UPD43 UPD42 UPD42 UPD43 UPD42 INS41 UPD42 UPD42 INS14 UPD43 UPD43 UPD43 MOV43 UPD43 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 DEL40 DEL26 DEL42 DEL43 DEL42 DEL14 DEL59 DEL60 DEL42 DEL42 DEL32 DEL21 DEL42 DEL41 DEL66 DEL65 DEL29 DEL39