GEODE-4705: Refactor Failure.of to handle protobuf builder code. (#1472)


-import static org.apache.geode.internal.protocol.protobuf.v1.BasicTypes.ErrorCode.SERVER_ERROR;
-
-import org.apache.geode.internal.protocol.protobuf.v1.ClientProtocol;
-import org.apache.geode.internal.protocol.protobuf.v1.serialization.exception.EncodingException;
-import org.apache.geode.internal.protocol.protobuf.v1.state.exception.ConnectionStateException;
-import org.apache.geode.internal.protocol.protobuf.v1.utilities.ProtobufResponseUtilities;
-  public Result<RegionAPI.PutResponse, ClientProtocol.ErrorResponse> process(
-      ProtobufSerializationService serializationService, RegionAPI.PutRequest request,
-      MessageExecutionContext messageExecutionContext)
+  public Result<RegionAPI.PutResponse> process(ProtobufSerializationService serializationService,
+      RegionAPI.PutRequest request, MessageExecutionContext messageExecutionContext)
-      return Failure
-          .of(ProtobufResponseUtilities.makeErrorResponse(BasicTypes.ErrorCode.SERVER_ERROR,
-              "Region passed by client did not exist: " + regionName));
+      return Failure.of(BasicTypes.ErrorCode.SERVER_ERROR,
+          "Region passed by client did not exist: " + regionName);
-        return Failure.of(ProtobufResponseUtilities
-            .makeErrorResponse(BasicTypes.ErrorCode.SERVER_ERROR, ex.toString()));
+        return Failure.of(BasicTypes.ErrorCode.SERVER_ERROR, ex.toString());

UPD74 MOV32 UPD42 UPD42 MOV32 UPD42 UPD42 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL43 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32