GEODE-3895: Add Handshake/Message version byte (#1001)

Signed-off-by: Galen O'Sullivan <gosullivan@pivotal.io>
-import org.apache.geode.internal.cache.tier.sockets.ServiceLoadingFailureException;
+import org.apache.geode.internal.cache.client.protocol.exception.ServiceLoadingFailureException;
+import org.apache.geode.internal.cache.client.protocol.exception.ServiceVersionNotFoundException;
-  public ClientProtocolService lookupService() {
+  public ClientProtocolService lookupService(int protocolVersion) {
-    return clientProtocolServices.get(0);
+    ClientProtocolService clientProtocolService = clientProtocolServices.get(0);
+    if (clientProtocolService.getServiceProtocolVersion() != protocolVersion) {
+      throw new ServiceVersionNotFoundException(
+          "The ClientProtocolService doesn't match the requested version.");
+    }
+    return clientProtocolService;

INS26 UPD40 INS40 INS44 INS39 INS42 INS60 INS25 INS43 INS59 INS27 INS8 INS42 INS42 INS42 MOV32 INS32 INS42 INS53 INS42 INS42 INS14 INS43 INS45 INS42