GEODE-4735: get rid of Cache.getInstance call from CliUtils and GfshCâ€¦ (#1551)

* GEODE-4735: get rid of Cache.getInstance call from CliUtils and GfshCommand

* all functions in CliUtils take cache as a parameter if needs one.
* InternalCache is injected to the command when the command is initialized.
+import org.springframework.shell.core.CommandMarker;
+import org.apache.geode.distributed.internal.ClusterConfigurationService;
+import org.apache.geode.distributed.internal.InternalLocator;
+import org.apache.geode.internal.cache.GemFireCacheImpl;
-import org.apache.geode.management.internal.cli.commands.GfshCommand;
-public class MockExtensionCommands implements GfshCommand {
+public class MockExtensionCommands implements CommandMarker {
-    final InternalCache cache = getCache();
+    InternalCache cache = GemFireCacheImpl.getInstance();
+    ClusterConfigurationService ccService = InternalLocator.getLocator().getSharedConfiguration();
-        persistClusterConfiguration(result,
-            () -> getSharedConfiguration().addXmlEntity(xmlEntity.get(), null));
+        ccService.addXmlEntity(xmlEntity.get(), null);
-        persistClusterConfiguration(result,
-            () -> getSharedConfiguration().deleteXmlEntity(xmlEntity.get(), null));
+        ccService.deleteXmlEntity(xmlEntity.get(), null);

MOV26 INS26 INS26 INS26 INS40 INS40 INS40 UPD40 UPD43 UPD42 INS60 INS43 INS59 INS42 INS42 INS32 MOV8 INS42 UPD42 INS32 INS42 INS42 INS42 MOV32 MOV32 UPD42 MOV42 UPD42 UPD42 MOV42 UPD42 DEL83 DEL32 DEL42 DEL42 DEL86 DEL32 DEL32 DEL42 DEL42 DEL86 DEL32