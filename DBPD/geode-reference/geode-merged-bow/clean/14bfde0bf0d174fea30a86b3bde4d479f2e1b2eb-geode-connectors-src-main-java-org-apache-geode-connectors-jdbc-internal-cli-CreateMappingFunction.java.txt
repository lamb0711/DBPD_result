Merge branch 'release/1.8.0'

+import org.apache.geode.cache.Cache;
-import org.apache.geode.connectors.jdbc.internal.configuration.ConnectorService;
+import org.apache.geode.connectors.jdbc.internal.configuration.RegionMapping;
-public class CreateMappingFunction extends CliFunction<ConnectorService.RegionMapping> {
+public class CreateMappingFunction extends CliFunction<RegionMapping> {
-  public CliFunctionResult executeFunction(FunctionContext<ConnectorService.RegionMapping> context)
+  public CliFunctionResult executeFunction(FunctionContext<RegionMapping> context)
-    ConnectorService.RegionMapping regionMapping = context.getArguments();
+    RegionMapping regionMapping = context.getArguments();
+
+    verifyRegionExists(context, regionMapping);
+  private void verifyRegionExists(FunctionContext<RegionMapping> context,
+      RegionMapping regionMapping) {
+    Cache cache = context.getCache();
+    String regionName = regionMapping.getRegionName();
+    if (cache.getRegion(regionName) == null) {
+      throw new IllegalStateException(
+          "create jdbc-mapping requires that the region \"" + regionName + "\" exists.");
+    }
+  }
+
-      ConnectorService.RegionMapping regionMapping) throws RegionMappingExistsException {
+      RegionMapping regionMapping) throws RegionMappingExistsException {

INS26 INS40 UPD40 UPD74 INS31 UPD43 INS83 INS39 INS42 INS44 INS44 INS8 INS42 UPD74 INS21 INS74 INS42 INS43 INS42 INS60 INS60 INS25 UPD43 UPD43 UPD43 INS32 INS43 INS43 INS42 INS43 INS59 INS43 INS59 INS27 INS8 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS32 INS32 INS33 INS53 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS14 INS43 INS27 INS42 INS45 INS42 INS45 DEL40 DEL40 DEL40 DEL40