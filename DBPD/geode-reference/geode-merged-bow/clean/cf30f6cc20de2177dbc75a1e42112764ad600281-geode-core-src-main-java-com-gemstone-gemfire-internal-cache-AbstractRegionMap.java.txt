Reverted accidental push of tombstone code

This reverts commit 850adfc653ece2f1f3e54f6f6d208acaf6aad142.
This reverts commit 6e2a9b257eec9ddc3ddad5d57cec52da3c5aaa49.
This reverts commit 71318b6568bea00a8779dc27ca6fad44cf907e10.
This reverts commit f82a8cebca32c78dd2c6cd90783728a0b9c1e2df.
This reverts commit 02599e3b8a7e538c3aadc5d50dbffcc8463a70f9.
This reverts commit 0861549c920f66fd45d3d22f6699318fb14a7572.
This reverts commit 161c80fffdf196996d9e8acd20789339ff9d2744.
This reverts commit 83c4940544e2006e02106953493e9b4a7d390b5c.

+    RegionEntry actualRe = getEntry(re.getKey());
-    if ( getEntry(re.getKey()) != re) {
-      // region entry was either removed (null)
-      // or changed to a different region entry.
-      // In either case the old tombstone is no longer needed.
-      return true;
+    if (actualRe != re) {  // null actualRe is okay here
+      return true; // tombstone was evicted at some point
-    if (!re.isTombstone()) {
-      // if the region entry no longer contains a tombstone
-      // then the old tombstone is no longer needed
-      return true;
-    }
-    VersionStamp<?> vs = re.getVersionStamp();
+    VersionStamp vs = re.getVersionStamp();
-    if (vs.getEntryVersion() != destroyedVersion) {
-      // the version changed so old tombstone no longer needed
-      return true;
-    }
-    // region entry still has the same tombstone so we need to keep it.
-    return false;
+    int entryVersion = vs.getEntryVersion();
+    boolean isSameTombstone = (entryVersion == destroyedVersion && re.isTombstone());
+    return !isSameTombstone;
-          if (!re.isTombstone() || entryVersion > destroyedVersion) {
+          boolean isTombstone = re.isTombstone();
+          boolean isSameTombstone = (entryVersion == destroyedVersion && isTombstone);
+          if (isSameTombstone || (isTombstone && entryVersion < destroyedVersion)) {
-              logger.trace(LogMarker.TOMBSTONE_COUNT,
-                  "tombstone for {} was resurrected with v{}; destroyed version was v{}; count is {}; entryMap size is {}",
-                  re.getKey(), re.getVersionStamp().getEntryVersion(), destroyedVersion, this._getOwner().getTombstoneCount(), size());
-            }
-          } else {
-            if (logger.isTraceEnabled(LogMarker.TOMBSTONE_COUNT)) {
-              if (entryVersion == destroyedVersion) {
+              // logs are at info level for TomstoneService.DEBUG_TOMBSTONE_COUNT so customer doesn't have to use fine level
+              if (isSameTombstone) {
+          } else {
+            if (logger.isTraceEnabled(LogMarker.TOMBSTONE_COUNT)) {
+              logger.trace(LogMarker.TOMBSTONE_COUNT,
+                  "tombstone for {} was resurrected with v{}; destroyed version was v{}; count is {}; entryMap size is {}",
+                  re.getKey(), re.getVersionStamp().getEntryVersion(), destroyedVersion, this._getOwner().getTombstoneCount(), size());
+            }

INS60 INS60 INS60 MOV41 INS43 INS59 INS27 MOV43 INS39 INS59 INS39 INS59 INS38 INS42 INS42 MOV32 INS42 INS42 INS42 MOV32 INS42 INS36 INS42 INS27 INS27 MOV32 INS60 INS60 MOV8 INS42 MOV42 INS39 INS59 INS39 INS59 INS42 MOV32 INS42 INS36 INS42 INS36 INS27 INS27 MOV27 INS42 INS42 UPD27 MOV27 INS42 DEL42 DEL27 DEL9 DEL41 DEL8 DEL25 DEL38 DEL76 DEL74 DEL9 DEL27 DEL8 DEL25 DEL9 DEL41 DEL38