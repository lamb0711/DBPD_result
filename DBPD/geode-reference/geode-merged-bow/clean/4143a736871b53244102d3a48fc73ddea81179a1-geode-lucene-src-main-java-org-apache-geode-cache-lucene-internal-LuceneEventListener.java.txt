GEODE-4685: Moving of static DefaultQuery.setPdxReadSerialized to the TypeRegistry.
Cleaned up the overriding of readSerialized to reset to previous value.
Added cache to AbstractJdbcCallback.java so that children classes can access it.
Replaced AtomicLong with LongAdder.

-import org.apache.geode.cache.query.internal.DefaultQuery;
+import org.apache.geode.internal.cache.InternalCache;
+  private InternalCache cache;
-  Logger logger = LogService.getLogger();
+  private static final Logger logger = LogService.getLogger();
-  public LuceneEventListener(RepositoryManager repositoryManager) {
+  public LuceneEventListener(InternalCache cache, RepositoryManager repositoryManager) {
+    this.cache = cache;
-
-    boolean initialPdxReadSerializedFlag = DefaultQuery.getPdxReadSerialized();
-    DefaultQuery.setPdxReadSerialized(true);
+    Boolean initialPdxReadSerialized = this.cache.getPdxReadSerializedOverride();
+    cache.setPdxReadSerializedOverride(true);
-    Set<IndexRepository> affectedRepos = new HashSet<IndexRepository>();
+    Set<IndexRepository> affectedRepos = new HashSet<>();
+
-      DefaultQuery.setPdxReadSerialized(initialPdxReadSerializedFlag);
+      cache.setPdxReadSerializedOverride(initialPdxReadSerialized);

MOV26 UPD40 INS23 INS83 INS43 INS59 INS83 INS83 INS83 INS44 INS42 INS42 INS43 INS42 INS21 INS42 INS7 INS43 INS22 INS42 INS42 UPD42 UPD42 UPD42 INS52 INS42 INS22 UPD42 UPD74 INS52 INS42 UPD42 UPD42 UPD42 DEL39 DEL42 DEL42 DEL43