GEODE-7456: Moving GMSMembershipManager into gms package (#4313)

Adding a Distribution class that ClusterDistributionManager and the
rest of geode-core uses, which wraps GMSMembershipManager. Moving
GMSMembershipManager into the gms package and renaming to MembershipImpl.

Distribution now owns the DirectChannel, rather than MembershipImpl.

Removing the MembershipManager interface and replacing uses of it with the
Membership interface.

* Added an ArchUnitTest for geode-core to only use Distribution to access Membership.

+import org.apache.geode.distributed.internal.Distribution;
-import org.apache.geode.distributed.internal.membership.MembershipManager;
-import org.apache.geode.distributed.internal.membership.adapter.GMSMembershipManager;
-  public static MembershipManager getMembership(DistributedSystem sys) {
+  public static Distribution getDistribution(DistributedSystem sys) {
-    return dm.getMembershipManager();
+    return dm.getDistribution();
-    getMembership(sys).beSick();
+    getDistribution(sys).beSick();
-      getMembership(sys).playDead();
+      getDistribution(sys).playDead();
-    return getMembership(sys).getView().getCoordinator();
+    return getDistribution(sys).getView().getCoordinator();
-    return getMembership(sys).getView().getLeadMember();
+    return getDistribution(sys).getView().getLeadMember();
-    getMembership(sys).registerTestHook(hook);
+    getDistribution(sys).registerTestHook(hook);
-    getMembership(sys).unregisterTestHook(hook);
+    getDistribution(sys).unregisterTestHook(hook);
-    getMembership(sys).addSurpriseMemberForTesting(mbr, birthTime);
+    getDistribution(sys).addSurpriseMemberForTesting(mbr, birthTime);
-    GMSMembershipManager.inhibitForcedDisconnectLogging(b);
+    GMSMembership.inhibitForcedDisconnectLogging(b);
-        return !getMembership(sys).getView().contains(member);
+        return !getDistribution(sys).getView().contains(member);
-    GMSMembershipManager mgr = ((GMSMembershipManager) getMembership(msys));
+    Distribution mgr = ((Distribution) getDistribution(msys));
-    mgr.getGMSManager().forceDisconnect("for testing");
+    mgr.forceDisconnect("for testing");

MOV26 UPD40 UPD43 UPD42 UPD42 UPD43 UPD42 UPD42 UPD42 MOV42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD43 UPD42 UPD42 UPD42 UPD42 DEL40 DEL26 DEL42 DEL32