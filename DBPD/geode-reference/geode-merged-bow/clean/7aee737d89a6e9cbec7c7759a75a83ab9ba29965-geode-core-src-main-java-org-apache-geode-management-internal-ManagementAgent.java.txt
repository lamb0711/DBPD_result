GEODE-5661: Pulse does not work when legacy SSL options are used (#2401)


+import org.apache.geode.internal.admin.SSLConfig;
-    if (StringUtils.isNotEmpty(config.getSSLKeyStore())) {
-      sslProps.put(SSLConfigurationFactory.JAVAX_KEYSTORE, config.getSSLKeyStore());
+    SSLConfig sslConfig =
+        SSLConfigurationFactory.getSSLConfigForComponent(config, SecurableCommunicationChannel.WEB);
+
+    if (StringUtils.isNotEmpty(sslConfig.getKeystore())) {
+      sslProps.put(SSLConfigurationFactory.JAVAX_KEYSTORE, sslConfig.getKeystore());
-    if (StringUtils.isNotEmpty(config.getSSLKeyStorePassword())) {
+    if (StringUtils.isNotEmpty(sslConfig.getKeystorePassword())) {
-          config.getSSLKeyStorePassword());
+          sslConfig.getKeystorePassword());
-    if (StringUtils.isNotEmpty(config.getSSLKeyStoreType())) {
-      sslProps.put(SSLConfigurationFactory.JAVAX_KEYSTORE_TYPE, config.getSSLKeyStoreType());
+    if (StringUtils.isNotEmpty(sslConfig.getKeystoreType())) {
+      sslProps.put(SSLConfigurationFactory.JAVAX_KEYSTORE_TYPE, sslConfig.getKeystoreType());
-    if (StringUtils.isNotEmpty(config.getSSLTrustStore())) {
-      sslProps.put(SSLConfigurationFactory.JAVAX_TRUSTSTORE, config.getSSLTrustStore());
+    if (StringUtils.isNotEmpty(sslConfig.getTruststore())) {
+      sslProps.put(SSLConfigurationFactory.JAVAX_TRUSTSTORE, sslConfig.getTruststore());
-    if (StringUtils.isNotEmpty(config.getSSLTrustStorePassword())) {
+    if (StringUtils.isNotEmpty(sslConfig.getTruststorePassword())) {
-          config.getSSLTrustStorePassword());
+          sslConfig.getTruststorePassword());
-    if (StringUtils.isNotEmpty(config.getSSLTrustStoreType())) {
-      sslProps.put(SSLConfigurationFactory.JAVAX_TRUSTSTORE_TYPE, config.getSSLTrustStoreType());
+    if (StringUtils.isNotEmpty(sslConfig.getTruststoreType())) {
+      sslProps.put(SSLConfigurationFactory.JAVAX_TRUSTSTORE_TYPE, sslConfig.getTruststoreType());
-    if (StringUtils.isNotEmpty(config.getSSLCiphers())
-        && !config.getSSLCiphers().equalsIgnoreCase("any")) {
-      sslProps.put("javax.rmi.ssl.client.enabledCipherSuites", config.getSSLCiphers());
+    if (StringUtils.isNotEmpty(sslConfig.getCiphers())
+        && !sslConfig.getCiphers().equalsIgnoreCase("any")) {
+      sslProps.put("javax.rmi.ssl.client.enabledCipherSuites", sslConfig.getCiphers());
-    if (StringUtils.isNotEmpty(config.getSSLProtocols())
-        && !config.getSSLProtocols().equalsIgnoreCase("any")) {
-      sslProps.put("javax.rmi.ssl.client.enabledProtocols", config.getSSLProtocols());
+    if (StringUtils.isNotEmpty(sslConfig.getProtocols())
+        && !sslConfig.getProtocols().equalsIgnoreCase("any")) {
+      sslProps.put("javax.rmi.ssl.client.enabledProtocols", sslConfig.getProtocols());

INS26 INS40 INS60 INS43 INS59 INS42 INS42 INS32 INS42 INS42 INS42 INS40 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42