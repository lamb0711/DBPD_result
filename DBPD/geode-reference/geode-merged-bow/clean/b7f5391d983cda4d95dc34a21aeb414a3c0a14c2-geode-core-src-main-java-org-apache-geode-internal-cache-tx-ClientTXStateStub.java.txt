GEODE-3101: Release local locks held by the JTA beforeCompletion() in client  when the JTA failed on the server.

          Also added a unit test would fail without the fix.

-
+import org.apache.geode.GemFireException;
-    this.firstProxy.beforeCompletion(proxy.getTxId().getUniqId());
+    try {
+      this.firstProxy.beforeCompletion(proxy.getTxId().getUniqId());
+    } catch (GemFireException e) {
+      this.lockReq.releaseLocal();
+      this.firstProxy.getPool().releaseServerAffinity();
+      throw e;
+    }

INS26 INS40 INS8 MOV21 INS54 MOV8 INS12 INS44 INS8 INS43 INS42 INS21 INS21 INS53 INS42 INS32 INS32 INS42 INS22 INS42 INS32 INS42 INS52 INS42 INS22 INS42 INS52 INS42