GEODE-4934: Throw exception if shutdown fails in GfshRule (#1699)

* GEODE-4934: Throw exception if shutdown fails in GfshRule

The conjecture is that we're missing shutdown problems with a test
that can cause problems in later tests. This change is an attempt
to catch the real error in the sporadic AcceptanceTest failures.

Throw the exception if one or more processes failed the shutdown.

+  private static final String LINE_SEPARATOR = System.getProperty("line.separator");
-    gfshExecutions.stream().map(GfshExecution::getProcess).map(Process::destroyForcibly)
-        .forEach((Process process) -> {
-          try {
-            // Process.destroyForcibly() may not terminate immediately
-            process.waitFor(1, TimeUnit.MINUTES);
-          } catch (InterruptedException ignore) {
-            // We ignore this exception so that we still attempt the rest of the cleanup.
-          }
-        });
-
-    temporaryFolder.delete();
+    final List<String> shutdownExceptions = new ArrayList<>();
+    try {
+      gfshExecutions.stream().map(GfshExecution::getProcess).map(Process::destroyForcibly)
+          .forEach((Process process) -> {
+            try {
+              // Process.destroyForcibly() may not terminate immediately
+              process.waitFor(1, TimeUnit.MINUTES);
+            } catch (InterruptedException ie) {
+              shutdownExceptions
+                  .add(process.toString() + " failed to shutdown: " + ie.getMessage());
+            }
+          });
+      if (!shutdownExceptions.isEmpty()) {
+        throw new RuntimeException("gfshExecutions processes failed to shutdown" + LINE_SEPARATOR
+            + String.join(LINE_SEPARATOR, shutdownExceptions));
+      }
+    } finally {
+      temporaryFolder.delete();
+    }

INS23 INS83 INS83 INS83 INS43 INS59 INS42 INS42 INS32 INS60 INS54 INS42 INS42 INS45 INS83 INS74 INS59 INS8 INS8 INS43 INS43 INS42 INS14 MOV21 INS25 MOV21 INS42 INS42 INS74 INS38 INS8 INS43 INS32 INS53 INS42 INS42 INS42 INS14 INS43 INS27 INS42 INS45 INS42 INS32 INS42 INS42 INS42 INS42 UPD42 INS21 INS32 INS42 INS42 INS27 INS32 INS45 INS32 INS42 INS42 INS42 INS42