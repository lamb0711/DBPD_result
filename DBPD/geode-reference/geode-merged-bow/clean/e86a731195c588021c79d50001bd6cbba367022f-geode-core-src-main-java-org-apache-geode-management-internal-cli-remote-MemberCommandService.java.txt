Merge branch 'release/1.3.0'

-import java.io.IOException;
-import org.apache.geode.cache.Cache;
+import org.apache.geode.internal.cache.InternalCache;
+ * @deprecated since 1.3 use OnlineCommandProcessor directly
+
-  private Cache cache;
-  private CommandProcessor commandProcessor;
+  private InternalCache cache;
+  private OnlineCommandProcessor onlineCommandProcessor;
-  public MemberCommandService(Cache cache) throws CommandServiceException {
+  public MemberCommandService(InternalCache cache) throws CommandServiceException {
-      this.commandProcessor = new CommandProcessor(cache.getDistributedSystem().getProperties());
-    } catch (ClassNotFoundException e) {
+      this.onlineCommandProcessor = new OnlineCommandProcessor(
+          cache.getDistributedSystem().getProperties(), cache.getSecurityService());
+    } catch (Exception e) {
-    } catch (IOException e) {
-      throw new CommandServiceException("Could not load commands.", e);
-    } catch (IllegalStateException e) {
-      throw new CommandServiceException(e.getMessage(), e);
-    return createCommandStatement(commandString, env).process();
+    return onlineCommandProcessor.executeCommand(commandString, env, null);
+  @Deprecated
+  @Deprecated
-      return commandProcessor.createCommandStatement(commandString, env);
+      return new CommandStatementImpl(commandString, env, onlineCommandProcessor);
-  // @Override
-  // public void stop() {
-  // cache = null;
-  // synchronized (modLock) {
-  // this.commandProcessor.stop();
-  // this.commandProcessor = null;
-  // }
-  // }

UPD40 INS65 UPD43 UPD43 INS78 INS78 INS66 UPD42 UPD42 UPD42 UPD43 INS42 INS42 UPD42 INS32 INS42 UPD42 MOV42 MOV42 MOV42 INS33 UPD43 INS14 UPD42 INS43 INS42 INS42 INS42 UPD42 UPD43 INS32 INS42 UPD42 INS42 INS42 DEL40 DEL26 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL45 DEL42 DEL14 DEL53 DEL8 DEL12 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL42 DEL32 DEL42 DEL14 DEL53 DEL8 DEL12 DEL32 DEL42 DEL32 DEL42 DEL42 DEL42 DEL42 DEL32