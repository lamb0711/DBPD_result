GEODE-1864: Remove old keys correctly from Compact Map Range Index

+import java.util.Collection;
+import java.util.Collections;
+import java.util.Map.Entry;
+import java.util.Set;
+
+      removeOldMappings(((Map) key).keySet(), entry);
-  
+
+  private void removeOldMappings(Collection presentKeys, RegionEntry entry) throws IMQException {
+    Map oldKeysAndValuesForEntry = entryToMapKeyIndexKeyMap.get(entry);
+     if (oldKeysAndValuesForEntry == null) {
+      oldKeysAndValuesForEntry = Collections.EMPTY_MAP;
+    }
+    Set<Entry> removedKeyValueEntries = oldKeysAndValuesForEntry != null ? oldKeysAndValuesForEntry.entrySet() : Collections.EMPTY_SET;
+     for (Map.Entry<?, ?> keyValue : removedKeyValueEntries) {
+      Object indexKey = keyValue.getKey() == null ? IndexManager.NULL : keyValue.getKey();
+       if (!presentKeys.contains(indexKey)) {
+        CompactRangeIndex rg = (CompactRangeIndex) this.mapKeyToValueIndex.get(keyValue.getKey());
+        rg.removeMapping(keyValue.getValue(), entry);
+      }
+    }
+  }
+
+
