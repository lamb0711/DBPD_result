GEODE-2520: Add a lucene query test where a bucket is moved while a query is executing

*  Added LuceneIndexServiceSpy

+import org.apache.geode.cache.Cache;
+import org.apache.geode.cache.execute.Function;
-public class WaitUntilFlushedFunction extends FunctionAdapter implements InternalEntity {
+public class WaitUntilFlushedFunction implements Function, InternalEntity {
-
+    Cache cache = region.getCache();
-    LuceneService service = LuceneServiceProvider.get(region.getCache());
+    LuceneService service = LuceneServiceProvider.get(cache);
-    AsyncEventQueueImpl queue = (AsyncEventQueueImpl) region.getCache().getAsyncEventQueue(aeqId);
+    AsyncEventQueueImpl queue = (AsyncEventQueueImpl) cache.getAsyncEventQueue(aeqId);
