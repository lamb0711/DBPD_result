GEODE-4685: Moving of static DefaultQuery.setPdxReadSerialized to the TypeRegistry.
Cleaned up the overriding of readSerialized to reset to previous value.
Added cache to AbstractJdbcCallback.java so that children classes can access it.
Replaced AtomicLong with LongAdder.

-import java.util.concurrent.atomic.AtomicLong;
+import java.util.concurrent.atomic.LongAdder;
-import org.apache.geode.cache.query.internal.DefaultQuery;
-  private AtomicLong totalEvents = new AtomicLong();
-  private AtomicLong successfulEvents = new AtomicLong();
-  private AtomicLong failedEvents = new AtomicLong();
+  private LongAdder totalEvents = new LongAdder();
+  private LongAdder successfulEvents = new LongAdder();
+  private LongAdder failedEvents = new LongAdder();
-  JdbcAsyncWriter(SqlHandler sqlHandler) {
-    super(sqlHandler);
+  JdbcAsyncWriter(SqlHandler sqlHandler, InternalCache cache) {
+    super(sqlHandler, cache);
-    DefaultQuery.setPdxReadSerialized(true);
+    Boolean initialPdxReadSerialized = cache.getPdxReadSerializedOverride();
+    cache.setPdxReadSerializedOverride(true);
+
-      DefaultQuery.setPdxReadSerialized(false);
+      cache.setPdxReadSerializedOverride(initialPdxReadSerialized);
-
-    return totalEvents.get();
+    return totalEvents.longValue();
-    return successfulEvents.get();
+    return successfulEvents.longValue();
-    return failedEvents.get();
+    return failedEvents.longValue();
-    successfulEvents.addAndGet(delta);
+    successfulEvents.add(delta);
-    failedEvents.addAndGet(delta);
+    failedEvents.add(delta);
-    totalEvents.addAndGet(delta);
+    totalEvents.add(delta);
