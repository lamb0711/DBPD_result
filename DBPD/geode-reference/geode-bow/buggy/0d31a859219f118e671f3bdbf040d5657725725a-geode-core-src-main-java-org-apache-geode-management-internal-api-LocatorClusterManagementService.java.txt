GEODE-6560 - Geode Management REST supports creating regions by group (#3400)

Co-authored-by: Owen Nichols <onichols@pivotal.io>
+import java.util.stream.Collectors;
+import java.util.stream.Stream;
+import org.apache.commons.lang3.StringUtils;
-    if (group == null) {
+    if (StringUtils.isBlank(group)) {
-
-    Set<DistributedMember> targetedMembers = findMembers(null, null);
+    Set<DistributedMember> targetedMembers = findMembers(group);
+
-      return new ClusterManagementResult(false, "no members found to create cache element");
+      return new ClusterManagementResult(false,
+          "no members found in " + group + " to create cache element");
-    String finalGroup = group;
+    final String finalGroup = group; // the below lambda requires a reference that is final
-  Set<DistributedMember> findMembers(String[] groups, String[] members) {
-    return CliUtil.findMembers(groups, members, cache);
+  Set<DistributedMember> findMembers(String group) {
+    Stream<DistributedMember> stream =
+        cache.getDistributionManager().getNormalDistributionManagerIds()
+            .stream().map(DistributedMember.class::cast);
+    if (!"cluster".equals(group)) {
+      stream = stream.filter(m -> m.getGroups().contains(group));
+    }
+    return stream.collect(Collectors.toSet());
