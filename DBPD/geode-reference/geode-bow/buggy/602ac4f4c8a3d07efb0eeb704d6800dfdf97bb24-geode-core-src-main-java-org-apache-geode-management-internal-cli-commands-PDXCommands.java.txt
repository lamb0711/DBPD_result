GEODE-2261: do not use remote function calls to update the shared configuration

-import java.io.ByteArrayOutputStream;
-import java.io.File;
-import java.io.PrintStream;
-import java.io.PrintWriter;
-import java.io.StringWriter;
-import java.util.Arrays;
-import java.util.Collection;
-
-import org.apache.geode.management.internal.configuration.SharedConfigurationWriter;
-
+import java.io.ByteArrayOutputStream;
+import java.io.File;
+import java.io.PrintStream;
+import java.io.PrintWriter;
+import java.io.StringWriter;
+import java.util.Arrays;
+import java.util.Collection;
+
-
-      SharedConfigurationWriter scWriter = new SharedConfigurationWriter();
-      boolean commandPersisted = scWriter.addXmlEntity(xmlEntity, null);
-
-      result.setCommandPersisted(commandPersisted);
+      persistClusterConfiguration(result,
+          () -> getSharedConfiguration().addXmlEntity(xmlEntity, null));
+
