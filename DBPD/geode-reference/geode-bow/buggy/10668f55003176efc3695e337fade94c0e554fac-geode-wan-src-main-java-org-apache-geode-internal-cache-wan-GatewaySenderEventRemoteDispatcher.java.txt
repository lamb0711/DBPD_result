GEODE-6177: wait for queue processing in test

+import java.util.function.Consumer;
+  /*
+   * Called after each attempt at processing an outbound (dispatch) or inbound (ack)
+   * message, whether the attempt is successful or not. The purpose is testability.
+   * Without this hook, negative tests, can't ensure that message processing was
+   * attempted, so they wouldn't know how long to wait for some sort of failure.
+   */
+  public static Consumer<Boolean> messageProcessingAttempted = isAck -> {};
+
+    } finally {
+      messageProcessingAttempted.accept(true);
+
+    } finally {
+      messageProcessingAttempted.accept(false);
-    /**
-     * Certain exception types are considered recoverable when reading an acknowledgement.
-     */
-      /**
+      /*
-    /**
-     * Certain exception types are considered recoverable when dispatching a batch.
-     */
-      /**
+      /*
-      /**
+      /*
