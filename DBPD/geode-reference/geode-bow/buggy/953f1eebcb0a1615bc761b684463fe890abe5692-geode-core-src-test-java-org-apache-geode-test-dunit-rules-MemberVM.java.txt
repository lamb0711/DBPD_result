GEODE-2795: Clean up DUnit VMs after dynamically changing 'user.dir'

+import java.nio.file.Paths;
+
+  public void stopMemberAndCleanupVMIfNecessary() {
+    stopMember();
+    cleanupVMIfNecessary();
+  }
+
+  private void cleanupVMIfNecessary() {
+    /**
+     * The LocatorServerStarterRule may dynamically change the "user.dir" system property to point
+     * to a temporary folder. The Path API caches the first value of "user.dir" that it sees, and
+     * this can result in a stale cached value of "user.dir" which points to a directory that no
+     * longer exists.
+     */
+    boolean vmIsClean = this.getVM().invoke(() -> Paths.get("").toAbsolutePath().toFile().exists());
+    if (!vmIsClean) {
+      this.getVM().bounce();
+    }
+  }
+
+  public void stopMember() {
+    this.invoke(LocatorServerStartupRule::stopMemberInThisVM);
+  }
