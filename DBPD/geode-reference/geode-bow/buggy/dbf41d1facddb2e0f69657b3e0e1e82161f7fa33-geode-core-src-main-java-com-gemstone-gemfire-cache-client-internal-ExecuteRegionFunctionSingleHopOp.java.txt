GEODE-1760 Sending partial results to users ResultCollector

For non-HA functions on the client, results will now be passed to the
users result collector, even if some nodes fail due to a bucket movement
or cache close.

Signed-off-by: Dan Smith <upthewaterspout@apache.org>

+import com.gemstone.gemfire.cache.CacheClosedException;
+import com.gemstone.gemfire.cache.execute.FunctionInvocationTargetException;
+import com.gemstone.gemfire.internal.cache.execute.BucketMovedException;
-
+              else if(result instanceof BucketMovedException) {
+                FunctionInvocationTargetException fite = new InternalFunctionInvocationTargetException(
+                    ((BucketMovedException)result).getMessage());
+                throw new FunctionException(fite);
+              }
+              else if(result instanceof CacheClosedException) {
+                FunctionInvocationTargetException fite = new InternalFunctionInvocationTargetException(
+                    ((CacheClosedException)result).getMessage());
+                if (resultResponse instanceof ArrayList) {
+                  DistributedMember memberID = (DistributedMember) ((ArrayList) resultResponse)
+                      .get(1);
+                  this.failedNodes.add(memberID.getId());
+                }                
+                throw new FunctionException(fite);
+              }
