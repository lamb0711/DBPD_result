enabling multicast communications and fixing a locator auto-restart problem.
This disables the use of multicast for discovery and all tests that were
doing that have been changed to use locators.

+  private boolean mcastEnabled;
+
+  private boolean tcpDisabled;
+
-    if (!config.getDisableTcp()) {
+    // cache these settings for use in send()
+    this.mcastEnabled = transport.isMcastEnabled();
+    this.tcpDisabled  = transport.isTcpDisabled();
+
+    if (!this.tcpDisabled) {
+    
-    if (!config.getDisableTcp()) {
+    if (!tcpDisabled) {
+    long startTime = System.currentTimeMillis();
+    
-        new Object[]{address}));
+        new Object[]{""+(System.currentTimeMillis()-startTime)}));
+
+    boolean useMcast = false;
+    if (mcastEnabled) {
+      useMcast = (msg.getMulticast() || allDestinations);
+    }
-    result = directChannelSend(destinations, msg, theStats);
+    if (useMcast || tcpDisabled) {
+      result = services.getMessenger().send(msg);
+    }
+    else {
+      result = directChannelSend(destinations, msg, theStats);
+    }
+
-  /**
-   * @param uniqueID
-   */
-  public void setUniqueID(int uniqueID) {
-    MemberAttributes.setDefaultVmPid(uniqueID);
-  }
-
