GEODE-6992: Deprecate allowUntrustedMethodInvocation (#4127)

- Added warning log when the property is specified.
- Deprecate the allowUntrustedMethodInvocation system property.
+import static org.apache.geode.distributed.internal.DistributionConfig.GEMFIRE_PREFIX;
+
-import org.apache.geode.distributed.internal.DistributionConfig;
-          DistributionConfig.GEMFIRE_PREFIX + "QueryService.QueryHeterogeneousObjects", "true"))
+          GEMFIRE_PREFIX + "QueryService.QueryHeterogeneousObjects", "true"))
-          DistributionConfig.GEMFIRE_PREFIX + "QueryService.CopyOnReadAtEntryLevel", "false"))
+          GEMFIRE_PREFIX + "QueryService.CopyOnReadAtEntryLevel", "false"))
+  /**
+   * Instead of the below property, please use the UnrestrictedMethodAuthorizer
+   * implementation of MethodInvocationAuthorizer, which provides the same functionality.
+   */
+  @Deprecated
-      DistributionConfig.GEMFIRE_PREFIX + "QueryService.allowUntrustedMethodInvocation");
+      GEMFIRE_PREFIX + "QueryService.allowUntrustedMethodInvocation");
+  private boolean deprecatedWarningHasBeenShown = false;
+    if (ALLOW_UNTRUSTED_METHOD_INVOCATION && !deprecatedWarningHasBeenShown) {
+      logger
+          .warn("The property " + GEMFIRE_PREFIX + "QueryService.allowUntrustedMethodInvocation " +
+              "is deprecated. To provide the same functionality, please use the " +
+              "UnrestrictedMethodAuthorizer implementation of MethodInvocationAuthorizer");
+      deprecatedWarningHasBeenShown = true;
+    }
