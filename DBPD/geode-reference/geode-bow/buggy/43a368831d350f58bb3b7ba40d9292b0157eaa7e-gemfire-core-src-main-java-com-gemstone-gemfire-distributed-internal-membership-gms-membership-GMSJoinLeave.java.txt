GEODE-77 fixing test issues and an error in GMSMember.compareTo

+    int[] lastViewIdHolder = new int[] {-1};
-      InternalDistributedMember coord = findCoordinator(alreadyTried);
+      InternalDistributedMember coord = findCoordinator(alreadyTried, lastViewIdHolder);
-   * @return
-  private InternalDistributedMember findCoordinator(Set<InternalDistributedMember> alreadyTried) {
+  private InternalDistributedMember findCoordinator(Set<InternalDistributedMember> alreadyTried,
+      int[] lastViewIdHolder) {
-    FindCoordinatorRequest request = new FindCoordinatorRequest(this.localAddress, alreadyTried);
+    FindCoordinatorRequest request = new FindCoordinatorRequest(this.localAddress, alreadyTried, lastViewIdHolder[0]);
+            int viewId = response.getViewId();
+            if (viewId > lastViewIdHolder[0]) {
+              // if the view has changed it is possible that a member
+              // that we already tried to join with will become coordinator
+              alreadyTried.clear();
+              lastViewIdHolder[0] = viewId;
+            }
-          List<InternalDistributedMember> crashes = newView.getActualCrashedMembers(currentView);
+          Set<InternalDistributedMember> crashes = newView.getActualCrashedMembers(currentView);
