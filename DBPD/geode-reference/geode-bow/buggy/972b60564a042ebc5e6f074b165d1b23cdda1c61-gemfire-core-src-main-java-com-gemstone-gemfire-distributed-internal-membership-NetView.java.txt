GEODE-77: GMSJoinLeave now collects removal requests to see if it should become the membership coordinator

+
-  private List<InternalDistributedMember> shutdownMembers;
-  private List<InternalDistributedMember> crashedMembers;
+  private Set<InternalDistributedMember> shutdownMembers;
+  private Set<InternalDistributedMember> crashedMembers;
-  // TODO:need to clear this
-  /** membership logger */
-  private static final Logger logger = Services.getLogger();
-
-    this.hashedMembers = new HashSet<InternalDistributedMember>(members);
-    shutdownMembers = Collections.EMPTY_LIST;
-    crashedMembers = Collections.EMPTY_LIST;
+    this.hashedMembers = new HashSet<>(members);
+    shutdownMembers = Collections.emptySet();
+    crashedMembers = new HashSet<>();
-    this.hashedMembers = new HashSet<InternalDistributedMember>(members);
-    shutdownMembers = Collections.EMPTY_LIST;
-    crashedMembers = Collections.EMPTY_LIST;
+    this.hashedMembers = new HashSet<>(members);
+    shutdownMembers = new HashSet<>();
+    crashedMembers = Collections.emptySet();
-    shutdownMembers = Collections.EMPTY_LIST;
-    crashedMembers = Collections.EMPTY_LIST;
+    shutdownMembers = new HashSet<>();
+    crashedMembers = Collections.emptySet();
-    this.shutdownMembers = new ArrayList<InternalDistributedMember>(other.shutdownMembers);
-    this.crashedMembers = new ArrayList<InternalDistributedMember>(other.crashedMembers);
+    this.shutdownMembers = new HashSet<InternalDistributedMember>(other.shutdownMembers);
+    this.crashedMembers = new HashSet<InternalDistributedMember>(other.crashedMembers);
-  public NetView(InternalDistributedMember creator, int viewId, List<InternalDistributedMember> mbrs, List<InternalDistributedMember> shutdowns,
-      List<InternalDistributedMember> crashes) {
+  public NetView(InternalDistributedMember creator, int viewId, List<InternalDistributedMember> mbrs, Set<InternalDistributedMember> shutdowns,
+      Set<InternalDistributedMember> crashes) {
+  
+  public void addCrashedMembers(Set<InternalDistributedMember> mbr) {
+    this.crashedMembers.addAll(mbr);
+  }
+  
+  public void removeAll(Collection<InternalDistributedMember> ids) {
+    this.members.removeAll(ids);
+  }
-  public List<InternalDistributedMember> getShutdownMembers() {
+  public Set<InternalDistributedMember> getShutdownMembers() {
-  public List<InternalDistributedMember> getCrashedMembers() {
+  public Set<InternalDistributedMember> getCrashedMembers() {
-    List<InternalDistributedMember> result = new ArrayList(this.crashedMembers.size());
-    InternalDistributedMember lead = oldView.getLeadMember();
+    List<InternalDistributedMember> result = new ArrayList<>(this.crashedMembers.size());
-    writeAsArrayList(shutdownMembers, out);
-    writeAsArrayList(crashedMembers, out);
+    InternalDataSerializer.writeSet(shutdownMembers, out);
+    InternalDataSerializer.writeSet(crashedMembers, out);
-    shutdownMembers = DataSerializer.readArrayList(in);
-    crashedMembers = DataSerializer.readArrayList(in);
+    shutdownMembers = InternalDataSerializer.readHashSet(in);
+    crashedMembers = InternalDataSerializer.readHashSet(in);
