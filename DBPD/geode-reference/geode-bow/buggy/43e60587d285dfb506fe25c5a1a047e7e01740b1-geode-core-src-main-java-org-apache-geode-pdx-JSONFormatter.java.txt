GEODE-2329: Refactor JSONFormatter fromJSON code to reduce duplicate code

-import java.io.IOException;
-import java.math.BigDecimal;
-import java.math.BigInteger;
-import java.util.Properties;
-
-
-import org.apache.geode.pdx.PdxInstance;
+import java.io.IOException;
+import java.math.BigDecimal;
+import java.math.BigInteger;
+
-  };
+  }
+
+  ;
-    JsonParser jp = null;
-    try {
-      jp = new JsonFactory().createParser(jsonString);
-      enableJSONParserFeature(jp);
-      return new JSONFormatter().getPdxInstance(jp, states.NONE, null).getPdxInstance();
-    } catch (JsonParseException jpe) {
-      throw new JSONFormatterException("Could not parse JSON document ", jpe);
-    } catch (IOException e) {
-      throw new JSONFormatterException("Could not parse JSON document: " + jp.getCurrentLocation(),
-          e);
-    } catch (Exception e) {
-      throw new JSONFormatterException("Could not parse JSON document: " + jp.getCurrentLocation(),
-          e);
-    }
+    return getPdxInstanceFromJson(jsonString);
+    return getPdxInstanceFromJson(jsonByteArray);
+  }
+
+  private static PdxInstance getPdxInstanceFromJson(Object json) {
-      jp = new JsonFactory().createParser(jsonByteArray);
+      if (json instanceof String) {
+        jp = new JsonFactory().createParser((byte[]) json);
+
+      } else if (json instanceof byte[]) {
+        jp = new JsonFactory().createParser((byte[]) json);
+      } else {
+        new JSONFormatterException("Could not parse the " + json.getClass() + " type");
+      }
-    if (currentState == states.ObJECT_START && currentPdxInstance == null)
+    if (currentState == states.ObJECT_START && currentPdxInstance == null) {
+    }
-          if (currentPdxInstance.getParent() == null)
+          if (currentPdxInstance.getParent() == null) {
+          }
-          if (currentState == states.ObJECT_START)
+          if (currentState == states.ObJECT_START) {
+          }
-          if (currentPdxList.getParent() == null)
+          if (currentPdxList.getParent() == null) {
+          }
