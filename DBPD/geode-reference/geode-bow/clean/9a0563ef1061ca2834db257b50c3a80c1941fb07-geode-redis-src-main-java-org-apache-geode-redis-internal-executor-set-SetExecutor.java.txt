GEODE-8170: change all hash and set commands to use function (#5125)

All hash and set commands now use the new function+delta data model.
This allowed the synchronized keyword to be removed from RedisHash and RedisSet.

-import org.apache.geode.cache.Region;
-import org.apache.geode.cache.TimeoutException;
-import org.apache.geode.redis.internal.AutoCloseableLock;
-import org.apache.geode.redis.internal.ByteArrayWrapper;
-import org.apache.geode.redis.internal.RedisData;
-import org.apache.geode.redis.internal.RedisLockService;
-  /**
-   * Obtain the region that holds set data
-   *
-   * @param context the execution handler
-   * @return the set Region
-   */
-  Region<ByteArrayWrapper, RedisData> getRegion(
-      ExecutionHandlerContext context) {
-
-    return context
-        .getRegionProvider()
-        .getDataRegion();
+  RedisSetCommands createRedisSetCommands(ExecutionHandlerContext context) {
+    return new RedisSetCommandsFunctionExecutor(context.getRegionProvider().getDataRegion());
-  protected AutoCloseableLock withRegionLock(
-      ExecutionHandlerContext context,
-      ByteArrayWrapper key)
-      throws InterruptedException,
-      TimeoutException {
-
-    RedisLockService lockService = context.getLockService();
-
-    return lockService.lock(key);
-  }
