GEODE-4405: Move backup target and base line dirs to prepare backup message (#1377)


+import java.io.DataInput;
+import java.io.DataOutput;
+import java.io.File;
+import org.apache.geode.DataSerializer;
+  private File targetDir;
+  private File baselineDir;
-      int msgId, PrepareBackupFactory prepareBackupFactory) {
+      int msgId, PrepareBackupFactory prepareBackupFactory, File targetDir, File baselineDir) {
+    this.targetDir = targetDir;
+    this.baselineDir = baselineDir;
-          .createPrepareBackup(dm.getDistributionManagerId(), dm.getCache()).run();
+          .createPrepareBackup(dm.getDistributionManagerId(), dm.getCache(), targetDir, baselineDir)
+          .run();
+  @Override
+  public void fromData(DataInput in) throws IOException, ClassNotFoundException {
+    super.fromData(in);
+    targetDir = DataSerializer.readFile(in);
+    baselineDir = DataSerializer.readFile(in);
+  }
+
+  @Override
+  public void toData(DataOutput out) throws IOException {
+    super.toData(out);
+    DataSerializer.writeFile(targetDir, out);
+    DataSerializer.writeFile(baselineDir, out);
+  }
