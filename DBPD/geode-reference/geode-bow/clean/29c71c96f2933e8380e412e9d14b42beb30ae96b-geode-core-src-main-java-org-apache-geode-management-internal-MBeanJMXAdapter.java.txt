GEODE-5281: replicate failure and fix bug (#2096)

* GEODE-5281: replicate failure and fix bug

- replicate the bad timing using a DUnit test
- fix the bug by only doing one lookup of MBeans
- add more tests
- fix potential NPE in waiting for regions to be ready on servers

Co-authored-by: Kenneth Howe <khowe@pivotal.io>

* add TestingOnly annotation to setter

add a TestingOnly annotation to setter for ProxyFactory in the
FederatingManager for injecting test spies.

+
+      if (isRegistered(newObjectName)) {
+        return newObjectName;
+      }
+
