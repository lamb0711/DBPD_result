GEODE-1571: fix nightly failure

-      Realm realm = new CustomAuthRealm(securityProps);
-      org.apache.shiro.mgt.SecurityManager securityManager = new DefaultSecurityManager(realm);
-      SecurityUtils.setSecurityManager(securityManager);
+      securityManager = getObject(securityConfig, SecurityManager.class);
+      securityManager.init(securityProps);
+      Realm realm = new CustomAuthRealm(securityManager);
+      org.apache.shiro.mgt.SecurityManager shiroManager = new DefaultSecurityManager(realm);
+      SecurityUtils.setSecurityManager(shiroManager);
+  public static <T> T getObject(String factoryName, Class<T> clazz) {
+    Object object = null;
+
+    if (StringUtils.isBlank(factoryName)) {
+      return null;
+    }
+    try {
+      Method instanceGetter = ClassLoadUtil.methodFromName(factoryName);
+      object = instanceGetter.invoke(null, (Object[]) null);
+    }
+    catch (Exception ex) {
+      throw new AuthenticationRequiredException(ex.toString(), ex);
+    }
+
+    if(!clazz.isAssignableFrom(object.getClass())){
+      throw new GemFireSecurityException("Expecting a "+clazz.getName()+" interface.");
+    }
+    return (T)object;
+  }
+
+
+
