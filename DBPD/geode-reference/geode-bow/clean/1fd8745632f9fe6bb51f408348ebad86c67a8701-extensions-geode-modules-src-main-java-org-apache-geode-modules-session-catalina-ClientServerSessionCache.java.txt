GEODE-7478: Register interest in appropriate cases. (#4366)

 * register interest for Tomcat when using client cache
 * add register interest in other app as well.
 * add cache client test cases for tomcat cases.
 * modify test to allow gets mutliple times on containers when local cache is enabled
   on client cache to verify the fix.




-import org.apache.geode.cache.DataPolicy;
-      this.sessionRegion = createLocalSessionRegion();
+      this.sessionRegion = createLocalSessionRegionWithRegisterInterest();
-      // This is true for PROXY regions
-      if (sessionRegion.getAttributes().getDataPolicy() == DataPolicy.EMPTY) {
-        sessionRegion.registerInterest("ALL_KEYS", InterestResultPolicy.KEYS);
-      }
+      sessionRegion.registerInterestForAllKeys(InterestResultPolicy.KEYS);
+  Region<String, HttpSession> createLocalSessionRegionWithRegisterInterest() {
+    Region<String, HttpSession> region = createLocalSessionRegion();
+
+    // register interest are needed for proxy or caching-proxy client:
+    // to get updates from server if local cache is enabled;
+    // to get callbacks for listener invocation for proxy client.
+    region.registerInterestForAllKeys(InterestResultPolicy.KEYS);
+
+    return region;
+  }
+
-    Region region = factory.create(getSessionManager().getRegionName());
-
-    /*
-     * If we're using an empty client region, we register interest so that expired sessions are
-     * destroyed correctly.
-     */
-    if (!getSessionManager().getEnableLocalCache()) {
-      region.registerInterest("ALL_KEYS", InterestResultPolicy.KEYS);
-    }
-
-    return region;
+    return factory.create(getSessionManager().getRegionName());
