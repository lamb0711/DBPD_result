GEODE-5595: Fix DeltaPropagationDUnitTest flakiness (#4653)

Improve testability of CacheClientProxy
* Extract inner classes
* Introduce CacheClientProxyFactory with support for property injection
+import org.apache.geode.annotations.VisibleForTesting;
- *
+
+
+  /**
+   * Test hook that returns the port of the primary server. -1 is returned if we have no primary.
+   */
+  @VisibleForTesting
+  int getPrimaryPort();
