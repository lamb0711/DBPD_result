Merge branch 'release/1.0.0-incubating.M3'

-import java.lang.reflect.Method;
-import java.util.ArrayList;
-import java.util.Hashtable;
-import java.util.List;
-import java.util.Map;
-
-import javax.naming.Context;
-import javax.naming.InitialContext;
-import javax.naming.NameNotFoundException;
-import javax.naming.NamingException;
-import javax.naming.NoInitialContextException;
-import javax.transaction.SystemException;
-import javax.transaction.TransactionManager;
-
-import com.gemstone.gemfire.distributed.internal.InternalDistributedSystem;
+import com.gemstone.gemfire.distributed.internal.DistributionConfig;
+import javax.naming.*;
+import javax.transaction.SystemException;
+import javax.transaction.TransactionManager;
+import java.lang.reflect.Method;
+import java.util.ArrayList;
+import java.util.Hashtable;
+import java.util.List;
+import java.util.Map;
+
-  private static Boolean IGNORE_JTA = Boolean.getBoolean("gemfire.ignoreJTA");
+  private static Boolean IGNORE_JTA = Boolean.getBoolean(DistributionConfig.GEMFIRE_PREFIX + "ignoreJTA");
-  public static void mapTransactions() {
+  public static void mapTransactions(DistributedSystem distSystem) {
-      DistributedSystem distSystem = InternalDistributedSystem.getAnyInstance();
-    IGNORE_JTA = Boolean.getBoolean("gemfire.ignoreJTA");
+    IGNORE_JTA = Boolean.getBoolean(DistributionConfig.GEMFIRE_PREFIX + "ignoreJTA");
