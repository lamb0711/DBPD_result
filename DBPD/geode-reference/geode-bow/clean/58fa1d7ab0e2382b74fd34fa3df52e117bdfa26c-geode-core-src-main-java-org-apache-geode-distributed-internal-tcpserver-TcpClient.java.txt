Merge remote-tracking branch 'upstream/develop' into develop

-        if (response != null) {
-          serverVersion = Short.valueOf(response.getVersionOrdinal());
-          synchronized (serverVersions) {
-            serverVersions.put(ipAddr, serverVersion);
-          }
-          return serverVersion;
+        serverVersion = Short.valueOf(response.getVersionOrdinal());
+        synchronized (serverVersions) {
+          serverVersions.put(ipAddr, serverVersion);
+        return serverVersion;
