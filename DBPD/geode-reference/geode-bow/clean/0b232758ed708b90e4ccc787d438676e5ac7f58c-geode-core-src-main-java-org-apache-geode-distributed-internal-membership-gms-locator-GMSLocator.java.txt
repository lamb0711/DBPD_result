GEODE-7649 upgrade tests fail when v1.11 is added to geode-old-versions (#4564)

* GEODE-7649 upgrade tests fail when v1.11 is added to geode-old-versions

Geode v1.11 inadvertently changed the form of its saved membership view
by using a FileOutputStream to write it to disk instead of using
an ObjectOutputStream.  The latter writes additional information during
serialization.

Note: there is already a test for this change that will start running
when v1.12 is created and v1.11 is added as a geode-old-version in
settings.gradle.

* corrected serialization in integration test

* flipping equals() check to avoid possible NPE

-      DataOutputStream dataOutputStream = new DataOutputStream(fileStream);
+      DataOutputStream dataOutputStream = new DataOutputStream(oos);
-    logger.info("Peer locator recovering from {}", file.getAbsolutePath());
+    logger.info("Peer locator recovering from {} with size {}",
+        file.getAbsolutePath(), file.length());
-      DataInputStream input = new DataInputStream(fileInputStream);
-      if (version != currentVersion) {
+      DataInputStream input;
+      if (version == currentVersion) {
+        input = new DataInputStream(ois);
+      } else if (version > currentVersion) {
+        return false;
+      } else {
-        if (version > currentVersion) {
-          return false;
+        if (Version.GEODE_1_11_0.equals(geodeVersion)) {
+          // v1.11 did not create the file with an ObjectOutputStream, so don't use one here
+          input = new VersionedDataInputStream(fileInputStream, geodeVersion);
+        } else {
+          input = new VersionedDataInputStream(ois, geodeVersion);
-        input = new VersionedDataInputStream(ois, geodeVersion);
