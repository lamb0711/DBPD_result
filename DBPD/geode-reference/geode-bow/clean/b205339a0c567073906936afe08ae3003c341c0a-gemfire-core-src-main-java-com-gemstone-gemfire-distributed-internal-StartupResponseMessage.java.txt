Merge branch 'feature/GEODE-8' into develop

-  @Override
-  public void toData(DataOutput out) throws IOException {
-    toDataContent(out, Version.CURRENT);
-  }
-
-  @Override
-  public void fromData(DataInput in)
-    throws IOException, ClassNotFoundException {
-    fromDataContent(in, Version.CURRENT);
-  }
-  
-  // versions where serialization changed
-  private static Version[] serializationVersions = new Version[] {
-    Version.GFE_80, Version.GFE_82
-  };
-  
-    return serializationVersions;
+    return null;
-  public void toDataContent(DataOutput out, Version ver) throws IOException {
+  @Override
+  public void toData(DataOutput out) throws IOException {
+    
+    
+    Version ver = InternalDataSerializer.getVersionForDataStream(out);
+    
-    if (ver.compareTo(Version.GFE_82) < 0) {
+    if (ver.compareTo(Version.GFE_90) < 0) {
-  public void toDataPre_GFE_8_0_0_0(DataOutput out) throws IOException {
-    toDataContent(out, Version.GFE_80);
-  }
-
-  public void toDataPre_GFE_8_2_0_0(DataOutput out) throws IOException {
-    toDataContent(out, Version.GFE_82);
-  }
-
-  private void fromDataContent(DataInput in, Version ver)
+  @Override
+  public void fromData(DataInput in)
+    
+    Version ver = InternalDataSerializer.getVersionForDataStream(in);
+    
-    if (ver.compareTo(Version.GFE_82) < 0) {
+    if (ver.compareTo(Version.GFE_90) < 0) {
-  public void fromDataPre_GFE_8_0_0_0(DataInput in)
-      throws IOException, ClassNotFoundException {
-    fromDataContent(in, Version.GFE_80);
-  }
-  
-  public void fromDataPre_GFE_8_2_0_0(DataInput in)
-      throws IOException, ClassNotFoundException {
-    fromDataContent(in, Version.GFE_82);
-  }
-  
