Merge branch 'develop' into feature/GEODE-7049

-import org.apache.geode.DataSerializer;
-import org.apache.geode.distributed.internal.ClusterDistributionManager;
-import org.apache.geode.distributed.internal.HighPriorityDistributionMessage;
-import org.apache.geode.distributed.internal.membership.InternalDistributedMember;
-import org.apache.geode.internal.Version;
+import org.apache.geode.distributed.internal.membership.gms.GMSMember;
+import org.apache.geode.distributed.internal.membership.gms.GMSUtil;
+import org.apache.geode.internal.serialization.DeserializationContext;
+import org.apache.geode.internal.serialization.SerializationContext;
+import org.apache.geode.internal.serialization.StaticSerialization;
+import org.apache.geode.internal.serialization.Version;
-public class SuspectMembersMessage extends HighPriorityDistributionMessage {
+public class SuspectMembersMessage extends AbstractGMSMessage {
-  public SuspectMembersMessage(List<InternalDistributedMember> recipients, List<SuspectRequest> s) {
+  public SuspectMembersMessage(List<GMSMember> recipients, List<SuspectRequest> s) {
-  @Override
-  public void process(ClusterDistributionManager dm) {
-    throw new IllegalStateException("this message is not intended to execute in a thread pool");
-  }
-
-  public void toData(DataOutput out) throws IOException {
+  public void toData(DataOutput out,
+      SerializationContext context) throws IOException {
-        DataSerializer.writeObject(sr.getSuspectMember(), out);
-        DataSerializer.writeString(sr.getReason(), out);
+        GMSUtil.writeMemberID(sr.getSuspectMember(), out, context);
+        StaticSerialization.writeString(sr.getReason(), out);
-  public void fromData(DataInput in) throws IOException, ClassNotFoundException {
+  public void fromData(DataInput in,
+      DeserializationContext context) throws IOException, ClassNotFoundException {
-          (InternalDistributedMember) DataSerializer.readObject(in), DataSerializer.readString(in));
+          GMSUtil.readMemberID(in, context), StaticSerialization.readString(in));
