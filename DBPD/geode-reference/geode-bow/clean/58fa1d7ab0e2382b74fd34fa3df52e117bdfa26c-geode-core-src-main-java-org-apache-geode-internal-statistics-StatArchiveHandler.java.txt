Merge remote-tracking branch 'upstream/develop' into develop

+import org.apache.geode.internal.logging.LogFile;
-import org.apache.geode.internal.logging.log4j.LogWriterAppender;
-import org.apache.geode.internal.logging.log4j.LogWriterAppenders;
-      LogWriterAppender lwa = LogWriterAppenders.getAppender(LogWriterAppenders.Identifier.MAIN);
-      if (lwa != null) {
-        File logDir = lwa.getLogDir();
+      if (config.getLogFile().isPresent()) {
+        LogFile logFile = config.getLogFile().get();
+        File logDir = logFile.getLogDir();
-          mainArchiveId = lwa.getMainLogId();
-          if (mainArchiveId > 1 && lwa.useChildLogging()) {
+          mainArchiveId = logFile.getMainLogId();
+          if (mainArchiveId > 1 && logFile.useChildLogging()) {
-    LogWriterAppender lwa = LogWriterAppenders.getAppender(LogWriterAppenders.Identifier.MAIN);
-    if (lwa != null) {
-      File logDir = lwa.getLogDir();
+    if (config.getLogFile().isPresent()) {
+      LogFile logFile = config.getLogFile().get();
+      File logDir = logFile.getLogDir();
-        mainArchiveId = lwa.getMainLogId();
+        mainArchiveId = logFile.getMainLogId();
