GEODE-3774: moved service loader initialization around to avoid double-check locking

-import java.util.Iterator;
+import java.util.LinkedList;
+import java.util.List;
-  public ClientProtocolService loadService() {
-    ServiceLoader<ClientProtocolService> loader = ServiceLoader.load(ClientProtocolService.class);
-    Iterator<ClientProtocolService> iterator = loader.iterator();
+  private final List<ClientProtocolService> clientProtocolServices;
-    if (!iterator.hasNext()) {
+  public ClientProtocolServiceLoader() {
+    clientProtocolServices = initializeProtocolServices();
+  }
+
+  private static List<ClientProtocolService> initializeProtocolServices() {
+    List<ClientProtocolService> resultList = new LinkedList<>();
+    for (ClientProtocolService clientProtocolService : ServiceLoader
+        .load(ClientProtocolService.class)) {
+      resultList.add(clientProtocolService);
+    }
+
+
+    return resultList;
+  }
+
+  public ClientProtocolService lookupService() {
+    if (clientProtocolServices.isEmpty()) {
-    ClientProtocolService service = iterator.next();
-
-    if (iterator.hasNext()) {
+    if (clientProtocolServices.size() > 1) {
-
-    return service;
+    return clientProtocolServices.get(0);
