GEODE-8094: Create HA test to ensure Spring Boot sessions expire correctly (#5079)


Co-authored-by: Murtuza Boxwala <mboxwala@vmware.com>
Co-authored-by: Raymond Ingles <ringles@vmware.com>
Co-authored-by: Jens Deppe <jdeppe@vmware.com>

+
+      logResponse(command);
+
+  private void logResponse(Command command) {
+    if (logger.isDebugEnabled() && command.getResponse() != null) {
+      ByteBuf response = null;
+      try {
+        response = command.getResponse()
+            .copy(0, Math.min(command.getResponse().readableBytes(), 100));
+        logger.debug("Redis command returned: {}", getPrintableByteBuf(response));
+      } finally {
+        if (response != null) {
+          response.release();
+        }
+      }
+    }
+  }
+
+  private String getPrintableByteBuf(ByteBuf buf) {
+    StringBuilder builder = new StringBuilder();
+    for (int i = 0; i < buf.readableBytes(); i++) {
+      byte aByte = buf.getByte(i);
+      if (aByte > 31 && aByte < 127) {
+        builder.append((char) aByte);
+      } else {
+        builder.append(String.format("\\x%02x", aByte));
+      }
+    }
+
+    return builder.toString();
+  }
+
