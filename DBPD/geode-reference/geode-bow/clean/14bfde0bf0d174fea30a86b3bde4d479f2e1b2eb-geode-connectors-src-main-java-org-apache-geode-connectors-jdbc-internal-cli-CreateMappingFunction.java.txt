Merge branch 'release/1.8.0'

+import org.apache.geode.cache.Cache;
-import org.apache.geode.connectors.jdbc.internal.configuration.ConnectorService;
+import org.apache.geode.connectors.jdbc.internal.configuration.RegionMapping;
-public class CreateMappingFunction extends CliFunction<ConnectorService.RegionMapping> {
+public class CreateMappingFunction extends CliFunction<RegionMapping> {
-  public CliFunctionResult executeFunction(FunctionContext<ConnectorService.RegionMapping> context)
+  public CliFunctionResult executeFunction(FunctionContext<RegionMapping> context)
-    ConnectorService.RegionMapping regionMapping = context.getArguments();
+    RegionMapping regionMapping = context.getArguments();
+
+    verifyRegionExists(context, regionMapping);
+  private void verifyRegionExists(FunctionContext<RegionMapping> context,
+      RegionMapping regionMapping) {
+    Cache cache = context.getCache();
+    String regionName = regionMapping.getRegionName();
+    if (cache.getRegion(regionName) == null) {
+      throw new IllegalStateException(
+          "create jdbc-mapping requires that the region \"" + regionName + "\" exists.");
+    }
+  }
+
-      ConnectorService.RegionMapping regionMapping) throws RegionMappingExistsException {
+      RegionMapping regionMapping) throws RegionMappingExistsException {
