GEODE-5194: Relax Gfsh connection version check to exclude patch version (#1942)


+  private static final int VERSION_MAJOR = 0;
+  private static final int VERSION_MINOR = 1;
+
-      if (remoteVersion.equalsIgnoreCase(gfshVersion)) {
+      if (versionComponent(remoteVersion, VERSION_MAJOR)
+          .equalsIgnoreCase(versionComponent(gfshVersion, VERSION_MAJOR))
+          && versionComponent(remoteVersion, VERSION_MINOR)
+              .equalsIgnoreCase(versionComponent(gfshVersion, VERSION_MINOR))) {
+  private String versionComponent(String version, int component) {
+    String[] versionComponents = StringUtils.split(version, '.');
+    return versionComponents.length >= component + 1 ? versionComponents[component] : "";
+  }
+
