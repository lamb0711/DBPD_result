GEODE-6518: proxy region, should not add loader and writer for jdbc-mapping (#3309)

but need to add AEQ-id to the region attributes
+import org.apache.geode.connectors.util.internal.MappingConstants;
+    String member = context.getMemberName();
-    if (!synchronous) {
+    alterRegion(region, queueName, synchronous);
+    if (isAccessor(region)) {
+      return new CliFunctionResult(member, true,
+          MappingConstants.THERE_IS_NO_JDBC_MAPPING_ON_PROXY_REGION);
+    } else if (!synchronous) {
-    alterRegion(region, queueName, synchronous);
-    String member = context.getMemberName();
-    region.getAttributesMutator().setCacheLoader(new JdbcLoader());
-    if (synchronous) {
-      region.getAttributesMutator().setCacheWriter(new JdbcWriter());
+    if (!isAccessor(region)) {
+      region.getAttributesMutator().setCacheLoader(new JdbcLoader());
+      if (synchronous) {
+        region.getAttributesMutator().setCacheWriter(new JdbcWriter());
+      } else {
+        region.getAttributesMutator().addAsyncEventQueueId(queueName);
+      }
-      region.getAttributesMutator().addAsyncEventQueueId(queueName);
+      if (!synchronous) {
+        region.getAttributesMutator().addAsyncEventQueueId(queueName);
+      }
+  boolean isAccessor(Region<?, ?> region) {
+    if (!region.getAttributes().getDataPolicy().withStorage()) {
+      return true;
+    }
+    if (region.getAttributes().getPartitionAttributes() != null
+        && region.getAttributes().getPartitionAttributes().getLocalMaxMemory() == 0) {
+      return true;
+    }
+    return false;
+  }
+
