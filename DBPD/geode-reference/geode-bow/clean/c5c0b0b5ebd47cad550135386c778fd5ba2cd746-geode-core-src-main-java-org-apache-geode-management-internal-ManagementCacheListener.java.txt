Revert "GEODE-7710: Fix race condition in federation of MXBeans (#4807)" (#4832)

* Revert "GEODE-7710: Fix race condition in sending JMX notifications (#4808)"

This reverts commit ff6b0c87cef91158be084a2d8ea8d9936a095e41.

* Revert "GEODE-7710: Fix race condition in federation of MXBeans (#4807)"

This reverts commit 683113abe788d4925ad5a677fa82a525dd5d3a49.
-import org.apache.geode.cache.Region;
-import org.apache.geode.distributed.DistributedMember;
- * This listener is attached to the Monitoring Region to receive any addition or deletion of MBeans.
- * It updates the last refreshed time of proxy once it gets the update request from the Managed
- * Node.
+ * This listener is attached to the Monitoring Region to receive any addition or deletion of MBEans
+ *
+ * It updates the last refreshed time of proxy once it gets the update request from the Managed Node
+ *
+ *
-class ManagementCacheListener extends CacheListenerAdapter<String, Object> {
+public class ManagementCacheListener extends CacheListenerAdapter<String, Object> {
+
-  private final MBeanProxyFactory proxyHelper;
+  private MBeanProxyFactory proxyHelper;
-  ManagementCacheListener(MBeanProxyFactory proxyHelper) {
+  private volatile boolean readyForEvents;
+
+  public ManagementCacheListener(MBeanProxyFactory proxyHelper) {
+    this.readyForEvents = false;
+    if (!readyForEvents) {
+      return;
+    }
-      DistributedMember distributedMember = event.getDistributedMember();
-      Region<String, Object> region = event.getRegion();
-      proxyHelper.createProxy(distributedMember, objectName, region,
+      proxyHelper.createProxy(event.getDistributedMember(), objectName, event.getRegion(),
+
+
+      if (!readyForEvents) {
+        return;
+      }
+
+
+
+  void markReady() {
+    readyForEvents = true;
+  }
+
