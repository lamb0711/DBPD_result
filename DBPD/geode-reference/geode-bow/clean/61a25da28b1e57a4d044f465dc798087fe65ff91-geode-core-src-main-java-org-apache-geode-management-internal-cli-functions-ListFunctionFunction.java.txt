GEODE-5971: Refactoring various commands (#3294)

* GEODE-5971: Refactoring various commands

- DeployCommand
- DestroyFunctionCommand
- ExecuteFunctionCommand
- ListDeployedCommand
- ListFunctionCommand
- UndeployCommand

Co-authored-by: Jens Deppe <jdeppe@pivotal.io>
Co-authored-by: Jinmei Liao <jiliao@pivotal.io>

-import java.util.LinkedList;
-import java.util.List;
+import java.util.HashSet;
+import java.util.Set;
-import org.apache.geode.SystemFailure;
-import org.apache.geode.cache.CacheClosedException;
-        result = new CliFunctionResult(memberId, functions.keySet().toArray(new String[0]));
+        result = new CliFunctionResult(memberId, new HashSet(functions.keySet()), null);
-        List<String> resultList = new LinkedList<String>();
+        Set<String> resultSet = new HashSet<>();
-            resultList.add(functionId);
+            resultSet.add(functionId);
-        result = new CliFunctionResult(memberId, resultList.toArray(new String[0]));
+        result = new CliFunctionResult(memberId, resultSet, null);
-    } catch (CacheClosedException cce) {
-      CliFunctionResult result = new CliFunctionResult(memberId, false, null);
-      context.getResultSender().lastResult(result);
-
-    } catch (VirtualMachineError e) {
-      SystemFailure.initiateFailure(e);
-      throw e;
-
-    } catch (Throwable th) {
-      SystemFailure.checkFailure();
-      logger.error("Could not list functions: {}", th.getMessage(), th);
-      CliFunctionResult result = new CliFunctionResult(memberId, th, null);
+    } catch (Exception cce) {
+      logger.error(cce.getMessage(), cce);
+      CliFunctionResult result = new CliFunctionResult(memberId, false, cce.getMessage());
