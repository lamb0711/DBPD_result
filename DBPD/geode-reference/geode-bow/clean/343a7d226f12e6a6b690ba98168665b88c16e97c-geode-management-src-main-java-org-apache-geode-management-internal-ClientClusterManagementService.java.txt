GEODE-7194: simplify CMS 'get' return type (#4047)


-
+import org.apache.geode.management.api.ClusterManagementGetResult;
- * CacheElement}s and call the corresponding
- * {@link ClientClusterManagementService#create(CacheElement)},
- * {@link ClientClusterManagementService#delete(CacheElement)} or
- * {@link ClientClusterManagementService#update(CacheElement)} method. The returned {@link
+ * AbstractConfiguration}s and call the corresponding
+ * {@link ClientClusterManagementService#create(AbstractConfiguration)},
+ * {@link ClientClusterManagementService#delete(AbstractConfiguration)} or
+ * {@link ClientClusterManagementService#update(AbstractConfiguration)} method. The returned {@link
-    String endPoint = getEndpoint(config);
+    String endPoint = URI_VERSION + config.getEndpoint();
-    String uri = getIdentityEndPoint(config);
+    String uri = getIdentityEndpoint(config);
-    String endPoint = getEndpoint(config);
+    String endPoint = URI_VERSION + config.getEndpoint();
-  public <T extends AbstractConfiguration<R>, R extends RuntimeInfo> ClusterManagementListResult<T, R> get(
+  public <T extends AbstractConfiguration<R>, R extends RuntimeInfo> ClusterManagementGetResult<T, R> get(
-        .exchange(getIdentityEndPoint(config), HttpMethod.GET, makeEntity(config),
-            ClusterManagementListResult.class)
+        .exchange(getIdentityEndpoint(config), HttpMethod.GET, makeEntity(config),
+            ClusterManagementGetResult.class)
-  private String getEndpoint(AbstractConfiguration config) {
-    String endpoint = config.getEndpoint();
-    if (endpoint == null) {
-      throw new IllegalArgumentException(
-          "unable to construct the uri with the current configuration.");
-    }
-    return URI_VERSION + endpoint;
-  }
-
-  private String getIdentityEndPoint(AbstractConfiguration config) {
-    String uri = config.getIdentityEndPoint();
+  private String getIdentityEndpoint(AbstractConfiguration config) {
+    String uri = config.getIdentityEndpoint();
-          "unable to construct the uri with the current configuration.");
+          "Unable to construct the URI with the current configuration.");
-    if (!result.isSuccessful()) {
+    if (result == null) {
+      ClusterManagementResult somethingVeryBadHappened = new ClusterManagementResult(
+          ClusterManagementResult.StatusCode.ERROR, "Unable to parse server response.");
+      throw new ClusterManagementException(somethingVeryBadHappened);
+    } else if (!result.isSuccessful()) {
