Merge branch 'release/1.0.0-incubating.M3'

- * @since 9.0
+ * @since Geode 1.0
-  public static int getSerializedLengthFromDataAsAddress(TinyStoredObject dataAsAddress) {
+  public static int getSerializedLength(TinyStoredObject dataAsAddress) {
-      byte[] bytes = decodeAddressToBytes(ohAddress, true, false);
+      byte[] bytes = decodeUncompressedAddressToBytes(ohAddress);
-  static byte[] decodeAddressToBytes(long addr, boolean decompress, boolean compressedOk) {
+  /**
+   * Returns the bytes encoded in the given address.
+   * Note that compressed addresses are not supported by this method.
+   * @throws UnsupportedOperationException if the address has compressed data
+   */
+  static byte[] decodeUncompressedAddressToBytes(long addr) {
+    assert (addr & COMPRESSED_BIT) == 0 : "Did not expect encoded address to be compressed";
+    return decodeAddressToRawBytes(addr);
+  }
+  
+  /**
+   * Returns the "raw" bytes that have been encoded in the given address.
+   * Note that if address is compressed then the raw bytes are the compressed bytes.
+   */
+  static byte[] decodeAddressToRawBytes(long addr) {
-    boolean isCompressed = (addr & COMPRESSED_BIT) != 0;
-    if (decompress && isCompressed) {
-      if (!compressedOk) {
-        throw new UnsupportedOperationException("Did not expect DataAsAddress to be compressed");
-      }
-    }
