GEODE-2886 : 1. sent IllegalStateException instead of throwing
IllegalArgumentException inside WaitUntilFlushedFunction.
2. Added dunit test with invalid indexName to get IllegalStateException
to the caller of the WaitUntilFlushedFunction.

-    List<Boolean> results = (List<Boolean>) rs.getResult();
-    for (Boolean oneResult : results) {
-      if (oneResult == false) {
+    List<Object> results = (List<Object>) rs.getResult();
+    if (results != null) {
+      if (results.get(0) instanceof IllegalStateException) {
+      } else {
+        for (Object oneResult : results) {
+          if ((boolean) oneResult == false) {
+            return false;
+          }
+        }
+        return true;
+    } else {
+      return false;
-    return true;
