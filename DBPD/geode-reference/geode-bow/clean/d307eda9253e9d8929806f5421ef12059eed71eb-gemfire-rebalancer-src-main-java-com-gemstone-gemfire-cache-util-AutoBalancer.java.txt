GEODE-124: Add logic to compute getTotalSize

getTotalSize collects current size of a partitioned region on all members. The
sum of these sizes is used to check if rebalance is needed.

+import java.util.Set;
+import com.gemstone.gemfire.cache.partition.PartitionMemberInfo;
+import com.gemstone.gemfire.internal.cache.PartitionedRegion;
+import com.gemstone.gemfire.internal.cache.partitioned.InternalPRInfo;
+import com.gemstone.gemfire.internal.cache.partitioned.LoadProbe;
-      // TODO Auto-generated method stub
-      return getTotalTransferSize();
+      long totalSize = 0;
+      GemFireCacheImpl cache = getCache();
+      for (PartitionedRegion region : cache.getPartitionedRegions()) {
+        LoadProbe probe = cache.getResourceManager().getLoadProbe();
+        InternalPRInfo info = region.getRedundancyProvider().buildPartitionedRegionInfo(true, probe);
+        Set<PartitionMemberInfo> membersInfo = info.getPartitionMemberInfo();
+        for (PartitionMemberInfo member : membersInfo) {
+          if (logger.isDebugEnabled()) {
+            logger.debug("Region:{}, Member: {}, Size: {}", region.getFullPath(), member, member.getSize());
+          }
+          totalSize += member.getSize();
+        }
+      }
+      return totalSize;
