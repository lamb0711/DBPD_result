Merge branch 'develop' into feature/GEODE-7049

+import org.apache.geode.distributed.internal.ClusterDistributionManager;
+import org.apache.geode.distributed.internal.membership.gms.api.MessageListener;
+  private final ClusterDistributionManager dm;
-  private final DirectChannelListener receiver;
+  private final MessageListener receiver;
-  public DirectChannel(MembershipManager mgr, DirectChannelListener listener, DistributionConfig dc)
+  public DirectChannel(MembershipManager mgr, MessageListener listener,
+      ClusterDistributionManager dm)
+    this.dm = dm;
+    DistributionConfig dc = dm.getConfig();
-    DistributionManager d = getDM();
-    if (d != null) {
-      return d.getSystem().threadOwnsResources() && !AlertingAction.isThreadAlerting();
+    if (dm != null) {
+      return dm.getSystem().threadOwnsResources() && !AlertingAction.isThreadAlerting();
-  private int sendToOne(final MembershipManager mgr, InternalDistributedMember[] p_destinations,
+  private int sendToOne(final MembershipManager mgr,
+      InternalDistributedMember[] p_destinations,
-  private int sendToMany(final MembershipManager mgr, InternalDistributedMember[] p_destinations,
+  private int sendToMany(final MembershipManager mgr,
+      InternalDistributedMember[] p_destinations,
-    DistributionManager dm = getDM();
-    DistributionManager dm = getDM();
-    return this.receiver.getDM();
+    return dm;
-    DistributionManager dm = getDM();
-  protected DirectChannelListener getReceiver() {
+  protected MessageListener getReceiver() {
