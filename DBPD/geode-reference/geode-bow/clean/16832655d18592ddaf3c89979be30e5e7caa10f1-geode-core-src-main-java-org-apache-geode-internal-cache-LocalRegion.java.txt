GEODE-2847: Get correct version tags for retried bulk operation

+  protected CancelCriterion getStopper() {
+    return this.stopper;
+  }
+
-   * Test method for getting the event tracker.
-   * this method is for testing only. Other region classes may track events using different
-   * mechanisms than EventTrackers
+   * Other region classes may track events using different mechanisms than EventTrackers
+  protected boolean getEnableConcurrencyChecks() {
+    return this.concurrencyChecksEnabled;
+  }
+
-        if (this.concurrencyChecksEnabled && event.getVersionTag() == null) {
-          event.setVersionTag(findVersionTagForClientEvent(event.getEventId()));
+        if (getConcurrencyChecksEnabled() && event.getVersionTag() == null) {
+          if (event.isBulkOpInProgress()) {
+            event.setVersionTag(findVersionTagForClientBulkOp(event.getEventId()));
+          } else {
+            event.setVersionTag(findVersionTagForClientEvent(event.getEventId()));
+          }
-  public void recordBulkOpStart(ThreadIdentifier membershipID) {
+  public void recordBulkOpStart(ThreadIdentifier membershipID, EventID eventID) {
-      this.eventTracker.recordBulkOpStart(membershipID);
+      this.eventTracker.recordBulkOpStart(membershipID, eventID);
