Merge pull request #3717 from Bill/feature/initial-cleanup-GEODE-6883

GEODE-6883: Removing some dependencies on core from membership
-package org.apache.geode.distributed.internal.membership.gms.auth;
+package org.apache.geode.distributed.internal.membership.adapter.auth;
-import org.apache.geode.distributed.internal.membership.NetView;
-import org.apache.geode.distributed.internal.membership.gms.Services;
-import org.apache.geode.internal.logging.InternalLogWriter;
-  private Services services;
-  private Properties securityProps;
+  private final Properties securityProps;
+  private final SecurityService securityService;
+  private final LogWriter securityLogWriter;
+  private final LogWriter logWriter;
-  @Override
-  public void init(Services s) {
-    this.services = s;
-    this.securityProps = this.services.getConfig().getDistributionConfig().getSecurityProps();
+  public GMSAuthenticator(final Properties securityProps,
+      final SecurityService securityService,
+      final LogWriter securityLogWriter,
+      final LogWriter logWriter) {
+    this.securityProps = securityProps;
+    this.securityService = securityService;
+    this.securityLogWriter = securityLogWriter;
+    this.logWriter = logWriter;
-  @Override
-  public void start() {}
-
-  @Override
-  public void started() {}
-
-  @Override
-  public void stop() {}
-
-  @Override
-  public void stopped() {}
-
-  @Override
-  public void installView(NetView v) {}
-
-  @Override
-  public void beSick() {}
-
-  @Override
-  public void playDead() {}
-
-  @Override
-  public void beHealthy() {}
-
-  @Override
-  public void memberSuspected(InternalDistributedMember initiator,
-      InternalDistributedMember suspect, String reason) {}
-
-   * @throws AuthenticationFailedException this will be removed since return string is used for
-   *         failure
-  public String authenticate(InternalDistributedMember member, Properties credentials)
-      throws AuthenticationFailedException {
+  public String authenticate(InternalDistributedMember member, Properties credentials) {
-  String authenticate(DistributedMember member, Properties credentials, Properties secProps)
-      throws AuthenticationFailedException {
-    SecurityService securityService = this.services.getSecurityService();
+  String authenticate(DistributedMember member, Properties credentials, Properties secProps) {
-    InternalLogWriter securityLogWriter = (InternalLogWriter) this.services.getSecurityLogWriter();
-
-      LogWriter logWriter = this.services.getLogWriter();
-      LogWriter securityLogWriter = this.services.getSecurityLogWriter();
-
-      services.getSecurityLogWriter().warning(
+      securityLogWriter.warning(
-        (InternalLogWriter) services.getLogWriter(),
-        (InternalLogWriter) services.getSecurityLogWriter());
+        logWriter,
+        securityLogWriter);
-  @Override
-  public void emergencyClose() {}
