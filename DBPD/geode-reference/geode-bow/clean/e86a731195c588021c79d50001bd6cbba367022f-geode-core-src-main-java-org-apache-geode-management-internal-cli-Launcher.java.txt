Merge branch 'release/1.3.0'

+import java.io.PrintStream;
+import java.util.HashSet;
+import java.util.List;
+import java.util.Set;
+
+import joptsimple.OptionException;
+import joptsimple.OptionParser;
+import joptsimple.OptionSet;
+import org.springframework.shell.core.ExitShellRequest;
+
+import org.apache.geode.internal.ExitCode;
-import org.springframework.shell.core.ExitShellRequest;
-
-import java.io.IOException;
-import java.io.PrintStream;
-import java.util.HashSet;
-import java.util.List;
-import java.util.Set;
-import joptsimple.OptionException;
-import joptsimple.OptionParser;
-import joptsimple.OptionSet;
-    this.allowedCommandLineCommands = new HashSet<String>();
-
-    this.allowedCommandLineCommands.add(CliStrings.ENCRYPT);
+    this.allowedCommandLineCommands = new HashSet<>();
-    System.exit(launcher.parseCommandLine(args));
+    int exitValue = launcher.parseCommandLine(args);
+    ExitCode.fromValue(exitValue).doSystemExit();
-    } catch (ClassNotFoundException cnfex) {
-      log(cnfex, gfsh);
-    } catch (IOException ioex) {
-      log(ioex, gfsh);
-    } catch (ClassNotFoundException cnfex) {
-      log(cnfex, gfsh);
-    } catch (IOException ioex) {
-      log(ioex, gfsh);
