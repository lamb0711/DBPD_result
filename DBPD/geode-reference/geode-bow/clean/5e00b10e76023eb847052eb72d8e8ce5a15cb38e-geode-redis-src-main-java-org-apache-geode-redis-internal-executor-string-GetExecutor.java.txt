GEODE-8134: convert String commands to use Function+Delta (#5160)

Co-authored-by: john Hutchison <hutchisonjo@vmware.com>
Co-authored-by: Ray Ingles <ringles@vmware.com>
+import static org.apache.geode.redis.internal.RedisCommandType.GET;
+
-import org.apache.geode.redis.internal.Coder;
-import org.apache.geode.redis.internal.RedisConstants.ArityDef;
+import org.apache.geode.redis.internal.RedisData;
+import org.apache.geode.redis.internal.executor.CommandFunction;
-    if (command.getProcessedCommand().size() != 2) {
-      command
-          .setResponse(Coder.getErrorResponse(context.getByteBufAllocator(), ArityDef.GETEXECUTOR));
-      return;
-    }
-
-    Region<ByteArrayWrapper, ByteArrayWrapper> region =
+    Region<ByteArrayWrapper, RedisData> region =
-    ByteArrayWrapper wrapper = region.get(key);
-    respondBulkStrings(command, context, wrapper);
+    ByteArrayWrapper valueAsBytes = null;
+
+    Object value = CommandFunction.execute(GET, key, null, region);
+
+    if (value instanceof ByteArrayWrapper) {
+      valueAsBytes = (ByteArrayWrapper) value;
+    } else if (value instanceof RedisString) {
+      valueAsBytes = ((RedisString) value).getValue();
+    }
+
+    respondBulkStrings(command, context, valueAsBytes);
