Merge branch 'release/1.0.0-incubating.M3'

+import javax.tools.Diagnostic;
+import javax.tools.DiagnosticCollector;
- * Test framework utility class to programatically create classes, JARs and ClassLoaders that include the classes.
+ * Test framework utility class to programmatically create classes, JARs and ClassLoaders that include the classes.
- * @since 7.0
+ * @since GemFire 7.0
-    javaCompiler.getTask(null, fileManager, null, options, null, fileObjects).call();
+    DiagnosticCollector<JavaFileObject> diagnostics = new DiagnosticCollector<JavaFileObject>();
+    if (! javaCompiler.getTask(null, fileManager, diagnostics, options, null, fileObjects).call()) {
+      StringBuilder errorMsg = new StringBuilder();
+      for (Diagnostic d : diagnostics.getDiagnostics()) {
+        String err = String.format("Compilation error: Line %d - %s%n", d.getLineNumber(), d.getMessage(null));
+        errorMsg.append(err);
+        System.err.print(err);
+      }
+      throw new IOException(errorMsg.toString());
+    }
