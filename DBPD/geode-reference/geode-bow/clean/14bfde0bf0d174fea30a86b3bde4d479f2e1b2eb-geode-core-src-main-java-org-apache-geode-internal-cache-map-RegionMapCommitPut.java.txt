Merge branch 'release/1.8.0'

-  protected void runWhileLockedForCacheModification(Runnable r) {
-    // commit has already done the locking
-    r.run();
-  }
-
-  @Override
