GEODE-6347: Adding better logging around critical threshold state change (#3146)


-          String.format("Member: %s above %s critical threshold. Event generated via %s.",
-              event.getMember(), "heap", eventOrigin));
+          createCriticalThresholdLogMessage(event, eventOrigin, true));
-          String.format("Member: %s below %s critical threshold. Event generated via %s.",
-              event.getMember(), "heap", eventOrigin));
+          createCriticalThresholdLogMessage(event, eventOrigin, false));
+
+  private String createCriticalThresholdLogMessage(MemoryEvent event, String eventOrigin,
+      boolean above) {
+    return "Member: " + event.getMember() + " " + (above ? "above" : "below")
+        + " heap critical threshold."
+        + " Event generated via " + eventOrigin + "."
+        + " Used bytes: " + event.getBytesUsed() + "."
+        + " Memory thresholds: " + thresholds;
+  }
