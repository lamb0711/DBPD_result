GEODE-6807: cache adviseUpdate and adviseAllEventsOrCached

+  private Set<InternalDistributedMember> adviseSetforAllEvents;
+  private int adviseAllEventsVersion = 0;
+  private boolean prevExcludeInRecovery = false;
+
+  private Set<InternalDistributedMember> adviseSetforUpdate;
+  private int adviseUpdateVersion = 0;
+
+
-    return adviseFilter(profile -> {
-      assert profile instanceof CacheProfile;
-      CacheProfile cp = (CacheProfile) profile;
-      if (excludeInRecovery && cp.inRecovery) {
-        return false;
-      }
-      return cp.cachedOrAllEventsWithListener();
-    });
+
+    if (adviseAllEventsVersion != profilesVersion || adviseAllEventsVersion == 0
+        || excludeInRecovery != prevExcludeInRecovery) {
+      adviseSetforAllEvents = Collections.unmodifiableSet(adviseFilter(profile -> {
+        assert profile instanceof CacheProfile;
+        CacheProfile cp = (CacheProfile) profile;
+        if (excludeInRecovery && cp.inRecovery) {
+          return false;
+        }
+        return cp.cachedOrAllEventsWithListener();
+      }));
+      adviseAllEventsVersion = profilesVersion;
+      prevExcludeInRecovery = excludeInRecovery;
+    }
+    return adviseSetforAllEvents;
+
-      return adviseFilter(profile -> {
-        assert profile instanceof CacheProfile;
-        CacheProfile cp = (CacheProfile) profile;
-        DataPolicy dp = cp.dataPolicy;
-        return dp.withReplication()
-            || (cp.allEvents() && (dp.withStorage() || cp.hasCacheListener));
-      });
+      if (adviseUpdateVersion != profilesVersion || adviseUpdateVersion == 0) {
+        adviseSetforUpdate = Collections.unmodifiableSet(adviseFilter(profile -> {
+          assert profile instanceof CacheProfile;
+          CacheProfile cp = (CacheProfile) profile;
+          DataPolicy dp = cp.dataPolicy;
+          return dp.withReplication()
+              || (cp.allEvents() && (dp.withStorage() || cp.hasCacheListener));
+        }));
+        adviseUpdateVersion = profilesVersion;
+
+      }
+      return adviseSetforUpdate;
