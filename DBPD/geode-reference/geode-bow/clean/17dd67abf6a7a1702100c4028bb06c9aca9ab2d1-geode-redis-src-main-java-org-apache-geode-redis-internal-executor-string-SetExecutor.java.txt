GEODE-8182: change String commands to use one region (#5165)

* changed all String commands to use the function and to use a single region
* renabled tests ignored for GEODE-8182
* removed the RedisLockService since it is not used in the new data model
* removed the unused del methods on RedisSetCommands and RedisHashCommands
* removed the KeyRegistar since it was no longer needed with a single data region

Co-authored-by: Ray Ingles <ringles@pivotal.io>
-import org.apache.geode.cache.Region;
-import org.apache.geode.redis.internal.RedisData;
-import org.apache.geode.redis.internal.RedisDataType;
-    Region<ByteArrayWrapper, RedisData> region =
-        context.getRegionProvider().getStringsRegion();
-
-    RedisStringCommands redisStringCommands = new RedisStringCommandsFunctionExecutor(region);
+    RedisStringCommands redisStringCommands = getRedisStringCommands(context);
-    checkKeyRegistrarAndRemoveKeyIfNeeded(context, key);
-    RedisString result = redisStringCommands.set(key, value, setOptions);
+    boolean result = redisStringCommands.set(key, value, setOptions);
-    if (result != null) {
-      context.getKeyRegistrar().register(key, RedisDataType.REDIS_STRING);
+    if (result) {
-  private void checkKeyRegistrarAndRemoveKeyIfNeeded(ExecutionHandlerContext context,
-      ByteArrayWrapper key) {
-    RedisDataType existingKeyType = context.getKeyRegistrar().getType(key);
-    if (existingKeyType != null && existingKeyType != RedisDataType.REDIS_STRING) {
-      // It already exists. We need to kill it.
-      removeEntry(key, context);
-    }
-  }
-
