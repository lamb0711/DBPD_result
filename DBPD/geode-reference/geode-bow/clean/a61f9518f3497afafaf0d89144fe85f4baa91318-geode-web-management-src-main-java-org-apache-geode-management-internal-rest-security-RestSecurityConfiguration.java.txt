GEODE-7421: deployment should use PUT instead of POST in REST request

Co-authored-by: Joris Melchior <joris.melchior@gmail.com>
Co-authored-by: Jinmei Liao <jliao@pivotal.io>
+import java.util.Arrays;
+import org.springframework.web.multipart.MultipartResolver;
+import org.springframework.web.multipart.commons.CommonsMultipartResolver;
+  @Bean
+  public MultipartResolver multipartResolver() {
+    return new CommonsMultipartResolver() {
+      @Override
+      public boolean isMultipart(HttpServletRequest request) {
+        String method = request.getMethod().toLowerCase();
+        // By default, only POST is allowed. Since this is an 'update' we should accept PUT.
+        if (!Arrays.asList("put", "post").contains(method)) {
+          return false;
+        }
+        String contentType = request.getContentType();
+        return (contentType != null && contentType.toLowerCase().startsWith("multipart/"));
+      }
+    };
+  }
+
