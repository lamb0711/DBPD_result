GEODE-6033: Update how ClusterStartupRule uses DistributedRestoreSystemProperties

-import java.io.Serializable;
-import org.junit.rules.ExternalResource;
+import org.junit.runner.Description;
+import org.junit.runners.model.Statement;
+import org.apache.geode.test.junit.rules.serializable.SerializableTestRule;
-public class ClusterStartupRule extends ExternalResource implements Serializable {
+public class ClusterStartupRule implements SerializableTestRule {
-  protected void before() throws Throwable {
+  public Statement apply(Statement base, Description description) {
+    return new Statement() {
+      @Override
+      public void evaluate() throws Throwable {
+        before(description);
+        try {
+          base.evaluate();
+        } finally {
+          after(description);
+        }
+      }
+    };
+  }
+
+  private void before(Description description) throws Throwable {
-    restoreSystemProperties.before();
+    restoreSystemProperties.beforeDistributedTest(description);
-  @Override
-  protected void after() {
+  private void after(Description description) throws Throwable {
-    restoreSystemProperties.after();
+    restoreSystemProperties.afterDistributedTest(description);
