GEODE-5951: add a create data-source gfsh command (#2758)

The new "create data-source" command is a replacement for "create jndi-binding". It has fewer options so will be easier for users to understand. Once it is done parsing its options it ends up using the same internal code as "create jndi-binding" to create the actual data-source.

Co-authored-by: @dschneider-pivotal 
Co-authored-by: @jchen21 
Co-authored-by: @monkeyherder


+import org.apache.geode.cache.configuration.JndiBindingsType.JndiBinding;
-import org.apache.geode.management.internal.cli.i18n.CliStrings;
+import org.apache.geode.management.internal.cli.functions.CliFunctionResult.StatusState;
-public class CreateJndiBindingFunction extends CliFunction<JndiBindingsType.JndiBinding> {
+public class CreateJndiBindingFunction extends CliFunction<Object[]> {
-  private static final String RESULT_MESSAGE = "Created jndi binding \"{0}\" on \"{1}\".";
-  public CliFunctionResult executeFunction(FunctionContext<JndiBindingsType.JndiBinding> context)
+  public CliFunctionResult executeFunction(FunctionContext<Object[]> context)
-    JndiBindingsType.JndiBinding configuration = context.getArguments();
+    Object[] arguments = context.getArguments();
+    JndiBinding configuration = (JndiBinding) arguments[0];
+    boolean creatingDataSource = (Boolean) arguments[1];
+    final String TYPE_NAME;
+    if (creatingDataSource) {
+      TYPE_NAME = "data-source";
+    } else {
+      TYPE_NAME = "jndi-binding";
+    }
-        logger.error("create jndi-binding failed", ex.getWrappedException());
+        logger.error("create " + TYPE_NAME + " failed", ex.getWrappedException());
-        logger.error("create jndi-binding failed", ex);
+        logger.error("create " + TYPE_NAME + " failed", ex);
-    return new CliFunctionResult(context.getMemberName(), true,
-        CliStrings.format(RESULT_MESSAGE, configuration.getJndiName(), context.getMemberName()));
+    return new CliFunctionResult(context.getMemberName(), StatusState.OK,
+        String.format("Created %s \"%s\" on \"%s\".", TYPE_NAME, configuration.getJndiName(),
+            context.getMemberName()));
