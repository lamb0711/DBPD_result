GEODE-5888: Only the thread locked objects can release/remove them (#2645)

 * A bulk opertion could remove lockObject due to RegionDestroyedException.
 * Now only the thread locked objects can release them.
 * Rename activeWriteLock to be primaryMoveReadLock as it is a readLock.

-      // Fix the updateMsg misorder issue
-      // Lock the keys when doing postPutAll
-      Object keys[] = new Object[putAllPRDataSize];
-      for (int i = 0; i < putAllPRDataSize; ++i) {
-        keys[i] = putAllPRData[i].getKey();
-      }
-
+      Object[] keys = getKeysToBeLocked();
+        boolean locked = false;
-          bucketRegion.waitUntilLocked(keys);
+          locked = bucketRegion.waitUntilLocked(keys);
-          bucketRegion.removeAndNotifyKeys(keys);
+          if (locked) {
+            bucketRegion.removeAndNotifyKeys(keys);
+          }
+  Object[] getKeysToBeLocked() {
+    // Fix the updateMsg misorder issue
+    // Lock the keys when doing postPutAll
+    Object keys[] = new Object[putAllPRDataSize];
+    for (int i = 0; i < putAllPRDataSize; ++i) {
+      keys[i] = putAllPRData[i].getKey();
+    }
+    return keys;
+  }
+
