GEODE-3101: Release local locks held by the JTA beforeCompletion() in client  when the JTA failed on the server.

          Also added a unit test would fail without the fix.

-
+import org.apache.geode.GemFireException;
-    this.firstProxy.beforeCompletion(proxy.getTxId().getUniqId());
+    try {
+      this.firstProxy.beforeCompletion(proxy.getTxId().getUniqId());
+    } catch (GemFireException e) {
+      this.lockReq.releaseLocal();
+      this.firstProxy.getPool().releaseServerAffinity();
+      throw e;
+    }
