GEODE-5010: refactor commands and CommandExecutor to use ResultModel (#1896)



-import org.apache.geode.management.internal.cli.result.CommandResult;
-import org.apache.geode.management.internal.cli.result.ResultBuilder;
+import org.apache.geode.management.internal.cli.result.model.InfoResultModel;
+import org.apache.geode.management.internal.cli.result.model.ResultModel;
-        return ResultBuilder.createGemFireErrorResult("Command returned null: " + parseResult);
+        return ResultModel.createError("Command returned null: " + parseResult);
-      return ResultBuilder.createUserErrorResult(e.getMessage());
+      return ResultModel.createError(e.getMessage());
-        return ResultBuilder.createInfoResult("Skipping: " + e.getMessage());
+        return ResultModel.createInfo("Skipping: " + e.getMessage());
-        return ResultBuilder.createUserErrorResult(e.getMessage());
+        return ResultModel.createError(e.getMessage());
-      return ResultBuilder.createGemFireErrorResult(
+      return ResultModel.createError(
-    CommandResult commandResult = (CommandResult) result;
-    if (commandResult.getStatus() == Result.Status.ERROR) {
+    ResultModel resultModel = (ResultModel) result;
+    if (resultModel.getStatus() == Result.Status.ERROR) {
+    InfoResultModel infoResultModel = resultModel.addInfo();
-      commandResult.setCommandPersisted(false);
-      return commandResult;
+      infoResultModel.addLine(
+          "Cluster configuration is not updated because the command is executed on specific member.");
+      return resultModel;
-          gfshCommand.updateClusterConfig(group, cc, commandResult.getConfigObject());
+          gfshCommand.updateClusterConfig(group, cc, resultModel.getConfigObject());
-          logger.error("failed to update cluster config for " + group, e);
+          String message = "failed to update cluster config for " + group;
+          logger.error(message, e);
-          commandResult.setCommandPersisted(false);
+          infoResultModel.addLine(message + ". Reason: " + e.getMessage());
-    return commandResult;
+    return resultModel;
