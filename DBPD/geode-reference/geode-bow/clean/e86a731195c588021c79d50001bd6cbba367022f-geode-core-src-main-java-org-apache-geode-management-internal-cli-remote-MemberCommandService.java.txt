Merge branch 'release/1.3.0'

-import java.io.IOException;
-import org.apache.geode.cache.Cache;
+import org.apache.geode.internal.cache.InternalCache;
+ * @deprecated since 1.3 use OnlineCommandProcessor directly
+
-  private Cache cache;
-  private CommandProcessor commandProcessor;
+  private InternalCache cache;
+  private OnlineCommandProcessor onlineCommandProcessor;
-  public MemberCommandService(Cache cache) throws CommandServiceException {
+  public MemberCommandService(InternalCache cache) throws CommandServiceException {
-      this.commandProcessor = new CommandProcessor(cache.getDistributedSystem().getProperties());
-    } catch (ClassNotFoundException e) {
+      this.onlineCommandProcessor = new OnlineCommandProcessor(
+          cache.getDistributedSystem().getProperties(), cache.getSecurityService());
+    } catch (Exception e) {
-    } catch (IOException e) {
-      throw new CommandServiceException("Could not load commands.", e);
-    } catch (IllegalStateException e) {
-      throw new CommandServiceException(e.getMessage(), e);
-    return createCommandStatement(commandString, env).process();
+    return onlineCommandProcessor.executeCommand(commandString, env, null);
+  @Deprecated
+  @Deprecated
-      return commandProcessor.createCommandStatement(commandString, env);
+      return new CommandStatementImpl(commandString, env, onlineCommandProcessor);
-  // @Override
-  // public void stop() {
-  // cache = null;
-  // synchronized (modLock) {
-  // this.commandProcessor.stop();
-  // this.commandProcessor = null;
-  // }
-  // }
