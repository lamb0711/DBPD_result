GEODE-7531: Added type checking before casting generic `Pool.java` to `PoolImpl.java` (#4490)


+import org.apache.geode.cache.client.internal.ExecutablePool;
- *
-        PoolImpl pool = (PoolImpl) entry.getValue();
-        pool.basicDestroy(keepAlive);
-        foundClientPool = true;
+        Pool pool = entry.getValue();
+        if (pool instanceof PoolImpl) {
+          ((PoolImpl) pool).basicDestroy(keepAlive);
+          foundClientPool = true;
+        }
+
-    int attachCount = ((PoolImpl) pool).getAttachCount();
+    int attachCount = 0;
+    if (pool instanceof PoolImpl) {
+      attachCount = ((PoolImpl) pool).getAttachCount();
+    }
-      PoolImpl p = (PoolImpl) pool;
-      if (p.isDurableClient()) {
-        // TODO - handle an exception and attempt on all pools?
-        foundDurablePool = true;
-        if (!xmlPoolsOnly) {
-          p.readyForEvents(system);
+      if (pool instanceof PoolImpl) {
+        PoolImpl p = (PoolImpl) pool;
+        if (p.isDurableClient()) {
+          // TODO - handle an exception and attempt on all pools?
+          foundDurablePool = true;
+          if (!xmlPoolsOnly) {
+            p.readyForEvents(system);
+          }
-      PoolImpl next = (PoolImpl) pool;
-          RegisterInstantiatorsOp.execute(next, instantiators, eventId);
+          RegisterInstantiatorsOp.execute((ExecutablePool) pool, instantiators, eventId);
-      PoolImpl next = (PoolImpl) pool;
-          RegisterInstantiatorsOp.execute(next, holders, eventId);
+          RegisterInstantiatorsOp.execute((ExecutablePool) pool, holders, eventId);
-      PoolImpl next = (PoolImpl) pool;
-          RegisterDataSerializersOp.execute(next, dataSerializers, eventId);
+          RegisterDataSerializersOp.execute((ExecutablePool) pool, dataSerializers, eventId);
-      PoolImpl next = (PoolImpl) pool;
-          RegisterDataSerializersOp.execute(next, holders, eventId);
+          RegisterDataSerializersOp.execute((ExecutablePool) pool, holders, eventId);
