GEODE-333: Indexes sometimes are no longer used after a rebalance

Incorporated changes from GemFire

+        if (indexes.isEmpty()) {
+          this.bucketIndexes.remove(r);
+        }
+  protected Map.Entry<Region,List<Index>> getFirstBucketIndex()
+  {
+    Map.Entry<Region,List<Index>> firstIndexEntry = null;
+    synchronized(this.bucketIndexes) {
+      if (this.bucketIndexes.size() > 0) {
+        firstIndexEntry = this.bucketIndexes.entrySet().iterator().next();
+      }
+    }
+    return firstIndexEntry;
+  }
+
-      if (im.getIndex(indexName) == null) { 
+      if (im != null && im.getIndex(indexName) == null) { 
