GEODE-4858: refactor JndiBinding commands (#1935)


-import static org.apache.geode.management.internal.cli.result.ResultBuilder.buildResult;
-
-import org.apache.geode.management.cli.Result;
+import org.apache.geode.management.cli.SingleGfshCommand;
-import org.apache.geode.management.internal.cli.result.ResultBuilder;
+import org.apache.geode.management.internal.cli.result.model.ResultModel;
-public class CreateJndiBindingCommand extends InternalGfshCommand {
+public class CreateJndiBindingCommand extends SingleGfshCommand {
-  public Result createJDNIBinding(
+  public ResultModel createJDNIBinding(
-    Result result;
-    boolean persisted = false;
-
-      service.updateCacheConfig("cluster", config -> {
-        config.getJndiBindings().add(configuration);
-        return config;
-      });
-      persisted = true;
-      result = buildResult(jndiCreationResult);
+      ResultModel result = ResultModel.createMemberStatusResult(jndiCreationResult);
+      result.setConfigObject(configuration);
+      return result;
-      if (persisted) {
-        result = ResultBuilder.createInfoResult(CliStrings.format(
-            "No members found. Cluster configuration is updated with jndi-binding \"{0}\".",
-            jndiName));
-      } else {
-        result = ResultBuilder.createInfoResult("No members found.");
-      }
+      return ResultModel.createInfo("No members found.");
+  }
-    result.setCommandPersisted(persisted);
-
-    return result;
+  @Override
+  public void updateClusterConfig(String group, CacheConfig config, Object element) {
+    config.getJndiBindings().add((JndiBindingsType.JndiBinding) element);
