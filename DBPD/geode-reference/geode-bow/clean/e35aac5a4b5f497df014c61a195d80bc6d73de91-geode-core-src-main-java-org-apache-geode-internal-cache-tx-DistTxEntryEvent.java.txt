Merge branch 'release/1.5.0'

-import org.apache.geode.internal.cache.GemFireCacheImpl;
-import org.apache.geode.internal.cache.InternalCache;
-import org.apache.geode.internal.cache.LocalRegion;
+  private String regionName;
+
+  public String getRegionName() {
+    return this.regionName;
+  }
+
-    DataSerializer.writeObject(this.region.getFullPath(), out);
+    DataSerializer.writeObject(this.getRegion().getFullPath(), out);
-    String regionName = DataSerializer.readString(in);
-    InternalCache cache = GemFireCacheImpl.getInstance();
-    this.region = (LocalRegion) cache.getRegion(regionName);
+    this.regionName = DataSerializer.readString(in);
-    basicSetNewValue(DataSerializer.readObject(in));
+    basicSetNewValue(DataSerializer.readObject(in), true);
-    // TODO DISTTX: release this event?
-    EntryEventImpl e = EntryEventImpl.create(this.region, Operation.PUTALL_CREATE, null, null, null,
-        true, this.getDistributedMember(), true, true);
+    this.op = Operation.PUTALL_CREATE;
+    this.setOriginRemote(true);
+    this.setGenerateCallbacks(true);
-    this.putAllOp = new DistributedPutAllOperation(e, putAllSize, false /* [DISTTX] TODO */);
+    this.putAllOp = new DistributedPutAllOperation(this, putAllSize, false /* [DISTTX] TODO */);
-    // TODO DISTTX: release this event
-    EntryEventImpl e = EntryEventImpl.create(this.region, Operation.REMOVEALL_DESTROY, null, null,
-        null, true, this.getDistributedMember(), true, true);
+    this.op = Operation.REMOVEALL_DESTROY;
+    this.setOriginRemote(true);
+    this.setGenerateCallbacks(true);
+
-        new DistributedRemoveAllOperation(e, removeAllSize, false /* [DISTTX] TODO */);
+        new DistributedRemoveAllOperation(this, removeAllSize, false /* [DISTTX] TODO */);
-    if (this.region != null) {
-      buf.append(";r=").append(this.region.getName());
+    if (this.getRegion() != null) {
+      buf.append(";r=").append(this.getRegion().getName());
