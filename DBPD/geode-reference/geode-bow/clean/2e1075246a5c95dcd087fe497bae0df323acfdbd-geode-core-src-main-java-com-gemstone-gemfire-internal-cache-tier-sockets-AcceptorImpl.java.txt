Merge branch 'release/1.0.0-incubating.M3'

+import static com.gemstone.gemfire.distributed.ConfigurationProperties.*;
+
-import com.gemstone.gemfire.internal.SocketUtils;
+import com.gemstone.gemfire.internal.security.GeodeSecurityUtil;
- * @since 2.0.2
+ * @since GemFire 2.0.2
-   * @guarded.By {@link #allSCsLock}
+   * guarded.By {@link #allSCsLock}
-   *  @guarded.By {@link #allSCsLock}
+   *  guarded.By {@link #allSCsLock}
-   * @since 5.7
+   * @since GemFire 5.7
-  //Identifies if this Acceptor was started by SqlFabric Procedure
-  private final boolean isSqlFabricHub ;
-  
+  private static boolean isIntegratedSecurity;
-   * @param  isSqlfStarted
-   *          true if the Accpetor is started via SqlFabric procedure      
-   * @since 5.7
+   * @since GemFire 5.7
-                      int transactionTimeToLive,
-                      boolean isSqlfStarted,
-    this.isSqlFabricHub = isSqlfStarted;
-        maximumMessageCount,messageTimeToLive, transactionTimeToLive,
+        maximumMessageCount,messageTimeToLive, 
-    String authenticator = this.cache.getDistributedSystem().getProperties()
-        .getProperty(DistributionConfig.SECURITY_CLIENT_AUTHENTICATOR_NAME);
-    isAuthenticationRequired = (authenticator != null && authenticator.length() > 0) ? true
-        : false;
+    isAuthenticationRequired = GeodeSecurityUtil.isClientSecurityRequired();
+
+    isIntegratedSecurity = GeodeSecurityUtil.isIntegratedSecurity();
-        .getProperties().getProperty(
-            DistributionConfig.SECURITY_CLIENT_ACCESSOR_PP_NAME);
+        .getProperties().getProperty(SECURITY_CLIENT_ACCESSOR_PP);
-          if (this.cache.getCancelCriterion().cancelInProgress() != null) {
+          if (this.cache.getCancelCriterion().isCancelInProgress()) {
-        if (this.cache.getCancelCriterion().cancelInProgress() != null) {
+        if (this.cache.getCancelCriterion().isCancelInProgress()) {
-      communicationMode = (byte)SocketUtils.getInputStream(s).read();//getInputStream().read();
+      communicationMode = (byte)s.getInputStream().read();
-//    * @since 5.7
+//    * @since GemFire 5.7
-   * @since 5.7
+   * @since GemFire 5.7
-   * @since 5.7
+   * @since GemFire 5.7
-  public boolean isSqlFabricSystem() {
-    return this.isSqlFabricHub;
-  }
-
+  public static boolean isIntegratedSecurity(){
+    return isIntegratedSecurity;
+  }
+
