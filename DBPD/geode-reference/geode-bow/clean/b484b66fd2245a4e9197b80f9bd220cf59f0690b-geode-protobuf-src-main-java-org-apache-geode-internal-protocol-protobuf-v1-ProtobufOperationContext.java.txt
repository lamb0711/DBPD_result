GEODE-4334: Merge protobuf modules (#1332)


-import org.apache.geode.internal.protocol.OperationContext;
-public class ProtobufOperationContext<OperationRequest, OperationResponse> extends
-    OperationContext<OperationRequest, OperationResponse, ClientProtocol.ErrorResponse, ClientProtocol.Request, ClientProtocol.Response.Builder, ProtobufSerializationService> {
+public class ProtobufOperationContext<OperationRequest, OperationResponse> {
+  private final ProtobufOperationHandler<OperationRequest, OperationResponse> operationHandler;
+  private final Function<ClientProtocol.Request, OperationRequest> fromRequest;
+  private final Function<OperationResponse, ClientProtocol.Response.Builder> toResponse;
+  private final Function<ClientProtocol.ErrorResponse, ClientProtocol.Response.Builder> toErrorResponse;
+  private final ResourcePermission accessPermissionRequired;
-    super(fromRequest, operationHandler, toResponse, permissionRequired);
+    this.operationHandler = operationHandler;
+    this.fromRequest = fromRequest;
+    this.toResponse = toResponse;
+    this.toErrorResponse = this::makeErrorBuilder;
+    accessPermissionRequired = permissionRequired;
-  @Override
+
+  public ProtobufOperationHandler<OperationRequest, OperationResponse> getOperationHandler() {
+    return operationHandler;
+  }
+
+  public Function<ClientProtocol.Request, OperationRequest> getFromRequest() {
+    return fromRequest;
+  }
+
+  public Function<OperationResponse, ClientProtocol.Response.Builder> getToResponse() {
+    return toResponse;
+  }
+
+  public Function<ClientProtocol.ErrorResponse, ClientProtocol.Response.Builder> getToErrorResponse() {
+    return toErrorResponse;
+  }
+
+  public ResourcePermission getAccessPermissionRequired() {
+    return accessPermissionRequired;
+  }
