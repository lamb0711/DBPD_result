GEODE-6665: Avoid creating regions on Locator (#3480)

* GEODE-6665: Avoid creating regions on Locator

+import org.apache.geode.distributed.DistributedSystem;
+import org.apache.geode.distributed.internal.ClusterDistributionManager;
-    // Register functions
-    registerFunctions();
+    if (!isLocator(cache)) {
+      // Register functions
+      registerFunctions();
+    }
-  private Cache verifyCacheExists() {
+  protected boolean isLocator(Cache cache) {
+    DistributedSystem system = cache.getDistributedSystem();
+    InternalDistributedMember member = (InternalDistributedMember) system.getDistributedMember();
+    return member.getVmKind() == ClusterDistributionManager.LOCATOR_DM_TYPE;
+  }
+
+  protected Cache verifyCacheExists() {
-  private void registerFunctions() {
+  protected void registerFunctions() {
