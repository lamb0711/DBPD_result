GEODE-6267: Logged out subject


+import org.apache.geode.annotations.VisibleForTesting;
+    boolean closedSocket = false;
-          closeSocket();
+          closedSocket = closeSocket();
-      closeTransientFields(); // make sure this happens
+      if (closedSocket) {
+        closeOtherTransientFields();
+      } else {
+        closeTransientFields(); // make sure this happens
+      }
+    closeOtherTransientFields();
+  }
+
+  private void closeOtherTransientFields() {
+
+    // Logout the subject
+    if (this.subject != null) {
+      this.subject.logout();
+    }
+  @VisibleForTesting
+  protected Subject getSubject() {
+    return this.subject;
+  }
+
