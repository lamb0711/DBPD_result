GEODE-3963: make DM.getCache thread safe

* made cache variables volatile for thread safety
* Added getExistingCache to DM which will throw an exception if cache
  does not exist or is closed.

+import org.apache.geode.cache.CacheClosedException;
-  private InternalCache cache;
+  private volatile InternalCache cache;
+  public void setCache(InternalCache instance) {
+    this.cache = instance;
+  }
+
+  @Override
-  public void setCache(InternalCache instance) {
-    this.cache = instance;
+  public InternalCache getExistingCache() {
+    InternalCache result = this.cache;
+    if (result == null) {
+      throw new CacheClosedException(
+          LocalizedStrings.CacheFactory_A_CACHE_HAS_NOT_YET_BEEN_CREATED.toLocalizedString());
+    }
+    result.getCancelCriterion().checkCancelInProgress(null);
+    if (result.isClosed()) {
+      throw result.getCacheClosedException(
+          LocalizedStrings.CacheFactory_THE_CACHE_HAS_BEEN_CLOSED.toLocalizedString(), null);
+    }
+    return result;
