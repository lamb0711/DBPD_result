GEODE-5055: Handle index creation in progress. (#1847)

         * If all the servers are above the 1.6.0 version then the LuceneIndexCreationInProgressException will be propogated up to the servers
	* If there are servers which are lower than 1.6.0 then get repository will be re-executed but it will wait till the indexes are available.
+    return getRepositories(ctx, false);
+  }
+
+  @Override
+  public Collection<IndexRepository> getRepositories(RegionFunctionContext ctx,
+      boolean waitForRepository) throws BucketNotFoundException {
-        if (index.isIndexAvailable(userBucket.getId()) || userBucket.isEmpty()) {
+        if (index.isIndexAvailable(userBucket.getId()) || userBucket.isEmpty()
+            || waitForRepository) {
