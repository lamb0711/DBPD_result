GEODE-5971: have command pipeline send ResultModel json across the wire (#3495)

Co-authored-by: Owen Nichols <onichols@pivotal.io>
+import org.apache.geode.annotations.VisibleForTesting;
-  // used by the product
+  /**
+   *
+   * @return always return ResultModel for online command, for offline command, return either
+   *         ResultModel or ExitShellRequest
+   */
-  // used by the GfshParserRule to pass in a mock command
+  /**
+   * @return always return ResultModel for online command, for offline command, return either
+   *         ResultModel or ExitShellRequest
+   */
+  @VisibleForTesting
+      if (result instanceof Result) {
+        Result customResult = (Result) result;
+        result = new ResultModel();
+        InfoResultModel info = ((ResultModel) result).addInfo();
+        while (customResult.hasNextLine()) {
+          info.addLine(customResult.nextLine());
+        }
+      }
+
