GEODE-8138: Improve semantics of the redis-port option (#5142)


-  private static final int RANDOM_PORT_INDICATOR = -1;
+  private static final int RANDOM_PORT_INDICATOR = 0;
-    this(null, -1, null);
+    this(null, RANDOM_PORT_INDICATOR, null);
-   *        by default if argument is less than or equal to 0
+   *        by default, and will throw IllegalArgumentException if argument is less than 0
-   * @param port The port the server will bind to, will use {@value #DEFAULT_REDIS_SERVER_PORT}
-   *        by default if argument is less than -1. If the port is {@value #RANDOM_PORT_INDICATOR}
-   *        a random port is assigned.
+   * @param port The port the server will bind to, will throw an IllegalArgumentException if
+   *        argument is less than 0. If the port is
+   *        {@value #RANDOM_PORT_INDICATOR} a random port is assigned.
-    serverPort = port < RANDOM_PORT_INDICATOR ? DEFAULT_REDIS_SERVER_PORT : port;
+    if (port < RANDOM_PORT_INDICATOR) {
+      throw new IllegalArgumentException("Redis port cannot be less than 0");
+    }
+    serverPort = port;
