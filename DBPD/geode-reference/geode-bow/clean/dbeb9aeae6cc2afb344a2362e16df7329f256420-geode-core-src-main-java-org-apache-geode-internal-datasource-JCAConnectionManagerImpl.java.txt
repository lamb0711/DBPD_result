Merge branch 'release/1.1.0'

- * Licensed to the Apache Software Foundation (ASF) under one or more
- * contributor license agreements.  See the NOTICE file distributed with
- * this work for additional information regarding copyright ownership.
- * The ASF licenses this file to You under the Apache License, Version 2.0
- * (the "License"); you may not use this file except in compliance with
- * the License.  You may obtain a copy of the License at
+ * Licensed to the Apache Software Foundation (ASF) under one or more contributor license
+ * agreements. See the NOTICE file distributed with this work for additional information regarding
+ * copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance with the License. You may obtain a
+ * copy of the License at
- *      http://www.apache.org/licenses/LICENSE-2.0
+ * http://www.apache.org/licenses/LICENSE-2.0
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
+ * Unless required by applicable law or agreed to in writing, software distributed under the License
+ * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
+ * or implied. See the License for the specific language governing permissions and limitations under
+ * the License.
-//import javax.sql.PooledConnection;
+// import javax.sql.PooledConnection;
- * This class implements a connection pool manager for managed connections (JCA)
- * for transactional and non-transactional resource connection. Implements
- * ConnectionManager interface. QoS (Transaction, Security etc is taken into
- * account while allocating a connection). Security related features are
- * remaining.
+ * This class implements a connection pool manager for managed connections (JCA) for transactional
+ * and non-transactional resource connection. Implements ConnectionManager interface. QoS
+ * (Transaction, Security etc is taken into account while allocating a connection). Security related
+ * features are remaining.
-public class JCAConnectionManagerImpl implements ConnectionManager,
-    ConnectionEventListener {
+public class JCAConnectionManagerImpl implements ConnectionManager, ConnectionEventListener {
-  
+
-   *  
+   * 
-    }
-    catch (Exception ex) { 
-      logger.fatal(LocalizedMessage.create(LocalizedStrings.JCAConnectionManagerImpl_EXCEPTION_CAUGHT_WHILE_INITIALIZING, ex.getLocalizedMessage()), ex);
+    } catch (Exception ex) {
+      logger.fatal(LocalizedMessage.create(
+          LocalizedStrings.JCAConnectionManagerImpl_EXCEPTION_CAUGHT_WHILE_INITIALIZING,
+          ex.getLocalizedMessage()), ex);
+   * 
-  public Object allocateConnection(ManagedConnectionFactory mcf,
-      ConnectionRequestInfo reqInfo) throws ResourceException {
-    if (!isActive) { throw new ResourceException(LocalizedStrings.JCAConnectionManagerImpl_JCACONNECTIONMANAGERIMPLALLOCATECONNECTIONNO_VALID_CONNECTION_AVAILABLE.toLocalizedString()); }
+  public Object allocateConnection(ManagedConnectionFactory mcf, ConnectionRequestInfo reqInfo)
+      throws ResourceException {
+    if (!isActive) {
+      throw new ResourceException(
+          LocalizedStrings.JCAConnectionManagerImpl_JCACONNECTIONMANAGERIMPLALLOCATECONNECTIONNO_VALID_CONNECTION_AVAILABLE
+              .toLocalizedString());
+    }
-    }
-    catch (PoolException ex) {
-      //ex.printStackTrace();
-      throw new ResourceException(LocalizedStrings.JCAConnectionManagerImpl_JCACONNECTIONMANAGERIMPL_ALLOCATECONNECTION_IN_GETTING_CONNECTION_FROM_POOL_DUE_TO_0.toLocalizedString(ex.getMessage()), ex);
+    } catch (PoolException ex) {
+      // ex.printStackTrace();
+      throw new ResourceException(
+          LocalizedStrings.JCAConnectionManagerImpl_JCACONNECTIONMANAGERIMPL_ALLOCATECONNECTION_IN_GETTING_CONNECTION_FROM_POOL_DUE_TO_0
+              .toLocalizedString(ex.getMessage()),
+          ex);
-        //Asif :Add in the Map after successful registration of XAResource
+        // Asif :Add in the Map after successful registration of XAResource
-    }
-    catch (RollbackException ex) {
-      throw new ResourceException(LocalizedStrings.JCAConnectionManagerImpl_JCACONNECTIONMANAGERIMPL_ALLOCATECONNECTION_IN_TRANSACTION_DUE_TO_0.toLocalizedString(ex.getMessage()), ex);
-    }
-    catch (SystemException ex) {
-      throw new ResourceException(LocalizedStrings.JCAConnectionManagerImpl_JCACONNECTIONMANAGERIMPL_ALLOCATECONNECTION_SYSTEM_EXCEPTION_DUE_TO_0.toLocalizedString(ex.getMessage()), ex);
+    } catch (RollbackException ex) {
+      throw new ResourceException(
+          LocalizedStrings.JCAConnectionManagerImpl_JCACONNECTIONMANAGERIMPL_ALLOCATECONNECTION_IN_TRANSACTION_DUE_TO_0
+              .toLocalizedString(ex.getMessage()),
+          ex);
+    } catch (SystemException ex) {
+      throw new ResourceException(
+          LocalizedStrings.JCAConnectionManagerImpl_JCACONNECTIONMANAGERIMPL_ALLOCATECONNECTION_SYSTEM_EXCEPTION_DUE_TO_0
+              .toLocalizedString(ex.getMessage()),
+          ex);
-      TransactionManagerImpl transManager = TransactionManagerImpl
-          .getTransactionManager();
+      TransactionManagerImpl transManager = TransactionManagerImpl.getTransactionManager();
-            txn.delistResource(xar, XAResource.TMSUCCESS);
-      }
-      catch (SystemException se) {
+          txn.delistResource(xar, XAResource.TMSUCCESS);
+      } catch (SystemException se) {
-        //mannPoolCache.destroyPooledConnection(conn);
-      }
-      catch (Exception ex) {
-        String exception = "JCAConnectionManagerImpl::connectionErrorOccured: Exception occured due to "
-            + ex;
+        // mannPoolCache.destroyPooledConnection(conn);
+      } catch (Exception ex) {
+        String exception =
+            "JCAConnectionManagerImpl::connectionErrorOccured: Exception occured due to " + ex;
-          xar = (XAResource) xaResourcesMap.get(conn);
+        xar = (XAResource) xaResourcesMap.get(conn);
-      }
-      catch (Exception se) {
-        String exception = "JCAConnectionManagerImpl::connectionClosed: Exception occured due to "
-            + se;
+      } catch (Exception se) {
+        String exception =
+            "JCAConnectionManagerImpl::connectionClosed: Exception occured due to " + se;
