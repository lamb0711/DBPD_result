Merge branch 'release/1.5.0'

-import java.io.File;
+import java.util.Collections;
+import java.util.Properties;
-import org.apache.geode.distributed.internal.DM;
+import org.apache.geode.distributed.internal.DistributionManager;
+  private static final AbortBackupFactory abortBackupFactory = new AbortBackupFactory();
-  public static BackupDataStoreResult backupAllMembers(DM dm, Set recipients, File targetDir,
-      File baselineDir) {
+  public static BackupDataStoreResult backupAllMembers(DistributionManager dm, Set recipients,
+      Properties properties) {
-          prepareBackupFactory).send();
+          prepareBackupFactory, properties).send();
-      successfulMembers = new FinishBackupOperation(dm, dm.getId(), dm.getCache(), recipients,
-          targetDir, baselineDir, abort, finishBackupFactory).send();
+      if (abort) {
+        new AbortBackupOperation(dm, dm.getId(), dm.getCache(), recipients, abortBackupFactory)
+            .send();
+        successfulMembers = Collections.emptyMap();
+      } else {
+        successfulMembers = new FinishBackupOperation(dm, dm.getId(), dm.getCache(), recipients,
+            finishBackupFactory).send();
+      }
-  private static DistributedLockService getLockService(DM dm) {
+  private static DistributedLockService getLockService(DistributionManager dm) {
-  public static boolean obtainLock(DM dm) {
+  public static boolean obtainLock(DistributionManager dm) {
-  public static void releaseLock(DM dm) {
+  public static void releaseLock(DistributionManager dm) {
