Merge pull request #3888 from Nordix/feature/GEODE-7049

GEODE-7049: Add timeout to Java client Execute::execute() methods
+import java.util.concurrent.TimeUnit;
-  public ResultCollector execute(final String functionName) {
+  public ResultCollector execute(final String functionName, long timeout, TimeUnit unit) {
-    return executeFunction(functionObject);
+    return executeFunction(functionObject, timeout, unit);
-  public ResultCollector execute(final Function function) {
+  public ResultCollector execute(final String functionName) {
+    return execute(functionName, getTimeoutMs(), TimeUnit.MILLISECONDS);
+  }
+
+  @Override
+  public ResultCollector execute(final Function function, long timeout, TimeUnit unit) {
-    return executeFunction(function);
+    return executeFunction(function, timeout, unit);
-  protected ResultCollector executeFunction(Function function) {
-    if (function.hasResult()) { // have Results
-      if (this.rc == null) { // Default Result Collector
-        ResultCollector defaultCollector = new DefaultResultCollector();
-        return this.region.executeFunction(this, function, args, defaultCollector, this.filter,
-            this.sender);
-      } else { // Custome Result COllector
-        return this.region.executeFunction(this, function, args, rc, this.filter, this.sender);
-      }
-    } else { // No results
+  public ResultCollector execute(final Function function) {
+    return execute(function, getTimeoutMs(), TimeUnit.MILLISECONDS);
+  }
+
+  @Override
+  protected ResultCollector executeFunction(Function function, long timeout, TimeUnit unit) {
+    if (!function.hasResult()) {
+    ResultCollector inRc = (rc == null) ? new DefaultResultCollector() : rc;
+    ResultCollector rcToReturn =
+        this.region.executeFunction(this, function, args, inRc, this.filter, this.sender);
+    if (timeout > 0) {
+      try {
+        rcToReturn.getResult(timeout, unit);
+      } catch (Exception exception) {
+        throw new FunctionException(exception);
+      }
+    }
+    return rcToReturn;
