GEODE-7229: add autoSerializer to pdx and remove the persistent attribute (#4294)


Co-authored-by: Dale Emery <demery@pivotal.io>
Co-authored-by: Darrel Schneider <dschneider@pivotal.io>

+
- * Configuration Objects for Pdx in the cache
+ * Used to configure PDX serialization for a cache.
+  private AutoSerializer autoSerializer;
-  private Boolean persistent;
+  public AutoSerializer getAutoSerializer() {
+    return autoSerializer;
+  }
+
+  /**
+   * @throws IllegalArgumentException if a pdxSerializer has already been set
+   */
+  public void setAutoSerializer(AutoSerializer autoSerializer) {
+    if (pdxSerializer != null) {
+      throw new IllegalArgumentException(
+          "The autoSerializer can not be set if a pdxSerializer is already set.");
+    }
+    this.autoSerializer = autoSerializer;
+  }
+
+  /**
+   * Setting readSerialized to true causes any pdx deserialization to produce
+   * instances of {@link org.apache.geode.pdx.PdxInstance} instead of a domain class instance.
+   */
+  /**
+   * @param pdxSerializer the class name given must implement the
+   *        {@link org.apache.geode.pdx.PdxSerializer} interface
+   * @throws IllegalArgumentException if an autoSerializer has already been set
+   */
+    if (autoSerializer != null) {
+      throw new IllegalArgumentException(
+          "The pdxSerializer can not be set if an autoSerializer is already set.");
+    }
+  /**
+   * Setting ignoreUnreadFields to true can save memory during pdx deserialization but if the
+   * deserialized
+   * object is reserialized then the unread field data will be lost. Unread fields will only exist
+   * if a class
+   * serialized with pdx has multiple versions.
+   */
-  public Boolean isPersistent() {
-    return persistent;
-  }
-
-  public void setPersistent(Boolean persistent) {
-    this.persistent = persistent;
-  }
-
+  /**
+   * Setting a non-null diskStoreName causes the Pdx information
+   * to be persisted to the named disk store.
+   * To configure Pdx to use the default disk store, set
+   * the diskStoreName to "DEFAULT".
+   */
