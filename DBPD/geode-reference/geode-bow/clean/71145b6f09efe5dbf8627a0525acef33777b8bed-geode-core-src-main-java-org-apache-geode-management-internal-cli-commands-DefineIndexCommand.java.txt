GEODE-4858: Convert *DefinedIndex commands to use ResultModel and Sinâ€¦ (#1983)


+import org.apache.geode.cache.configuration.RegionConfig;
-import org.apache.geode.management.cli.Result;
-import org.apache.geode.management.internal.cli.domain.IndexInfo;
-import org.apache.geode.management.internal.cli.result.InfoResultData;
-import org.apache.geode.management.internal.cli.result.ResultBuilder;
+import org.apache.geode.management.internal.cli.result.model.InfoResultModel;
+import org.apache.geode.management.internal.cli.result.model.ResultModel;
-  // TODO : Add optionContext for indexName
-  public Result defineIndex(
+  public ResultModel defineIndex(
-    Result result;
+    ResultModel result = new ResultModel();
-    IndexInfo indexInfo = new IndexInfo(indexName, indexedExpression, regionPath, indexType);
+    RegionConfig.Index indexInfo = new RegionConfig.Index();
+    indexInfo.setName(indexName);
+    indexInfo.setExpression(indexedExpression);
+    indexInfo.setFromClause(regionPath);
+    indexInfo.setType(indexType.getName());
+
-    final InfoResultData infoResult = ResultBuilder.createInfoResultData();
+    InfoResultModel infoResult = result.addInfo();
-    result = ResultBuilder.buildResult(infoResult);
