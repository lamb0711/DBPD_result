Merge branch 'release/1.8.0'

+import org.apache.geode.InternalGemFireError;
-      Assert.assertTrue(false, "The internalRegion for RegionMap " + this // "fix" for bug 32440
+      throw new InternalGemFireError("The internalRegion for RegionMap " + this
+    final boolean locked = internalRegion.lockWhenRegionIsInitializing();
-
+      if (locked) {
+        internalRegion.unlockWhenRegionIsInitializing();
+      }
-        regionEntry = (RegionEntry) focusedRegionMap.getEntryMap().putIfAbsent(event.getKey(),
-            newRegionEntry);
+        regionEntry = focusedRegionMap.putEntryIfAbsent(event.getKey(), newRegionEntry);
+          // TODO: this looks like dead code. We only get here if doPart3 is true
+          // but then only happens if !event.isOriginRemote() && concurrencyChecks().
+          // But if we have a versionTag then we will have concurrencyChecks().
+          // If concurrencyChecks is false then this code makes no sense;
+          // we should not be doing anything with version tags in that case.
