GEODE-7421:  deploy jar by REST API/JAVA API for Management

Co-authored-by: Joris Melchior <joris.melchior@gmail.com>
+import java.io.IOException;
+import org.apache.commons.lang3.NotImplementedException;
+
+import org.apache.geode.annotations.VisibleForTesting;
+import org.apache.geode.management.api.RealizationResult;
-public class DeploymentRealizer extends ReadOnlyConfigurationRealizer<Deployment, DeploymentInfo> {
+public class DeploymentRealizer
+    implements ConfigurationRealizer<Deployment, DeploymentInfo> {
+  public RealizationResult create(Deployment config, InternalCache cache) throws Exception {
+    RealizationResult result = new RealizationResult();
+    DeployedJar deployedJar = deploy(config.getFile());
+    if (deployedJar == null) {
+      result.setMessage("Already deployed");
+    } else {
+      result.setMessage(deployedJar.getFileCanonicalPath());
+    }
+    return result;
+  }
+
+  @Override
-    String artifactId = JarDeployer.getArtifactId(config.getJarFileName());
+    String artifactId = JarDeployer.getArtifactId(config.getFileName());
+  @Override
+  public boolean exists(Deployment config, InternalCache cache) {
+    return false;
+  }
+
+  @Override
+  public RealizationResult update(Deployment config, InternalCache cache) {
+    throw new NotImplementedException("Not implemented");
+  }
+
+  @Override
+  public RealizationResult delete(Deployment config, InternalCache cache) {
+    throw new NotImplementedException("Not implemented");
+  }
+
+  @VisibleForTesting
+  @VisibleForTesting
+  @VisibleForTesting
+  DeployedJar deploy(File jarFile) throws IOException, ClassNotFoundException {
+    return ClassPathLoader.getLatest().getJarDeployer().deploy(jarFile);
+  }
