Merge branch 'release/1.8.0'

-import org.apache.geode.GemFireConfigException;
+import org.apache.geode.cache.client.ServerConnectivityException;
-import org.apache.geode.internal.i18n.LocalizedStrings;
+  @FunctionalInterface
+  public interface HostnameResolver {
+    InetAddress getInetAddress(ServerLocation location) throws UnknownHostException;
+  }
+
+  public static void setHostnameResolver(final HostnameResolver hostnameResolver) {
+    InternalDistributedMember.hostnameResolver = hostnameResolver;
+  }
+
+  /** Retrieves an InetAddress given the provided hostname */
+  private static HostnameResolver hostnameResolver =
+      (location) -> InetAddress.getByName(location.getHostName());
+
-    InetAddress addr = null;
+    final InetAddress addr;
-      addr = InetAddress.getByName(this.hostName);
+      addr = hostnameResolver.getInetAddress(location);
-      throw new GemFireConfigException("Unable to resolve server location " + location, e);
+      throw new ServerConnectivityException("Unable to resolve server location " + location, e);
+
-          LocalizedStrings.InternalDistributedMember_INTERNALDISTRIBUTEDMEMBERCOMPARETO_COMPARISON_BETWEEN_DIFFERENT_CLASSES
-              .toLocalizedString());
+          "InternalDistributedMember.compareTo(): comparison between different classes");
-    // InternalDistributedSystem.getLoggerI18n().warning(LocalizedStrings.DEBUG,
-    // "Serializing ID with zero port", new Exception("Stack trace"));
+    // InternalDistributedSystem.getLogger().warning(String.format("%s",
+    // "Serializing ID with zero port", new Exception("Stack trace")));
