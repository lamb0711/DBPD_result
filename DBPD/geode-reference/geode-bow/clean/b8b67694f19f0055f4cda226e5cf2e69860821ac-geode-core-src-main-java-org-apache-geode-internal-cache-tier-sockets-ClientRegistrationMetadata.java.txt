Merge branch 'develop' into feature/GEODE-7049

-import org.apache.geode.internal.Version;
-import org.apache.geode.internal.VersionedDataInputStream;
-import org.apache.geode.internal.VersionedDataOutputStream;
+import org.apache.geode.internal.serialization.UnsupportedSerializationVersionException;
+import org.apache.geode.internal.serialization.Version;
+import org.apache.geode.internal.serialization.VersionedDataInputStream;
+import org.apache.geode.internal.serialization.VersionedDataOutputStream;
-        dataInputStream = new VersionedDataInputStream(unversionedDataInputStream, clientVersion);
+        dataInputStream =
+            new VersionedDataInputStream(unversionedDataInputStream, clientVersion);
-      clientVersion = Version.fromOrdinal(clientVersionOrdinal, true);
+      clientVersion = Version.fromOrdinal(clientVersionOrdinal);
+      if (CommandInitializer.getCommands(clientVersion) == null) {
+        throw new UnsupportedSerializationVersionException("Client version {} is not supported");
+      }
-    } catch (UnsupportedVersionException e) {
-      UnsupportedVersionException unsupportedVersionException = e;
+    } catch (UnsupportedSerializationVersionException e) {
+      UnsupportedVersionException unsupportedVersionException =
+          new UnsupportedVersionException(e.getMessage());
