GEODE-1571: revert previous two changes

-    boolean requireAuthentication = GeodeSecurityUtil.isSecurityRequired();
+    boolean requireAuthentication = GeodeSecurityUtil.isSecurityRequired(system.getSecurityProperties());
-        || GeodeSecurityUtil.isSecurityRequired()) {
+        || GeodeSecurityUtil.isSecurityRequired(config.getSecurityProps())) {
-        AuthInitialize auth = GeodeSecurityUtil.getObjectOfType(authInitMethod, AuthInitialize.class);
-        auth.init(logWriter, securityLogWriter);
-        try {
-          credentials = auth.getCredentials(securityProperties, server, isPeer);
-        }
-        finally {
-          auth.close();
+        Method instanceGetter = ClassLoadUtil.methodFromName(authInitMethod);
+        AuthInitialize auth = (AuthInitialize)instanceGetter.invoke(null,
+            (Object[])null);
+        if (auth != null) {
+          auth.init(logWriter, 
+                    securityLogWriter);
+          try {
+            credentials = auth.getCredentials(securityProperties, server,
+                isPeer);
+          }
+          finally {
+            auth.close();
+          }
-    boolean requireAuthentication = GeodeSecurityUtil.isSecurityRequired();
+    boolean requireAuthentication = GeodeSecurityUtil.isSecurityRequired(system.getSecurityProperties());
