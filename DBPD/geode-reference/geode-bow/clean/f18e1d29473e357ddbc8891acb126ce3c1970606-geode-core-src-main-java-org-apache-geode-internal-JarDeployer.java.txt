GEODE-2912: Hot deploy for functions in deployed Jars

+import java.util.HashMap;
+      Map<DeployedJar, DeployedJar> newVersionToOldVersion = new HashMap<>();
+
-          if (oldJar != null) {
-            oldJar.cleanUp();
-          }
+          newVersionToOldVersion.put(deployedJar, oldJar);
-      for (DeployedJar deployedJar : deployedJars) {
-        if (deployedJar != null) {
-          deployedJar.loadClassesAndRegisterFunctions();
+      // Finally, unregister functions that were removed
+      for (Map.Entry<DeployedJar, DeployedJar> entry : newVersionToOldVersion.entrySet()) {
+        DeployedJar newjar = entry.getKey();
+        DeployedJar oldJar = entry.getValue();
+
+        newjar.registerFunctions();
+
+        if (oldJar != null) {
+          oldJar.cleanUp(newjar);
+
-      deployedJar.cleanUp();
+      deployedJar.cleanUp(null);
