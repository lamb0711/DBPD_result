GEODE-4858: Update *DiskStore commands to use ResultModel and SingleGfshCommand (#1996)


-import org.apache.geode.SystemFailure;
-import org.apache.geode.management.cli.Result;
-import org.apache.geode.management.internal.cli.result.ResultBuilder;
+import org.apache.geode.management.internal.cli.result.model.ResultModel;
-  public Result revokeMissingDiskStore(@CliOption(key = CliStrings.REVOKE_MISSING_DISK_STORE__ID,
-      mandatory = true, help = CliStrings.REVOKE_MISSING_DISK_STORE__ID__HELP) String id) {
+  public ResultModel revokeMissingDiskStore(
+      @CliOption(key = CliStrings.REVOKE_MISSING_DISK_STORE__ID, mandatory = true,
+          help = CliStrings.REVOKE_MISSING_DISK_STORE__ID__HELP) String id) {
-    try {
-      DistributedSystemMXBean dsMXBean =
-          ManagementService.getManagementService(getCache()).getDistributedSystemMXBean();
-      if (dsMXBean.revokeMissingDiskStores(id)) {
-        return ResultBuilder.createInfoResult("Missing disk store successfully revoked");
-      }
-
-      return ResultBuilder.createUserErrorResult("Unable to find missing disk store to revoke");
-    } catch (VirtualMachineError e) {
-      SystemFailure.initiateFailure(e);
-      throw e;
-    } catch (Throwable th) {
-      SystemFailure.checkFailure();
-      if (th.getMessage() == null) {
-        return ResultBuilder.createGemFireErrorResult(
-            "An error occurred while revoking missing disk stores: " + th);
-      }
-      return ResultBuilder.createGemFireErrorResult(
-          "An error occurred while revoking missing disk stores: " + th.getMessage());
+    DistributedSystemMXBean dsMXBean =
+        ManagementService.getManagementService(getCache()).getDistributedSystemMXBean();
+    if (dsMXBean.revokeMissingDiskStores(id)) {
+      return ResultModel.createInfo("Missing disk store successfully revoked");
+
+    return ResultModel.createError("Unable to find missing disk store to revoke");
