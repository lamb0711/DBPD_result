GEODE-2632: change dependencies on GemFireCacheImpl to InternalCache

* misc cleanup of code where possible

-import java.util.Iterator;
-import org.apache.geode.internal.cache.GemFireCacheImpl;
+import org.apache.geode.internal.cache.InternalCache;
- * 
-  public RegionSubRegionsSizeResponse() {}
+  private RegionSubRegionSnapshot snapshot;
+
+  private boolean cancelled;
+
+  public RegionSubRegionsSizeResponse() {
+    // do nothing
+  }
-   * Returns a <code>RegionSubRegionsSizeResponse</code> that will be returned to the specified
+   * Returns a {@code RegionSubRegionsSizeResponse} that will be returned to the specified
-  public void populateSnapshot(DistributionManager dm) {
-    if (cancelled)
+  void populateSnapshot(DistributionManager dm) {
+    if (this.cancelled) {
+    }
-    GemFireCacheImpl cache = (GemFireCacheImpl) CacheFactory.getInstance(sys);
+    InternalCache cache = (InternalCache) CacheFactory.getInstance(sys);
-    if (cancelled)
+    if (this.cancelled) {
+    }
-  // Re-factored to fix #41060
-  void populateRegionSubRegions(RegionSubRegionSnapshot parentSnapShot, Set regions,
-      GemFireCacheImpl cache) {
-    if (cancelled)
+  private void populateRegionSubRegions(RegionSubRegionSnapshot parentSnapShot, Set regions,
+      InternalCache cache) {
+    if (this.cancelled) {
+    }
-    Region subRegion = null;
-    RegionSubRegionSnapshot subRegionSnapShot = null;
-    for (Iterator iter = regions.iterator(); iter.hasNext();) {
-      subRegion = (Region) iter.next();
+    for (Object region : regions) {
+      Region subRegion = (Region) region;
-        subRegionSnapShot = new RegionSubRegionSnapshot(subRegion);
+        RegionSubRegionSnapshot subRegionSnapShot = new RegionSubRegionSnapshot(subRegion);
-
+  @Override
-    cancelled = true;
+    this.cancelled = true;
-    out.writeBoolean(cancelled);
+    out.writeBoolean(this.cancelled);
-    this.snapshot = (RegionSubRegionSnapshot) DataSerializer.readObject(in);
+    this.snapshot = DataSerializer.readObject(in);
+  @Override
-    return "RegionSubRegionsSizeResponse [from=" + this.getRecipient() + " "
-        + (snapshot == null ? "null" : snapshot.toString());
+    return "RegionSubRegionsSizeResponse [from=" + this.getRecipient() + ' '
+        + (this.snapshot == null ? "null" : this.snapshot.toString());
-
-  private RegionSubRegionSnapshot snapshot;
-
-  private boolean cancelled;
