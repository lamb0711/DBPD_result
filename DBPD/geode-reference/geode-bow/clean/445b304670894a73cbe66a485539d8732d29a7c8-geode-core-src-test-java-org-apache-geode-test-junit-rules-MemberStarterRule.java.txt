GEODE-3341: Convert DiskStoreCommandsDUnitTest to use gfsh rules (#1062)

* GEODE-3341: Convert DiskStoreCommandsDUnitTest to use gfsh rules

* GEODE-3341: PR review updates

+import java.util.Map;
+import org.apache.commons.lang.ArrayUtils;
+import org.apache.geode.management.DistributedSystemMXBean;
-    await().atMost(2, TimeUnit.SECONDS).until(() -> getRegionMBean(regionName) != null);
-    await().atMost(2, TimeUnit.SECONDS)
+    await().atMost(30, TimeUnit.SECONDS).until(() -> getRegionMBean(regionName) != null);
+    await().atMost(30, TimeUnit.SECONDS)
+  private long getDiskStoreCount(String diskStoreName) {
+    DistributedSystemMXBean dsMXBean = getManagementService().getDistributedSystemMXBean();
+    Map<String, String[]> diskstores = dsMXBean.listMemberDiskstore();
+    long count =
+        diskstores.values().stream().filter(x -> ArrayUtils.contains(x, diskStoreName)).count();
+
+    return count;
+  }
+
+  public void waitTillDiskStoreIsReady(String diskstoreName, int serverCount) {
+    await().atMost(30, TimeUnit.SECONDS)
+        .until(() -> getDiskStoreCount(diskstoreName) == serverCount);
+  }
+
