Merge branch 'develop' of https://git-wip-us.apache.org/repos/asf/incubator-geode into develop

+import org.apache.geode.internal.cache.tier.sockets.HandShake;
-import org.apache.geode.security.AuthInitialize;
-import org.apache.geode.security.AuthenticationRequiredException;
-    if (!this.securityService.isPeerSecurityRequired()) {
+    if (!securityService.isPeerSecurityRequired()) {
-    Properties credentials = null;
-
-    try {
-      if (authMethod != null && authMethod.length() > 0) {
-        AuthInitialize auth = SecurityService.getObjectOfType(authMethod, AuthInitialize.class);
-        assert auth != null;
-        try {
-          LogWriter logWriter = services.getLogWriter();
-          LogWriter securityLogWriter = services.getSecurityLogWriter();
-          auth.init(logWriter, securityLogWriter);
-          credentials = auth.getCredentials(secProps, member, true);
-        } finally {
-          auth.close();
-        }
-      }
-
-    } catch (GemFireSecurityException gse) {
-      throw gse;
-
-    } catch (Exception ex) {
-      throw new AuthenticationRequiredException(HandShake_FAILED_TO_ACQUIRE_AUTHINITIALIZE_METHOD_0.toLocalizedString(authMethod), ex);
-    }
-
-    return credentials;
+    return HandShake.getCredentials(authMethod, secProps, member, true, services.getLogWriter(), services.getSecurityLogWriter());
