GEODE-77 fixing uncaught exception in view creator

check for inclusion in the new view before trying to set failure detection
port

+import java.util.Collections;
+  
+  /**
+   * Members undergoing final checks
+   */
+  final private List<InternalDistributedMember> membersInFinalCheck = Collections.synchronizedList(new ArrayList<>(30));
-    for (int i = 0; i < sMembers.size(); i++) {
-      final SuspectRequest sr = sMembers.get(i);
-      final InternalDistributedMember mbr = sr.getSuspectMember();
-      if (!cv.contains(mbr)) {
-        continue;
-      }
+    List<InternalDistributedMember> membersChecked = new ArrayList<>(10);
+    try {
+      for (int i = 0; i < sMembers.size(); i++) {
+        final SuspectRequest sr = sMembers.get(i);
+        final InternalDistributedMember mbr = sr.getSuspectMember();
-      if (mbr.equals(localAddress)) {
-        continue;// self
-      }
+        if (!cv.contains(mbr) || membersInFinalCheck.contains(mbr)) {
+          continue;
+        }
-      // suspectMemberInView is now set by the heartbeat monitoring code
-      // to allow us to move on from watching members we've already
-      // suspected.  Since that code is updating this collection we
-      // cannot use it here as an indication that a member is currently
-      // undergoing a final check.
-//      NetView view;
-//      view = suspectedMemberInView.putIfAbsent(mbr, cv);
+        if (mbr.equals(localAddress)) {
+          continue;// self
+        }
+        
+        membersChecked.add(mbr);
-//      if (view == null || !view.equals(cv)) {
+        // suspectMemberInView is now set by the heartbeat monitoring code
+        // to allow us to move on from watching members we've already
+        // suspected.  Since that code is updating this collection we
+        // cannot use it here as an indication that a member is currently
+        // undergoing a final check.
+        //      NetView view;
+        //      view = suspectedMemberInView.putIfAbsent(mbr, cv);
+
+        //      if (view == null || !view.equals(cv)) {
-              
+
-//      }// scheduling for final check and removing it..
+        //      }// scheduling for final check and removing it..
+      }
+    } finally {
+      membersInFinalCheck.removeAll(membersChecked);
