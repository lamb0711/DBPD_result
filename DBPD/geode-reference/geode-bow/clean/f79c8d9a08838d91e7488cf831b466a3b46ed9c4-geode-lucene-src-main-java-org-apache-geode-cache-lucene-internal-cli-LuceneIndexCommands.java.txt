Merge branch 'develop' into add-extensions-to-classpath-155484283
+import org.apache.geode.distributed.internal.InternalClusterConfigurationService;
-import org.apache.geode.management.internal.cli.commands.GfshCommand;
+import org.apache.geode.management.internal.cli.commands.InternalGfshCommand;
- * @see GfshCommand
+ * @see InternalGfshCommand
-public class LuceneIndexCommands extends GfshCommand {
+public class LuceneIndexCommands extends InternalGfshCommand {
-    getSecurityService().authorize(Resource.CLUSTER, Operation.READ, LucenePermission.TARGET);
+    authorize(Resource.CLUSTER, Operation.READ, LucenePermission.TARGET);
-    getSecurityService().authorize(Resource.CLUSTER, Operation.MANAGE, LucenePermission.TARGET);
+    authorize(Resource.CLUSTER, Operation.MANAGE, LucenePermission.TARGET);
-    final InternalCache cache = getCache();
+    final InternalCache cache = (InternalCache) getCache();
-        getSharedConfiguration().addXmlEntity(xmlEntity, null);
+        ((InternalClusterConfigurationService) getConfigurationService()).addXmlEntity(xmlEntity,
+            null);
-    getSecurityService().authorize(Resource.CLUSTER, Operation.READ, LucenePermission.TARGET);
+    authorize(Resource.CLUSTER, Operation.READ, LucenePermission.TARGET);
-    getSecurityService().authorize(Resource.DATA, Operation.READ, regionPath);
+    authorize(Resource.DATA, Operation.READ, regionPath);
-    getSecurityService().authorize(Resource.CLUSTER, Operation.MANAGE, LucenePermission.TARGET);
+    authorize(Resource.CLUSTER, Operation.MANAGE, LucenePermission.TARGET);
-        getSharedConfiguration().deleteXmlEntity(xmlEntity, null);
+        ((InternalClusterConfigurationService) getConfigurationService()).deleteXmlEntity(xmlEntity,
+            null);
-    InternalCache cache = getCache();
-        functionArguments.getRegionPath(), getCache(), returnAllMembers);
+        functionArguments.getRegionPath(), (InternalCache) getCache(), returnAllMembers);
