Merge branch 'release/1.5.0'

+import java.util.Collections;
-    Map<String, Function> functions = FunctionService.getRegisteredFunctions();
+    Collection<Function> functions = Collections.emptyList();
+    if (this.cache instanceof CacheCreation) {
+      if (this.creation.hasFunctionService()) {
+        functions = this.creation.getFunctionServiceCreation().getFunctionList();
+      }
+    } else {
+      functions = FunctionService.getRegisteredFunctions().values();
+    }
-    for (Function function : functions.values()) {
+    for (Function function : functions) {
-      if (this.version.compareTo(CacheXmlVersion.GEODE_1_0) > 0) {
+      if (this.version.compareTo(CacheXmlVersion.GEODE_1_0) >= 0) {
+        if (generateDefaults() || cp
+            .getSubscriptionTimeoutMultiplier() != PoolFactory.DEFAULT_SUBSCRIPTION_TIMEOUT_MULTIPLIER) {
+          atts.addAttribute("", "", SUBSCRIPTION_TIMEOUT_MULTIPLIER, "",
+              String.valueOf(cp.getSubscriptionTimeoutMultiplier()));
+        }
-            || cp.getSocketConnectTimeout() != PoolFactory.DEFAULT_SOCKET_CONNECT_TIMEOUT)
+            || cp.getSocketConnectTimeout() != PoolFactory.DEFAULT_SOCKET_CONNECT_TIMEOUT) {
+        }
