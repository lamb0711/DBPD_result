GEODE-4607: Remove protobuf Request and Response objects, renumber message types (#1389)


-  private ClientProtocol.Response readResponse() throws IOException {
+  private ClientProtocol.Message readResponse() throws IOException {
-    ClientProtocol.Response response =
-        ClientProtocol.Message.parseDelimitedFrom(inputStream).getResponse();
+    ClientProtocol.Message response = ClientProtocol.Message.parseDelimitedFrom(inputStream);
-        .setRequest(ClientProtocol.Request.newBuilder()
-            .setGetRegionRequest(RegionAPI.GetRegionRequest.newBuilder().setRegionName(name)))
-        .build().writeDelimitedTo(outputStream);
+        .setGetRegionRequest(RegionAPI.GetRegionRequest.newBuilder().setRegionName(name)).build()
+        .writeDelimitedTo(outputStream);
-    ClientProtocol.Message.newBuilder()
-        .setRequest(ClientProtocol.Request.newBuilder().setGetRequest(RegionAPI.GetRequest
-            .newBuilder().setRegionName(name).setKey(ValueEncoder.encodeValue(key))))
+    ClientProtocol.Message.newBuilder().setGetRequest(
+        RegionAPI.GetRequest.newBuilder().setRegionName(name).setKey(ValueEncoder.encodeValue(key)))
-    final ClientProtocol.Response response = readResponse();
+    final ClientProtocol.Message response = readResponse();
-    ClientProtocol.Message.newBuilder()
-        .setRequest(ClientProtocol.Request.newBuilder().setGetAllRequest(getAllRequest)).build()
+    ClientProtocol.Message.newBuilder().setGetAllRequest(getAllRequest).build()
-    ClientProtocol.Message.newBuilder()
-        .setRequest(ClientProtocol.Request.newBuilder()
-            .setPutRequest(RegionAPI.PutRequest.newBuilder().setRegionName(name)
-                .setEntry(ValueEncoder.encodeEntry(key, value))))
-        .build().writeDelimitedTo(outputStream);
+    ClientProtocol.Message.newBuilder().setPutRequest(RegionAPI.PutRequest.newBuilder()
+        .setRegionName(name).setEntry(ValueEncoder.encodeEntry(key, value))).build()
+        .writeDelimitedTo(outputStream);
-    ClientProtocol.Message.newBuilder()
-        .setRequest(ClientProtocol.Request.newBuilder().setPutAllRequest(putAllRequest)).build()
+    ClientProtocol.Message.newBuilder().setPutAllRequest(putAllRequest).build()
-    ClientProtocol.Message.newBuilder()
-        .setRequest(ClientProtocol.Request.newBuilder().setRemoveRequest(RegionAPI.RemoveRequest
-            .newBuilder().setRegionName(name).setKey(ValueEncoder.encodeValue(key))))
-        .build().writeDelimitedTo(outputStream);
+    ClientProtocol.Message.newBuilder().setRemoveRequest(RegionAPI.RemoveRequest.newBuilder()
+        .setRegionName(name).setKey(ValueEncoder.encodeValue(key))).build()
+        .writeDelimitedTo(outputStream);
