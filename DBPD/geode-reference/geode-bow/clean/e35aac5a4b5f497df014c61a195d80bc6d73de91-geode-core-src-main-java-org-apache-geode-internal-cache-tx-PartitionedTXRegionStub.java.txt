Merge branch 'release/1.5.0'

-import java.util.Collections;
+import org.apache.geode.internal.cache.InternalRegion;
-import org.apache.geode.internal.cache.partitioned.RemoteSizeMessage;
-    PartitionedRegion pr = (PartitionedRegion) event.getLocalRegion();
+    PartitionedRegion pr = (PartitionedRegion) event.getRegion();
-    PartitionedRegion pr = (PartitionedRegion) event.getLocalRegion();
+    PartitionedRegion pr = (PartitionedRegion) event.getRegion();
-    final LocalRegion r = event.getLocalRegion();
+    final LocalRegion r = event.getRegion();
-
-  public int entryCount() {
-    try {
-      RemoteSizeMessage.SizeResponse response =
-          RemoteSizeMessage.send(Collections.singleton(state.getTarget()), region);
-      return response.waitForSize();
-    } catch (Exception e) {
-      throw getTransactionException(null, e);
-    }
-  }
-
-      throw new CacheClosedException("Cache is shutting down");
+      throw r.getCache().getCacheClosedException("Cache is shutting down");
-      throw new CacheClosedException("Cache is shutting down");
+      throw r.getCache().getCacheClosedException("Cache is shutting down");
+  @Override
+  protected InternalRegion getRegion() {
+    return this.region;
+  }
+
