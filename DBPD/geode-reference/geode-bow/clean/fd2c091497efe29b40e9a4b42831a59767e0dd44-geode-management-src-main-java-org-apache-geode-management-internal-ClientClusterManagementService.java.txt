GEODE-6897: async operation framework for ClusterManagementService (#3801)

* GEODE-6897: create async operations framework for commands such as rebalance
+import java.util.concurrent.Executors;
+import java.util.concurrent.ScheduledExecutorService;
+
+import org.apache.geode.management.api.ClusterManagementOperation;
+import org.apache.geode.management.api.ClusterManagementOperationResult;
+import org.apache.geode.management.api.JsonSerializable;
+  private final ScheduledExecutorService longRunningStatusPollingThreadPool;
+    this.longRunningStatusPollingThreadPool = Executors.newScheduledThreadPool(1);
+  @Override
+  @SuppressWarnings("unchecked")
+  public <A extends ClusterManagementOperation<V>, V extends JsonSerializable> ClusterManagementOperationResult<V> startOperation(
+      A op) {
+    final ClusterManagementResult result;
+
+    // make the REST call to start the operation
+    result = restTemplate.postForEntity(RestfulEndpoint.URI_VERSION + op.getEndpoint(), op,
+        ClusterManagementResult.class).getBody();
+
+    // our restTemplate requires the url to be modified to start from "/v2"
+    String uri = stripPrefix(RestfulEndpoint.URI_CONTEXT, result.getUri());
+
+    // complete the future by polling the check-status REST endpoint
+    CompletableFutureProxy<V> operationResult =
+        new CompletableFutureProxy<>(restTemplate, uri, longRunningStatusPollingThreadPool);
+
+    return new ClusterManagementOperationResult<>(result, operationResult);
+  }
+
+  private static String stripPrefix(String prefix, String s) {
+    if (s.startsWith(prefix)) {
+      return s.substring(prefix.length());
+    }
+    return s;
+  }
+
+  @Override
+  public void close() {
+    longRunningStatusPollingThreadPool.shutdownNow();
+  }
