GEODE-1619 PartitionedRegionSingleHopWithServerGroupDUnitTest.test_SingleHopWithServerGroupTwoClientServerGroup

Changed the bucket->location map to be copy-on-write so that readers
will no longer see incomplete data.

+  /**
+   * repopulates the RegionAdvisor's location information
+   * for this bucket
+   */
-    // check to see if it is clientBucketProfile add it to the RegionAdvisor
-    // data structure which maintains the newly created clientBucketProfile
-    // don't add more than once, but replace existing profile
-    Set<ServerBucketProfile> serverProfiles = this.regionAdvisor
-        .getClientBucketProfiles(bucketId);
-    if (serverProfiles == null) {
-      serverProfiles = newSetFromMap(new ConcurrentHashMap<ServerBucketProfile, Boolean>());
-      this.regionAdvisor.setClientBucketProfiles(bucketId, serverProfiles);
-    }
-    serverProfiles.clear();
+    Set<ServerBucketProfile> serverProfiles = newSetFromMap(new HashMap<ServerBucketProfile, Boolean>());
+    this.regionAdvisor.setClientBucketProfiles(bucketId, serverProfiles);
