GEODE-7652: MembershipBuilder lets you set the local locator (#4614)


+import org.apache.geode.distributed.internal.membership.gms.GMSMembership;
+import org.apache.geode.distributed.internal.membership.gms.Services;
-  public void setMembership(Membership<ID> membership) {
-    gmsLocator.setMembership(membership);
+  public void setMembership(final Membership<ID> membership) {
+    final GMSMembership<ID> gmsMembership = (GMSMembership<ID>) membership;
+    setServices(gmsMembership.getServices());
-  public GMSLocator getGMSLocator() {
+  public GMSLocator<ID> getGMSLocator() {
+  /**
+   * Services is a class internal to the membership module. As such, the ability to setServices
+   * is available ony within the module. It's not part of the external API.
+   */
+  public void setServices(final Services<ID> services) {
+    gmsLocator.setServices(services);
+  }
+
