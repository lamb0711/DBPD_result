Merge branch 'release/1.3.0'

+import java.io.Serializable;
+
+
+import org.apache.geode.cache.query.IndexType;
+import org.apache.geode.cache.query.internal.index.AbstractIndex;
-import java.io.Serializable;
-
+  private static final long serialVersionUID = -2198907141534201288L;
+  private boolean isValid;
-
+    if (index instanceof AbstractIndex) {
+      setIsValid(((AbstractIndex) index).isValid());
+    } else {
+      setIsValid(false);
+    }
+  public void setIsValid(boolean valid) {
+    this.isValid = valid;
+  }
+
+
-  public void setIndexType(final org.apache.geode.cache.query.IndexType indexType) {
-    setIndexType(IndexType.valueOf(indexType));
-  }
-
+  public boolean getIsValid() {
+    return this.isValid;
+  }
+
-    buffer.append(", indexType = ").append(getIndexType());
+    buffer.append(", indexType = ").append(getIndexType().getName());
+    buffer.append(", isValid = ").append(getIsValid());
-
-  public static enum IndexType {
-    FUNCTIONAL("RANGE"), HASH("HASH"), PRIMARY_KEY("KEY");
-
-    private final String description;
-
-    public static IndexType valueOf(final org.apache.geode.cache.query.IndexType indexType) {
-      for (final IndexType type : values()) {
-        if (type.name().equalsIgnoreCase(ObjectUtils.toString(indexType))) {
-          return type;
-        }
-      }
-      return null;
-    }
-
-    IndexType(final String description) {
-      assertValidArgument(StringUtils.isNotBlank(description),
-          "The description for the IndexType must be specified!");
-      this.description = description;
-    }
-
-    public String getDescription() {
-      return this.description;
-    }
-
-    public org.apache.geode.cache.query.IndexType getType() {
-      switch (this) {
-        case HASH:
-          return null;
-        case PRIMARY_KEY:
-          return org.apache.geode.cache.query.IndexType.PRIMARY_KEY;
-        case FUNCTIONAL:
-        default:
-          return org.apache.geode.cache.query.IndexType.FUNCTIONAL;
-      }
-    }
-
-    @Override
-    public String toString() {
-      return getDescription();
-    }
-  }
-
