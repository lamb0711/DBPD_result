GEODE-6561: When a test server is forced to shutdown, do not save cache xml if use cluster config (#3509)

* our rule should always set the default server when starting a server
* when a server is forced shut down, do not save the cache xml if it's using cluster config
+import static java.util.stream.Collectors.toList;
+import java.util.List;
+  public <T> T getProxyMXBean(Class<T> proxyClass)
+      throws MalformedObjectNameException, IOException {
+    return getProxyMXBean(proxyClass, null);
+  }
+
+  /**
+   * Retrieve a new proxy MXBean
+   *
+   * @return A new proxy MXBean of the same type with which the class was constructed
+   */
+   * Returns a list of remote MBeans from the given member. The MBeans are filtered to exclude the
+   * member's local MBeans. The resulting list includes only MBeans that all locators in the system
+   * should have.
+   **/
+  public List<ObjectName> getGemfireFederatedBeans() throws IOException {
+    Set<ObjectName> allBeans = con.queryNames(null, null);
+    // Each locator will have a "Manager" bean that is a part of the above query,
+    // representing the ManagementAdapter.
+    // This bean is registered (and so included in its own queries),
+    // but *not* federated (and so is not included in another locator's bean queries).
+    return allBeans.stream()
+        .filter(b -> b.toString().contains("GemFire"))
+        .filter(b -> !b.toString().contains("service=Manager,type=Member,member=locator"))
+        .sorted()
+        .collect(toList());
+  }
+
+  /**
-  /**
-   * Retrieve a new proxy MXBean
-   *
-   * @return A new proxy MXBean of the same type with which the class was constructed
-   */
-  public <T> T getProxyMXBean(Class<T> proxyClass)
-      throws MalformedObjectNameException, IOException {
-    return getProxyMXBean(proxyClass, null);
-  }
-
-  public <T> T getProxyMXBean(String beanQueryName)
-      throws MalformedObjectNameException, IOException {
-    return getProxyMXBean(null, beanQueryName);
-  }
-
