Merge branch 'release/1.3.0'

-            requestMemberRemoval(member,
-                "this member is no longer in the view but is initiating connections");
+            try {
+              requestMemberRemoval(member,
+                  "this member is no longer in the view but is initiating connections");
+            } catch (CancelException e) {
+              // okay to ignore
+            }
+    // UDP messages received from surprise members will have partial IDs.
+    // Attempt to replace these with full IDs from the MembershipManager's view.
+    if (msg.getSender().isPartial()) {
+      replacePartialIdentifierInMessage(msg);
+    }
+
+  /**
+   * If the message's sender ID is a partial ID, which can happen if it's received in a JGroups
+   * message, replace it with an ID from the current membership view.
+   *
+   * @param msg the message holding the sender ID
+   */
+  public void replacePartialIdentifierInMessage(DistributionMessage msg) {
+    InternalDistributedMember sender = msg.getSender();
+    sender = this.services.getJoinLeave().getMemberID(sender.getNetMember());
+    if (sender.isPartial()) {
+      // the DM's view also has surprise members, so let's check it as well
+      sender = this.dcReceiver.getDM().getCanonicalId(sender);
+    }
+    if (!sender.isPartial()) {
+      msg.setSender(sender);
+    }
+  }
+
