Merge branch 'release/1.8.0'

+import org.apache.geode.cache.query.internal.CqEntry;
-import org.apache.geode.internal.i18n.LocalizedStrings;
+
-              results.add(value);
+              addResultToResults(context, results, key, value);
-          QueryMonitor.isQueryExecutionCanceled();
-          results.add(iter.next());
+          QueryMonitor.throwExceptionIfQueryOnCurrentThreadIsCanceled();
+          addResultToResults(context, results, key, iter.next());
-            LocalizedStrings.PrimaryKeyIndex_INVALID_OPERATOR.toLocalizedString());
+            "Invalid Operator");
-                applyProjection(projAttrib, context, results, value, intermediateResults,
-                    isIntersection);
+                applyCqOrProjection(projAttrib, context, results, value, intermediateResults,
+                    isIntersection, key);
-              applyProjection(projAttrib, context, results, val, intermediateResults,
-                  isIntersection);
+              applyCqOrProjection(projAttrib, context, results, val, intermediateResults,
+                  isIntersection, key);
+  private void addResultToResults(ExecutionContext context, Collection results, Object key,
+      Object result) {
+    if (context != null && context.isCqQueryContext()) {
+      results.add(new CqEntry(key, result));
+    } else {
+      results.add(result);
+    }
+  }
-        LocalizedStrings.PrimaryKeyIndex_FOR_A_PRIMARYKEY_INDEX_A_RANGE_HAS_NO_MEANING
-            .toLocalizedString());
+        "For a PrimaryKey Index , a range has no meaning");
