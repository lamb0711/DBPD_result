Merge branch 'release/1.0.0-incubating.M3'

-import java.io.File;
-import java.io.FileNotFoundException;
-import java.io.IOException;
-import java.lang.management.ManagementFactory;
-import java.net.ConnectException;
-import java.net.InetAddress;
-import java.net.UnknownHostException;
-import java.util.Arrays;
-import java.util.Collections;
-import java.util.HashMap;
-import java.util.List;
-import java.util.Map;
-import java.util.Properties;
-import java.util.TreeMap;
-import java.util.concurrent.TimeUnit;
-import java.util.concurrent.TimeoutException;
-import java.util.concurrent.atomic.AtomicBoolean;
-import java.util.concurrent.atomic.AtomicReference;
-import java.util.logging.Level;
-
-import javax.management.MalformedObjectNameException;
-import javax.management.ObjectName;
+import static com.gemstone.gemfire.distributed.ConfigurationProperties.*;
-import com.gemstone.gemfire.internal.process.ConnectionFailedException;
-import com.gemstone.gemfire.internal.process.ControlNotificationHandler;
-import com.gemstone.gemfire.internal.process.ControllableProcess;
-import com.gemstone.gemfire.internal.process.FileAlreadyExistsException;
-import com.gemstone.gemfire.internal.process.MBeanInvocationFailedException;
-import com.gemstone.gemfire.internal.process.PidUnavailableException;
-import com.gemstone.gemfire.internal.process.ProcessController;
-import com.gemstone.gemfire.internal.process.ProcessControllerFactory;
-import com.gemstone.gemfire.internal.process.ProcessControllerParameters;
-import com.gemstone.gemfire.internal.process.ProcessLauncherContext;
-import com.gemstone.gemfire.internal.process.ProcessType;
-import com.gemstone.gemfire.internal.process.ProcessUtils;
-import com.gemstone.gemfire.internal.process.StartupStatusListener;
-import com.gemstone.gemfire.internal.process.UnableToControlProcessException;
+import com.gemstone.gemfire.internal.process.*;
+import javax.management.MalformedObjectNameException;
+import javax.management.ObjectName;
+import java.io.File;
+import java.io.FileNotFoundException;
+import java.io.IOException;
+import java.lang.management.ManagementFactory;
+import java.net.ConnectException;
+import java.net.InetAddress;
+import java.net.UnknownHostException;
+import java.util.*;
+import java.util.concurrent.TimeUnit;
+import java.util.concurrent.TimeoutException;
+import java.util.concurrent.atomic.AtomicBoolean;
+import java.util.concurrent.atomic.AtomicReference;
+import java.util.logging.Level;
+
- * @since 7.0
+ * @since GemFire 7.0
+    if (locator != null) {
+      return locator.getPort();
+    }
+
-    overriddenDefaults.put(ProcessLauncherContext.OVERRIDDEN_DEFAULTS_PREFIX.concat(DistributionConfig.LOG_FILE_NAME),
+    overriddenDefaults.put(ProcessLauncherContext.OVERRIDDEN_DEFAULTS_PREFIX.concat(LOG_FILE),
-     * @param propertyName a String indicating the name of the GemFire Distributed System property.
+     * @param propertyName a String indicating the name of the GemFire Distributed System property as described in {@link ConfigurationProperties}
-          && !isSet(System.getProperties(), DistributionConfig.GEMFIRE_PREFIX + DistributionConfig.NAME_NAME)
-          && !isSet(getDistributedSystemProperties(), DistributionConfig.NAME_NAME)
-          && !isSet(loadGemFireProperties(DistributedSystem.getPropertyFileURL()), DistributionConfig.NAME_NAME))
+            && !isSet(System.getProperties(), DistributionConfig.GEMFIRE_PREFIX + NAME)
+            && !isSet(getDistributedSystemProperties(), NAME)
+            && !isSet(loadGemFireProperties(DistributedSystem.getPropertyFileURL()), NAME))
