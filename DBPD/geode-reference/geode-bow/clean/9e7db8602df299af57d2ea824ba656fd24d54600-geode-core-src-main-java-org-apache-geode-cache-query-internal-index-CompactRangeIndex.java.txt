GEODE-5433: Indexes are updated with the correct old value from gii (#2142)

* Modified logic for indexing in initialImagePut to use the correct new vs old
* Cleaning up indexes that early aborted in gii due to tombstones
* Optimized index removal to not have to find old key when cleaning up gii tombstones
* Refactor initialImagePut, slightly reduce complexity
+    } else if (opCode == REMOVE_DUE_TO_GII_TOMBSTONE_CLEANUP) {
+      // we know in this specific case, that a before op was called and stored oldKey/value
+      // we also know that a regular remove won't work due to the entry no longer being present
+      // We know the old key so let's just remove mapping from the old key
+      if (oldKeyValue != null) {
+        indexStore.removeMapping(oldKeyValue.get().getOldKey(), entry);
+      } else {
+        // rely on reverse map in the index store to figure out the real key
+        indexStore.removeMapping(IndexManager.NULL, entry);
+      }
+    } else if (opCode == CLEAN_UP_THREAD_LOCALS) {
+      if (oldKeyValue != null) {
+        oldKeyValue.remove();
+      }
