GEODE-4705: Refactor Failure.of to handle protobuf builder code. (#1472)


-import org.apache.geode.internal.protocol.protobuf.v1.ClientProtocol;
-import org.apache.geode.internal.protocol.protobuf.v1.serialization.exception.DecodingException;
-import org.apache.geode.internal.protocol.protobuf.v1.serialization.exception.EncodingException;
-import org.apache.geode.internal.protocol.protobuf.v1.utilities.ProtobufResponseUtilities;
-  public Result<RegionAPI.GetRegionNamesResponse, ClientProtocol.ErrorResponse> process(
+  public Result<RegionAPI.GetRegionNamesResponse> process(
-    return Success.of(ProtobufResponseUtilities.createGetRegionNamesResponse(regions));
+
+    RegionAPI.GetRegionNamesResponse.Builder builder =
+        RegionAPI.GetRegionNamesResponse.newBuilder();
+    for (Region region : regions) {
+      builder.addRegions(region.getName());
+    }
+
+    return Success.of(builder.build());
