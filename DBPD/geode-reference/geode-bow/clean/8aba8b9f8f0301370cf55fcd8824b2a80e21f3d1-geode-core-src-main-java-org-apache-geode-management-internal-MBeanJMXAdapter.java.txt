GEODE-6052: Use constructor DI to avoid PowerMock in JMX tests (#2891)


-
-  private Map<ObjectName, Object> localGemFireMBean;
+  private final Map<ObjectName, Object> localGemFireMBean;
-  private DistributedMember distMember;
+  private final DistributedMember distMember;
-  private Logger logger = LogService.getLogger();
+  private static final Logger logger = LogService.getLogger();
-  public MBeanJMXAdapter() {
+  public MBeanJMXAdapter(DistributedMember distMember) {
-    this.distMember = InternalDistributedSystem.getConnectedInstance().getDistributedMember();
+    this.distMember = distMember;
-      logger.warn("MBean with ObjectName " + objectName + " has already been registered.");
+      logRegistrationWarning(objectName, true);
-      logger.warn("MBean with ObjectName " + objectName + " has already been unregistered.");
+      logRegistrationWarning(objectName, false);
+
+  void logRegistrationWarning(ObjectName objectName, boolean registering) {
+    logger.warn("MBean with ObjectName " + objectName + " has already been "
+        + (registering ? "registered." : "unregistered."));
+  }
