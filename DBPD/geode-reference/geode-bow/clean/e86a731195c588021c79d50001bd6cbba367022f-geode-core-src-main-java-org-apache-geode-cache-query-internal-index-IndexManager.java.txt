Merge branch 'release/1.3.0'

-            if (((AbstractIndex) index).isPopulated() && index.getType() != IndexType.PRIMARY_KEY) {
+            if (index.isValid() && ((AbstractIndex) index).isPopulated()
+                && index.getType() != IndexType.PRIMARY_KEY) {
-
-                index.addIndexMapping(entry);
-
+                addIndexMapping(entry, index);
-              index.addIndexMapping(entry);
+              addIndexMapping(entry, index);
+  private void addIndexMapping(RegionEntry entry, IndexProtocol index) throws IMQException {
+    try {
+      index.addIndexMapping(entry);
+    } catch (Exception exception) {
+      index.markValid(false);
+      setPRIndexAsInvalid((AbstractIndex) index);
+      logger.warn("Put operation for the entry corrupted the index : "
+          + ((AbstractIndex) index).indexName + " with the exception : \n " + exception);
+    }
+  }
+
+  private void setPRIndexAsInvalid(AbstractIndex index) {
+    if (index.prIndex != null) {
+      AbstractIndex prIndex = (AbstractIndex) index.prIndex;
+      prIndex.markValid(false);
+    }
+  }
+
