GEODE-4566: remove getInstance calls from PartitionMessage (#1411)

* cache is now obtained from DistributionManager
to check if the cache is closed instead of getting
it from GemFireCacheImpl.getInstance.

* setTransactionDisabled is now set without calling getInstance

-import org.apache.geode.internal.cache.GemFireCacheImpl;
-    setIfTransactionDistributed();
-    setIfTransactionDistributed();
-    InternalCache cache = getInternalCache();
-    // return (cache != null && cache.isClosed());
+    if (dm == null) {
+      return true;
+    }
+    InternalCache cache = dm.getCache();
-  InternalCache getInternalCache() {
-    return GemFireCacheImpl.getInstance();
-  }
-
-
-  /*
-   * For Distributed Tx
-   */
-  private void setIfTransactionDistributed() {
-    InternalCache cache = GemFireCacheImpl.getInstance();
-    if (cache != null) {
-      if (cache.getTxManager() != null) {
-        this.isTransactionDistributed = cache.getTxManager().isDistributed();
-      }
-    }
-  }
