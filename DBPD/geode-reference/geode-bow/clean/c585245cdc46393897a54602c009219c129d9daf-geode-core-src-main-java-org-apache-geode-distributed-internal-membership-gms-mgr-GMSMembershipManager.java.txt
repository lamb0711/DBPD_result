GEODE-3043 surprise member added when the member is already in the cluster

Modified InternalDistributedMember to disregard the "name" field in compareTo
if partial IDs are being used in the comparison.

Modified GMSMembershipManager to attempt to replace partial IDs with the
full IDs from the membership view.  Typically these IDs will cause no
problems and methods in GMSMembershipManager that send messages to a
recipient will also attempt to replace the ID with a full ID from the
membership view, but it's good to try to keep IDs canonical.

+    // UDP messages received from surprise members will have partial IDs.
+    // Attempt to replace these with full IDs from the MembershipManager's view.
+    if (msg.getSender().isPartial()) {
+      replacePartialIdentifierInMessage(msg);
+    }
+
+  /**
+   * If the message's sender ID is a partial ID, which can happen if it's received in a JGroups
+   * message, replace it with an ID from the current membership view.
+   *
+   * @param msg the message holding the sender ID
+   */
+  public void replacePartialIdentifierInMessage(DistributionMessage msg) {
+    InternalDistributedMember sender = msg.getSender();
+    sender = this.services.getJoinLeave().getMemberID(sender.getNetMember());
+    if (sender.isPartial()) {
+      // the DM's view also has surprise members, so let's check it as well
+      sender = this.dcReceiver.getDM().getCanonicalId(sender);
+    }
+    if (!sender.isPartial()) {
+      msg.setSender(sender);
+    }
+  }
+
