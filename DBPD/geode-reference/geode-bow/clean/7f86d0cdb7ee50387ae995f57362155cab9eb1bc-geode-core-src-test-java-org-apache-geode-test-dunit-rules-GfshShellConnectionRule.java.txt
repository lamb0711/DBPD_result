GEODE-3231: withLogFile does not imply withWorkingDir anymore

+import java.util.function.Supplier;
+
+import org.json.JSONArray;
+import org.junit.rules.TemporaryFolder;
+import org.junit.runner.Description;
+
-import org.json.JSONArray;
-import org.junit.rules.TemporaryFolder;
-import org.junit.runner.Description;
-
-import java.util.function.Supplier;
-    // do not auto connect if it's not used with ConnectionConfiguration
-      return;
+      connectAndVerify(portSupplier.get(), portType);
+    } else {
+      // when config is not null, developer may deliberately pass in a wrong
+      // password so that the test will verify the connection itself. So do not verify here.
+      secureConnect(portSupplier.get(), portType, config.user(), config.password());
-
-    connect(portSupplier.get(), portType, CliStrings.CONNECT__USERNAME, config.user(),
-        CliStrings.CONNECT__PASSWORD, config.password());
-
