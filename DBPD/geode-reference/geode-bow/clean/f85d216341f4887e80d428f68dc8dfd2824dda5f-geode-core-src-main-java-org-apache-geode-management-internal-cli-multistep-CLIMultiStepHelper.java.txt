GEODE-2928: get rid of the isGfshVM static variable

* consolidate the availability indicators
* remove the isGfshVM and isGfshVM() method
* enhance the MultiStepCommand to include info on shellOnly commands to enhance command validation
* remove the SUPPORT_MULTIPLE_GFSH static flag and properly remove the gfsh instance at the end of each test

-import org.apache.geode.management.internal.cli.CliUtil;
-import org.apache.geode.management.internal.cli.i18n.CliStrings;
-  public static Result execCLISteps(LogWrapper logWrapper, Gfsh shell, ParseResult parseResult) {
+  public static Result execCLISteps(MultiStepCommand msc, LogWrapper logWrapper, Gfsh shell,
+      ParseResult parseResult) {
-            commandRequest.getCustomParameters().put(CliStrings.QUERY__STEPNAME,
+            commandRequest.getCustomParameters().put(MultiStepCommand.STEP_PARAMETER_NAME,
-          try {
-            throw new Exception();
-          } catch (Exception ex) {
-            ex.printStackTrace();
-          }
-    if (CliUtil.isGfshVM) {
+    if (Gfsh.getCurrentInstance() != null) {
-  public static Result createSimpleStepResult(String nextStep) {
-    CompositeResultData result = ResultBuilder.createCompositeResultData();
-    SectionResultData section = result.addSection(STEP_SECTION);
-    section.addData(NEXT_STEP_NAME, nextStep);
-    return ResultBuilder.buildResult(result);
-  }
-
