GEODE-5748: Hold a write lock during cleanUpAfterFailedGII (#2501)

 * Hold write lock when cleanUpAfterFailedGII.
 * Hold read lock when cache operation is performed on the farside if region is not yet initialized.
 * Also hold read lock when transaction is performed on the farside if region not initialized yet.

-  protected abstract void runWhileLockedForCacheModification(Runnable r);
+  protected void runWhileLockedForCacheModification(Runnable r) {
+    final boolean locked = getOwner().lockWhenRegionIsInitializing();
+    try {
+      r.run();
+    } finally {
+      if (locked) {
+        getOwner().unlockWhenRegionIsInitializing();
+      }
+    }
+  }
