GEODE-7828: Convert backing store for Redis Hashes and Sets to single regions (#4781)

* Revert "Revert "GEODE-7828: Convert backing store for Redis Hashes and Sets to single regions (#4745)" (#4780)"

This reverts commit f0982cdedf1b122f734919d0647434cca33ec254.

* Fix sporadic test failures for concurrent HSetNX
+import java.util.Collection;
+
-    command.setResponse(
-        Coder.getErrorResponse(context.getByteBufAllocator(), RedisConstants.ERROR_UNKOWN_COMMAND));
-  }
+    StringBuilder commandProcessedText = new StringBuilder();
+
+    Collection<byte[]> processedCmds = command.getProcessedCommand();
+
+    if (processedCmds != null && !processedCmds.isEmpty()) {
+
+      for (byte[] bytes : processedCmds) {
+        if (bytes == null || bytes.length == 0) {
+          continue; // skip blanks
+        }
+
+        commandProcessedText.append(Coder.bytesToString(bytes)).append(" ");
+      }
+    }
+
+    command.setResponse(Coder.getErrorResponse(context.getByteBufAllocator(),
+        RedisConstants.ERROR_UNKOWN_COMMAND + " " + commandProcessedText));
+  }
