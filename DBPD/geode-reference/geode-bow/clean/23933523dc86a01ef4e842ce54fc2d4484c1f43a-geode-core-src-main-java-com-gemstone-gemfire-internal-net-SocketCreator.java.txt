GEODE-420: Fixing SSL Configuration for Gateway WAN tests

-      if (this.sslConfig.isEnabled()) {
-        System.setProperty("p2p.useSSL", "true");
-        System.setProperty("p2p.oldIO", "true");
-        System.setProperty("p2p.nodirectBuffers", "true");
-
-        try {
-          if (sslContext == null) {
-            sslContext = createAndConfigureSSLContext();
-            SSLContext.setDefault(sslContext);
-          }
-        } catch (Exception e) {
-          throw new GemFireConfigException("Error configuring GemFire ssl ", e);
+      if(SSLEnabledComponent.CLUSTER.equals(sslConfig.getSslEnabledComponent())){
+        if (this.sslConfig.isEnabled()) {
+          System.setProperty("p2p.useSSL", "true");
+          System.setProperty("p2p.oldIO", "true");
+          System.setProperty("p2p.nodirectBuffers", "true");
+        } else {
+          System.setProperty("p2p.useSSL", "false");
-      } else {
-        System.setProperty("p2p.useSSL", "false");
+
+      try {
+        if (this.sslConfig.isEnabled() && sslContext == null) {
+          sslContext = createAndConfigureSSLContext();
+          SSLContext.setDefault(sslContext);
+        }
+      } catch (Exception e) {
+        throw new GemFireConfigException("Error configuring GemFire ssl ", e);
+      }
+
