GEODE-6660: Remove non-Linux OS statistics classes (#3574)


-import org.apache.geode.internal.PureJavaMode;
+  private OsStatisticsProvider osStatisticsProvider = OsStatisticsProvider.build();
+
-    if (PureJavaMode.osStatsAreAvailable()) {
+    if (osStatisticsProvider.osStatsSupported()) {
-        int retVal = HostStatHelper.initOSStats();
+        int retVal = osStatisticsProvider.initOSStats();
-        HostStatHelper.newSystem(getOsStatisticsFactory(), id);
+        osStatisticsProvider.newSystem(getOsStatisticsFactory(), id);
-            HostStatHelper.newProcess(getOsStatisticsFactory(), id, statName + "-proc");
-        processStats = HostStatHelper.newProcessStats(stats);
+            osStatisticsProvider.newProcess(getOsStatisticsFactory(), id, statName + "-proc");
+        processStats = osStatisticsProvider.newProcessStats(stats);
-    if (prepareOnly || osStatsDisabled() || !PureJavaMode.osStatsAreAvailable()) {
+    if (prepareOnly || osStatsDisabled() || !osStatisticsProvider.osStatsSupported()) {
-    HostStatHelper.readyRefreshOSStats();
+    osStatisticsProvider.readyRefreshOSStats();
-        HostStatHelper.refresh((LocalStatisticsImpl) statisticsImpl);
+        osStatisticsProvider.refresh((LocalStatisticsImpl) statisticsImpl);
-    if (PureJavaMode.osStatsAreAvailable()) {
+    if (osStatisticsProvider.osStatsSupported()) {
-        HostStatHelper.closeOSStats();
+        osStatisticsProvider.closeOSStats();
