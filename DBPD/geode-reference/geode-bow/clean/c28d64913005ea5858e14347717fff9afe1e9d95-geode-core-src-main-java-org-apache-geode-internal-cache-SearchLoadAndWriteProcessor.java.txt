Merge branch 'release/1.4.0'

-   * 
+   *
+    if (event instanceof EntryEventImpl) {
+      ((EntryEventImpl) event).setReadOldValueFromDisk(true);
+    }
+      if (event instanceof EntryEventImpl) {
+        ((EntryEventImpl) event).setReadOldValueFromDisk(false);
+      }
-   * 
+   *
-    return region.getCache().getSearchTimeout(); // CacheFactory.getInstance(((DistributedRegion)this.region).getSystem()).getSearchTimeout();
+    return region.getCache().getSearchTimeout();
-        InternalCache cache = (InternalCache) CacheFactory.getInstance(dm.getSystem());
+        InternalCache cache = dm.getExistingCache();
-        LocalRegion region =
-            (LocalRegion) CacheFactory.getInstance(dm.getSystem()).getRegion(this.regionName);
+        LocalRegion region = (LocalRegion) dm.getExistingCache().getRegion(this.regionName);
-        LocalRegion region =
-            (LocalRegion) CacheFactory.getInstance(dm.getSystem()).getRegion(this.regionName);
+        LocalRegion region = (LocalRegion) dm.getExistingCache().getRegion(this.regionName);
-        processor.distributionManager.putOutgoingUserData(msg);
-      } catch (NotSerializableException ignore) {
+        processor.distributionManager.putOutgoing(msg);
+      } catch (InternalGemFireException e) {
-        InternalCache gfc = (InternalCache) CacheFactory.getInstance(dm.getSystem());
+        InternalCache gfc = dm.getExistingCache();
-        InternalCache gfc = (InternalCache) CacheFactory.getInstance(dm.getSystem());
+        InternalCache gfc = dm.getExistingCache();
+            if (entryEvtImpl != null) {
+              entryEvtImpl.setReadOldValueFromDisk(true);
+            }
+            } finally {
+              if (entryEvtImpl != null) {
+                entryEvtImpl.setReadOldValueFromDisk(false);
+              }
