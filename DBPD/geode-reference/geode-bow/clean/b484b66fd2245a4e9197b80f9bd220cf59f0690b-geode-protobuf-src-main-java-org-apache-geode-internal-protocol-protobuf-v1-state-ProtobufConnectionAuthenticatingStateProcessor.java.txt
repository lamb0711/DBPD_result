GEODE-4334: Merge protobuf modules (#1332)


-import org.apache.geode.internal.protocol.MessageExecutionContext;
-import org.apache.geode.internal.protocol.OperationContext;
-import org.apache.geode.internal.protocol.ProtocolErrorCode;
+import org.apache.geode.internal.protocol.protobuf.v1.MessageExecutionContext;
+import org.apache.geode.internal.protocol.protobuf.v1.ProtobufErrorCode;
+import org.apache.geode.internal.protocol.protobuf.v1.ProtobufOperationContext;
-import org.apache.geode.internal.protocol.state.ConnectionAuthenticatingStateProcessor;
-import org.apache.geode.internal.protocol.state.ConnectionShiroAuthorizingStateProcessor;
-import org.apache.geode.internal.protocol.state.ConnectionStateProcessor;
-import org.apache.geode.internal.protocol.state.exception.ConnectionStateException;
+import org.apache.geode.internal.protocol.protobuf.v1.state.exception.ConnectionStateException;
-public class ConnectionShiroAuthenticatingStateProcessor
-    implements ConnectionAuthenticatingStateProcessor {
+public class ProtobufConnectionAuthenticatingStateProcessor
+    implements ProtobufConnectionStateProcessor {
-  public ConnectionShiroAuthenticatingStateProcessor(SecurityService securityService) {
+  public ProtobufConnectionAuthenticatingStateProcessor(SecurityService securityService) {
-      OperationContext operationContext) throws ConnectionStateException {
+      ProtobufOperationContext operationContext) throws ConnectionStateException {
-      throw new ConnectionStateException(ProtocolErrorCode.AUTHENTICATION_FAILED,
+      throw new ConnectionStateException(ProtobufErrorCode.AUTHENTICATION_FAILED,
-  public ConnectionStateProcessor authenticate(Properties properties)
+  public ProtobufConnectionAuthenticatingStateProcessor allowAuthentication()
+      throws ConnectionStateException {
+    return this;
+  }
+
+  public ProtobufConnectionStateProcessor authenticate(Properties properties)
-    return new ConnectionShiroAuthorizingStateProcessor(securityService, subject);
+    return new ProtobufConnectionAuthorizingStateProcessor(securityService, subject);
