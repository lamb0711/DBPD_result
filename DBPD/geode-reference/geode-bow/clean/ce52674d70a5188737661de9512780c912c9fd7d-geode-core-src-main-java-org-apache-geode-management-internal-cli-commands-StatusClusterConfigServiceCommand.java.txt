GEODE-5971: Refactor StatusClusterConfigServiceCommand to extend GfshCommand base type (#2960)

GEODE-5971: Refactor StartClusterConfigServiceCommand to extend GfshCommand base type
* Remove unnecessary cleanup step
* Add more test coverage to status-cluster-config, by shutting down a locator

Signed-off-by: Ken Howe <khowe@pivotal.io>
Signed-off-by: Aditya Anchuri <aanchuri@pivotal.io>

-import org.apache.geode.management.cli.Result;
+import org.apache.geode.management.cli.GfshCommand;
-import org.apache.geode.management.internal.cli.result.ResultBuilder;
-import org.apache.geode.management.internal.cli.result.TabularResultData;
+import org.apache.geode.management.internal.cli.result.model.ResultModel;
+import org.apache.geode.management.internal.cli.result.model.TabularResultModel;
-public class StatusClusterConfigServiceCommand extends InternalGfshCommand {
-  private static final FetchSharedConfigurationStatusFunction fetchSharedConfigStatusFunction =
-      new FetchSharedConfigurationStatusFunction();
-
+public class StatusClusterConfigServiceCommand extends GfshCommand {
-  public Result statusSharedConfiguration() {
+  public ResultModel statusSharedConfiguration() {
+
-      return ResultBuilder.createInfoResult(CliStrings.NO_LOCATORS_WITH_SHARED_CONFIG);
-    } else {
-      return ResultBuilder.buildResult(getSharedConfigurationStatus(locators));
+      return ResultModel.createInfo(CliStrings.NO_LOCATORS_WITH_SHARED_CONFIG);
+
+    ResultModel resultModel = new ResultModel();
+    TabularResultModel tabularResultModel =
+        resultModel.addTable("Status of shared configuration on locators");
+    if (!populateSharedConfigurationStatus(locators, tabularResultModel)) {
+      resultModel.setStatus(Status.ERROR);
+    }
+
+    return resultModel;
-  private TabularResultData getSharedConfigurationStatus(Set<DistributedMember> locators) {
+  private boolean populateSharedConfigurationStatus(Set<DistributedMember> locators,
+      TabularResultModel tabularResultModel) {
-        CliUtil.executeFunction(fetchSharedConfigStatusFunction, null, locators);
+        CliUtil.executeFunction(new FetchSharedConfigurationStatusFunction(), null, locators);
-    TabularResultData table = ResultBuilder.createTabularResultData();
-    table.setHeader("Status of shared configuration on locators");
-      table.accumulate(CliStrings.STATUS_SHARED_CONFIG_NAME_HEADER, result.getMemberIdOrName());
-      String status = (String) result.getSerializables()[0];
-      table.accumulate(CliStrings.STATUS_SHARED_CONFIG_STATUS, status);
+      tabularResultModel.accumulate(CliStrings.STATUS_SHARED_CONFIG_NAME_HEADER,
+          result.getMemberIdOrName());
+      String status = (String) result.getResultObject();
+      tabularResultModel.accumulate(CliStrings.STATUS_SHARED_CONFIG_STATUS, status);
-    if (!isSharedConfigRunning) {
-      table.setStatus(Status.ERROR);
-    }
-    return table;
+    return isSharedConfigRunning;
