Merge branch 'release/1.4.0'

+import java.util.concurrent.locks.Lock;
+
+import org.apache.logging.log4j.Logger;
+
+import org.apache.geode.internal.lang.SystemPropertyHelper;
-import org.apache.logging.log4j.Logger;
-
-import java.util.concurrent.locks.Lock;
-   * 
+   *
+  @Override
+  protected boolean isIdleExpiredOnOthers() throws EntryNotFoundException {
+    if (getIdleAttributes().getTimeout() <= 0L) {
+      // idle expiration is not being used
+      return true;
+    }
+    if (getIdleAttributes().getAction().isLocal()) {
+      // no need to consult with others if using a local action
+      return true;
+    }
+    if (SystemPropertyHelper.restoreIdleExpirationBehavior()) {
+      return true;
+    }
+
+    long latestLastAccessTime = getLatestLastAccessTimeOnOtherMembers();
+    if (latestLastAccessTime > getLastAccessedTime()) {
+      setLastAccessedTime(latestLastAccessTime);
+      return false;
+    }
+    return true;
+  }
+
+  private long getLatestLastAccessTimeOnOtherMembers() {
+    return getLocalRegion().getLatestLastAccessTimeFromOthers(getKey());
+  }
+
+  private void setLastAccessedTime(long lastAccessedTime) throws EntryNotFoundException {
+    RegionEntry re = getCheckedRegionEntry();
+    re.setLastAccessed(lastAccessedTime);
+  }
+
