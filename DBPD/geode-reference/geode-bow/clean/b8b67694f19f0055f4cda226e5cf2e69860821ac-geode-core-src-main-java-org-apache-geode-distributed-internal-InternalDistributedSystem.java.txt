Merge branch 'develop' into feature/GEODE-7049

+import org.apache.geode.distributed.internal.membership.adapter.GMSMembershipManager;
-import org.apache.geode.distributed.internal.membership.gms.mgr.GMSMembershipManager;
-import org.apache.geode.internal.DSFIDFactory;
-
-    // register DSFID types first; invoked explicitly so that all message type
-    // initializations do not happen in first deserialization on a possibly
-    // "precious" thread
-    DSFIDFactory.registerTypes();
-
-      try {
-        id = dm.getMembershipPort();
-      } catch (DistributedSystemDisconnectedException e) {
-        // bug #48144 - The dm's channel threw an NPE. It now throws this exception
-        // but during startup we should instead throw a SystemConnectException
-        throw new SystemConnectException(
-            "Distributed system has disconnected during startup.",
-            e);
+      if (dm != null && dm.getMembershipManager() != null) {
+        id = dm.getMembershipManager().getLocalMember().getPort();
