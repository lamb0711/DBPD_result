GEODE-5440: when we need re-evaluate a entry in a index, we need to pass in the outer value key in the equiJoin. (#2338)

* rewrite the flaky test with an integration test
* pass in the value key when doing the equiJoin
* code clean up.
+import org.apache.geode.test.dunit.DUnitEnv;
+  /**
+   * Returns the port that the standard dunit locator is listening on.
+   */
+  public static int getDUnitLocatorPort() {
+    return DUnitEnv.get().getLocatorPort();
+  }
+
