GEODE-4858 refactor jdbc describe & list commands to use result model (#1939)


-import org.apache.geode.management.cli.Result;
-import org.apache.geode.management.internal.cli.result.CompositeResultData;
-import org.apache.geode.management.internal.cli.result.ResultBuilder;
-import org.apache.geode.management.internal.cli.result.TabularResultData;
+import org.apache.geode.management.internal.cli.result.model.DataResultModel;
+import org.apache.geode.management.internal.cli.result.model.ResultModel;
+import org.apache.geode.management.internal.cli.result.model.TabularResultModel;
-  public Result describeConnection(@CliOption(key = DESCRIBE_CONNECTION__NAME, mandatory = true,
-      help = DESCRIBE_CONNECTION__NAME__HELP) String name) {
+  public ResultModel describeConnection(@CliOption(key = DESCRIBE_CONNECTION__NAME,
+      mandatory = true, help = DESCRIBE_CONNECTION__NAME__HELP) String name) {
-    CompositeResultData resultData = ResultBuilder.createCompositeResultData();
-    fillResultData(connection, resultData);
-    resultData.setHeader(EXPERIMENTAL);
-    return ResultBuilder.buildResult(resultData);
+    ResultModel resultModel = new ResultModel();
+    fillResultData(connection, resultModel);
+    resultModel.setHeader(EXPERIMENTAL);
+    return resultModel;
-  private void fillResultData(ConnectorService.Connection connection,
-      CompositeResultData resultData) {
-    CompositeResultData.SectionResultData sectionResult =
-        resultData.addSection(RESULT_SECTION_NAME);
-    sectionResult.addSeparator('-');
-    sectionResult.addData(CREATE_CONNECTION__NAME, connection.getName());
-    sectionResult.addData(CREATE_CONNECTION__URL, connection.getUrl());
+  private void fillResultData(ConnectorService.Connection connection, ResultModel resultModel) {
+    DataResultModel sectionModel = resultModel.addData(RESULT_SECTION_NAME);
+    sectionModel.addData(CREATE_CONNECTION__NAME, connection.getName());
+    sectionModel.addData(CREATE_CONNECTION__URL, connection.getUrl());
-      sectionResult.addData(CREATE_CONNECTION__USER, connection.getUser());
+      sectionModel.addData(CREATE_CONNECTION__USER, connection.getUser());
-      sectionResult.addData(CREATE_CONNECTION__PASSWORD, OBSCURED_PASSWORD);
+      sectionModel.addData(CREATE_CONNECTION__PASSWORD, OBSCURED_PASSWORD);
-    TabularResultData tabularResultData = sectionResult.addTable(CREATE_CONNECTION__PARAMS);
-    tabularResultData.setHeader("Additional connection parameters:");
+    TabularResultModel tabularResultModel = resultModel.addTable(CREATE_CONNECTION__PARAMS);
+    tabularResultModel.setHeader("Additional connection parameters:");
-      tabularResultData.accumulate("Param Name", entry.getKey());
-      tabularResultData.accumulate("Value", entry.getValue());
+      tabularResultModel.accumulate("Param Name", entry.getKey());
+      tabularResultModel.accumulate("Value", entry.getValue());
