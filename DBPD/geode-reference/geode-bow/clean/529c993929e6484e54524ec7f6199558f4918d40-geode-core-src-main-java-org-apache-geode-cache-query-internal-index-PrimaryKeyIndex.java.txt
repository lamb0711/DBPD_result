Merge branch 'develop' into update-comments

+import org.apache.geode.cache.query.internal.CqEntry;
+
-              results.add(value);
+              addResultToResults(context, results, key, value);
-          results.add(iter.next());
+          addResultToResults(context, results, key, iter.next());
-                applyProjection(projAttrib, context, results, value, intermediateResults,
-                    isIntersection);
+                applyCqOrProjection(projAttrib, context, results, value, intermediateResults,
+                    isIntersection, key);
-              applyProjection(projAttrib, context, results, val, intermediateResults,
-                  isIntersection);
+              applyCqOrProjection(projAttrib, context, results, val, intermediateResults,
+                  isIntersection, key);
+  private void addResultToResults(ExecutionContext context, Collection results, Object key,
+      Object result) {
+    if (context != null && context.isCqQueryContext()) {
+      results.add(new CqEntry(key, result));
+    } else {
+      results.add(result);
+    }
+  }
