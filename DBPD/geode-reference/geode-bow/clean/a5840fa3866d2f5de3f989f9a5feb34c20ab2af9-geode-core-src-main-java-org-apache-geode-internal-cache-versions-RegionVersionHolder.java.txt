GEODE-5559: Improve runtime of RegionVersionHolder.canonicalExceptions (#2298)

This modifies the RVVException to iterate over the received version newest to
oldest, which makes generating the canonical exceptions much more
straightforward.


-import org.apache.geode.internal.cache.versions.RVVException.ReceivedVersionsIterator;
-  protected List<RVVException> canonicalExceptions(List<RVVException> exceptions) {
+  protected static List<RVVException> canonicalExceptions(List<RVVException> exceptions) {
-          long previous = exception.previousVersion;
+          long previous = exception.nextVersion;
-          int insertAt = canon.size();
-          for (ReceivedVersionsIterator it = exception.receivedVersionsIterator(); it.hasNext();) {
+          for (RVVException.ReceivedVersionsReverseIterator it =
+              exception.receivedVersionsReverseIterator(); it.hasNext();) {
-            if (received != previous + 1) {
-              canon.add(insertAt, RVVException.createException(previous, received));
+            if (received != previous - 1) {
+              canon.add(RVVException.createException(received, previous));
-          // if there is a gap between the last received version and the next
+          // if there is a gap between the first received version and the previous
-          // because previous==exception.previousVersion in that case.
-          if (exception.nextVersion != previous + 1) {
-            canon.add(insertAt, RVVException.createException(previous, exception.nextVersion));
+          // because previous==exception.nextVersion in that case.
+          if (exception.previousVersion != previous - 1) {
+            canon.add(RVVException.createException(exception.previousVersion, previous));
-
-
