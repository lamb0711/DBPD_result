GEODE-2267: enable gfsh to download file from http connection (GEODE-2418)

-import java.io.IOException;
-import java.util.ArrayList;
-import java.util.HashMap;
-import java.util.Iterator;
-import java.util.List;
-import java.util.Map;
-import java.util.Map.Entry;
-
-
-import org.springframework.http.ResponseEntity;
+import java.io.IOException;
+import java.util.ArrayList;
+import java.util.HashMap;
+import java.util.Iterator;
+import java.util.List;
+import java.util.Map;
+import java.util.Map.Entry;
+
-   * @return the result of the command execution.
+   * @return either a json string of the CommandResult or a Path to a temp file if the response is a
+   *         InputStream
-  public String processCommand(final CommandRequest command) {
+  public Object processCommand(final CommandRequest command) {
+    Object result = null;
-      ResponseEntity<String> response =
-          send(createHttpRequest(command), String.class, command.getParameters());
-
-      return response.getBody();
+      if (command.isDownloadFile()) {
+        result = downloadResponseToTempFile(createHttpRequest(command), command.getParameters());
+      } else {
+        result = send(createHttpRequest(command), String.class, command.getParameters());
+      }
+      return result;
