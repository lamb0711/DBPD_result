GEODE-774

When wan event was retried, the version tag might not be created.
Do not distribute such event.

Also add a unit test for the fix.

-      distributeUpdateOperation(event, lastModified);
+      if (!getConcurrencyChecksEnabled() || event.hasValidVersionTag()) {
+        distributeUpdateOperation(event, lastModified);
+      }
-        if (!event.isOriginRemote()
-            && getBucketAdvisor().isPrimary()) {
-          // This cache has processed the event, forward operation
-          // and event messages to backup buckets
-          new InvalidateOperation(event).distribute();
+        if (!getConcurrencyChecksEnabled() || event.hasValidVersionTag()) {
+          if (!event.isOriginRemote()
+              && getBucketAdvisor().isPrimary()) {
+            // This cache has processed the event, forward operation
+            // and event messages to backup buckets
+            new InvalidateOperation(event).distribute();
+          }
+          event.invokeCallbacks(this,true, false);
-        event.invokeCallbacks(this,true, false);
-        distributeDestroyOperation(event);
+    	if (!getConcurrencyChecksEnabled() || event.hasValidVersionTag()) {
+          distributeDestroyOperation(event);
+    	}
-        new UpdateEntryVersionOperation(event).distribute();
+    	if (!getConcurrencyChecksEnabled() || event.hasValidVersionTag()) {
+          new UpdateEntryVersionOperation(event).distribute();
+    	}
