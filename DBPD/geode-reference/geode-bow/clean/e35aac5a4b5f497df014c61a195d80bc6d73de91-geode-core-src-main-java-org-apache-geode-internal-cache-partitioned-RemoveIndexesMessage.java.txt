Merge branch 'release/1.5.0'

-import org.apache.geode.distributed.internal.DM;
+import org.apache.geode.distributed.internal.ClusterDistributionManager;
-  protected boolean operateOnPartitionedRegion(DistributionManager dm, PartitionedRegion pr,
+  protected boolean operateOnPartitionedRegion(ClusterDistributionManager dm, PartitionedRegion pr,
-  void sendReply(InternalDistributedMember member, int procId, DM dm, ReplyException ex,
-      boolean result, int bucketIndexesRemoved, int totalNumBuckets) {
+  void sendReply(InternalDistributedMember member, int procId, DistributionManager dm,
+      ReplyException ex, boolean result, int bucketIndexesRemoved, int totalNumBuckets) {
+      rm.setTransactionDistributed(pr.getCache().getTxManager().isDistributed());
+      rm.setTransactionDistributed(pr.getCache().getTxManager().isDistributed());
-  public void process(final DistributionManager dm) {
+  public void process(final ClusterDistributionManager dm) {
-    public static void send(InternalDistributedMember recipient, int processorId, DM dm,
-        ReplyException ex, boolean result, int numBucketsIndexesRemoved, int numTotalBuckets) {
+    public static void send(InternalDistributedMember recipient, int processorId,
+        DistributionManager dm, ReplyException ex, boolean result, int numBucketsIndexesRemoved,
+        int numTotalBuckets) {
-    public void process(final DM dm, final ReplyProcessor21 p) {
+    public void process(final DistributionManager dm, final ReplyProcessor21 p) {
