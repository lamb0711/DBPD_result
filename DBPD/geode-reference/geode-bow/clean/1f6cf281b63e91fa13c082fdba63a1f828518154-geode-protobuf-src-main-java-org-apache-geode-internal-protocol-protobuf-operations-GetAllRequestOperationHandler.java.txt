GEODE-3779: Cleaned up some error handling code in new Protocol

+import static org.apache.geode.internal.protocol.protobuf.ProtocolErrorCode.*;
+
-      return Failure.of(ProtobufResponseUtilities
-          .makeErrorResponse(ProtocolErrorCode.REGION_NOT_FOUND.codeValue, "Region not found"));
+      return Failure
+          .of(ProtobufResponseUtilities.makeErrorResponse(REGION_NOT_FOUND, "Region not found"));
-      return BasicTypes.KeyedError.newBuilder().setKey(key)
-          .setError(BasicTypes.Error.newBuilder()
-              .setErrorCode(ProtocolErrorCode.VALUE_ENCODING_ERROR.codeValue)
-              .setMessage("Encoding not supported."))
-          .build();
+      return createKeyedError(key, "Encoding not supported.", VALUE_ENCODING_ERROR);
-      return BasicTypes.KeyedError.newBuilder().setKey(key)
-          .setError(BasicTypes.Error.newBuilder()
-              .setErrorCode(ProtocolErrorCode.OPERATION_TIMEOUT.codeValue)
-              .setMessage("Operation timed out: " + e.getMessage()))
-          .build();
+      return createKeyedError(key, "Operation timed out: " + e.getMessage(), OPERATION_TIMEOUT);
-      return BasicTypes.KeyedError.newBuilder().setKey(key)
-          .setError(BasicTypes.Error.newBuilder()
-              .setErrorCode(ProtocolErrorCode.DATA_UNREACHABLE.codeValue)
-              .setMessage("Data unreachable: " + e.getMessage()))
-          .build();
+      return createKeyedError(key, "Data unreachable: " + e.getMessage(), DATA_UNREACHABLE);
-      return BasicTypes.KeyedError.newBuilder().setKey(key)
-          .setError(BasicTypes.Error.newBuilder()
-              .setErrorCode(ProtocolErrorCode.CONSTRAINT_VIOLATION.codeValue)
-              .setMessage("Invalid input: " + e.getMessage()))
-          .build();
+      return createKeyedError(key, "Invalid input: " + e.getMessage(), CONSTRAINT_VIOLATION);
+
+  private Object createKeyedError(BasicTypes.EncodedValue key, String errorMessage,
+      ProtocolErrorCode errorCode) {
+    return BasicTypes.KeyedError.newBuilder().setKey(key).setError(
+        BasicTypes.Error.newBuilder().setErrorCode(errorCode.codeValue).setMessage(errorMessage))
+        .build();
+  }
