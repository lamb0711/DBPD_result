Merge remote-tracking branch 'origin/develop' into wan_cq_donation

-  public final ReentrantReadWriteLock lifeCycleLock = new ReentrantReadWriteLock();
+  private final ReentrantReadWriteLock lifeCycleLock = new ReentrantReadWriteLock();
-      this.lifeCycleLock.writeLock().lock();
+      this.getLifeCycleLock().writeLock().lock();
-      this.lifeCycleLock.writeLock().unlock();
+      this.getLifeCycleLock().writeLock().unlock();
-      this.lifeCycleLock.writeLock().lock();
+      this.getLifeCycleLock().writeLock().lock();
-        this.lifeCycleLock.writeLock().unlock();
+        this.getLifeCycleLock().writeLock().unlock();
-      this.lifeCycleLock.writeLock().lock();
+      this.getLifeCycleLock().writeLock().lock();
-        this.lifeCycleLock.writeLock().unlock();
+        this.getLifeCycleLock().writeLock().unlock();
-    if (!this.lifeCycleLock.readLock().tryLock()) {
+    if (!this.getLifeCycleLock().readLock().tryLock()) {
-          if (!this.lifeCycleLock.readLock().tryLock()) {
+          if (!this.getLifeCycleLock().readLock().tryLock()) {
-        this.lifeCycleLock.readLock().lock();
+        this.getLifeCycleLock().readLock().lock();
-      this.lifeCycleLock.readLock().unlock();
+      this.getLifeCycleLock().readLock().unlock();
+  public int getEventQueueSize() { 
+    AbstractGatewaySenderEventProcessor localProcessor = this.eventProcessor;
+    return localProcessor == null ? 0 : localProcessor.eventQueueSize();
+  }
+
+  public ReentrantReadWriteLock getLifeCycleLock() {
+    return lifeCycleLock;
+  }
+
