Revert "GEODE-8333: Fix PUBSUB hang (#5349)" (#5415)

This reverts commit 067194e8f82414b6103c4335beb6567947edcfbc.

The fix for GEODE-8333 had a bug in which responses to the client could be out of order.
+import io.netty.buffer.ByteBuf;
-import org.apache.geode.redis.internal.executor.RedisResponse;
+import org.apache.geode.redis.internal.netty.Coder;
+import org.apache.geode.redis.internal.netty.CoderException;
-    writeToChannel(constructResponse(channel, message), publishResultCollector);
+    ByteBuf messageByteBuffer = constructResponse(channel, message);
+    writeToChannel(messageByteBuffer, publishResultCollector);
-  private RedisResponse constructResponse(byte[] channel, byte[] message) {
-    return RedisResponse.array(createResponse(channel, message));
+  private ByteBuf constructResponse(byte[] channel, byte[] message) {
+    ByteBuf messageByteBuffer;
+    try {
+      messageByteBuffer = Coder.getArrayResponse(context.getByteBufAllocator(),
+          createResponse(channel, message));
+    } catch (CoderException e) {
+      logger.warn("Unable to encode publish message", e);
+      return null;
+    }
+    return messageByteBuffer;
-  private void writeToChannel(RedisResponse response, PublishResultCollector resultCollector) {
-    context.writeToChannel(response)
+  private void writeToChannel(ByteBuf messageByteBuffer, PublishResultCollector resultCollector) {
+    context.writeToChannel(messageByteBuffer)
