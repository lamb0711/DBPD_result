GEODE-6117: Makes modules out of geode-core and geode-cq (#2915)

* Moves all o.a.g.internal.cq(ish) classes to o.a.g.cache.querycq.internal.
* Use Spring BOM plugin.
* Adds geode-client BOM.

Co-authored-by: Jacob Barrett <jbarrett@pivotal.io>
Co-authored-by: Owen Nichols <onichols@pivotal.io>

+
+  private static final String PRE_GEODE_100_TCPSERVER_PACKAGE =
+      "com.gemstone.org.jgroups.stack.tcpserver";
+  private static final String POST_GEODE_100_TCPSERVER_PACKAGE =
+      "org.apache.geode.distributed.internal.tcpserver";
+  private static final String POST_GEODE_190_SERVER_CQIMPL =
+      "org.apache.geode.cache.query.cq.internal.ServerCQImpl";
+  private static final String PRE_GEODE_190_SERVER_CQIMPL =
+      "org.apache.geode.cache.query.internal.cq.ServerCQImpl";
+
-    String oldPackage = "com.gemstone.org.jgroups.stack.tcpserver";
-    String newPackage = "org.apache.geode.distributed.internal.tcpserver";
-    if (name.startsWith(oldPackage)) {
-      return newPackage + name.substring(oldPackage.length());
+    if (name.startsWith(PRE_GEODE_100_TCPSERVER_PACKAGE)) {
+      return POST_GEODE_100_TCPSERVER_PACKAGE
+          + name.substring(PRE_GEODE_100_TCPSERVER_PACKAGE.length());
+    }
+    if (name.equals(PRE_GEODE_190_SERVER_CQIMPL)) {
+      return POST_GEODE_190_SERVER_CQIMPL;
-    String oldPackage = "com.gemstone.org.jgroups.stack.tcpserver";
-    String newPackage = "org.apache.geode.distributed.internal.tcpserver";
-    if (name.startsWith(newPackage)) {
-      return oldPackage + name.substring(newPackage.length());
+    if (name.startsWith(POST_GEODE_100_TCPSERVER_PACKAGE)) {
+      return PRE_GEODE_100_TCPSERVER_PACKAGE
+          + name.substring(POST_GEODE_100_TCPSERVER_PACKAGE.length());
+    }
+    if (out instanceof VersionedDataStream) {
+      VersionedDataStream vout = (VersionedDataStream) out;
+      Version version = vout.getVersion();
+      if (null != version) {
+        if (version.compareTo(Version.GEODE_190) < 0) {
+          if (name.equals(POST_GEODE_190_SERVER_CQIMPL)) {
+            return PRE_GEODE_190_SERVER_CQIMPL;
+          }
+        }
+      }
