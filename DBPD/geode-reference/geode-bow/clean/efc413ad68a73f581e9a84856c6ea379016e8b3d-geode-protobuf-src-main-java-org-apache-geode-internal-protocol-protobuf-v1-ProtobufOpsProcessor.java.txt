GEODE-4746: Handle exceptions and return failures to protobuf clients

Catching exceptions that happen before sending a response to the
protobuf client and sending an error message to the client instead of
closing the connection.

Cleaning up extraneous catch blocks.

+import org.apache.geode.SystemFailure;
-    } catch (OperationNotAuthorizedException e) {
-      // Don't move to a terminating state for authorization state failures
-      logger.warn(e.getMessage());
-      result = Failure.of(e);
-    } catch (EncodingException | DecodingException e) {
-      logger.warn(e.getMessage());
-      result = Failure.of(e);
-    } catch (ConnectionStateException e) {
-      logger.warn(e.getMessage());
-      messageExecutionContext
-          .setConnectionStateProcessor(new ProtobufConnectionTerminatingStateProcessor());
-      result = Failure.of(e);
+    } catch (VirtualMachineError error) {
+      SystemFailure.initiateFailure(error);
+      throw error;
+    } catch (Throwable t) {
+      logger.warn("Failure for request " + request, t);
+      SystemFailure.checkFailure();
+      result = Failure.of(t);
+
+      if (t instanceof ConnectionStateException) {
+        messageExecutionContext
+            .setConnectionStateProcessor(new ProtobufConnectionTerminatingStateProcessor());
+      }
