Revert "GEODE-6803: Make CacheElement an interface and have RuntimeCacheElemeâ€¦ (#3625)"

This reverts commit 68dc56c1

- * Licensed to the Apache Software Foundation (ASF) under one or more contributor license
- * agreements. See the NOTICE file distributed with this work for additional information regarding
- * copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the
- * "License"); you may not use this file except in compliance with the License. You may obtain a
- * copy of the License at
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements. See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
- * Unless required by applicable law or agreed to in writing, software distributed under the License
- * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
- * or implied. See the License for the specific language governing permissions and limitations under
- * the License.
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+import java.util.ArrayList;
+import org.apache.commons.lang3.StringUtils;
+import org.apache.geode.annotations.Experimental;
+@Experimental
-public interface CacheElement extends Identifiable<String>, Serializable {
-  static <T extends Identifiable> boolean exists(List<T> list, String id) {
+public abstract class CacheElement implements Identifiable<String>, Serializable {
+  protected List<String> groups = new ArrayList<>();
+
+  public static <T extends Identifiable> boolean exists(List<T> list, String id) {
-  static <T extends Identifiable> T findElement(List<T> list, String id) {
+  public static <T extends Identifiable> T findElement(List<T> list, String id) {
-  static <T extends Identifiable> void removeElement(List<T> list, String id) {
+  public static <T extends Identifiable> void removeElement(List<T> list, String id) {
-  String getConfigGroup();
+  public String getConfigGroup() {
+    String group = getGroup();
+    if (StringUtils.isBlank(group)) {
+      return "cluster";
+    }
+    return group;
+  }
-  String getGroup();
+  public String getGroup() {
+    if (groups.size() == 0) {
+      return null;
+    }
+    return groups.get(0);
+  }
-  void setGroup(String group);
+  public void setGroup(String group) {
+    groups.clear();
+
+    if (StringUtils.isBlank(group)) {
+      return;
+    }
+    groups.add(group);
+  }
