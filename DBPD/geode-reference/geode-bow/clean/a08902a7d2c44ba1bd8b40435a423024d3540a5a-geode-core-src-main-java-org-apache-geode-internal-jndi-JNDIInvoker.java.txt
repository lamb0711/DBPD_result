GEODE-6669 Changed CreateDataSourceCommand to register driver earlier (#3627)

Changed CreateDataSourceCommand to register driver earlier
Modified Hikari configuration to omit jdbc-driver-class.

    Co-authored-by: Benjamin Ross <bross@pivotal.io>
    Co-authored-by: Donal Evans <doevans@pivotal.io>

-      throws NamingException, DataSourceCreateException {
+      throws NamingException, DataSourceCreateException, ClassNotFoundException, SQLException,
+      InstantiationException, IllegalAccessException {
-      throws NamingException, DataSourceCreateException {
+      throws NamingException, DataSourceCreateException, ClassNotFoundException, SQLException,
+      InstantiationException, IllegalAccessException {
+    String driverClassName = null;
+    if (map != null) {
+      driverClassName = (String) map.get("jdbc-driver-class");
+      DriverJarUtil util = new DriverJarUtil();
+      if (driverClassName != null) {
+        util.registerDriver(driverClassName);
+      }
+    }
+
-    } catch (SQLException | ClassNotFoundException | InstantiationException
-        | IllegalAccessException sqlEx) {
+    } catch (SQLException sqlEx) {
-      throws SQLException, ClassNotFoundException, InstantiationException,
-      IllegalAccessException {
-    String driverClassName = null;
-    if (props != null) {
-      for (ConfigProperty property : props) {
-        if (property.getName().equals("jdbc-driver-class")) {
-          driverClassName = property.getName();
-        }
-      }
-    }
-    DriverJarUtil util = new DriverJarUtil();
-
-    if (driverClassName != null) {
-      util.registerDriver(driverClassName);
-    }
+      throws SQLException {
