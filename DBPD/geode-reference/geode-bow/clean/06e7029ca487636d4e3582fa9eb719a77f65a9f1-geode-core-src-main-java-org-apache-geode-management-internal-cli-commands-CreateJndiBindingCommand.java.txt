GEODE-4384: gfsh command to destroy jndi binding (#1568)


-      if (isBindingAlreadyExists(jndiName))
+      Element existingBinding =
+          service.getXmlElement("cluster", "jndi-binding", "jndi-name", jndiName);
+      if (existingBinding != null) {
+      }
-      if (persisted)
+      if (persisted) {
-      else
+      } else {
+      }
-  boolean isBindingAlreadyExists(String jndiName)
-      throws IOException, SAXException, ParserConfigurationException {
-
-    Configuration config = getSharedConfiguration().getConfiguration("cluster");
-
-    Document document = XmlUtils.createDocumentFromXml(config.getCacheXmlContent());
-    NodeList jndiBindings = document.getElementsByTagName("jndi-binding");
-
-    if (jndiBindings == null || jndiBindings.getLength() == 0) {
-      return false;
-    } else {
-      for (int i = 0; i < jndiBindings.getLength(); i++) {
-        Element eachBinding = (Element) jndiBindings.item(i);
-        if (eachBinding.getAttribute("jndi-name").equals(jndiName))
-          return true;
-      }
-    }
-    return false;
-  }
-
