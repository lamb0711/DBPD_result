Feature/geode 6536 2: Added retry in borrowConnection/single hop (#4833)

* GEODE-6536: Added retry in borrowConnection/single hop

* GEODE-6536: bug fix

* GEODE-6536: update after comments

* GEODE-6536: modify borrowConnection singleHop solution

* GEODE-6536: test update

* GEODE-6536: updated tests, and added parameter to desable timeout

* GEODE-6536: update of cachexml impacts

* GEODE-6536: remove cachexml restriction

* GEODE-6536: update default value and documentation

* GEODE-6536_2: change exception type

* GEODE-6536_2: seize new connection only in case onlyUseExistingCnx=false
+  private final int serverConnectionTimeout;
+    serverConnectionTimeout = attributes.getServerConnectionTimeout();
-        freeConnectionTimeout, new PoolOrCacheStopper(), this);
+        freeConnectionTimeout, serverConnectionTimeout, new PoolOrCacheStopper(), this);
+        && getServerConnectionTimeout() == p.getServerConnectionTimeout()
+  public int getServerConnectionTimeout() {
+    return serverConnectionTimeout;
+  }
+
+  @Override
+    if (getServerConnectionTimeout() != other.getServerConnectionTimeout()) {
+      throw new RuntimeException(
+          String.format("Pool %s is different", "serverConnectionTimeout"));
+    }
-   * Test hook that acquires and returns a connection from the pool with a given ServerLocation.
+   * Borrows a connection to a specific server from the pool.. Used by gateway and tests. Any
+   * connection
+   * that is acquired using this method must be returned using returnConnection, even if it is
+   * destroyed.
+   *
-    return manager.borrowConnection(loc, false);
+    return manager.borrowConnection(loc, serverConnectionTimeout, false);
