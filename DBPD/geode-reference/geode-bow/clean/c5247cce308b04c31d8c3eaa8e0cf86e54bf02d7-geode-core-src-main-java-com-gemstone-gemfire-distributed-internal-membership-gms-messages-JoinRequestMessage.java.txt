GEODE-1372 added unit test and some more fixes.

-  private Object publicKey;
-  
+  private int requestId;
+    
-                            InternalDistributedMember id, Object credentials, int fdPort) {
+                            InternalDistributedMember id, Object credentials, int fdPort, int requestId) {
-    this.publicKey = null;
+    this.requestId = requestId;
-  public void setPublicKey(Object key) {
-    this.publicKey = key;
+  public int getRequestId() {
+    return requestId;
-
+  
-  public Object getPublicKey() {
-    return publicKey;
-  }
-  
-    DataSerializer.writeObject(publicKey, out);
+    out.writeInt(requestId);
-    publicKey = DataSerializer.readObject(in);
+    requestId = in.readInt();
-
+  
+  @Override
+  public boolean equals(Object obj) {
+    if (this == obj)
+      return true;
+    if (obj == null)
+      return false;
+    if (getClass() != obj.getClass())
+      return false;
+    JoinRequestMessage other = (JoinRequestMessage) obj;
+    if (credentials == null) {
+      if (other.credentials != null)
+        return false;
+    } else if (!credentials.equals(other.credentials))
+      return false;
+    if (failureDetectionPort != other.failureDetectionPort)
+      return false;
+    if (memberID == null) {
+      if (other.memberID != null)
+        return false;
+    } else if (!memberID.equals(other.memberID))
+      return false;
+    if (requestId != other.requestId)
+      return false;
+    return true;
+  }  
