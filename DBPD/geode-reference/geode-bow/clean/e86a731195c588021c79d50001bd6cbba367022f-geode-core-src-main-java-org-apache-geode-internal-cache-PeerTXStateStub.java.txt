Merge branch 'release/1.3.0'

-    if (region.getPartitionAttributes() == null) {
-      // This is a dist region
-      stub = new DistributedTXRegionStub(this, region);
+    if (region.getPartitionAttributes() != null) {
+      // a partitioned region
+      stub = new PartitionedTXRegionStub(this, (PartitionedRegion) region);
+    } else if (region.getScope().isLocal()) {
+      // GEODE-3744 Local region should not be involved in a transaction on a PeerTXStateStub
+      throw new TransactionException(
+          "Local region " + region + " should not participate in a transaction not hosted locally");
-      stub = new PartitionedTXRegionStub(this, region);
+      // This is a dist region
+      stub = new DistributedTXRegionStub(this, (DistributedRegion) region);
