Make sure IndexRepositorySpy doesn't mock the same object twice

In some cases we can retry an operation and end up trying to spy a spy.

+    if (mockingDetails(indexRepo).isSpy()) {
+      return indexRepo;
+    }
+
