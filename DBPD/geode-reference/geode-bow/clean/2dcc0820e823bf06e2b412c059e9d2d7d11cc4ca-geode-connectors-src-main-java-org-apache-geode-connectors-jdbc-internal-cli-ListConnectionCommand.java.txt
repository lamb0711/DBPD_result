GEODE-5070: Use a random member for describe & list jdbc connector commands (#1849)

         Retrieves connections & mappings from CC(if running) 
         or from a random member(if CC not running)
-import org.springframework.shell.core.annotation.CliOption;
-import org.apache.geode.management.cli.ConverterHint;
-  static final String LIST_CONNECTION_MEMBER__HELP =
-      "Member from which the jdbc connections are retrieved.";
-  public Result listConnection(
-      @CliOption(key = {CliStrings.MEMBER}, optionContext = ConverterHint.MEMBERIDNAME,
-          help = LIST_CONNECTION_MEMBER__HELP) String onMember) {
+  public Result listConnection() {
-    // when member is specified, we go to each member and describe what are on the members
-    if (onMember != null) {
-      DistributedMember member = getMember(onMember);
-      if (member == null) {
-        return ResultBuilder.createUserErrorResult(CliStrings.NO_MEMBERS_FOUND_MESSAGE);
-      }
+    Collection<ConnectorService.Connection> connections = null;
-      List<?> result =
-          (List<?>) executeFunction(new ListConnectionFunction(), null, member).getResult();
-      Set<ConnectorService.Connection> connections =
-          (Set<ConnectorService.Connection>) result.get(0);
-      TabularResultData tabularResultData = ResultBuilder.createTabularResultData();
-      boolean connectionsExist = fillTabularResultData(connections, tabularResultData);
-
-      return createResult(tabularResultData, connectionsExist);
-    }
-
-    // otherwise, use cluster configuration to describe the connections
+    // check if CC is available and use it to describe the connection
-    if (ccService == null) {
-      return ResultBuilder.createInfoResult(
-          "cluster configuration service is not running. Use --member option to describe connections on specific members.");
+    if (ccService != null) {
+      ConnectorService service =
+          ccService.getCustomCacheElement("cluster", "connector-service", ConnectorService.class);
+      if (service != null) {
+        connections = service.getConnection();
+      }
+    } else {
+      // otherwise get it from any member
+      Set<DistributedMember> members = findMembers(null, null);
+      if (members.size() > 0) {
+        DistributedMember targetMember = members.iterator().next();
+        List<?> result =
+            (List<?>) executeFunction(new ListConnectionFunction(), null, targetMember).getResult();
+        if (!result.isEmpty()) {
+          connections = (Set<ConnectorService.Connection>) result.get(0);
+        }
+      }
-    ConnectorService service =
-        ccService.getCustomCacheElement("cluster", "connector-service", ConnectorService.class);
-    if (service == null) {
-      return ResultBuilder.createInfoResult(NO_CONNECTIONS_FOUND);
+    if (connections == null) {
+      return ResultBuilder.createInfoResult("No connections found");
-    boolean connectionsExist = fillTabularResultData(service.getConnection(), tabularResultData);
+    boolean connectionsExist = fillTabularResultData(connections, tabularResultData);
