GEODE-7361: sever ties to PoolStatHelper & CoreLoggingExecutors (#4238)

TcpServer no longer depends on PoolStateHelper or CoreLoggingExecutors
-import java.util.concurrent.ThreadPoolExecutor;
+import java.util.function.Supplier;
-import org.apache.geode.distributed.internal.PoolStatHelper;
-import org.apache.geode.internal.logging.CoreLoggingExecutors;
-  private static final int MAX_POOL_SIZE =
-      Integer.getInteger(DistributionConfig.GEMFIRE_PREFIX + "TcpServer.MAX_POOL_SIZE", 100);
-  private static final int POOL_IDLE_TIMEOUT = 60 * 1000;
-  private final PoolStatHelper poolHelper;
+  private final Supplier<ExecutorService> executorServiceSupplier;
+
-      DistributionConfigImpl cfg, TcpHandler handler, PoolStatHelper poolHelper,
+      DistributionConfigImpl cfg, TcpHandler handler,
-      final LongSupplier nanoTimeSupplier) {
+      final LongSupplier nanoTimeSupplier,
+      final Supplier<ExecutorService> executorServiceSupplier) {
-    this.poolHelper = poolHelper;
-    this.executor = createExecutor(poolHelper);
+    this.executorServiceSupplier = executorServiceSupplier;
+    this.executor = executorServiceSupplier.get();
-  private static ExecutorService createExecutor(PoolStatHelper poolHelper) {
-    return CoreLoggingExecutors.newThreadPoolWithSynchronousFeed("locator request thread ",
-        MAX_POOL_SIZE, poolHelper, POOL_IDLE_TIMEOUT, new ThreadPoolExecutor.CallerRunsPolicy());
-  }
-
-    this.executor = createExecutor(this.poolHelper);
+    this.executor = executorServiceSupplier.get();
