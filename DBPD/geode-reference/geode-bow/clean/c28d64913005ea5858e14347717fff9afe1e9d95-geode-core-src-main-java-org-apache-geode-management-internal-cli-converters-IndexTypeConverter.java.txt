Merge branch 'release/1.4.0'

+import org.apache.geode.cache.query.IndexType;
-public class IndexTypeConverter implements Converter<String> {
+public class IndexTypeConverter implements Converter<IndexType> {
-    return String.class.equals(type) && ConverterHint.INDEX_TYPE.equals(optionContext);
+    return IndexType.class.isAssignableFrom(type)
+        && optionContext.contains(ConverterHint.INDEX_TYPE);
-  public String convertFromText(String value, Class<?> targetType, String optionContext) {
-    return value;
+  public IndexType convertFromText(String value, Class<?> targetType, String optionContext) {
+    switch (value.toLowerCase()) {
+      case "range":
+        return IndexType.FUNCTIONAL;
+      case "key":
+        return IndexType.PRIMARY_KEY;
+      case "hash":
+        return IndexType.HASH;
+    }
+
+    throw new IllegalArgumentException("invalid index type: " + value);
-
-    if (String.class.equals(targetType) && ConverterHint.INDEX_TYPE.equals(optionContext)) {
-      completions.add(new Completion("range"));
-      completions.add(new Completion("key"));
-      completions.add(new Completion("hash"));
-    }
-    return !completions.isEmpty();
+    completions.add(new Completion("range"));
+    completions.add(new Completion("key"));
+    completions.add(new Completion("hash"));
+    return true;
