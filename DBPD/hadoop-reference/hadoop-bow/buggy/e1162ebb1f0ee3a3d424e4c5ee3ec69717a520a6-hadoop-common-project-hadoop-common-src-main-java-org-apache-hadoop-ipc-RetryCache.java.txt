HDFS-5167. Add metrics about the NameNode retry cache. Contributed by Tsuyoshi OZAWA.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1574603 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.ipc.metrics.RetryCacheMetrics;
+  private final RetryCacheMetrics retryCacheMetrics;
+
+  private String cacheName;
+    this.cacheName = cacheName;
+    this.retryCacheMetrics =  RetryCacheMetrics.create(this);
-  
+
+
+  private void incrCacheClearedCounter() {
+    retryCacheMetrics.incrCacheCleared();
+  }
+
+  @VisibleForTesting
+  public RetryCacheMetrics getMetricsForTests() {
+    return retryCacheMetrics;
+  }
+
+  /**
+   * This method returns cache name for metrics.
+   */
+  public String getCacheName() {
+    return cacheName;
+  }
+
+        retryCacheMetrics.incrCacheUpdated();
+      } else {
+        retryCacheMetrics.incrCacheHit();
+    retryCacheMetrics.incrCacheUpdated();
+    retryCacheMetrics.incrCacheUpdated();
+      cache.incrCacheClearedCounter();
