HADOOP-7207. fs member of FSShell is not really needed

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1092519 13f79535-47bb-0310-9956-ffa450edef68

-  protected FileSystem fs;
+  private FileSystem fs;
-  protected void init() throws IOException {
-    getConf().setQuietMode(true);
-    if (this.fs == null) {
-     this.fs = FileSystem.get(getConf());
-    }
+  protected FileSystem getFS() throws IOException {
+    if(fs == null)
+      fs = FileSystem.get(getConf());
+    
+    return fs;
+  }
+  
+  protected Trash getTrash() throws IOException {
+    return this.trash;
+  }
+  
+  protected void init() throws IOException {
+    getConf().setQuietMode(true);
-      FileStatus status = fs.getFileStatus(f);
+      FileSystem pFS = f.getFileSystem(getConf());
+      FileStatus status = pFS.getFileStatus(f);
-        BlockLocation[] locations = fs.getFileBlockLocations(status, 0, len);
+        BlockLocation[] locations = pFS.getFileBlockLocations(status, 0, len);
-      if (!fs.isDirectory(dst)) {
+      FileSystem pFS = dst.getFileSystem(conf);
+      if (!pFS.isDirectory(dst)) {
-    trash.expunge();
-    trash.checkpoint();
+    getTrash().expunge();
+    getTrash().checkpoint();
-  public Path getCurrentTrashDir() {
-    return trash.getCurrentTrashDir();
+  public Path getCurrentTrashDir() throws IOException {
+    return getTrash().getCurrentTrashDir();
