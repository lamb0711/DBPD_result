HADOOP-7818. DiskChecker#checkDir should fail if the directory is not executable. Contributed by Madhukara Phatak. (harsh)


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1361717 13f79535-47bb-0310-9956-ffa450edef68

-   * Create the directory if it doesn't exist and
+   * Create the directory if it doesn't exist and check that dir is readable,
+   * writable and executable
+   *  
-      throw new DiskErrorException("can not create directory: " 
+      throw new DiskErrorException("Can not create directory: "
-        
+
-      throw new DiskErrorException("not a directory: " 
+      throw new DiskErrorException("Not a directory: "
-            
+
-      throw new DiskErrorException("directory is not readable: " 
+      throw new DiskErrorException("Directory is not readable: "
-            
+
-      throw new DiskErrorException("directory is not writable: " 
+      throw new DiskErrorException("Directory is not writable: "
+
+    if (!dir.canExecute())
+      throw new DiskErrorException("Directory is not executable: "
+	  + dir.toString());
