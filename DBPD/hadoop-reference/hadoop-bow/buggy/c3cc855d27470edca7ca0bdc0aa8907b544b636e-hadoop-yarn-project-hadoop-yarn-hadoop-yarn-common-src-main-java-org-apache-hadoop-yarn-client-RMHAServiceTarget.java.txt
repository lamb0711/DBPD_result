YARN-1029. Added embedded leader election in the ResourceManager. Contributed by Karthik Kambatla.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1556103 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.yarn.conf.HAUtil;
-  private InetSocketAddress haAdminServiceAddress;
+  private final boolean autoFailoverEnabled;
+  private final InetSocketAddress haAdminServiceAddress;
+    autoFailoverEnabled = HAUtil.isAutomaticFailoverEnabled(conf);
-    // TODO (YARN-1177): Hook up ZKFC information
-    return null;
+    // TODO (YARN-1177): ZKFC implementation
+    throw new UnsupportedOperationException("RMHAServiceTarget doesn't have " +
+        "a corresponding ZKFC address");
-    // TODO (YARN-1026): Hook up fencing implementation
-  public void checkFencingConfigured()
-      throws BadFencingConfigurationException {
-    // TODO (YARN-1026): Based on fencing implementation
+  public void checkFencingConfigured() throws BadFencingConfigurationException {
+    throw new BadFencingConfigurationException("Fencer not configured");
+  }
+
+  @Override
+  public boolean isAutoFailoverEnabled() {
+    return autoFailoverEnabled;
