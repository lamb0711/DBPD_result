YARN-2198. Remove the need to run NodeManager as privileged account for Windows Secure Container Executor. Contributed by Remus Rusanu

-
+      Path nmPrivateClasspathJarDir = 
+          dirsHandler.getLocalPathForWrite(
+              getContainerPrivateDir(appIdStr, containerIdStr));
-          localResources);
+          localResources, nmPrivateClasspathJarDir);
-      Map<Path, List<String>> resources) throws IOException {
+      Map<Path, List<String>> resources,
+      Path nmPrivateClasspathJarDir) throws IOException {
+      
-
+        
-          newClassPath.toString(), pwd, mergedEnv);
-        String classPathJar = jarCp[0];
+          newClassPath.toString(), nmPrivateClasspathJarDir, pwd, mergedEnv);
-        this.exec.localizeClasspathJar(new Path(classPathJar), container.getUser());
-        String replacementClassPath = classPathJar + jarCp[1];
+        Path localizedClassPathJar = exec.localizeClasspathJar(
+            new Path(jarCp[0]), pwd, container.getUser());
+        String replacementClassPath = localizedClassPathJar.toString() + jarCp[1];
