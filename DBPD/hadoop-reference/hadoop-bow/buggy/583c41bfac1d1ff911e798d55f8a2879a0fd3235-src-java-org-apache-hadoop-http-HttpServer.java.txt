HADOOP-6434 Make HttpServer slightly easier to manage/diagnose faults with

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@893485 13f79535-47bb-0310-9956-ffa450edef68

+  static final String STATE_DESCRIPTION_ALIVE = " - alive";
+  static final String STATE_DESCRIPTION_NOT_LIVE = " - not live";
-              throw (BindException) ex;
+              BindException be = new BindException(
+                      "Port in use: " + listener.getHost()
+                              + ":" + listener.getPort());
+              be.initCause(ex);
+              throw be;
+   * Test for the availability of the web server
+   * @return true if the web server is started, false otherwise
+   */
+  public boolean isAlive() {
+    return webServer != null && webServer.isStarted();
+  }
+
+  /**
+   * Return the host and port of the HttpServer, if live
+   * @return the classname and any HTTP URL
+   */
+  @Override
+  public String toString() {
+    return listener != null ?
+        ("HttpServer at http://" + listener.getHost() + ":" + listener.getLocalPort() + "/"
+            + (isAlive() ? STATE_DESCRIPTION_ALIVE : STATE_DESCRIPTION_NOT_LIVE))
+        : "Inactive HttpServer";
+  }
+
+  /**
