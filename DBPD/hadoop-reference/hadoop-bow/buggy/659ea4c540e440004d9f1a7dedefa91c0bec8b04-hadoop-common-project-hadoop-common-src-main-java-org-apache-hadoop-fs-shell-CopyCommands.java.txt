HADOOP-7360. Preserve relative paths that do not contain globs in FsShell.  Contributed by Daryn Sharp and Kihwal Lee 


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1190109 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.fs.FileSystem;
-import org.apache.hadoop.fs.Path;
-    private LocalFileSystem localFs;
-      localFs = FileSystem.getLocal(getConf());
-      File targetFile = localFs.pathToFile(target.path);
-        copyFileToLocal(src, target.path);
+        copyFileToLocal(src, target);
-          copyCrcToLocal(src, target.path);
+          copyFileToLocal(src.getChecksumFile(), target.getChecksumFile());
-        if (!targetFile.mkdirs()) {
+        if (!target.toFile().mkdirs()) {
-    private void copyFileToLocal(PathData src, Path target)
+    private void copyFileToLocal(PathData src, PathData target)
-      File targetFile = localFs.pathToFile(target);
+      File targetFile = target.toFile();
-
-    private void copyCrcToLocal(PathData src, Path target)
-    throws IOException {
-      ChecksumFileSystem srcFs = (ChecksumFileSystem)src.fs;
-      Path srcPath = srcFs.getChecksumFile(src.path);
-      src = new PathData(srcFs.getRawFileSystem(), srcPath);
-      copyFileToLocal(src, localFs.getChecksumFile(target));    
-    }
