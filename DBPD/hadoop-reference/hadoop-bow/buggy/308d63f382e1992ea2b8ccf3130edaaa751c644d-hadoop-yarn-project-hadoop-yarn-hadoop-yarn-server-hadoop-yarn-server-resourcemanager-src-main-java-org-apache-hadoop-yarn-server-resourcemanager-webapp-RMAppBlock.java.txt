YARN-4307. Display blacklisted nodes for AM container in the RM web UI. Contributed by Naganarasimha G R.

+import java.util.Collection;
+import java.util.Set;
+
-import org.apache.commons.logging.Log;
-import org.apache.commons.logging.LogFactory;
-import java.util.Collection;
-import java.util.Set;
-
-  private static final Log LOG = LogFactory.getLog(RMAppBlock.class);
-            .th(".blacklistednodes", "Blacklisted Nodes")._()._().tbody();
+            .th(".appBlacklistednodes", "Nodes black listed by the application",
+                "App Blacklisted Nodes")
+            .th(".rmBlacklistednodes", "Nodes black listed by the RM for the"
+                + " app", "RM Blacklisted Nodes")._()._().tbody();
-      String blacklistedNodesCount = "N/A";
-      Set<String> nodes =
-          RMAppAttemptBlock.getBlacklistedNodes(rm,
-            rmAppAttempt.getAppAttemptId());
-      if(nodes != null) {
-        blacklistedNodesCount = String.valueOf(nodes.size());
-      }
+      Set<String> nodes = rmAppAttempt.getBlacklistedNodes();
+      // nodes which are blacklisted by the application
+      String appBlacklistedNodesCount = String.valueOf(nodes.size());
+      // nodes which are blacklisted by the RM for AM launches
+      String rmBlacklistedNodesCount = String.valueOf(rmAppAttempt
+          .getAMBlacklist().getBlacklistUpdates().getAdditions().size());
-          .append(logsLink == null ? "N/A" : "Logs").append("</a>\",").append(
-          "\"").append(blacklistedNodesCount).append("\"],\n");
+          .append(logsLink == null ? "N/A" : "Logs").append("</a>\",")
+          .append("\"").append(appBlacklistedNodesCount).append("\",")
+          .append("\"").append(rmBlacklistedNodesCount).append("\"],\n");
