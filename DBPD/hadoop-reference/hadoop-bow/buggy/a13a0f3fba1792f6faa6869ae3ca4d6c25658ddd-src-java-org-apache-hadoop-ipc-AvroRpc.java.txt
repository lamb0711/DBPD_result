HADOOP-6318.  Upgrade to Avro 1.2.0.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@829279 13f79535-47bb-0310-9956-ffa450edef68

-  private static class Invoker extends ReflectRequestor {
-    public Invoker(Protocol protocol, Transceiver transceiver)
-      throws IOException {
-      super(protocol, transceiver);
-    }
-  }
-
-           return new Invoker
-             (ReflectData.get().getProtocol(protocol),
+           return new ReflectRequestor
+             (protocol,
-  /** An Avro RPC Transceiver that provides a request passed through Hadoop RPC
-   * to the Avro RPC Responder for processing. */
-  private static class ServerTransceiver extends Transceiver {
-    List<ByteBuffer> request;
-    
-    public ServerTransceiver(List<ByteBuffer> request) {
-      this.request = request;
-    }
-
-    public String getRemoteName() { return "remote"; }
-
-    public List<ByteBuffer> readBuffers() throws IOException {
-      return request;
-    }
-
-    public void writeBuffers(List<ByteBuffer> buffers) throws IOException {
-      throw new UnsupportedOperationException();
-    }
-
-    public void close() throws IOException {}
-  }
-
-      return new BufferListWritable
-        (respond(new ServerTransceiver(request.buffers)));
+      return new BufferListWritable(respond(request.buffers));
