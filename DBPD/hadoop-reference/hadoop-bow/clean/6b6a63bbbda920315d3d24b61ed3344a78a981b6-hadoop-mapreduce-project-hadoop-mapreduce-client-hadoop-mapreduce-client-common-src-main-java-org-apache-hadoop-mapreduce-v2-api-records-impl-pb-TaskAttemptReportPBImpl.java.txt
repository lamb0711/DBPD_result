Merge commit '456e901a4c5c639267ee87b8e5f1319f256d20c2' (HDFS-6407. Add sorting and pagination in the datanode tab of the NN Web UI. Contributed by Haohui Mai.) into HDFS-7285-merge

-
+import org.apache.hadoop.mapreduce.TypeConverter;
-  
+
+  private org.apache.hadoop.mapreduce.Counters rawCounters = null;
-  
-  
+
+    convertRawCountersToCounters();
-    
-  
+
+
+    convertRawCountersToCounters();
-    if (counters == null) 
+    if (counters == null) {
+    }
+    this.rawCounters = null;
+
+  @Override
+  public org.apache.hadoop.mapreduce.Counters
+        getRawCounters() {
+    return this.rawCounters;
+  }
+
+  @Override
+  public void setRawCounters(org.apache.hadoop.mapreduce.Counters rCounters) {
+    setCounters(null);
+    this.rawCounters = rCounters;
+  }
+
+  private void convertRawCountersToCounters() {
+    if (this.counters == null && this.rawCounters != null) {
+      this.counters = TypeConverter.toYarn(rawCounters);
+      this.rawCounters = null;
+    }
+  }
+
