HDDS-2020. Remove mTLS from Ozone GRPC. Contributed by Xiaoyu Yao.

Signed-off-by: Anu Engineer <aengineer@apache.org>

+import org.apache.hadoop.hdds.security.exception.SCMSecurityException;
+import org.apache.hadoop.hdds.security.x509.certificate.utils.CertificateCodec;
+import java.security.cert.CertificateException;
+import java.security.cert.X509Certificate;
+  private X509Certificate caCert;
-  public XceiverClientManager(Configuration conf) {
-    this(conf, OzoneConfiguration.of(conf).getObject(ScmClientConfig.class));
+  public XceiverClientManager(Configuration conf) throws IOException {
+    this(conf, OzoneConfiguration.of(conf).getObject(ScmClientConfig.class),
+        null);
-  public XceiverClientManager(Configuration conf, ScmClientConfig clientConf) {
+  public XceiverClientManager(Configuration conf, ScmClientConfig clientConf,
+      String caCertPem) throws IOException {
+    if (isSecurityEnabled) {
+      Preconditions.checkNotNull(caCertPem);
+      try {
+        this.caCert = CertificateCodec.getX509Cert(caCertPem);
+      } catch (CertificateException ex) {
+        throw new SCMSecurityException("Error: Fail to get SCM CA certificate",
+            ex);
+      }
+    }
+
-              client = XceiverClientRatis.newXceiverClientRatis(pipeline, conf);
+              client = XceiverClientRatis.newXceiverClientRatis(pipeline, conf,
+                  caCert);
-              client = new XceiverClientGrpc(pipeline, conf);
+              client = new XceiverClientGrpc(pipeline, conf, caCert);
