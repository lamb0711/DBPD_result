HDFS-4887. TestNNThroughputBenchmark exits abruptly. Contributed by Kihwal Lee.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1501841 13f79535-47bb-0310-9956-ffa450edef68

+
+  /** Check whether name system is running before terminating */
+  private boolean checkNSRunning = true;
+  /** Allow silent termination of replication monitor for testing */
+  @VisibleForTesting
+  void enableRMTerminationForTesting() {
+    checkNSRunning = false;
+  }
+
+          } else if (!checkNSRunning && t instanceof InterruptedException) {
+            LOG.info("Stopping ReplicationMonitor for testing.");
+            break;
