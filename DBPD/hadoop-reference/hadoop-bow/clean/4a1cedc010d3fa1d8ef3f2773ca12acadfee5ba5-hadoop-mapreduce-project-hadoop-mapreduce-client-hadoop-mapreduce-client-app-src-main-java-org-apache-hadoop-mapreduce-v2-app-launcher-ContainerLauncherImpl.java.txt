MAPREDUCE-5044. Have AM trigger jstack on task attempts that timeout before killing them. (Eric Payne and Gera Shegalov via mingma)

+import org.apache.hadoop.yarn.api.protocolrecords.SignalContainerRequest;
+import org.apache.hadoop.yarn.api.records.SignalContainerCommand;
-    
+
+    public void kill() {
+      kill(false);
+    }
+
-    public synchronized void kill() {
+    public synchronized void kill(boolean dumpThreads) {
+          if (dumpThreads) {
+            final SignalContainerRequest request = SignalContainerRequest
+                .newInstance(containerID,
+                    SignalContainerCommand.OUTPUT_THREAD_DUMP);
+            proxy.getContainerManagementProtocol().signalToContainer(request);
+          }
+
-        c.kill();
+        c.kill(event.getDumpContainerThreads());
