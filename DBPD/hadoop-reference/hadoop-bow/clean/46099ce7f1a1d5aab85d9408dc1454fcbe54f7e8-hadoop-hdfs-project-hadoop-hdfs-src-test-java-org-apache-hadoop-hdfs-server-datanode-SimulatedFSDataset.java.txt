HDFS-4988. Datanode must support all the volumes as individual storages.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2832@1526969 13f79535-47bb-0310-9956-ffa450edef68

-      storage.createStorageID();
-      this.datanodeUuid = storage.getStorageID();
+      for (int i = 0; i < storage.getNumStorageDirs(); ++i) {
+        storage.createStorageID(storage.getStorageDir(i));
+      }
+      this.datanodeUuid = storage.getDatanodeUuid();
+  @Override
+  public synchronized Map<String, BlockListAsLongs> getBlockReports(
+      String bpid) {
+    Map<String, BlockListAsLongs> reports =
+        new HashMap<String, BlockListAsLongs>();
+    reports.put("", getBlockReport(bpid));
+    return reports;
+  }
+
+    // Caller does not care about the exact Storage UUID returned.
-  public String[] getBlockPoolList() {
-    throw new UnsupportedOperationException();
-  }
-
-  @Override
