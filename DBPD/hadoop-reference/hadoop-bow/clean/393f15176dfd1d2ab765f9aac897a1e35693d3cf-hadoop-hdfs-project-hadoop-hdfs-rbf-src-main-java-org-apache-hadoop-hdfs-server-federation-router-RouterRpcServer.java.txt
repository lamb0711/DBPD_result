HDFS-14447. RBF: Router should support RefreshUserMappingsProtocol. Contributed by Shen Yinjie.

+import org.apache.hadoop.security.Groups;
+import org.apache.hadoop.security.RefreshUserMappingsProtocol;
+import org.apache.hadoop.security.authorize.ProxyUsers;
+import org.apache.hadoop.security.proto.RefreshUserMappingsProtocolProtos;
+import org.apache.hadoop.security.protocolPB.RefreshUserMappingsProtocolPB;
+import org.apache.hadoop.security.protocolPB.RefreshUserMappingsProtocolServerSideTranslatorPB;
-    implements ClientProtocol, NamenodeProtocol {
+    implements ClientProtocol, NamenodeProtocol, RefreshUserMappingsProtocol {
+    RefreshUserMappingsProtocolServerSideTranslatorPB refreshUserMappingXlator =
+        new RefreshUserMappingsProtocolServerSideTranslatorPB(this);
+    BlockingService refreshUserMappingService =
+        RefreshUserMappingsProtocolProtos.RefreshUserMappingsProtocolService.
+        newReflectiveBlockingService(refreshUserMappingXlator);
+
+    DFSUtil.addPBProtocol(conf, RefreshUserMappingsProtocolPB.class,
+        refreshUserMappingService, this.rpcServer);
+
+  @Override
+  public void refreshUserToGroupsMappings() throws IOException {
+    LOG.info("Refresh user groups mapping in Router.");
+    Groups.getUserToGroupsMappingService().refresh();
+  }
+
+  @Override
+  public void refreshSuperUserGroupsConfiguration() throws IOException {
+    LOG.info("Refresh superuser groups configuration in Router.");
+    ProxyUsers.refreshSuperUserGroupsConfiguration();
+  }
