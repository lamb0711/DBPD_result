YARN-5911. DrainDispatcher does not drain all events on stop even if setDrainEventsOnStop is true. Contributed by Varun Saxena.

-          waitForDrained.wait(1000);
+          waitForDrained.wait(100);
+
+  protected boolean isStopped() {
+    return stopped;
+  }
