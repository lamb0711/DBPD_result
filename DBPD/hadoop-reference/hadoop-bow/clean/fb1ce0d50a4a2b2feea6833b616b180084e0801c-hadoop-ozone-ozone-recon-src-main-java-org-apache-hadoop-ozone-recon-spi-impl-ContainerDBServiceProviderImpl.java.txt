HDDS-1670. Add limit support to /api/containers and /api/containers/{id} endpoints (#954)



-import java.util.HashMap;
-    Map<ContainerKeyPrefix, Integer> prefixes = new HashMap<>();
+    Map<ContainerKeyPrefix, Integer> prefixes = new LinkedHashMap<>();
-   * Iterate the DB to construct a Map of containerID -> containerMetadata.
+   * Get all the containers.
+    // Set a negative limit to get all the containers.
+    return getContainers(-1);
+  }
+
+  /**
+   * Iterate the DB to construct a Map of containerID -> containerMetadata
+   * only for the given limit.
+   *
+   * Return all the containers if limit < 0.
+   *
+   * @return Map of containerID -> containerMetadata.
+   * @throws IOException
+   */
+  @Override
+  public Map<Long, ContainerMetadata> getContainers(int limit)
+      throws IOException {
+      // break the loop if limit has been reached
+      // and one more new entity needs to be added to the containers map
+      if (containers.size() == limit && !containers.containsKey(containerID)) {
+        break;
+      }
+
