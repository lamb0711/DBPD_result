HDFS-11416. Refactor out system default erasure coding policy. Contributed by Andrew Wang.

+import org.apache.hadoop.util.StringUtils;
-        Preconditions.checkArgument(
-            ErasureCodingPolicyManager.getPolicyByPolicyID(
-                erasureCodingPolicyID) != null);
+        Preconditions.checkArgument(ErasureCodingPolicyManager
+            .getPolicyByPolicyID(erasureCodingPolicyID) != null,
+            "Could not find EC policy with ID 0x" + StringUtils
+                .byteToHexString(erasureCodingPolicyID));
-            replication <= MAX_REDUNDANCY);
+            replication <= MAX_REDUNDANCY,
+            "Invalid replication value " + replication);
-    if (ecPolicy == null){
-      ecPolicy = ErasureCodingPolicyManager.getSystemDefaultPolicy();
-    }
+    Preconditions.checkNotNull(ecPolicy, "Could not find EC policy with ID 0x"
+        + StringUtils.byteToHexString(getErasureCodingPolicyID()));
