HDFS-10759. Change fsimage bool isStriped from boolean to an enum. Contributed by Ewan Higgs.

+import org.apache.hadoop.hdfs.protocol.BlockType;
-    if (file.isStriped()) {
+    if (file.getBlockType() == BlockType.STRIPED) {
-    final boolean isStriped;
+    final BlockType blockType;
-    isStriped = pendingFile.isStriped();
+    blockType = pendingFile.getBlockType();
-    if (isStriped) {
+    if (blockType == BlockType.STRIPED) {
-                                      clientMachine, isStriped);
+                                      clientMachine, blockType);
-            lastBlockInFile, targets, pendingFile.isStriped());
+            lastBlockInFile, targets, pendingFile.getBlockType());
-    final boolean isStriped = pendingFile.isStriped();
+    final BlockType blockType = pendingFile.getBlockType();
-    Block newBlock = fsn.createNewBlock(isStriped);
+    Block newBlock = fsn.createNewBlock(blockType);
-    saveAllocatedBlock(fsn, src, inodesInPath, newBlock, targets, isStriped);
+    saveAllocatedBlock(fsn, src, inodesInPath, newBlock, targets, blockType);
-                                    r.isStriped, flags);
+                                    r.blockType, flags);
+      final BlockType blockType = ecPolicy != null?
+          BlockType.STRIPED : BlockType.CONTIGUOUS;
-            ecPolicy != null);
+            blockType);
-            replication, preferredBlockSize, storagePolicyId, ecPolicy != null);
+            replication, preferredBlockSize, storagePolicyId, blockType);
-      boolean isStriped) throws IOException {
+      BlockType blockType) throws IOException {
-      if (isStriped) {
+      if (blockType == BlockType.STRIPED) {
+      final BlockType blockType = ecPolicy != null?
+          BlockType.STRIPED : BlockType.CONTIGUOUS;
-          modTime, modTime, replication, preferredBlockSize, ecPolicy != null);
+          modTime, modTime, replication, preferredBlockSize, blockType);
-      boolean isStriped) {
+      BlockType blockType) {
-        storagePolicyId, isStriped);
+        storagePolicyId, blockType);
-      boolean isStriped) {
+      BlockType blockType) {
-        preferredBlockSize, (byte)0, isStriped);
+        preferredBlockSize, (byte)0, blockType);
-      boolean isStriped) throws IOException {
+      BlockType blockType) throws IOException {
-        isStriped);
+        blockType);
-    final boolean isStriped;
+    final BlockType blockType;
-        String clientMachine, boolean isStriped) {
+        String clientMachine, BlockType blockType) {
-      this.isStriped = isStriped;
+      this.blockType = blockType;
