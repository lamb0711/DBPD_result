YARN-9074. Consolidate docker removal logic in ContainerCleanup.
           Contributed by Zhaohui Xin

+import org.apache.hadoop.yarn.server.nodemanager.DeletionService;
+import org.apache.hadoop.yarn.server.nodemanager.containermanager.deletion.task.DockerContainerDeletionTask;
-        // The Docker container may not have fully started, reap the container.
-        if (DockerLinuxContainerRuntime.isDockerContainerRequested(conf,
-            container.getLaunchContext().getEnvironment())) {
-          reapDockerContainerNoPid(user);
-        }
+      }
+
+      // rm container in docker
+      if (DockerLinuxContainerRuntime.isDockerContainerRequested(conf,
+          container.getLaunchContext().getEnvironment())) {
+        rmDockerContainerDelayed();
+  private void rmDockerContainerDelayed() {
+    DeletionService deletionService = context.getDeletionService();
+    DockerContainerDeletionTask deletionTask =
+        new DockerContainerDeletionTask(deletionService, container.getUser(),
+            container.getContainerId().toString());
+    deletionService.delete(deletionTask);
+  }
+
