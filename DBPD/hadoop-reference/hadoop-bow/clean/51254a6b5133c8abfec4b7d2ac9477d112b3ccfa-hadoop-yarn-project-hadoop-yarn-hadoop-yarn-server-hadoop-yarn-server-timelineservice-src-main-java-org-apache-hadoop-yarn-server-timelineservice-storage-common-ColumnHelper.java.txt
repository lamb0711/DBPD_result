YARN-4053. Change the way metric values are stored in HBase Storage (Varun Saxena via sjlee)

-import org.apache.hadoop.yarn.server.timeline.GenericObjectMapper;
+  private final ValueConverter converter;
+
+    this(columnFamily, GenericConverter.getInstance());
+  }
+
+  public ColumnHelper(ColumnFamily<T> columnFamily, ValueConverter converter) {
+    if (converter == null) {
+      this.converter = GenericConverter.getInstance();
+    } else {
+      this.converter = converter;
+    }
-        GenericObjectMapper.write(inputValue));
+        converter.encodeValue(inputValue));
-    return GenericObjectMapper.read(value);
+    return converter.decodeValue(value);
-                    (V) GenericObjectMapper.read(cell.getValue());
+                    (V) converter.decodeValue(cell.getValue());
-            Object value = GenericObjectMapper.read(entry.getValue());
+            Object value = converter.decodeValue(entry.getValue());
-              Object value = GenericObjectMapper.read(entry.getValue());
+              Object value = converter.decodeValue(entry.getValue());
+
+  public ValueConverter getValueConverter() {
+    return converter;
+  }
+
