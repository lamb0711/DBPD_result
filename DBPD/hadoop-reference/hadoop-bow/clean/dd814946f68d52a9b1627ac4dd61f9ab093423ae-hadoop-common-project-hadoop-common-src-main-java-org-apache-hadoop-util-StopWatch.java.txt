HADOOP-14827. Allow StopWatch to accept a Timer parameter for tests. Contributed by Erik Krogen

+  private final Timer timer;
+    this(new Timer());
+  }
+
+  /**
+   * Used for tests to be able to create a StopWatch which does not follow real
+   * time.
+   * @param timer The timer to base this StopWatch's timekeeping off of.
+   */
+  public StopWatch(Timer timer) {
+    this.timer = timer;
-    startNanos = System.nanoTime();
+    startNanos = timer.monotonicNowNanos();
-    long now = System.nanoTime();
+    long now = timer.monotonicNowNanos();
-        System.nanoTime() - startNanos + currentElapsedNanos :
+        timer.monotonicNowNanos() - startNanos + currentElapsedNanos :
