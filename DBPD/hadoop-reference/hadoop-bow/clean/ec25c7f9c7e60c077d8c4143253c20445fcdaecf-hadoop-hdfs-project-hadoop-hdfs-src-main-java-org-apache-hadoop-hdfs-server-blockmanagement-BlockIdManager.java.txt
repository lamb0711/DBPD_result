HDFS-9677. Rename generationStampV1/generationStampV2 to legacyGenerationStamp/generationStamp. Contributed by Mingliang Liu.

-  private final GenerationStamp generationStampV1 = new GenerationStamp();
+  private final GenerationStamp legacyGenerationStamp = new GenerationStamp();
-  private final GenerationStamp generationStampV2 = new GenerationStamp();
+  private final GenerationStamp generationStamp = new GenerationStamp();
-  private long generationStampV1Limit;
+  private long legacyGenerationStampLimit;
-    this.generationStampV1Limit = HdfsConstants.GRANDFATHER_GENERATION_STAMP;
+    this.legacyGenerationStampLimit =
+        HdfsConstants.GRANDFATHER_GENERATION_STAMP;
-  public long upgradeGenerationStampToV2() {
-    Preconditions.checkState(generationStampV2.getCurrentValue() ==
+  public long upgradeLegacyGenerationStamp() {
+    Preconditions.checkState(generationStamp.getCurrentValue() ==
-    generationStampV2.skipTo(generationStampV1.getCurrentValue() +
-      HdfsServerConstants.RESERVED_GENERATION_STAMPS_V1);
+    generationStamp.skipTo(legacyGenerationStamp.getCurrentValue() +
+      HdfsServerConstants.RESERVED_LEGACY_GENERATION_STAMPS);
-    generationStampV1Limit = generationStampV2.getCurrentValue();
-    return generationStampV2.getCurrentValue();
+    legacyGenerationStampLimit = generationStamp.getCurrentValue();
+    return generationStamp.getCurrentValue();
-  public void setGenerationStampV1Limit(long stamp) {
-    Preconditions.checkState(generationStampV1Limit == HdfsConstants
-      .GRANDFATHER_GENERATION_STAMP);
-    generationStampV1Limit = stamp;
+  public void setLegacyGenerationStampLimit(long stamp) {
+    Preconditions.checkState(legacyGenerationStampLimit ==
+        HdfsConstants.GRANDFATHER_GENERATION_STAMP);
+    legacyGenerationStampLimit = stamp;
-    return generationStampV1Limit;
+    return legacyGenerationStampLimit;
-  public void setGenerationStampV1(long stamp) {
-    generationStampV1.setCurrentValue(stamp);
+  public void setLegacyGenerationStamp(long stamp) {
+    legacyGenerationStamp.setCurrentValue(stamp);
-  public long getGenerationStampV1() {
-    return generationStampV1.getCurrentValue();
+  public long getLegacyGenerationStamp() {
+    return legacyGenerationStamp.getCurrentValue();
-  public void setGenerationStampV2(long stamp) {
-    generationStampV2.setCurrentValue(stamp);
+  public void setGenerationStamp(long stamp) {
+    generationStamp.setCurrentValue(stamp);
-  public long getGenerationStampV2() {
-    return generationStampV2.getCurrentValue();
+  public long getGenerationStamp() {
+    return generationStamp.getCurrentValue();
-    return legacyBlock ? getNextGenerationStampV1() :
-      getNextGenerationStampV2();
+    return legacyBlock ? getNextLegacyGenerationStamp() :
+        getNextGenerationStamp();
-  long getNextGenerationStampV1() throws IOException {
-    long genStampV1 = generationStampV1.nextValue();
+  long getNextLegacyGenerationStamp() throws IOException {
+    long legacyGenStamp = legacyGenerationStamp.nextValue();
-    if (genStampV1 >= generationStampV1Limit) {
+    if (legacyGenStamp >= legacyGenerationStampLimit) {
-      // is extremely unlikely as we reserved 1T v1 generation stamps. The
+      // is extremely unlikely as we reserved 1T legacy generation stamps. The
-      throw new OutOfV1GenerationStampsException();
+      throw new OutOfLegacyGenerationStampsException();
-    return genStampV1;
+    return legacyGenStamp;
-  long getNextGenerationStampV2() {
-    return generationStampV2.nextValue();
+  long getNextGenerationStamp() {
+    return generationStamp.nextValue();
-  public long getGenerationStampV1Limit() {
-    return generationStampV1Limit;
+  public long getLegacyGenerationStampLimit() {
+    return legacyGenerationStampLimit;
-    return block.getGenerationStamp() < getGenerationStampV1Limit();
+    return block.getGenerationStamp() < getLegacyGenerationStampLimit();
-      return block.getGenerationStamp() > getGenerationStampV1();
+      return block.getGenerationStamp() > getLegacyGenerationStamp();
-      return block.getGenerationStamp() > getGenerationStampV2();
+      return block.getGenerationStamp() > getGenerationStamp();
-    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);
-    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);
+    legacyGenerationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);
+    generationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);
-    generationStampV1Limit = HdfsConstants.GRANDFATHER_GENERATION_STAMP;
+    legacyGenerationStampLimit = HdfsConstants.GRANDFATHER_GENERATION_STAMP;
