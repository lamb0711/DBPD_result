HDDS-432. Replication of closed containers is not working.
Contributed by Elek, Marton.

+import java.util.Set;
-            getCurrentReplicas(request);
+            new ArrayList<>(getCurrentReplicas(request));
+
+        if (datanodesWithReplicas.size() == 0) {
+          LOG.warn(
+              "Container {} should be replicated but can't find any existing "
+                  + "replicas",
+              containerID);
+          return;
+        }
-  protected List<DatanodeDetails> getCurrentReplicas(ReplicationRequest request)
+  protected Set<DatanodeDetails> getCurrentReplicas(ReplicationRequest request)
-    //TODO: replication information is not yet available after HDDS-175,
-    // should be fixed after HDDS-228
-    return new ArrayList<>();
+    return containerStateManager
+        .getContainerReplicas(new ContainerID(request.getContainerId()));
