Merge remote-tracking branch 'apache/trunk' into HDFS-7285

+  private static final String MAX_INACTIVES = "i";
-    new HashSet<String>(Arrays.asList(USER_NAME, PRINCIPAL, EXPIRES, TYPE));
+    new HashSet<String>(Arrays.asList(USER_NAME, PRINCIPAL,
+        MAX_INACTIVES, EXPIRES, TYPE));
+  private long maxInactives;
+    maxInactives = -1;
+    this.maxInactives = -1;
+   * Sets the max inactive interval of the token.
+   *
+   * @param interval max inactive interval of the token in milliseconds since
+   *                 the epoch.
+   */
+  public void setMaxInactives(long interval) {
+    this.maxInactives = interval;
+  }
+
+  /**
-    return getExpires() != -1 && System.currentTimeMillis() > getExpires();
+    return (getMaxInactives() != -1 &&
+        System.currentTimeMillis() > getMaxInactives())
+        || (getExpires() != -1 &&
+        System.currentTimeMillis() > getExpires());
+    sb.append(MAX_INACTIVES).append("=")
+      .append(getMaxInactives()).append(ATTR_SEPARATOR);
+   * Returns the max inactive time of the token.
+   *
+   * @return the max inactive time of the token, in milliseconds since Epoc.
+   */
+  public long getMaxInactives() {
+    return maxInactives;
+  }
+
+  /**
+    long maxInactives = Long.parseLong(map.get(MAX_INACTIVES));
+    token.setMaxInactives(maxInactives);
