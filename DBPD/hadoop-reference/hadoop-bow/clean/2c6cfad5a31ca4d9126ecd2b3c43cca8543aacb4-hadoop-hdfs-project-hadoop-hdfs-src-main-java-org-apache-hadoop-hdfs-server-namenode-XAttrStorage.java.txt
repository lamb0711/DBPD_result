HDFS-13087. Snapshotted encryption zone information should be immutable. Contributed by LiXin Ge.

-   * @param snapshotId
+   * @param snapshotId the snapshotId of the requested path
-  public static XAttr readINodeXAttrByPrefixedName(INodesInPath iip,
-      String prefixedName) {
-    XAttrFeature f =
-        iip.getLastINode().getXAttrFeature(iip.getPathSnapshotId());
+  public static XAttr readINodeXAttrByPrefixedName(INode inode, int snapshotId,
+                                                   String prefixedName) {
+    XAttrFeature f = inode.getXAttrFeature(snapshotId);
