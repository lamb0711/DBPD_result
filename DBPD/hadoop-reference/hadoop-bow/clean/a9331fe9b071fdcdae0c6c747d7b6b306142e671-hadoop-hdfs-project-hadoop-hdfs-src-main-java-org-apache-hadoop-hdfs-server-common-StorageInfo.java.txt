HDFS-7035. Make adding a new data directory to the DataNode an atomic operation and improve error handling (Lei Xu via Colin P. McCabe)

-  
+
+  public void setServiceLayoutVersion(int lv) {
+    this.layoutVersion = lv;
+  }
+
