YARN-6445. [YARN-3926] Performance improvements in resource profile branch with respect to SLS. Contributed by Varun Vasudev.

+import org.apache.commons.collections.map.UnmodifiableMap;
+  private Map<String, ResourceInformation> readOnlyResources;
+    this.readOnlyResources = null;
-    setResourceInformation(ResourceInformation.MEMORY_MB.getName(),
-        ResourceInformation.newInstance(ResourceInformation.MEMORY_MB.getName(),
-            ResourceInformation.MEMORY_MB.getUnits(), memory));
-
+    maybeInitBuilder();
+    getResourceInformation(ResourceInformation.MEMORY_MB.getName())
+        .setValue(memory);
-    setResourceInformation(ResourceInformation.VCORES.getName(),
-        ResourceInformation.newInstance(ResourceInformation.VCORES.getName(),
-            ResourceInformation.VCORES.getUnits(), (long) vCores));
+    maybeInitBuilder();
+    getResourceInformation(ResourceInformation.VCORES.getName())
+        .setValue(vCores);
-      Long value = entry.hasValue() ? entry.getValue() : 0L;
+      long value = entry.hasValue() ? entry.getValue() : 0L;
-      resources.put(resource, resourceInformation);
+      ResourceInformation.copy(resourceInformation, resources.get(resource));
-    return Collections.unmodifiableMap(this.resources);
+    return readOnlyResources;
+      readOnlyResources = Collections.unmodifiableMap(resources);
