HADOOP-15719. Fail-fast when using OAuth over http.
Contributed by Da Zhou.

-
-    LOG.debug("Initializing NativeAzureFileSystem for {}", uri);
+    final AbfsConfiguration abfsConfiguration = abfsStore.getAbfsConfiguration();
-    if (abfsStore.getAbfsConfiguration().getCreateRemoteFileSystemDuringInitialization()) {
+    if (abfsConfiguration.getCreateRemoteFileSystemDuringInitialization()) {
-    if (!abfsStore.getAbfsConfiguration().getSkipUserGroupMetadataDuringInitialization()) {
+    if (!abfsConfiguration.getSkipUserGroupMetadataDuringInitialization()) {
-      this.delegationTokenEnabled = abfsStore.getAbfsConfiguration().isDelegationTokenManagerEnabled();
+      this.delegationTokenEnabled = abfsConfiguration.isDelegationTokenManagerEnabled();
-        this.delegationTokenManager = abfsStore.getAbfsConfiguration().getDelegationTokenManager();
+        this.delegationTokenManager = abfsConfiguration.getDelegationTokenManager();
-    AbfsClientThrottlingIntercept.initializeSingleton(abfsStore.getAbfsConfiguration().isAutoThrottlingEnabled());
+    AbfsClientThrottlingIntercept.initializeSingleton(abfsConfiguration.isAutoThrottlingEnabled());
