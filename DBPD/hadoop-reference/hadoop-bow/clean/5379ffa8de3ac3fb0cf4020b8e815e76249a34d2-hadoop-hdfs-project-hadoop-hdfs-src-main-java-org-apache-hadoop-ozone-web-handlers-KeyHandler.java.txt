HDFS-12030. Ozone: CLI: support infoKey command. Contributed by Yiqun Lin.

+import org.apache.hadoop.ozone.web.exceptions.ErrorTable;
+import org.apache.hadoop.ozone.web.headers.Header;
+import org.apache.hadoop.ozone.web.response.KeyInfo;
-   * Gets the Key if it exists.
+   * Gets the Key/key information if it exists.
-   * @param req     Request
-   * @param info    - UriInfo
+   * @param key Name of the key
+   * @param info Tag info
+   * @param req Request
+   * @param uriInfo Uri Info
-  public Response getKey(String volume, String bucket, String key,
-                         Request req, UriInfo info, HttpHeaders headers)
+  public Response getKey(String volume, String bucket, String key, String info,
+      Request req, UriInfo uriInfo, HttpHeaders headers)
-                                UriInfo info)
+                                UriInfo uriInfo)
-        StorageHandler fs = StorageHandlerBuilder.getStorageHandler();
-        LengthInputStream stream = fs.newKeyReader(args);
-        return OzoneUtils.getResponse(args, HTTP_OK, stream);
+        if (info == null) {
+          return getKey(args);
+        } else if (info.equals(Header.OZONE_LIST_QUERY_KEY)) {
+          return getKeyInfo(args);
+        }
+
+        OzoneException ozException = ErrorTable
+            .newError(ErrorTable.INVALID_QUERY_PARAM, args);
+        ozException.setMessage("Unrecognized query param : " + info);
+        throw ozException;
-    }.handleCall(volume, bucket, key, req, headers, info, null);
+    }.handleCall(volume, bucket, key, req, headers, uriInfo, null);
+  }
+
+  /**
+   * Gets the Key if it exists.
+   */
+  private Response getKey(KeyArgs args)
+      throws IOException, OzoneException {
+    StorageHandler fs = StorageHandlerBuilder.getStorageHandler();
+    LengthInputStream stream = fs.newKeyReader(args);
+    return OzoneUtils.getResponse(args, HTTP_OK, stream);
+  }
+
+  /**
+   * Gets the Key information if it exists.
+   */
+  private Response getKeyInfo(KeyArgs args)
+      throws IOException, OzoneException {
+    StorageHandler fs = StorageHandlerBuilder.getStorageHandler();
+    KeyInfo keyInfo = fs.getKeyInfo(args);
+    return OzoneUtils.getResponse(args, HTTP_OK, keyInfo.toJsonString());
