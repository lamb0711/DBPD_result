HDFS-12105. Ozone: listVolumes doesn't work from ozone commandline. Contributed by Yiqun Lin.

+    int maxKeys = 0;
+    if (cmd.hasOption(Shell.LIST_LENGTH)) {
+      String length = cmd.getOptionValue(Shell.LIST_LENGTH);
+      try {
+        maxKeys = Integer.parseInt(length);
+      } catch (NumberFormatException nfe) {
+        throw new OzoneRestClientException(
+            "Invalid max key length, the vaule should be digital.");
+      }
+
+      if (maxKeys <= 0) {
+        throw new OzoneRestClientException(
+            "Invalid max key length, the vaule should be a positive number.");
+      }
+    }
+
+    String startVolume = null;
+    if (cmd.hasOption(Shell.START)) {
+      startVolume = cmd.getOptionValue(Shell.START);
+    }
+
+    String prefix = null;
+    if (cmd.hasOption(Shell.PREFIX)) {
+      prefix = cmd.getOptionValue(Shell.PREFIX);
+    }
+
-    if (!cmd.hasOption(Shell.USER)) {
-      throw new OzoneRestClientException(
-          "User name is needed in listVolume call.");
-    }
-
-    List<OzoneVolume> volumes = client.listVolumes(userName);
+    List<OzoneVolume> volumes = client.listVolumes(userName, prefix, maxKeys,
+        startVolume);
