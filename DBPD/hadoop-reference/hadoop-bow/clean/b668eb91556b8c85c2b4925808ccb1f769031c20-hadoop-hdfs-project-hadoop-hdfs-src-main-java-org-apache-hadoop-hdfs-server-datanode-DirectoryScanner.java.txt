HDFS-10675. Datanode support to read from external stores.

+import org.apache.hadoop.fs.StorageType;
-  void setRetainDiffs(boolean b) {
+  public void setRetainDiffs(boolean b) {
-  DirectoryScanner(DataNode datanode, FsDatasetSpi<?> dataset, Configuration conf) {
+  public DirectoryScanner(DataNode datanode, FsDatasetSpi<?> dataset,
+      Configuration conf) {
-  void reconcile() throws IOException {
+  public void reconcile() throws IOException {
-        dataset.checkAndUpdate(bpid, info.getBlockId(), info.getBlockFile(),
-            info.getMetaFile(), info.getVolume());
+        dataset.checkAndUpdate(bpid, info);
-          if (info.getBlockFile() == null) {
+          if (info.getVolume().getStorageType() != StorageType.PROVIDED &&
+              info.getBlockFile() == null) {
-              || info.getBlockFileLength() != memBlock.getNumBytes()) {
+              || info.getBlockLength() != memBlock.getNumBytes()) {
+        perfTimer.reset().start();
+        throttleTimer.reset().start();
+
