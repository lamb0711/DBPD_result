MAPREDUCE-3944. Change the history jobs/ webservice to return partial job info for a significant performance improvement. (Contributed by Robert Joseph Evans)


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1297672 13f79535-47bb-0310-9956-ffa450edef68

-  protected boolean uberized;
+  protected Boolean uberized;
-  protected long avgMapTime = 0;
-  protected long avgReduceTime = 0;
-  protected long avgShuffleTime = 0;
-  protected long avgMergeTime = 0;
-  protected int failedReduceAttempts = 0;
-  protected int killedReduceAttempts = 0;
-  protected int successfulReduceAttempts = 0;
-  protected int failedMapAttempts = 0;
-  protected int killedMapAttempts = 0;
-  protected int successfulMapAttempts = 0;
+  protected Long avgMapTime;
+  protected Long avgReduceTime;
+  protected Long avgShuffleTime;
+  protected Long avgMergeTime;
+  protected Integer failedReduceAttempts;
+  protected Integer killedReduceAttempts;
+  protected Integer successfulReduceAttempts;
+  protected Integer failedMapAttempts;
+  protected Integer killedMapAttempts;
+  protected Integer successfulMapAttempts;
-    countTasksAndAttempts(job);
+    
-    this.uberized = job.isUber();
-    this.diagnostics = "";
-    List<String> diagnostics = job.getDiagnostics();
-    if (diagnostics != null && !diagnostics.isEmpty()) {
-      StringBuffer b = new StringBuffer();
-      for (String diag : diagnostics) {
-        b.append(diag);
-      }
-      this.diagnostics = b.toString();
-    }
+    
+      avgMapTime = 0l;
+      avgReduceTime = 0l;
+      avgShuffleTime = 0l;
+      avgMergeTime = 0l;
+      failedReduceAttempts = 0;
+      killedReduceAttempts = 0;
+      successfulReduceAttempts = 0;
+      failedMapAttempts = 0;
+      killedMapAttempts = 0;
+      successfulMapAttempts = 0;
+      countTasksAndAttempts(job);
+      this.uberized = job.isUber();
+      this.diagnostics = "";
+      List<String> diagnostics = job.getDiagnostics();
+      if (diagnostics != null && !diagnostics.isEmpty()) {
+        StringBuffer b = new StringBuffer();
+        for (String diag : diagnostics) {
+          b.append(diag);
+        }
+        this.diagnostics = b.toString();
+      }
+
+
-  public long getAvgMapTime() {
+  public Long getAvgMapTime() {
-  public long getAvgReduceTime() {
+  public Long getAvgReduceTime() {
-  public long getAvgShuffleTime() {
+  public Long getAvgShuffleTime() {
-  public long getAvgMergeTime() {
+  public Long getAvgMergeTime() {
-  public long getFailedReduceAttempts() {
+  public Integer getFailedReduceAttempts() {
-  public long getKilledReduceAttempts() {
+  public Integer getKilledReduceAttempts() {
-  public long getSuccessfulReduceAttempts() {
+  public Integer getSuccessfulReduceAttempts() {
-  public long getFailedMapAttempts() {
+  public Integer getFailedMapAttempts() {
-  public long getKilledMapAttempts() {
+  public Integer getKilledMapAttempts() {
-  public long getSuccessfulMapAttempts() {
+  public Integer getSuccessfulMapAttempts() {
-  public boolean isUber() {
+  public Boolean isUber() {
