YARN-6255. Refactor yarn-native-services framework. Contributed by Jian He

+import com.codahale.metrics.MetricRegistry;
+import com.codahale.metrics.health.HealthCheckRegistry;
-import org.apache.slider.server.appmaster.management.MetricsAndMonitoring;
-import static org.apache.slider.server.appmaster.web.rest.RestPaths.*;
+import static org.apache.slider.server.appmaster.web.rest.RestPaths.*;
+
+
-    // metrics
-    MetricsAndMonitoring monitoring =
-        webAppApi.getMetricsAndMonitoring();
-    serve(SYSTEM_HEALTHCHECK).with(new HealthCheckServlet(monitoring.getHealth()));
-    serve(SYSTEM_METRICS).with(new MetricsServlet(monitoring.getMetrics()));
+    serve(SYSTEM_HEALTHCHECK)
+        .with(new HealthCheckServlet(new HealthCheckRegistry()));
+    serve(SYSTEM_METRICS).with(new MetricsServlet(new MetricRegistry()));
