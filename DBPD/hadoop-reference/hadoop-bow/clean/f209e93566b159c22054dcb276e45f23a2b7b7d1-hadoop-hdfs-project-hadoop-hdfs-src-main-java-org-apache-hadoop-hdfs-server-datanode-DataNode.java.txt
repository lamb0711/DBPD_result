HDFS-10638. Modifications to remove the assumption that StorageLocation is associated with java.io.File in Datanode. (Virajith Jalaparti via lei)

-      existingLocations.put(loc.getFile().getCanonicalPath(), loc);
+      existingLocations.put(loc.getNormalizedUri().toString(), loc);
-        if (location.getFile().getCanonicalPath().equals(
-            dir.getRoot().getCanonicalPath())) {
+        if (location.matchesStorageDirectory(dir)) {
-              location.getFile().getCanonicalPath());
+              location.getNormalizedUri().toString());
-            + location.getFile() + " : ", ioe);
+            + location + " : ", ioe);
