Opening of rocksDB in datanode fails with "No locks available"

Signed-off-by: Nanda kumar <nanda@apache.org>

-import java.util.concurrent.atomic.AtomicBoolean;
-  private final AtomicBoolean isEvicted;
-    this.isEvicted = new AtomicBoolean(false);
+  public long getReferenceCount() {
+    return referenceCount.get();
+  }
+
-    this.referenceCount.decrementAndGet();
+    int refCount = this.referenceCount.decrementAndGet();
+    Preconditions.checkArgument(refCount >= 0, "refCount:", refCount);
-    cleanup();
-  public void setEvicted(boolean checkNoReferences) {
-    Preconditions.checkState(!checkNoReferences ||
-            (referenceCount.get() == 0),
-        "checkNoReferences:%b, referencount:%d, dbPath:%s",
-        checkNoReferences, referenceCount.get(), containerDBPath);
-    isEvicted.set(true);
-    cleanup();
-  }
-
-  private void cleanup() {
-    if (referenceCount.get() == 0 && isEvicted.get() && store != null) {
+  public boolean cleanup() {
+    if (referenceCount.get() == 0 && store != null) {
+        return true;
+        return false;
+    } else {
+      return false;
