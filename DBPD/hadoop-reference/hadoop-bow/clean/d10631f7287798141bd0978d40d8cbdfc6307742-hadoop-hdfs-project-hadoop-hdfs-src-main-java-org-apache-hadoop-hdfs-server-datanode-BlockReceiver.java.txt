Merge trunk into HA branch


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1166495 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.hdfs.protocol.FSConstants;
+import org.apache.hadoop.hdfs.protocol.HdfsConstants;
-            streams.checksumOut, FSConstants.SMALL_BUFFER_SIZE));
+            streams.checksumOut, HdfsConstants.SMALL_BUFFER_SIZE));
-    while (buf.remaining() < FSConstants.BYTES_IN_INTEGER) {
+    while (buf.remaining() < HdfsConstants.BYTES_IN_INTEGER) {
-        - FSConstants.BYTES_IN_INTEGER;
+        - HdfsConstants.BYTES_IN_INTEGER;
