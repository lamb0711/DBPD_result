HDDS-1363. ozone.metadata.dirs doesn't pick multiple dirs (#691)


-import java.util.Collection;
-    final Collection<String> dbDirs =
-        conf.getTrimmedStringCollection(dbDirectory);
-
-    if (dbDirs.size() > 1) {
-      throw new IllegalArgumentException(
-          "Bad configuration setting " + dbDirectory
-              + ". OM does not support multiple metadata dirs currently.");
-    }
-
-    if (dbDirs.size() == 1) {
-      final File dbDirPath = new File(dbDirs.iterator().next());
-      if (!dbDirPath.exists() && !dbDirPath.mkdirs()) {
-        throw new IllegalArgumentException(
-            "Unable to create directory " + dbDirPath
-                + " specified in configuration setting " + dbDirectory);
-      }
+    final File dbDirPath =
+        ServerUtils.getDirectoryFromConfig(conf, dbDirectory, "OM");
+    if (dbDirPath != null) {
