YARN-2894. Fixed a bug regarding application view acl when RM fails over. Contributed by Rohith Sharmaks

-import org.apache.hadoop.yarn.server.resourcemanager.security.QueueACLsManager;
-import org.apache.hadoop.yarn.server.security.ApplicationACLsManager;
-  private ApplicationACLsManager aclsManager;
-  private QueueACLsManager queueACLsManager;
+  private final ResourceManager rm;
-  AppBlock(ResourceManager rm, ViewContext ctx,
-      ApplicationACLsManager aclsManager, QueueACLsManager queueACLsManager,
-      Configuration conf) {
+  AppBlock(ResourceManager rm, ViewContext ctx, Configuration conf) {
-    this.aclsManager = aclsManager;
-    this.queueACLsManager = queueACLsManager;
+    this.rm = rm;
-    RMContext context = getInstance(RMContext.class);
+    RMContext context = this.rm.getRMContext();
-        && !(this.aclsManager.checkAccess(callerUGI,
-                ApplicationAccessType.VIEW_APP, app.getUser(), appID) ||
-             this.queueACLsManager.checkAccess(callerUGI,
+        && !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,
+            ApplicationAccessType.VIEW_APP, app.getUser(), appID) || this.rm
+            .getQueueACLsManager().checkAccess(callerUGI,
