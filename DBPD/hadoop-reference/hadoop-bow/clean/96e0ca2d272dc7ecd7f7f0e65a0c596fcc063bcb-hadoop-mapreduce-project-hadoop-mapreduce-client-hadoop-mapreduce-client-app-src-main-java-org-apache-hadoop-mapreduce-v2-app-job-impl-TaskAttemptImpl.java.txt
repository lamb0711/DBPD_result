YARN-1824. Improved NodeManager and clients to be able to handle cross platform application submissions. Contributed by Jian He.
MAPREDUCE-4052. Improved MapReduce clients to use NodeManagers' ability to handle cross platform application submissions. Contributed by Jian He.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1578135 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Collection;
-import java.util.Collection;
-import org.apache.hadoop.yarn.util.Apps;
-
-      Apps.addToEnvironment(
+      MRApps.addToEnvironment(
-          getInitialClasspath(conf));
+          getInitialClasspath(conf), conf);
-        Apps.addToEnvironment(
+        MRApps.addToEnvironment(
-            initialAppClasspath);
+            initialAppClasspath, conf);
-    Apps.addToEnvironment(
+    MRApps.addToEnvironment(
-        Environment.PWD.$());
+        MRApps.crossPlatformifyMREnv(conf, Environment.PWD), conf);
-    Apps.setEnvFromInputString(
+    MRApps.setEnvFromInputString(
-            MRJobConfig.DEFAULT_MAPRED_ADMIN_USER_ENV)
+            MRJobConfig.DEFAULT_MAPRED_ADMIN_USER_ENV), conf
