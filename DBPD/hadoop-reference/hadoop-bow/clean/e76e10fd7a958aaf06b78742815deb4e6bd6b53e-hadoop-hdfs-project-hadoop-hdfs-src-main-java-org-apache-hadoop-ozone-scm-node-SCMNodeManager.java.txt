HDFS-12609. Ozone: SCM: Refactoring of chill mode logic in NodeManager. Contributed by Nandakumar.

-   * Reports if we have exited out of chill mode.
-   *
-   * @return true if we are out of chill mode.
-   */
-  @Override
-  public boolean isOutOfNodeChillMode() {
-    return !inStartupChillMode.get() && !inManualChillMode.get();
-  }
-
-  /**
-   * Clears the manual chill mode.
-   */
-  @Override
-  public void clearChillModeFlag() {
-    LOG.info("Clearing manual chill mode flag.");
-    this.inManualChillMode.getAndSet(false);
-  }
-
-  /**
-      return "Still in chill mode, waiting on nodes to report in."
-          + getNodeStatus();
+      return "Still in chill mode, waiting on nodes to report in." +
+          String.format(" %d nodes reported, minimal %d nodes required.",
+              totalNodes.get(), getMinimumChillModeNodes());
-          getNodeStatus();
+          String.format(" %d nodes have reported in.", totalNodes.get());
-    return "Out of chill mode." + getNodeStatus();
-  }
-
-  /**
-   * Returns a node status string.
-   * @return - String
-   */
-  private String getNodeStatus() {
-    return isOutOfNodeChillMode() ?
-        String.format(" %d nodes have reported in.", totalNodes.get()) :
-        String.format(" %d nodes reported, minimal %d nodes required.",
-            totalNodes.get(), getMinimumChillModeNodes());
-  }
-
-  /**
-   * Returns the status of Manual chill Mode flag.
-   *
-   * @return true if forceEnterChillMode has been called, false if
-   * forceExitChillMode or status is not set. eg. clearChillModeFlag.
-   */
-  @Override
-  public boolean isInManualChillMode() {
-    return inManualChillMode.get();
+    return "Out of chill mode." +
+        String.format(" %d nodes have reported in.", totalNodes.get());
-      inStartupChillMode.getAndSet(false);
+      inStartupChillMode.set(false);
-      inManualChillMode.getAndSet(false);
+      inManualChillMode.set(false);
-   * Forcefully enters chill mode, even if all chill mode conditions are met.
+   * Puts the node manager into manual chill mode.
-  public void forceEnterChillMode() {
+  public void enterChillMode() {
-    inManualChillMode.getAndSet(true);
+    inManualChillMode.set(true);
+  }
+
+  /**
+   * Brings node manager out of manual chill mode.
+   */
+  @Override
+  public void exitChillMode() {
+    LOG.info("Leaving manual chill mode.");
+    inManualChillMode.set(false);
+  }
+
+  /**
+   * Returns true if node manager is out of chill mode, else false.
+   * @return true if out of chill mode, else false
+   */
+  @Override
+  public boolean isOutOfChillMode() {
+    return !(inStartupChillMode.get() || inManualChillMode.get());
