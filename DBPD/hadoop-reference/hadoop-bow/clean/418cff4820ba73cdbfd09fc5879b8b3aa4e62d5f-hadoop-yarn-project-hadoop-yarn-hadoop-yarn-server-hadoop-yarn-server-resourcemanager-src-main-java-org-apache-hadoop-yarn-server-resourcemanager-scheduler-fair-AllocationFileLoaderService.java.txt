Merge remote-tracking branch 'apache-commit/trunk' into HDDS-48

-  private final Listener reloadListener;
+  private Listener reloadListener;
-  public AllocationFileLoaderService(Listener reloadListener) {
-    this(reloadListener, SystemClock.getInstance());
+  public AllocationFileLoaderService() {
+    this(SystemClock.getInstance());
-  public AllocationFileLoaderService(Listener reloadListener, Clock clock) {
+  public AllocationFileLoaderService(Clock clock) {
-    this.reloadListener = reloadListener;
-    if(this.allocFile != null) {
+    if (this.allocFile != null) {
-            LOG.info("Exception while loading allocation file: " + e);
+            LOG.error("Exception while loading allocation file: " + e);
-  public Path getAllocationFile(Configuration conf)
+  @VisibleForTesting
+  Path getAllocationFile(Configuration conf)
+  public synchronized void setReloadListener(Listener reloadListener) {
+    this.reloadListener = reloadListener;
+  }
+
-    void onCheck();
+    default void onCheck() {
+    }
