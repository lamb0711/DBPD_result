Reverting the previous trunk merge since it added other unintended changes in addition


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1177127 13f79535-47bb-0310-9956-ffa450edef68

-      SchedulerApp application, SchedulerNode node, 
-      Resource capability, Priority priority) {
+      SchedulerApp application, SchedulerNode node, Resource capability) {
-      createContainer(application, node, capability, priority);
+      createContainer(application, node, capability);
-      Resource capability, Priority priority) {
+      Resource capability) {
-              node.getNodeID(), node.getHttpAddress(), 
-              capability, priority);
+              node.getNodeID(),
+              node.getHttpAddress(), capability);
-        getContainer(rmContainer, application, node, capability, priority);
+        getContainer(rmContainer, application, node, capability);
+    rmContainer = application.reserve(node, priority, rmContainer, container);
+    node.reserveResource(application, priority, rmContainer);
+    
-
-    // Inform the application 
-    rmContainer = application.reserve(node, priority, rmContainer, container);
-    
-    // Update the node
-    node.reserveResource(application, priority, rmContainer);
