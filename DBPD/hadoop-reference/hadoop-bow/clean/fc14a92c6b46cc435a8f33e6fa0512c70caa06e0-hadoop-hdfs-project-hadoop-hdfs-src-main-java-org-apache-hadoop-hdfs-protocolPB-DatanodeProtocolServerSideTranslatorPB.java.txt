HDFS-5141. Add cache status information to datanode heartbeat. (Contributed by Andrew Wang)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1519101 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.hdfs.protocol.proto.DatanodeProtocolProtos.CacheReportProto;
+import org.apache.hadoop.hdfs.server.protocol.CacheReport;
+      List<CacheReportProto> cacheList = request.getCacheReportsList();
+      CacheReport[] cacheReport = new CacheReport[list.size()];
+      i = 0;
+      for (CacheReportProto p : cacheList) {
+        cacheReport[i++] = new CacheReport(p.getCacheCapacity(),
+            p.getCacheUsed());
+      }
-          report, request.getXmitsInProgress(), request.getXceiverCount(),
-          request.getFailedVolumes());
+          report, cacheReport, request.getXmitsInProgress(),
+          request.getXceiverCount(), request.getFailedVolumes());
