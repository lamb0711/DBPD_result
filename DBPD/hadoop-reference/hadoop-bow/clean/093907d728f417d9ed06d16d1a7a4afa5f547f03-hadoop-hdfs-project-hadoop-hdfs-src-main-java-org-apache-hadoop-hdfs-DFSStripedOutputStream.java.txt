HDFS-8253. DFSStripedOutputStream.closeThreads releases cellBuffers multiple times.  Contributed by Kai Sasaki

-    for (StripedDataStreamer streamer : streamers) {
-      try {
-        streamer.close(force);
-        streamer.join();
-        streamer.closeSocket();
-      } catch(Exception e) {
+    try {
+      for (StripedDataStreamer streamer : streamers) {
-          handleStreamerFailure("force=" + force, e);
-        } catch(IOException ioe) {
-          b.add(ioe);
+          streamer.close(force);
+          streamer.join();
+          streamer.closeSocket();
+        } catch (Exception e) {
+          try {
+            handleStreamerFailure("force=" + force, e);
+          } catch (IOException ioe) {
+            b.add(ioe);
+          }
+        } finally {
+          streamer.setSocketToNull();
-      } finally {
-        streamer.setSocketToNull();
-        setClosed();
+    } finally {
+      setClosed();
