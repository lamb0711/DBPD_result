YARN-1389. Made ApplicationClientProtocol and ApplicationHistoryProtocol expose analogous getApplication(s)/Attempt(s)/Container(s) APIs. Contributed by Mayank Bansal.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1577052 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.yarn.api.records.ContainerReport;
+
+
-      return finishedStatus.getDiagnostics();
+      if (getFinishedStatus() != null) {
+        return getFinishedStatus().getDiagnostics();
+      } else {
+        return null;
+      }
-      return finishedStatus.getExitStatus();
+      if (getFinishedStatus() != null) {
+        return getFinishedStatus().getExitStatus();
+      } else {
+        return 0;
+      }
-      return finishedStatus.getState();
+      if (getFinishedStatus() != null) {
+        return getFinishedStatus().getState();
+      } else {
+        return ContainerState.RUNNING;
+      }
+  public ContainerStatus getFinishedStatus() {
+    return finishedStatus;
+  }
+  
+  @Override
+  public ContainerReport createContainerReport() {
+    this.readLock.lock();
+    ContainerReport containerReport = null;
+    try {
+      containerReport = ContainerReport.newInstance(this.getContainerId(),
+          this.getAllocatedResource(), this.getAllocatedNode(),
+          this.getAllocatedPriority(), this.getStartTime(),
+          this.getFinishTime(), this.getDiagnosticsInfo(), this.getLogURL(),
+          this.getContainerExitStatus(), this.getContainerState());
+    } finally {
+      this.readLock.unlock();
+    }
+    return containerReport;
+  }
+
