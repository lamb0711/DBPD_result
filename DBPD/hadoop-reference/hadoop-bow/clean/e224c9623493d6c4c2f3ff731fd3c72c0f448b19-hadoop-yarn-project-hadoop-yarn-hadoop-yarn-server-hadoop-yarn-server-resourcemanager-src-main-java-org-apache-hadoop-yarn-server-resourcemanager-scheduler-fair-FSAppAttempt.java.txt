YARN-5831. FairScheduler: Propagate allowPreemptionFrom flag all the way down to the app. (Yufei Gu via kasha)

+    if (!isPreemptable()) {
+      return false;
+    }
+
-    // Check if any of the parent queues are not preemptable
-    // TODO (YARN-5831): Propagate the "preemptable" flag all the way down to
-    // the app to avoid recursing up every time.
-    for (FSQueue q = getQueue();
-        !q.getQueueName().equals("root");
-        q = q.getParent()) {
-      if (!q.isPreemptable()) {
-        return false;
-      }
-    }
-
+
+  @Override
+  public boolean isPreemptable() {
+    return getQueue().isPreemptable();
+  }
