YARN-2581. Passed LogAggregationContext to NM via ContainerTokenIdentifier. Contributed by Xuan Gong.

+import org.apache.hadoop.yarn.api.records.LogAggregationContext;
+import com.google.common.annotations.VisibleForTesting;
+
+  private LogAggregationContext logAggregationContext;
+
+      app.logAggregationContext = initEvent.getLogAggregationContext();
-              app.applicationACLs)); 
+              app.applicationACLs, app.logAggregationContext)); 
+
+  @VisibleForTesting
+  public LogAggregationContext getLogAggregationContext() {
+    try {
+      this.readLock.lock();
+      return this.logAggregationContext;
+    } finally {
+      this.readLock.unlock();
+    }
+  }
