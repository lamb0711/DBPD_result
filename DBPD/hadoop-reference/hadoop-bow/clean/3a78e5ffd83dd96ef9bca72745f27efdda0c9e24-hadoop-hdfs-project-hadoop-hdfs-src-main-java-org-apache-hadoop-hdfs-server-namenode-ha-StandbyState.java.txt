HDFS-12975. [SBN read] Changes to the NameNode to support reads from standby. Contributed by Chao Sun.
+  private final boolean isObserver;
+
+    this(false);
+  }
+
+  public StandbyState(boolean isObserver) {
+    this.isObserver = isObserver;
+    if (isObserver && s == NameNode.STANDBY_STATE) {
+      // To guard against the exception in the following super call.
+      // The other case, standby -> observer, should not happen.
+      return;
+    }
+
+  @Override
+  public String toString() {
+    return isObserver ? "observer" : "standby";
+  }
