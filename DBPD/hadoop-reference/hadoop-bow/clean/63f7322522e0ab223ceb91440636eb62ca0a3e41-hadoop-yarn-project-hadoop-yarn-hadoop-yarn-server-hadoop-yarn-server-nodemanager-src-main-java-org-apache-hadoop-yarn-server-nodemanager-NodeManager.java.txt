YARN-6368. Decommissioning an NM results in a -1 exit code (miklos.szegedi@cloudera.com via rkanter)

+   * Node manager return status codes.
+   */
+  public enum NodeManagerStatus {
+    NO_ERROR(0),
+    EXCEPTION(1);
+
+    private int exitCode;
+
+    NodeManagerStatus(int exitCode) {
+      this.exitCode = exitCode;
+    }
+
+    public int getExitCode() {
+      return exitCode;
+    }
+  }
+
+  /**
-  protected void shutDown() {
+  protected void shutDown(final int exitCode) {
-            ExitUtil.terminate(-1);
+            ExitUtil.terminate(exitCode);
-          shutDown();
+          shutDown(NodeManagerStatus.EXCEPTION.getExitCode());
-      shutDown();
+      shutDown(NodeManagerStatus.NO_ERROR.getExitCode());
