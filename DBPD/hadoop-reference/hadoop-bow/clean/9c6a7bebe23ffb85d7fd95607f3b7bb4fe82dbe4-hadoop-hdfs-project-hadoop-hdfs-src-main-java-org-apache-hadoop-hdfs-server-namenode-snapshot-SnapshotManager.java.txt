HDFS-4675. Fix rename across snapshottable directories.  Contributed by Jing Zhao


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1467540 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Iterator;
-      this.snapshottables.removeAll(toRemoveList);
+      Iterator<INodeDirectorySnapshottable> iter = snapshottables.iterator();
+      while (iter.hasNext()) {
+        INodeDirectorySnapshottable next = iter.next();
+        for (INodeDirectorySnapshottable toRemove : toRemoveList) {
+          if (next == toRemove) {
+            iter.remove();
+            break;
+          }
+        }
+      }
