YARN-9664. Improve response of scheduler/app activities for better understanding. Contributed by Tao Yang.

-      Set<String> requestPriorities, Set<String> allocationRequestIds,
+      Set<Integer> requestPriorities, Set<Long> allocationRequestIds,
-        if (an.getNodeId() != null) {
-          nodeActivities.putIfAbsent(
-              an.getRequestPriority() + "_" + an.getAllocationRequestId() + "_"
-                  + an.getNodeId(), an);
-        }
+        nodeActivities.putIfAbsent(
+            an.getRequestPriority() + "_" + an.getAllocationRequestId() + "_"
+                + an.getNodeId(), an);
-    summarizedAppAllocation
-        .updateAppContainerStateAndTime(null, lastAppAllocation.getAppState(),
-            lastAppAllocation.getTime(), lastAppAllocation.getDiagnostic());
+    summarizedAppAllocation.updateAppContainerStateAndTime(null,
+        lastAppAllocation.getActivityState(), lastAppAllocation.getTime(),
+        lastAppAllocation.getDiagnostic());
-                && curTS - allocations.get(0).getTimeStamp()
+                && curTS - allocations.get(0).getTimestamp()
-      String childName, String priority, ActivityState state, String diagnostic,
-      String type, String allocationRequestId) {
+      String childName, Integer priority, ActivityState state,
+      String diagnostic, ActivityLevel level, Long allocationRequestId) {
-          state, diagnostic, type, nodeId, allocationRequestId);
+          state, diagnostic, level, nodeId, allocationRequestId);
-      ContainerId containerId, String priority, ActivityState state,
-      String diagnostic, String type, NodeId nodeId,
-      String allocationRequestId) {
+      ContainerId containerId, Integer priority, ActivityState state,
+      String diagnostic, ActivityLevel level, NodeId nodeId,
+      Long allocationRequestId) {
-          containerId.toString(), priority, state, diagnostic, type, nodeId,
+          containerId.toString(), priority, state, diagnostic, level, nodeId,
-  void finishNodeUpdateRecording(NodeId nodeID) {
+  void finishNodeUpdateRecording(NodeId nodeID, String partition) {
-    long timeStamp = SystemClock.getInstance().getTime();
+    long timestamp = SystemClock.getInstance().getTime();
-          allocation.setTimeStamp(timeStamp);
+          allocation.setTimestamp(timestamp);
+          allocation.setPartition(partition);
