YARN-3692. Allow REST API to set a user generated message when killing an application. Contributed by Rohith Sharma K S

-    String message = "Kill application " + applicationId + " received from "
-        + callerUGI;
+    StringBuilder message = new StringBuilder();
+    message.append("Application ").append(applicationId)
+        .append(" was killed by user ").append(callerUGI.getShortUserName());
+
-      message += " at " + remoteAddress.getHostAddress();
+      message.append(" at ").append(remoteAddress.getHostAddress());
+
+    String diagnostics = org.apache.commons.lang.StringUtils
+        .trimToNull(request.getDiagnostics());
+    if (diagnostics != null) {
+      message.append(" with diagnostic message: ");
+      message.append(diagnostics);
+    }
+
-        .handle(new RMAppKillByClientEvent(applicationId, message, callerUGI,
-            remoteAddress));
+        .handle(new RMAppKillByClientEvent(applicationId, message.toString(),
+            callerUGI, remoteAddress));
