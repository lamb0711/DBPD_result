HDFS-12034. Ozone: Web interface for KSM. Contributed by Elek, Marton.

+import org.apache.hadoop.jmx.ServiceRuntimeInfo;
+import org.apache.hadoop.metrics2.lib.DefaultMetricsSystem;
+import org.apache.hadoop.metrics2.util.MBeans;
+import javax.management.ObjectName;
-public class KeySpaceManager implements KeySpaceManagerProtocol {
+public class KeySpaceManager extends ServiceRuntimeInfo
+    implements KeySpaceManagerProtocol, KSMMXBean {
+  private ObjectName ksmInfoBeanName;
+    DefaultMetricsSystem.initialize("KeySpaceManager");
+    registerMXBean();
+    setStartTime();
+      unregisterMXBean();
+
+  private void registerMXBean() {
+    this.ksmInfoBeanName =
+        MBeans.register("KeySpaceManager", "KeySpaceManagerInfo", this);
+  }
+
+  private void unregisterMXBean() {
+    if (this.ksmInfoBeanName != null) {
+      MBeans.unregister(this.ksmInfoBeanName);
+      this.ksmInfoBeanName = null;
+    }
+  }
+
+  @Override
+  public String getRpcPort() {
+    return "" + ksmRpcAddress.getPort();
+  }
