YARN-6171. ConcurrentModificationException on FSAppAttempt.containersToPreempt. (Miklos Szegedi via kasha)

+import java.util.concurrent.locks.ReentrantReadWriteLock;
+    ReentrantReadWriteLock.WriteLock lock = application.getWriteLock();
+    lock.lock();
-      application.getWriteLock().lock();
-      application.getWriteLock().unlock();
+      lock.unlock();
+    Set<ContainerId> preemptionContainerIds =
+        application.getPreemptionContainerIds();
-      LOG.debug("Preempting " + application.getPreemptionContainers().size()
+      LOG.debug("Preempting " + preemptionContainerIds.size()
-    Set<ContainerId> preemptionContainerIds = new HashSet<ContainerId>();
-    for (RMContainer container : application.getPreemptionContainers()) {
-      preemptionContainerIds.add(container.getContainerId());
-    }
-
