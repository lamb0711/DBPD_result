Merge trunk into HA branch


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1166495 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.hdfs.protocol.FSConstants;
+import org.apache.hadoop.hdfs.protocol.HdfsConstants;
-    byte buf[] = new byte[FSConstants.IO_FILE_BUFFER_SIZE];
+    byte buf[] = new byte[HdfsConstants.IO_FILE_BUFFER_SIZE];
-          buf = new byte[(int)Math.min(len/2, FSConstants.IO_FILE_BUFFER_SIZE)];
+          buf = new byte[(int)Math.min(len/2, HdfsConstants.IO_FILE_BUFFER_SIZE)];
-    byte[] buf = new byte[FSConstants.IO_FILE_BUFFER_SIZE];
+    byte[] buf = new byte[HdfsConstants.IO_FILE_BUFFER_SIZE];
