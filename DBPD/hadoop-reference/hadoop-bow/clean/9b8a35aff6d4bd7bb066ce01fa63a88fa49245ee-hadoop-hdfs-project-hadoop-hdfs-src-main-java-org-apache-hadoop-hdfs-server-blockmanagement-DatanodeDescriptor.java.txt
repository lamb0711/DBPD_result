HDFS-7128. Decommission slows way down when it gets towards the end. Contributed by Ming Ma.

+  // The number of replication work pending before targets are determined
+  private int PendingReplicationWithoutTargets = 0;
+
+  void incrementPendingReplicationWithoutTargets() {
+    PendingReplicationWithoutTargets++;
+  }
+
+  void decrementPendingReplicationWithoutTargets() {
+    PendingReplicationWithoutTargets--;
+  }
+
-  
+
-    return replicateBlocks.size();
+    return PendingReplicationWithoutTargets + replicateBlocks.size();
