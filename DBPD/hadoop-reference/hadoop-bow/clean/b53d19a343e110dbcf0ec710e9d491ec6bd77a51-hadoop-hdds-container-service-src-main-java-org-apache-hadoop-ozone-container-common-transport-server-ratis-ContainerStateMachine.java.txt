HDDS-1783 : Latency metric for applyTransaction in ContainerStateMachine (#1363).



-      ContainerCommandRequestProto requestProto, long entryIndex, long term) {
+      ContainerCommandRequestProto requestProto, long entryIndex, long term,
+      long startTime) {
+        metrics.recordWriteStateMachineCompletion(
+            Time.monotonicNowNanos() - startTime);
+      long writeStateMachineStartTime = Time.monotonicNowNanos();
-            entry.getTerm());
+            entry.getTerm(), writeStateMachineStartTime);
+    long applyTxnStartTime = Time.monotonicNowNanos();
-      }).whenComplete((r, t) -> applyTransactionSemaphore.release());
+      }).whenComplete((r, t) ->  {
+        applyTransactionSemaphore.release();
+        metrics.recordApplyTransactionCompletion(
+            Time.monotonicNowNanos() - applyTxnStartTime);
+      });
