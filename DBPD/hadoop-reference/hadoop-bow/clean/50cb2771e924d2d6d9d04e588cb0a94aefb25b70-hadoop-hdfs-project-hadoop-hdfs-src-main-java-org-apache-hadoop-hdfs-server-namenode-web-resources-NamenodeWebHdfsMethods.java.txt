HDFS-2439. Fix NullPointerException in webhdfs when opening a non-existing file or creating a file without specifying the replication parameter.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1183554 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.conf.Configuration;
+      if (status == null) {
+        throw new FileNotFoundException("File " + path + " not found.");
+      }
+    final Configuration conf = (Configuration)context.getAttribute(JspHelper.CURRENT_CONF);
-        @SuppressWarnings("deprecation")
-      final boolean b = np.setReplication(fullpath, replication.getValue());
+      final boolean b = np.setReplication(fullpath, replication.getValue(conf));
