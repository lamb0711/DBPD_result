HDDS-935. Avoid creating an already created container on a datanode in case of disk removal followed by datanode restart. Contributed by Shashikant Banerjee.

+import java.util.Set;
+
+  private final Set<Long> createContainerSet;
+
-      boolean readFromTmpFile) {
+      boolean readFromTmpFile, Set<Long> containerSet) {
+    this.createContainerSet = containerSet;
+  public Set<Long> getCreateContainerSet() {
+    return createContainerSet;
+  }
+
+    private Set<Long> createContainerSet;
-     * @param stage WriteChunk Stage
+     * @param writeChunkStage WriteChunk Stage
-     * @param readFromTmpFile whether to read from tmp chunk file or not
+     * @param setReadFromTmpFile whether to read from tmp chunk file or not
-     * @param term current term
+     * @param currentTerm current term
-     * @param logIndex log index
+     * @param index log index
+     * Sets the createContainerSet to contain all the containerIds per
+     * RaftGroup.
+     * @param set createContainerSet
+     * @return Builder
+     */
+    public Builder setCreateContainerSet(Set<Long> set) {
+      this.createContainerSet = set;
+      return this;
+    }
+    /**
-      return new DispatcherContext(term, logIndex, stage, readFromTmpFile);
+      return new DispatcherContext(term, logIndex, stage, readFromTmpFile,
+          createContainerSet);
