MAPREDUCE-5280. Bring back removed constructor and a method in mapreduce ClusterMetrics for binary compatibility with 1.x APIs. Contributed by Mayank Bansal.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1488458 13f79535-47bb-0310-9956-ffa450edef68

+  private int numGraylistedTrackers;
-      int occupiedMapSlots, int occupiedReduceSlots,
-      int reservedMapSlots, int reservedReduceSlots,
-      int mapSlots, int reduceSlots, 
-      int totalJobSubmissions,
-      int numTrackers, int numBlacklistedTrackers,
+      int occupiedMapSlots, int occupiedReduceSlots, int reservedMapSlots,
+      int reservedReduceSlots, int mapSlots, int reduceSlots,
+      int totalJobSubmissions, int numTrackers, int numBlacklistedTrackers,
+    this(runningMaps, runningReduces, occupiedMapSlots, occupiedReduceSlots,
+      reservedMapSlots, reservedReduceSlots, mapSlots, reduceSlots,
+      totalJobSubmissions, numTrackers, numBlacklistedTrackers, 0,
+      numDecommissionedNodes);
+  }
+
+  public ClusterMetrics(int runningMaps, int runningReduces,
+      int occupiedMapSlots, int occupiedReduceSlots, int reservedMapSlots,
+      int reservedReduceSlots, int mapSlots, int reduceSlots,
+      int totalJobSubmissions, int numTrackers, int numBlacklistedTrackers,
+      int numGraylistedTrackers, int numDecommissionedNodes) {
+    this.numGraylistedTrackers = numGraylistedTrackers;
+   * Get the number of graylisted trackers in the cluster.
+   * 
+   * @return graylisted tracker count
+   */
+  public int getGrayListedTaskTrackerCount() {
+    return numGraylistedTrackers;
+  }
+  
+  /**
+    numGraylistedTrackers = in.readInt();
+    out.writeInt(numGraylistedTrackers);
