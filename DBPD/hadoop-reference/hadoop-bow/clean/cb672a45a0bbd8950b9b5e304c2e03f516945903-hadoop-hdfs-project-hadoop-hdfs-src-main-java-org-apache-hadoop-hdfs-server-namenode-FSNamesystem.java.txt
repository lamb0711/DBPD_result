HDFS-11605. Allow user to customize new erasure code policies. Contributed by Huafeng Wang

+import org.apache.hadoop.hdfs.protocol.AddingECPolicyResponse;
+import org.apache.hadoop.hdfs.protocol.BlockType;
+import org.apache.hadoop.hdfs.protocol.IllegalECPolicyException;
-import org.apache.hadoop.hdfs.protocol.BlockType;
-  private final ErasureCodingPolicyManager ecPolicyManager;
-    ecPolicyManager.clear();
+    ErasureCodingPolicyManager.getInstance().clear();
-      this.ecPolicyManager = new ErasureCodingPolicyManager(conf);
+      // Init ErasureCodingPolicyManager instance.
+      ErasureCodingPolicyManager.getInstance().init(conf);
-              storageIDs == null ? null: storageIDs[j], 
+              storageIDs == null ? null: storageIDs[j],
-    return ecPolicyManager;
+    return ErasureCodingPolicyManager.getInstance();
+   * Add multiple erasure coding policies to the ErasureCodingPolicyManager.
+   * @param policies The policies to add.
+   * @return The according result of add operation.
+   */
+  AddingECPolicyResponse[] addECPolicies(ErasureCodingPolicy[] policies)
+      throws IOException {
+    checkOperation(OperationCategory.WRITE);
+    List<AddingECPolicyResponse> responses = new ArrayList<>();
+    writeLock();
+    for (ErasureCodingPolicy policy : policies) {
+      try {
+        FSDirErasureCodingOp.addErasureCodePolicy(this, policy);
+        responses.add(new AddingECPolicyResponse(policy));
+      } catch (IllegalECPolicyException e) {
+        responses.add(new AddingECPolicyResponse(policy, e));
+      }
+    }
+    writeUnlock("addECPolicies");
+    return responses.toArray(new AddingECPolicyResponse[0]);
+  }
+
+  /**
