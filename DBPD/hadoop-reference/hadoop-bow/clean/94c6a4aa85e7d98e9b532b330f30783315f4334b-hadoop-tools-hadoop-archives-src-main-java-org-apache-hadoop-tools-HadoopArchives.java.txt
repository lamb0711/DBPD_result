HADOOP-12017. Hadoop archives command should use configurable replication factor when closing (Contributed by Bibin A Chundatt)

-  /**the size of the part files that will be created when archiving **/
+  /** the replication factor for the file in archiving. **/
+  static final String HAR_REPLICATION_LABEL = NAME + ".replication.factor";
+  /** the size of the part files that will be created when archiving **/
-  /** the desired replication degree; default is 10 **/
-  short repl = 10;
+  /** the desired replication degree; default is 3 **/
+  short repl = 3;
+    conf.setInt(HAR_REPLICATION_LABEL, repl);
-    //increase the replication of src files
-    jobfs.setReplication(srcFiles, repl);
+    private int replication = 3;
-
+      replication = conf.getInt(HAR_REPLICATION_LABEL, 3);
+      destFs.setReplication(tmpOutput, (short) replication);
+    private int replication = 3;
+      replication = conf.getInt(HAR_REPLICATION_LABEL, 3);
-      fs.setReplication(index, (short) 5);
-      fs.setReplication(masterIndex, (short) 5);
+      fs.setReplication(index, (short) replication);
+      fs.setReplication(masterIndex, (short) replication);
