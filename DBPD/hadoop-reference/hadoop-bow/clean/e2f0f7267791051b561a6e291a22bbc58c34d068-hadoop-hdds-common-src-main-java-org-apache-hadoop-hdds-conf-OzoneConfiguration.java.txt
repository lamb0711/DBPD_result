HDDS-1469. Generate default configuration fragments based on annotations

Closes #773

-import org.apache.hadoop.classification.InterfaceAudience;
-import org.apache.hadoop.conf.Configuration;
-
+import java.io.IOException;
+import org.apache.hadoop.classification.InterfaceAudience;
+import org.apache.hadoop.conf.Configuration;
+
+    loadDefaults();
+    if (!(conf instanceof OzoneConfiguration)) {
+      loadDefaults();
+    }
+  }
+
+  private void loadDefaults() {
+    try {
+      //there could be multiple ozone-default-generated.xml files on the
+      // classpath, which are generated by the annotation processor.
+      // Here we add all of them to the list of the available configuration.
+      Enumeration<URL> generatedDefaults =
+          OzoneConfiguration.class.getClassLoader().getResources(
+              "ozone-default-generated.xml");
+      while (generatedDefaults.hasMoreElements()) {
+        addResource(generatedDefaults.nextElement());
+      }
+    } catch (IOException e) {
+      e.printStackTrace();
+    }
+    addResource("ozone-site.xml");
-    Configuration.addDefaultResource("ozone-site.xml");
