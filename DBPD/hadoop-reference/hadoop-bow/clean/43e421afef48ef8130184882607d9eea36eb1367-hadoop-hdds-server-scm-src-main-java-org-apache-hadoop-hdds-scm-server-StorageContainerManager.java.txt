HDDS-918. Expose SCMMXBean as a MetricsSource. Contributed by Siddharth Wagle.

-  private  SCMSecurityProtocolServer securityProtocolServer;
+  private SCMSecurityProtocolServer securityProtocolServer;
+  private SCMContainerMetrics scmContainerMetrics;
-    StorageContainerManager.initMetrics();
+    initMetrics();
+    registerMetricsSource(this);
+  private void registerMetricsSource(SCMMXBean scmMBean) {
+    scmContainerMetrics = SCMContainerMetrics.create(scmMBean);
+  }
+
+    if (scmContainerMetrics != null) {
+      scmContainerMetrics.unRegister();
+    }
+
-      nodeStateCount.put(state.toString(), containerManager.getContainers(
-          state).size());
+      nodeStateCount.put(state.toString(),
+          containerManager.getContainerCountByState(state));
