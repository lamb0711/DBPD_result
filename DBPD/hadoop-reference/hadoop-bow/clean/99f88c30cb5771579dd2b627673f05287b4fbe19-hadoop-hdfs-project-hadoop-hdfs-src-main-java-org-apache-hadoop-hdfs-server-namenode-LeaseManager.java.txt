HDFS-14419. Avoid repeated calls to the listOpenFiles function. Contributed by HuangTao.

+import java.util.Iterator;
-    for (Long inodeId: inodeIds) {
+    Iterator<Long> inodeIdIterator = inodeIds.iterator();
+    while (inodeIdIterator.hasNext()) {
+      Long inodeId = inodeIdIterator.next();
-    boolean hasMore = (numResponses < remainingLeases.size());
+    // avoid rescanning all leases when we have checked all leases already
+    boolean hasMore = inodeIdIterator.hasNext();
