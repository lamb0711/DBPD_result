Merge branch 'trunk' into MR-2841

-  final Daemon replicationThread = new Daemon(new ReplicationMonitor());
+  Daemon replicationThread;
+    setReplicationMonitor(new ReplicationMonitor());
-  
+
+  public long getReplicationRecheckInterval() {
+    return replicationRecheckInterval;
+  }
+
+  public AtomicLong excessBlocksCount() {
+    return excessBlocksCount;
+  }
+
+  public void clearInvalidateBlocks() {
+    invalidateBlocks.clear();
+  }
+
+  void setReplicationMonitor(Runnable replicationMonitor) {
+    replicationThread = new Daemon(replicationMonitor);
+  }
+
-  private void processPendingReplications() {
+  void processPendingReplications() {
