HADOOP-17009: Embrace Immutability of Java Collections



+import java.util.Objects;
+    this.environment = Collections.emptyMap();
-    this.environment = env;
+    this.environment = Objects.requireNonNull(env);
-    if (environment != null) {
-      builder.environment().putAll(this.environment);
-    }
+    builder.environment().putAll(this.environment);
