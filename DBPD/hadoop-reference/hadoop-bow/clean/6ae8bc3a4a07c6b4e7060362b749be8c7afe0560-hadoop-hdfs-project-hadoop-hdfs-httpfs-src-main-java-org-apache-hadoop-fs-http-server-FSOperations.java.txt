HDFS-14665. HttpFS: LISTSTATUS response is missing HDFS-specific fields (#1267) Contributed by Siyao Meng.


+import org.apache.hadoop.hdfs.protocol.HdfsFileStatus;
+    if (fileStatus instanceof HdfsFileStatus) {
+      // Add HDFS-specific fields to response
+      HdfsFileStatus hdfsFileStatus = (HdfsFileStatus) fileStatus;
+      json.put(HttpFSFileSystem.CHILDREN_NUM_JSON,
+          hdfsFileStatus.getChildrenNum());
+      json.put(HttpFSFileSystem.FILE_ID_JSON,
+          hdfsFileStatus.getFileId());
+      json.put(HttpFSFileSystem.STORAGEPOLICY_JSON,
+          hdfsFileStatus.getStoragePolicy());
+    }
