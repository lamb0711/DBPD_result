HDFS-2195. Refactor StorageDirectory to not be an non-static inner class. Contributed by Todd Lipcon


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1151707 13f79535-47bb-0310-9956-ffa450edef68

-    sd.write();
+    writeProperties(sd);
-  protected void getFields(Properties props,
-                           StorageDirectory sd
-                           ) throws IOException {
-    super.getFields(props, sd);
+  protected void setFieldsFromProperties(
+      Properties props, StorageDirectory sd) throws IOException {
+    super.setFieldsFromProperties(props, sd);
-  protected void setFields(Properties props,
+  protected void setPropertiesFromFields(Properties props,
-    super.setFields(props, sd);
+    super.setPropertiesFromFields(props, sd);
-        Properties props = sd.readFrom(sd.getVersionFile());
+        Properties props = readPropertiesFile(sd.getVersionFile());
