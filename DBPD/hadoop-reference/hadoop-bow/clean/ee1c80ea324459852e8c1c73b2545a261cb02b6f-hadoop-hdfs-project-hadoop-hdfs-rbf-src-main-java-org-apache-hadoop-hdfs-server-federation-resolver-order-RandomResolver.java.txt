HDFS-13987. RBF: Review of RandomResolver Class. Contributed by BELUGA BEHR.

-import java.util.ArrayList;
-import java.util.List;
-import java.util.Random;
+import java.util.concurrent.ThreadLocalRandom;
+import org.apache.commons.collections.CollectionUtils;
+import com.google.common.collect.Iterables;
-
-  /** Random number generator. */
-  private static final Random RANDOM = new Random();
-
-    if (loc == null) {
-      return null;
-    }
-    Set<String> namespaces = loc.getNamespaces();
-    if (namespaces == null || namespaces.isEmpty()) {
+    final Set<String> namespaces = (loc == null) ? null : loc.getNamespaces();
+    if (CollectionUtils.isEmpty(namespaces)) {
-    List<String> nssList = new ArrayList<>(namespaces);
-    int index = RANDOM.nextInt(nssList.size());
-    return nssList.get(index);
+    final int index = ThreadLocalRandom.current().nextInt(namespaces.size());
+    return Iterables.get(namespaces, index);
