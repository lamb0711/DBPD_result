YARN-4313. Race condition in MiniMRYarnCluster when getting history
server address. Contributed by Jian He

+    private volatile boolean jhsStarted = false;
+            jhsStarted = true;
-        while (historyServer.getServiceState() == STATE.INITED) {
+
+        while (!jhsStarted) {
