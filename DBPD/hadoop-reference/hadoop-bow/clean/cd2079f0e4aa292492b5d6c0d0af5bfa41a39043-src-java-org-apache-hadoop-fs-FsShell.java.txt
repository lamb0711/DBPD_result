HADOOP-7237. Refactor the touchz commands to conform to new FsCommand class.  Contributed by Daryn Sharp


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1102068 13f79535-47bb-0310-9956-ffa450edef68

-   * (Re)create zero-length file at the specified path.
-   * This will be replaced by a more UNIX-like touch when files may be
-   * modified.
-   */
-  void touchz(String src) throws IOException {
-    Path f = new Path(src);
-    FileSystem srcFs = f.getFileSystem(getConf());
-    FileStatus st;
-    if (srcFs.exists(f)) {
-      st = srcFs.getFileStatus(f);
-      if (st.isDirectory()) {
-        // TODO: handle this
-        throw new IOException(src + " is a directory");
-      } else if (st.getLen() != 0)
-        throw new IOException(src + " must be a zero-length file");
-    }
-    FSDataOutputStream out = srcFs.create(f);
-    out.close();
-  }
-
-  /**
-      "[-touchz <path>] [-test -[ezd] <path>]";
+      "[-test -[ezd] <path>]";
-    String touchz = "-touchz <path>: Creates a file of zero length\n"
-	+ "\t\t at <path> with current time as the timestamp of that <path>.\n"
-	+ "\t\t An error is returned if the file exists with non-zero length\n";
-
-    } else if ("touchz".equals(cmd)) {
-      System.out.println(touchz);
-      System.out.println(touchz);
-        } else if ("-touchz".equals(cmd)) {
-          touchz(argv[i]);
-    } else if ("-du".equals(cmd) || "-dus".equals(cmd) ||
-               "-touchz".equals(cmd)) {
+    } else if ("-du".equals(cmd) || "-dus".equals(cmd)) {
-      System.err.println("           [-touchz <path>]");
-    } else if ("-rm".equals(cmd) || "-rmr".equals(cmd) ||
-               "-touchz".equals(cmd)) {
+    } else if ("-rm".equals(cmd) || "-rmr".equals(cmd)) {
-      } else if ("-touchz".equals(cmd)) {
-        exitCode = doall(cmd, argv, i);
