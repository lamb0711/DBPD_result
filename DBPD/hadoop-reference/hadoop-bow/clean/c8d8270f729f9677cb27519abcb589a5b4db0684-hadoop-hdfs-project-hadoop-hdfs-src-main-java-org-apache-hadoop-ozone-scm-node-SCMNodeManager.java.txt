HDFS-12787. Ozone: SCM: Aggregate the metrics from all the container reports. Contributed by Yiqun Lin.

-
+import org.apache.hadoop.ozone.scm.StorageContainerManager;
-  private final long staleNodeIntervalMs;
+  private long staleNodeIntervalMs;
+  private final StorageContainerManager scmManager;
-  public SCMNodeManager(OzoneConfiguration conf, String clusterID)
-      throws IOException {
+  public SCMNodeManager(OzoneConfiguration conf, String clusterID,
+      StorageContainerManager scmManager) throws IOException {
+    this.scmManager = scmManager;
+
+    if (scmManager != null) {
+      // remove stale node's container report
+      scmManager.removeContainerReport(entry.getKey());
+    }
+
+  @VisibleForTesting
+  public void setStaleNodeIntervalMs(long interval) {
+    this.staleNodeIntervalMs = interval;
+  }
