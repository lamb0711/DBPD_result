YARN-9879. Allow multiple leaf queues with the same name in CapacityScheduler. Contributed by Gergely Pollak.

+        if (((CapacityScheduler) scheduler).isAmbiguous(app.getQueue())) {
+          LOG.error("Queue " + app.getQueue() + " is ambiguous for "
+              + app.getApplicationId());
+          //if we cannot decide which queue to submit we should deny access
+          return false;
+        }
+
-      CSQueue queue = ((CapacityScheduler) scheduler).getQueue(targetQueue);
+      CapacityScheduler cs = ((CapacityScheduler) scheduler);
+      CSQueue queue = cs.getQueue(targetQueue);
-            + " does not exist while trying to move "
+            + (cs.isAmbiguous(targetQueue) ?
+                " is ambiguous while trying to move " :
+                " does not exist while trying to move ")
