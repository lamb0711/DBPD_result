HDDS-1198. Rename chill mode to safe mode. Contributed by Siddharth Wagle. (#737)



-package org.apache.hadoop.hdds.scm.chillmode;
+package org.apache.hadoop.hdds.scm.safemode;
-import org.apache.hadoop.hdds.scm.chillmode.SCMChillModeManager.ChillModeStatus;
+import org.apache.hadoop.hdds.scm.safemode.SCMSafeModeManager.SafeModeStatus;
- * Class to handle the activities needed to be performed after exiting chill
+ * Class to handle the activities needed to be performed after exiting safe
-public class ChillModeHandler implements EventHandler<ChillModeStatus> {
+public class SafeModeHandler implements EventHandler<SafeModeStatus> {
-      LoggerFactory.getLogger(ChillModeHandler.class);
+      LoggerFactory.getLogger(SafeModeHandler.class);
-  private final AtomicBoolean isInChillMode = new AtomicBoolean(true);
+  private final AtomicBoolean isInSafeMode = new AtomicBoolean(true);
-   * ChillModeHandler, to handle the logic once we exit chill mode.
+   * SafeModeHandler, to handle the logic once we exit safe mode.
-  public ChillModeHandler(Configuration configuration,
+  public SafeModeHandler(Configuration configuration,
-        HddsConfigKeys.HDDS_SCM_WAIT_TIME_AFTER_CHILL_MODE_EXIT,
-        HddsConfigKeys.HDDS_SCM_WAIT_TIME_AFTER_CHILL_MODE_EXIT_DEFAULT,
+        HddsConfigKeys.HDDS_SCM_WAIT_TIME_AFTER_SAFE_MODE_EXIT,
+        HddsConfigKeys.HDDS_SCM_WAIT_TIME_AFTER_SAFE_MODE_EXIT_DEFAULT,
-    final boolean chillModeEnabled = configuration.getBoolean(
-        HddsConfigKeys.HDDS_SCM_CHILLMODE_ENABLED,
-        HddsConfigKeys.HDDS_SCM_CHILLMODE_ENABLED_DEFAULT);
-    isInChillMode.set(chillModeEnabled);
+    final boolean safeModeEnabled = configuration.getBoolean(
+        HddsConfigKeys.HDDS_SCM_SAFEMODE_ENABLED,
+        HddsConfigKeys.HDDS_SCM_SAFEMODE_ENABLED_DEFAULT);
+    isInSafeMode.set(safeModeEnabled);
-   * Set ChillMode status based on
-   * {@link org.apache.hadoop.hdds.scm.events.SCMEvents#CHILL_MODE_STATUS}.
+   * Set SafeMode status based on
+   * {@link org.apache.hadoop.hdds.scm.events.SCMEvents#SAFE_MODE_STATUS}.
-   * status about chillMode status.
+   * status about safeMode status.
-   * @param chillModeStatus
+   * @param safeModeStatus
-  public void onMessage(ChillModeStatus chillModeStatus,
+  public void onMessage(SafeModeStatus safeModeStatus,
-    isInChillMode.set(chillModeStatus.getChillModeStatus());
-    scmClientProtocolServer.setChillModeStatus(isInChillMode.get());
-    scmBlockManager.setChillModeStatus(isInChillMode.get());
+    isInSafeMode.set(safeModeStatus.getSafeModeStatus());
+    scmClientProtocolServer.setSafeModeStatus(isInSafeMode.get());
+    scmBlockManager.setSafeModeStatus(isInSafeMode.get());
-    if (!isInChillMode.get()) {
-      final Thread chillModeExitThread = new Thread(() -> {
+    if (!isInSafeMode.get()) {
+      final Thread safeModeExitThread = new Thread(() -> {
-      chillModeExitThread.setDaemon(true);
-      chillModeExitThread.start();
+      safeModeExitThread.setDaemon(true);
+      safeModeExitThread.start();
-  public boolean getChillModeStatus() {
-    return isInChillMode.get();
+  public boolean getSafeModeStatus() {
+    return isInSafeMode.get();
