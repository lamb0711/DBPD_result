YARN-5938. Refactoring OpportunisticContainerAllocator to use SchedulerRequestKey instead of Priority and other misc fixes (asuresh)

-import java.util.Collections;
-        return o1.timestamp < o2.timestamp ? +1 : -1;
+        return (int)(o2.timestamp - o1.timestamp);
-      return getMetric(o1) > getMetric(o2) ? +1 : -1;
+      return getMetric(o1) - getMetric(o2);
-        sortedNodes.clear();
-        sortedNodes.addAll(sortNodes());
+        try {
+          List<NodeId> nodeIds = sortNodes();
+          sortedNodes.clear();
+          sortedNodes.addAll(nodeIds);
+        } catch (Exception ex) {
+          LOG.warn("Got Exception while sorting nodes..", ex);
+        }
-      return Collections.unmodifiableList(retVal);
+      return retVal;
