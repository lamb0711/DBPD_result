YARN-4309. Add container launch related debug information to container logs when a container fails. (Varun Vasudev via wangda)

-    Map<Path, List<String>> resources, List<String> command)
+    Map<Path, List<String>> resources, List<String> command, Path logDir)
+    // dump debugging information if configured
+    if (getConf() != null && getConf().getBoolean(
+        YarnConfiguration.NM_LOG_CONTAINER_DEBUG_INFO,
+        YarnConfiguration.DEFAULT_NM_LOG_CONTAINER_DEBUG_INFO)) {
+      sb.copyDebugInformation(new Path(ContainerLaunch.CONTAINER_SCRIPT),
+          new Path(logDir, ContainerLaunch.CONTAINER_SCRIPT));
+      sb.listDebugInformation(new Path(logDir, DIRECTORY_CONTENTS));
+    }
+
