HDDS-1068. Improve the error propagation for ozone sh.
Contributed by Elek, Marton.

+import org.apache.hadoop.ozone.om.exceptions.OMException;
+import org.apache.hadoop.ozone.om.exceptions.OMException.ResultCodes;
-    } catch (IOException ex) {
-      if (ex.getMessage().contains("BUCKET_NOT_EMPTY")) {
-        OS3Exception os3Exception = S3ErrorTable.newError(S3ErrorTable
+    } catch (OMException ex) {
+      if (ex.getResult() == ResultCodes.BUCKET_NOT_EMPTY) {
+        throw S3ErrorTable.newError(S3ErrorTable
-        throw os3Exception;
-      } else if (ex.getMessage().contains("BUCKET_NOT_FOUND")) {
-        OS3Exception os3Exception = S3ErrorTable.newError(S3ErrorTable
+      } else if (ex.getResult() == ResultCodes.BUCKET_NOT_FOUND) {
+        throw S3ErrorTable.newError(S3ErrorTable
-        throw os3Exception;
-        } catch (IOException ex) {
-          if (!ex.getMessage().contains("KEY_NOT_FOUND")) {
+        } catch (OMException ex) {
+          if (ex.getResult() != ResultCodes.KEY_NOT_FOUND) {
