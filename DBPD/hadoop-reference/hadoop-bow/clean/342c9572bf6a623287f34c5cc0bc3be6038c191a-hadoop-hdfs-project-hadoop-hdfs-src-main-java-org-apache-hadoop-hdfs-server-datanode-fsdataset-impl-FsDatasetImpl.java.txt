HDFS-9425. Expose number of blocks per volume as a metric (Contributed by Brahma Reddy Battula)

+      synchronized (this) {
+        // Increment numBlocks here as this block moved without knowing to BPS
+        FsVolumeImpl volume = (FsVolumeImpl) newReplicaInfo.getVolume();
+        volume.getBlockPoolSlice(block.getBlockPoolId()).incrNumBlocks();
+      }
+    final long numBlocks;
+      this.numBlocks = v.getNumBlocks();
+      innerInfo.put("numBlocks", v.numBlocks);
-      targetVolume.incDfsUsed(bpId,
-          savedFiles[0].length() + savedFiles[1].length());
+      targetVolume.incDfsUsedAndNumBlocks(bpId, savedFiles[0].length()
+          + savedFiles[1].length());
