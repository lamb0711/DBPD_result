Merge r1569890 through r1571508 from trunk.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-5535@1571509 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.api.records.apptimeline.ATSEntities;
-import org.apache.hadoop.yarn.api.records.apptimeline.ATSEntity;
-import org.apache.hadoop.yarn.api.records.apptimeline.ATSEvents;
-import org.apache.hadoop.yarn.api.records.apptimeline.ATSPutErrors;
-import org.apache.hadoop.yarn.server.applicationhistoryservice.apptimeline.ApplicationTimelineReader.Field;
-import org.apache.hadoop.yarn.server.applicationhistoryservice.apptimeline.ApplicationTimelineStore;
-import org.apache.hadoop.yarn.server.applicationhistoryservice.apptimeline.NameValuePair;
+import org.apache.hadoop.yarn.api.records.timeline.TimelineEntities;
+import org.apache.hadoop.yarn.api.records.timeline.TimelineEntity;
+import org.apache.hadoop.yarn.api.records.timeline.TimelineEvents;
+import org.apache.hadoop.yarn.api.records.timeline.TimelinePutResponse;
+import org.apache.hadoop.yarn.server.applicationhistoryservice.timeline.TimelineStore;
+import org.apache.hadoop.yarn.server.applicationhistoryservice.timeline.NameValuePair;
+import org.apache.hadoop.yarn.server.applicationhistoryservice.timeline.TimelineReader.Field;
-@Path("/ws/v1/apptimeline")
+@Path("/ws/v1/timeline")
-public class ATSWebServices {
+public class TimelineWebServices {
-  private static final Log LOG = LogFactory.getLog(ATSWebServices.class);
+  private static final Log LOG = LogFactory.getLog(TimelineWebServices.class);
-  private ApplicationTimelineStore store;
+  private TimelineStore store;
-  public ATSWebServices(ApplicationTimelineStore store) {
+  public TimelineWebServices(TimelineStore store) {
-   * Return the description of the application timeline web services.
+   * Return the description of the timeline web services.
-    return new AboutInfo("Application Timeline API");
+    return new AboutInfo("Timeline API");
-  public ATSEntities getEntities(
+  public TimelineEntities getEntities(
-    ATSEntities entities = null;
+    TimelineEntities entities = null;
-      return new ATSEntities();
+      return new TimelineEntities();
-  public ATSEntity getEntity(
+  public TimelineEntity getEntity(
-    ATSEntity entity = null;
+    TimelineEntity entity = null;
-  public ATSEvents getEvents(
+  public TimelineEvents getEvents(
-    ATSEvents events = null;
+    TimelineEvents events = null;
-      return new ATSEvents();
+      return new TimelineEvents();
-  public ATSPutErrors postEntities(
+  public TimelinePutResponse postEntities(
-      ATSEntities entities) {
+      TimelineEntities entities) {
-      return new ATSPutErrors();
+      return new TimelinePutResponse();
