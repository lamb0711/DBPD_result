Merge trunk to branch.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/fs-encryption@1608603 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.yarn.api.records.ContainerExitStatus;
+import org.apache.hadoop.yarn.proto.YarnServerResourceManagerServiceProtos;
+  protected static final String EPOCH_NODE = "EpochNode";
+    int exitStatus = ContainerExitStatus.INVALID;
-        null, "", null);
+        null, "", null, ContainerExitStatus.INVALID);
-        String diagnostics, FinalApplicationStatus amUnregisteredFinalStatus) {
+        String diagnostics, FinalApplicationStatus amUnregisteredFinalStatus,
+        int exitStatus) {
+      this.exitStatus = exitStatus;
+    public int getAMContainerExitStatus(){
+      return this.exitStatus;
+    }
+
+  /**
+   * Get the current epoch of RM and increment the value.
+   */
+  public abstract int getAndIncrementEpoch() throws Exception;
+  
