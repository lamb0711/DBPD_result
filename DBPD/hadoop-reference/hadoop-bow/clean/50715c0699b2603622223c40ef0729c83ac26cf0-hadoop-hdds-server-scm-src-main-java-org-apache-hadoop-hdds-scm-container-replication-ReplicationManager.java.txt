HDDS-662. Introduce ContainerReplicaState in StorageContainerManager. Contributed by Nanda kumar.

+import java.util.stream.Collectors;
-import org.apache.hadoop.hdds.scm.container.ContainerStateManager;
-import org.apache.hadoop.hdds.scm.container.common.helpers.ContainerInfo;
+import org.apache.hadoop.hdds.scm.container.ContainerInfo;
+import org.apache.hadoop.hdds.scm.container.ContainerManager;
+import org.apache.hadoop.hdds.scm.container.ContainerReplica;
-  private ContainerStateManager containerStateManager;
+  private ContainerManager containerManager;
-      ContainerStateManager containerStateManager, EventQueue eventQueue,
+      ContainerManager containerManager, EventQueue eventQueue,
-    this.containerStateManager = containerStateManager;
+    this.containerManager = containerManager;
-            containerStateManager.getContainer(containerID);
+            containerManager.getContainer(containerID);
-        List<DatanodeDetails> datanodesWithReplicas =
+        List<ContainerReplica> containerReplicas =
-        if (datanodesWithReplicas.size() == 0) {
+        if (containerReplicas.size() == 0) {
-            request.getExpecReplicationCount() - datanodesWithReplicas.size()
+            request.getExpecReplicationCount() - containerReplicas.size()
+          List<DatanodeDetails> datanodes = containerReplicas.stream()
+              .map(ContainerReplica::getDatanodeDetails)
+              .collect(Collectors.toList());
-              .chooseDatanodes(datanodesWithReplicas, deficit,
+              .chooseDatanodes(datanodes, deficit,
-                new ReplicateContainerCommand(containerID.getId(),
-                    datanodesWithReplicas);
+                new ReplicateContainerCommand(containerID.getId(), datanodes);
-  protected Set<DatanodeDetails> getCurrentReplicas(ReplicationRequest request)
+  protected Set<ContainerReplica> getCurrentReplicas(ReplicationRequest request)
-    return containerStateManager
+    return containerManager
-  public static class ReplicationCompleted implements IdentifiableEventPayload {
+  /**
+   * Add javadoc.
+   */
+  public static class ReplicationCompleted
+      implements IdentifiableEventPayload {
