YARN-5355: YARN Timeline Service v.2: alpha 2 (varunsaxena)

+  private volatile boolean isStopped = false;
+
+    isStopped = true;
+  boolean isStopped() {
+    return isStopped;
+  }
+
-      response = writeTimelineEntities(entities);
+      response = writeTimelineEntities(entities, callerUgi);
-      TimelineEntities entities) throws IOException {
+      TimelineEntities entities, UserGroupInformation callerUgi)
+      throws IOException {
-    return writer.write(context.getClusterId(), context.getUserId(),
-        context.getFlowName(), context.getFlowVersion(),
-        context.getFlowRunId(), context.getAppId(), entities);
+    return writer.write(context, entities, callerUgi);
-    writeTimelineEntities(entities);
+    writeTimelineEntities(entities, callerUgi);
