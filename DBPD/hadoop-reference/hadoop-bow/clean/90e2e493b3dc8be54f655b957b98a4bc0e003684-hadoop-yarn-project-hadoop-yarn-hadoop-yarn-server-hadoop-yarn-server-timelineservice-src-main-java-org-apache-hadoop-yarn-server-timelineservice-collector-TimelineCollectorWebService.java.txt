YARN-8270 Adding JMX Metrics for Timeline Collector and Reader. Contributed by Sushil Ks.

+import org.apache.hadoop.util.Time;
+import org.apache.hadoop.yarn.server.timelineservice.metrics.PerNodeAggTimelineCollectorMetrics;
+  private static final PerNodeAggTimelineCollectorMetrics METRICS =
+      PerNodeAggTimelineCollectorMetrics.getInstance();
+    boolean isAsync = async != null && async.trim().equalsIgnoreCase("true");
+    long startTime = Time.monotonicNow();
+    boolean succeeded = false;
-      boolean isAsync = async != null && async.trim().equalsIgnoreCase("true");
+      succeeded = true;
+    } finally {
+      long latency = Time.monotonicNow() - startTime;
+      if (isAsync) {
+        METRICS.addAsyncPutEntitiesLatency(latency, succeeded);
+      } else {
+        METRICS.addPutEntitiesLatency(latency, succeeded);
+      }
