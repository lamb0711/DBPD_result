MAPREDUCE-3144. Augmented JobHistory with the information needed for serving aggregated logs. Contributed by Siddharth Seth.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1185976 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.LinkedList;
+import org.apache.hadoop.mapreduce.jobhistory.JobHistoryParser.AMInfo;
+  
+  @Override
+  public List<AMInfo> getAMInfos() {
+    if (jobInfo == null || jobInfo.getAMInfos() == null) {
+      return new LinkedList<AMInfo>();
+    }
+    return new LinkedList<AMInfo>(jobInfo.getAMInfos());
+  }
-      ContainerId cId = recordFactory
-          .newRecordInstance(ContainerId.class);
+      ContainerId cId = attemptInfo.getContainerId();
+      // NodeId can be obtained from TaskAttemptInfo.hostname - but this will
+      // eventually contain rack info.
-      container.setNodeHttpAddress(attemptInfo.getHostname() + ":" + 
+      container.setNodeHttpAddress(attemptInfo.getTrackerName() + ":" + 
