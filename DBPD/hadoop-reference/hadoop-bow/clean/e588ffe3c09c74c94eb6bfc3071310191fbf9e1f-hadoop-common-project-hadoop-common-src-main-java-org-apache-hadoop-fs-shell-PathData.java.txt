HDFS-4329. DFSShell issues with directories with spaces in name (Cristina L. Abad via jeagles)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1516904 13f79535-47bb-0310-9956-ffa450edef68

-   * Throws IOException on failure.
+   * @return true if the URI scheme was not present in the pathString but
+   * inferred; false, otherwise.
+   * @throws IOException if anything goes wrong
-  private void ValidateWindowsPath(String pathString)
+  private static boolean checkIfSchemeInferredFromPath(String pathString)
-      inferredSchemeFromPath = true;
-      return;
+      return true;
-      inferredSchemeFromPath = true;
-      return;
+      return true;
-      return;
+      return false;
-    return;
+    return false;
-      ValidateWindowsPath(pathString);
+      inferredSchemeFromPath = checkIfSchemeInferredFromPath(pathString);
-    return uri + separator + basename;
+    return uriToString(uri, inferredSchemeFromPath) + separator + basename;
-            globMatch = matchUri.toString();
+            globMatch = uriToString(matchUri, false);
+    return uriToString(uri, inferredSchemeFromPath);
+  }
+ 
+  private static String uriToString(URI uri, boolean inferredSchemeFromPath) {
