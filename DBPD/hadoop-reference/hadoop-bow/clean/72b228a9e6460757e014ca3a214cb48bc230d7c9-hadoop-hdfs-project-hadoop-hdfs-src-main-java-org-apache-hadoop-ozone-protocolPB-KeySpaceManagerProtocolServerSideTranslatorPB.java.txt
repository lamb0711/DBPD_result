HDFS-11853. Ozone: KSM: Add getKey. Contributed by Chen Liang.

-    .KeySpaceManagerProtocolProtos.CreateKeyRequest;
+    .KeySpaceManagerProtocolProtos.LocateKeyRequest;
-    .KeySpaceManagerProtocolProtos.CreateKeyResponse;
+    .KeySpaceManagerProtocolProtos.LocateKeyResponse;
+      case FAILED_KEY_ALREADY_EXISTS:
+        return Status.KEY_ALREADY_EXISTS;
+      case FAILED_KEY_NOT_FOUND:
+        return Status.KEY_NOT_FOUND;
-  public CreateKeyResponse createKey(
-      RpcController controller, CreateKeyRequest request
+  public LocateKeyResponse createKey(
+      RpcController controller, LocateKeyRequest request
-    CreateKeyResponse.Builder resp =
-        CreateKeyResponse.newBuilder();
+    LocateKeyResponse.Builder resp =
+        LocateKeyResponse.newBuilder();
+
+  @Override
+  public LocateKeyResponse lookupKey(
+      RpcController controller, LocateKeyRequest request
+  ) throws ServiceException {
+    LocateKeyResponse.Builder resp =
+        LocateKeyResponse.newBuilder();
+    try {
+      KeyArgs keyArgs = request.getKeyArgs();
+      KsmKeyArgs ksmKeyArgs = new KsmKeyArgs.Builder()
+          .setVolumeName(keyArgs.getVolumeName())
+          .setBucketName(keyArgs.getBucketName())
+          .setKeyName(keyArgs.getKeyName())
+          .setDataSize(keyArgs.getDataSize())
+          .build();
+      KsmKeyInfo keyInfo = impl.lookupKey(ksmKeyArgs);
+      resp.setKeyInfo(keyInfo.getProtobuf());
+      resp.setStatus(Status.OK);
+    } catch (IOException e) {
+      resp.setStatus(exceptionToResponseStatus(e));
+    }
+    return resp.build();
+  }
