HDDS-1488. Scm cli command to start/stop replication manager.

Signed-off-by: Anu Engineer <aengineer@apache.org>

-   * ReplicationMonitor thread is the one which wakes up at configured
-   * interval and processes all the containers.
-   */
-  private final Thread replicationMonitor;
-
-  /**
+   * ReplicationMonitor thread is the one which wakes up at configured
+   * interval and processes all the containers.
+   */
+  private Thread replicationMonitor;
+
+  /**
-      final EventPublisher eventPublisher,
-      final LockManager lockManager) {
+                            final EventPublisher eventPublisher,
+                            final LockManager<ContainerID> lockManager) {
-    this.inflightReplication = new HashMap<>();
-    this.inflightDeletion = new HashMap<>();
-    this.replicationMonitor = new Thread(this::run);
-    this.replicationMonitor.setName("ReplicationMonitor");
-    this.replicationMonitor.setDaemon(true);
+    this.inflightReplication = new HashMap<>();
+    this.inflightDeletion = new HashMap<>();
-    if (!running) {
+    if (!isRunning()) {
+      replicationMonitor = new Thread(this::run);
+      replicationMonitor.setName("ReplicationMonitor");
+      replicationMonitor.setDaemon(true);
-    return replicationMonitor.isAlive();
+    if (!running) {
+      synchronized (this) {
+        return replicationMonitor != null
+            && replicationMonitor.isAlive();
+      }
+    }
+    return true;
+      inflightReplication.clear();
+      inflightDeletion.clear();
