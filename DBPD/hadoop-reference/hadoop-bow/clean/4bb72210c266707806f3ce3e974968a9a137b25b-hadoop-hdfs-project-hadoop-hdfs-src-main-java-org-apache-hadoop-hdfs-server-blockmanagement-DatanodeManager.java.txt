HDFS-4827. Slight update to the implementation of API for handling favored nodes in DFSClient. Contributed by Devaraj Das.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1487093 13f79535-47bb-0310-9956-ffa450edef68

-    DatanodeDescriptor node = null;
-    int colon = address.indexOf(":");
-    int xferPort;
-    String host = address;
-    if (colon > 0) {
-      host = address.substring(0, colon);
-      xferPort = Integer.parseInt(address.substring(colon+1));
-      node = getDatanodeByXferAddr(host, xferPort);
-    }
+    DatanodeID dnId = parseDNFromHostsEntry(address);
+    String host = dnId.getIpAddr();
+    int xferPort = dnId.getXferPort();
+    DatanodeDescriptor node = getDatanodeByXferAddr(host, xferPort);
-      String networkLocation = resolveNetworkLocation(host);
+      String networkLocation = resolveNetworkLocation(dnId);
-  public String resolveNetworkLocation(String host) {
-    DatanodeID d = parseDNFromHostsEntry(host);
-    return resolveNetworkLocation(d);
-  }
-
