HDDS-1201. Reporting Corruptions in Containers to SCM (#912)


-import org.apache.hadoop.ozone.container.common.interfaces.Handler;
-      scrub();
+      try {
+        scrub();
+      } catch (StorageContainerException e) {
+        LOG.error("Scrubber encountered StorageContainerException.");
+      }
-  private void scrub() {
-
-    Iterator<Container> containerIt = controller.getContainerSetIterator();
+  private void scrub() throws StorageContainerException {
+    Iterator<Container> containerIt = controller.getContainers();
-    while (containerIt.hasNext()) {
+    while (containerIt.hasNext() && !halt) {
-      Handler containerHandler = controller.getHandler(container);
-
-      if (this.halt) {
-        break; // stop if requested
-      }
+        container.markContainerUnhealthy();
