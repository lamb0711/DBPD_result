Merge from trunk to branch

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/fs-encryption@1615844 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.hadoop.yarn.server.resourcemanager.recovery.records.impl.pb;
+package org.apache.hadoop.yarn.server.records.impl.pb;
-import org.apache.hadoop.yarn.proto.YarnServerResourceManagerServiceProtos.RMStateVersionProto;
-import org.apache.hadoop.yarn.proto.YarnServerResourceManagerServiceProtos.RMStateVersionProtoOrBuilder;
-import org.apache.hadoop.yarn.server.resourcemanager.recovery.records.RMStateVersion;
+import org.apache.hadoop.yarn.proto.YarnServerCommonProtos.VersionProto;
+import org.apache.hadoop.yarn.proto.YarnServerCommonProtos.VersionProtoOrBuilder;
-public class RMStateVersionPBImpl extends RMStateVersion {
+import org.apache.hadoop.yarn.server.records.Version;
-  RMStateVersionProto proto = RMStateVersionProto.getDefaultInstance();
-  RMStateVersionProto.Builder builder = null;
+public class VersionPBImpl extends Version {
+
+  VersionProto proto = VersionProto.getDefaultInstance();
+  VersionProto.Builder builder = null;
-  public RMStateVersionPBImpl() {
-    builder = RMStateVersionProto.newBuilder();
+  public VersionPBImpl() {
+    builder = VersionProto.newBuilder();
-  public RMStateVersionPBImpl(RMStateVersionProto proto) {
+  public VersionPBImpl(VersionProto proto) {
-  public RMStateVersionProto getProto() {
+  public VersionProto getProto() {
-      builder = RMStateVersionProto.newBuilder(proto);
+      builder = VersionProto.newBuilder(proto);
-    RMStateVersionProtoOrBuilder p = viaProto ? proto : builder;
+    VersionProtoOrBuilder p = viaProto ? proto : builder;
-    RMStateVersionProtoOrBuilder p = viaProto ? proto : builder;
+    VersionProtoOrBuilder p = viaProto ? proto : builder;
