YARN-5264. Store all queue-specific information in FSQueue. (Yufei Gu via kasha)

-    Resource maxRes = scheduler.getAllocationConfiguration()
-        .getMaxResources(getName());
-        if (Resources.equals(demand, maxRes)) {
+        if (Resources.equals(demand, maxShare)) {
-        updateDemandForApp(sched, maxRes);
+        updateDemandForApp(sched, maxShare);
-        if (Resources.equals(demand, maxRes)) {
+        if (Resources.equals(demand, maxShare)) {
-        updateDemandForApp(sched, maxRes);
+        updateDemandForApp(sched, maxShare);
-          + "; the max is " + maxRes);
+          + "; the max is " + maxShare);
-    float maxAMShare =
-        scheduler.getAllocationConfiguration().getQueueMaxAMShare(getName());
-    scheduler.getAllocationConfiguration().setQueueWeight(getName(),
-        new ResourceWeights(weight));
+    this.weights = new ResourceWeights(weight);
