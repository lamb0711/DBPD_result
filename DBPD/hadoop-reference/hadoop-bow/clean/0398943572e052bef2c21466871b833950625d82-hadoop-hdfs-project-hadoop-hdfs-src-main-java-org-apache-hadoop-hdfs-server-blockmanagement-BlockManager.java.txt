Merge r1523804 through r1523877 from trunk.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2832@1523878 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.HashSet;
-    final Map<Node, Node> excludedNodes = new HashMap<Node, Node>();
+    final Set<Node> excludedNodes = new HashSet<Node>();
-        excludedNodes.put(dn, dn);
+        excludedNodes.add(dn);
-   * @see BlockPlacementPolicy#chooseTarget(String, int, DatanodeDescriptor,
-   *      List, boolean, HashMap, long)
+   * @see BlockPlacementPolicy#chooseTarget(String, int, Node,
+   *      List, boolean, Set, long)
-      final HashMap<Node, Node> excludedNodes,
+      final Set<Node> excludedNodes,
-        Map<Node, Node> excludedNodes) {
+        Set<Node> excludedNodes) {
