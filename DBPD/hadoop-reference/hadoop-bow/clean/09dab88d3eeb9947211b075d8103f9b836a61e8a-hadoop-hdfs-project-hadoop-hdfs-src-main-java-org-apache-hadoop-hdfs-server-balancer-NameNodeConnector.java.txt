Merge branch 'trunk' into HDFS-6581

+import java.util.concurrent.atomic.AtomicBoolean;
+  final AtomicBoolean fallbackToSimpleAuth = new AtomicBoolean(false);
-        ClientProtocol.class).getProxy();
+        ClientProtocol.class, fallbackToSimpleAuth).getProxy();
