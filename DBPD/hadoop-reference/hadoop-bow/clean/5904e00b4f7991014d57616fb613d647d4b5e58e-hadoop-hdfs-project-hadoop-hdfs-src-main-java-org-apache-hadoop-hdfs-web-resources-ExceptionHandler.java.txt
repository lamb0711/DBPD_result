HDFS-2428. Convert com.sun.jersey.api.ParamException$QueryParamException to IllegalArgumentException and response it http BAD_REQUEST in webhdfs.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1183098 13f79535-47bb-0310-9956-ffa450edef68

+import com.sun.jersey.api.ParamException;
+
-  public Response toResponse(final Exception e) {
+  public Response toResponse(Exception e) {
+    //Convert exception
+    if (e instanceof ParamException) {
+      final ParamException paramexception = (ParamException)e;
+      e = new IllegalArgumentException("Invalid value for webhdfs parameter \""
+          + paramexception.getParameterName() + "\": "
+          + e.getCause().getMessage(), e);
+    } 
+
+    //Map response status
+    } else if (e instanceof IllegalArgumentException) {
+      s = Response.Status.BAD_REQUEST;
+      LOG.warn("INTERNAL_SERVER_ERROR", e);
