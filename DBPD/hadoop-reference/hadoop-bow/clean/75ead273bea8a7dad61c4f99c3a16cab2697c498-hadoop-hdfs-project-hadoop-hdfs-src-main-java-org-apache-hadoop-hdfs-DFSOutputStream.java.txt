HDFS-6841. Use Time.monotonicNow() wherever applicable instead of Time.now(). Contributed by Vinayakumar B

-      long lastPacket = Time.now();
+      long lastPacket = Time.monotonicNow();
-            long now = Time.now();
+            long now = Time.monotonicNow();
-              now = Time.now();
+              now = Time.monotonicNow();
-          lastPacket = Time.now();
+          lastPacket = Time.monotonicNow();
-                restartDeadline = dfsClient.getConf().datanodeRestartTimeout +
-                    Time.now();
+                restartDeadline = dfsClient.getConf().datanodeRestartTimeout
+                    + Time.monotonicNow();
-          if (Time.now() < restartDeadline) {
+          if (Time.monotonicNow() < restartDeadline) {
-        long startTime = Time.now();
-        lb = locateFollowingBlock(startTime,
-            excluded.length > 0 ? excluded : null);
+        lb = locateFollowingBlock(excluded.length > 0 ? excluded : null);
-                Time.now();
+                Time.monotonicNow();
-    private LocatedBlock locateFollowingBlock(long start,
-        DatanodeInfo[] excludedNodes)  throws IOException {
+    private LocatedBlock locateFollowingBlock(DatanodeInfo[] excludedNodes)  throws IOException {
-        long localstart = Time.now();
+        long localstart = Time.monotonicNow();
-                if (Time.now() - localstart > 5000) {
+                long elapsed = Time.monotonicNow() - localstart;
+                if (elapsed > 5000) {
-                      + (Time.now() - localstart) / 1000
-                      + " seconds");
+                      + (elapsed / 1000) + " seconds");
-    long localstart = Time.now();
+    long localstart = Time.monotonicNow();
-        if (!dfsClient.clientRunning ||
-              (hdfsTimeout > 0 && localstart + hdfsTimeout < Time.now())) {
+        if (!dfsClient.clientRunning
+            || (hdfsTimeout > 0 
+                && localstart + hdfsTimeout < Time.monotonicNow())) {
-          if (Time.now() - localstart > 5000) {
+          if (Time.monotonicNow() - localstart > 5000) {
