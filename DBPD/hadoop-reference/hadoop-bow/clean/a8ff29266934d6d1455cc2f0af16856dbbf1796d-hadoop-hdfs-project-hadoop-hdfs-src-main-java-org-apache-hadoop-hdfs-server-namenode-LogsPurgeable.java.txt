Merge trunk into HDFS-3077 branch.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-3077@1377092 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.hadoop.hdfs;
-import org.junit.Test;
+package org.apache.hadoop.hdfs.server.namenode;
-public class TestFileCreationNamenodeRestart {
-  @Test
-  public void testFileCreationNamenodeRestart() throws Exception {
-    new TestFileCreation().xxxtestFileCreationNamenodeRestart();
-  }
+import java.io.IOException;
+
+/**
+ * Interface used to abstract over classes which manage edit logs that may need
+ * to be purged.
+ */
+interface LogsPurgeable {
+  
+  /**
+   * Remove all edit logs with transaction IDs lower than the given transaction
+   * ID.
+   * 
+   * @param minTxIdToKeep the lowest transaction ID that should be retained
+   * @throws IOException in the event of error
+   */
+  public void purgeLogsOlderThan(long minTxIdToKeep) throws IOException;
+
