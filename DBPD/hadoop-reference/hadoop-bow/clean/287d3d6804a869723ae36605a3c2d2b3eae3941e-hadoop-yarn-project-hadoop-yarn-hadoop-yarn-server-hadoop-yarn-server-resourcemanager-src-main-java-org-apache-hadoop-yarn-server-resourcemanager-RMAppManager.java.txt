YARN-3955. Support for application priority ACLs in queues of CapacityScheduler. (Sunil G via wangda)

-    
+
+    UserGroupInformation userUgi = UserGroupInformation.createRemoteUser(user);
-        submissionContext.getPriority(), user, submissionContext.getQueue(),
+        submissionContext.getPriority(), userUgi, submissionContext.getQueue(),
-    UserGroupInformation userUgi = UserGroupInformation.createRemoteUser(user);
+   * @param callerUGI user
-  public void updateApplicationPriority(ApplicationId applicationId,
-      Priority newAppPriority) throws YarnException {
+  public void updateApplicationPriority(UserGroupInformation callerUGI,
+      ApplicationId applicationId, Priority newAppPriority)
+      throws YarnException {
-      Priority appPriority = rmContext.getScheduler()
-          .updateApplicationPriority(newAppPriority, applicationId, future);
+      Priority appPriority = rmContext.getScheduler().updateApplicationPriority(
+          newAppPriority, applicationId, future, callerUGI);
