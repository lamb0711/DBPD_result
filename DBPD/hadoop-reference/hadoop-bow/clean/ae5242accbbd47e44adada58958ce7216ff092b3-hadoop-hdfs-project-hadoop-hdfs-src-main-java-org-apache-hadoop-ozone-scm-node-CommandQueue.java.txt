HDFS-11830. Ozone: Datanode needs to re-register to SCM if SCM is restarted. Contributed by Weiwei Yang.

-
-      if (commandMap.containsKey(datanodeID)) {
-        List temp = commandMap.get(datanodeID);
-        if (temp.size() > 0) {
-          commandMap.put(datanodeID, DEFAULT_LIST);
-          return temp;
-        }
-      }
+      List<SCMCommand> cmds = commandMap.remove(datanodeID);
+      return cmds == null ? DEFAULT_LIST : cmds;
-    return DEFAULT_LIST;
