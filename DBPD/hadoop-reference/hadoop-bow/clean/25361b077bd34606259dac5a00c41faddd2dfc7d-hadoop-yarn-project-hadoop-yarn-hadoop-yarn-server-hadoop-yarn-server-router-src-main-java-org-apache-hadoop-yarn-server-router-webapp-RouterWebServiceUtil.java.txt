YARN-10120. Https Support in Router WebServiceClient.

Contributed by Bilwa S T.

+import java.net.InetSocketAddress;
+import org.apache.hadoop.conf.Configuration;
+import org.apache.hadoop.net.NetUtils;
+import org.apache.hadoop.yarn.conf.YarnConfiguration;
+import org.apache.hadoop.yarn.server.webapp.WebServiceClient;
-      final Map<String, String[]> additionalParam) {
+      final Map<String, String[]> additionalParam, Configuration conf) {
-              getMediaTypeFromHttpServletRequest(hsr, returnType));
+              getMediaTypeFromHttpServletRequest(hsr, returnType), conf);
-      Map<String, String[]> queryParams, Object formParam, String mediaType) {
-    Client client = Client.create();
-
-    WebResource webResource = client.resource(webApp).path(path);
+      Map<String, String[]> queryParams, Object formParam, String mediaType,
+      Configuration conf) {
+    Client client = WebServiceClient.getWebServiceClient().createClient();
+    InetSocketAddress socketAddress = NetUtils
+        .getConnectAddress(NetUtils.createSocketAddr(webApp));
+    String scheme = YarnConfiguration.useHttps(conf) ? "https://" : "http://";
+    String webAddress = scheme + socketAddress.getHostName() + ":"
+        + socketAddress.getPort();
+    WebResource webResource = client.resource(webAddress).path(path);
