HDDS-1811. Prometheus metrics are broken.

Signed-off-by: Anu Engineer <aengineer@apache.org>

-import java.util.regex.Matcher;
-  private static final Pattern UPPER_CASE_SEQ =
-      Pattern.compile("([A-Z]*)([A-Z])");
+  private static final Pattern SPLIT_PATTERN =
+      Pattern.compile("(?<!(^|[A-Z_]))(?=[A-Z])|(?<!^)(?=[A-Z][a-z])");
-   * Convert CamelCase based namess to lower-case names where the separator
+   * Convert CamelCase based names to lower-case names where the separator
-    String baseName = upperFirst(recordName) + upperFirst(metricName);
-    Matcher m = UPPER_CASE_SEQ.matcher(baseName);
-    StringBuffer sb = new StringBuffer();
-    while (m.find()) {
-      String replacement = "_" + m.group(2).toLowerCase();
-      if (m.group(1).length() > 0) {
-        replacement = "_" + m.group(1).toLowerCase() + replacement;
-      }
-      m.appendReplacement(sb, replacement);
-    }
-    m.appendTail(sb);
-    //always prefixed with "_"
-    return sb.toString().substring(1);
-  }
-
-  private String upperFirst(String name) {
-    if (Character.isLowerCase(name.charAt(0))) {
-      return Character.toUpperCase(name.charAt(0)) + name.substring(1);
-    } else {
-      return name;
-    }
-
+    String baseName = StringUtils.capitalize(recordName)
+        + StringUtils.capitalize(metricName);
+    baseName = baseName.replace('-', '_');
+    String[] parts = SPLIT_PATTERN.split(baseName);
+    return String.join("_", parts).toLowerCase();
