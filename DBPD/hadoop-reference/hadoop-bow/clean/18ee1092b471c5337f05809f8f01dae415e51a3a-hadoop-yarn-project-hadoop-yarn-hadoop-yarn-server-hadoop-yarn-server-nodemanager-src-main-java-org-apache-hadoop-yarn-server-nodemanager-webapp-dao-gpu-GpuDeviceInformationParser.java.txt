YARN-9127. Create more tests to verify GpuDeviceInformationParser. Contributed by Peter Bacsko

-import org.xml.sax.SAXException;
-import javax.xml.parsers.ParserConfigurationException;
-  private Unmarshaller unmarshaller = null;
-  private XMLReader xmlReader = null;
+  private final Unmarshaller unmarshaller;
+  private final XMLReader xmlReader;
-  private void init()
-      throws SAXException, ParserConfigurationException, JAXBException {
+  public GpuDeviceInformationParser() throws YarnException {
+    try {
+      final SAXParserFactory parserFactory = initSaxParserFactory();
+      final JAXBContext jaxbContext = JAXBContext.newInstance(
+          GpuDeviceInformation.class);
+      this.xmlReader = parserFactory.newSAXParser().getXMLReader();
+      this.unmarshaller = jaxbContext.createUnmarshaller();
+    } catch (Exception e) {
+      String msg = "Exception while initializing parser for " +
+          GPU_SCRIPT_REFERENCE;
+      LOG.error(msg, e);
+      throw new YarnException(msg, e);
+    }
+  }
+
+  /**
+   * Disable external-dtd since by default nvidia-smi output contains
+   * &lt;!DOCTYPE nvidia_smi_log SYSTEM "nvsmi_device_v8.dtd"> in header.
+   */
+  private SAXParserFactory initSaxParserFactory() throws Exception {
-    // Disable external-dtd since by default nvidia-smi output contains
-    // <!DOCTYPE nvidia_smi_log SYSTEM "nvsmi_device_v8.dtd"> in header
-
-    JAXBContext jaxbContext = JAXBContext.newInstance(
-        GpuDeviceInformation.class);
-
-    this.xmlReader = spf.newSAXParser().getXMLReader();
-    this.unmarshaller = jaxbContext.createUnmarshaller();
+    return spf;
-    if (unmarshaller == null) {
-      try {
-        init();
-      } catch (SAXException | ParserConfigurationException | JAXBException e) {
-        String msg = "Exception while initializing parser for " +
-            GPU_SCRIPT_REFERENCE;
-        LOG.error(msg, e);
-        throw new YarnException(e);
-      }
-    }
-
