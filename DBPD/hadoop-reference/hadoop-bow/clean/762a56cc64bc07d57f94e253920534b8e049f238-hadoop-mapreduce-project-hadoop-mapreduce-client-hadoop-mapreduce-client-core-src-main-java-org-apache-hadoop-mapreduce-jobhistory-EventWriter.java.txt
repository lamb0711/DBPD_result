MAPREDUCE-7158. Inefficient Flush Logic in JobHistory EventWriter. (Zichen Sun via wangda)

Change-Id: I99ace87980da03bb35a8012cea7218d602a8817a

-    encoder.flush();
