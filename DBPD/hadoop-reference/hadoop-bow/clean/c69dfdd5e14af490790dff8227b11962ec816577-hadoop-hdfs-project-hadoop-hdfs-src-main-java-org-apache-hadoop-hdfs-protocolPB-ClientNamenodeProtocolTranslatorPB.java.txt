HDFS-2958. Sweep for remaining proxy construction which doesn't go through failover path.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1294811 13f79535-47bb-0310-9956-ffa450edef68

-import java.net.InetSocketAddress;
-import org.apache.hadoop.conf.Configuration;
-import org.apache.hadoop.hdfs.DFSUtil;
-import org.apache.hadoop.ipc.ProtobufRpcEngine;
-import org.apache.hadoop.net.NetUtils;
-import org.apache.hadoop.security.UserGroupInformation;
-  public ClientNamenodeProtocolTranslatorPB(InetSocketAddress nameNodeAddr,
-      Configuration conf, UserGroupInformation ugi) throws IOException {
-    this(getNamenodeRetryProxy(nameNodeAddr, conf, ugi));
-  }
-
-  private static ClientNamenodeProtocolPB getNamenodeRetryProxy(
-      InetSocketAddress nameNodeAddr, Configuration conf,
-      UserGroupInformation ugi) throws IOException {
-    RPC.setProtocolEngine(conf, ClientNamenodeProtocolPB.class,
-        ProtobufRpcEngine.class);
-    ClientNamenodeProtocolPB proxy = RPC.getProxy(
-        ClientNamenodeProtocolPB.class, RPC
-            .getProtocolVersion(ClientNamenodeProtocolPB.class), nameNodeAddr,
-        ugi, conf, NetUtils.getSocketFactory(conf,
-            ClientNamenodeProtocolPB.class));
-    return DFSUtil.createNameNodeProxyWithRetries(proxy);
-  }
-  
