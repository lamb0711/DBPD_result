HADOOP-6714. Resolve compressed files using CodecFactory in FsShell::text. Contributed by Patrick Angeles


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@946976 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.io.compress.CompressionCodec;
+import org.apache.hadoop.io.compress.CompressionCodecFactory;
+
+    // check codecs
+    CompressionCodecFactory cf = new CompressionCodecFactory(getConf());
+    CompressionCodec codec = cf.getCodec(p);
+    if (codec != null) {
+      return codec.createInputStream(i);
+    }
+
