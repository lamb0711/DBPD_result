HDFS-2367. Enable the configuration of multiple HA cluster addresses. Contributed by Aaron T. Myers.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1233549 13f79535-47bb-0310-9956-ffa450edef68

-      Class xface) throws IOException {
+      Class xface, URI nameNodeUri) throws IOException {
-          .getConstructor(Class.class);
-      FailoverProxyProvider<?> provider = ctor.newInstance(xface);
-      ReflectionUtils.setConf(provider, conf);
+          .getConstructor(Configuration.class, URI.class, Class.class);
+      FailoverProxyProvider<?> provider = ctor.newInstance(conf, nameNodeUri,
+          xface);
-          .createFailoverProxyProvider(conf, failoverProxyProviderClass, xface);
+          .createFailoverProxyProvider(conf, failoverProxyProviderClass, xface,
+              nameNodeUri);
