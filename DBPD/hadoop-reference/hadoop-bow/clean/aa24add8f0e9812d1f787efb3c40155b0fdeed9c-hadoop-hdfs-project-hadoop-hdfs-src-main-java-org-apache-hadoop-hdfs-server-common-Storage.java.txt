HDFS-14890.  Fixed namenode and journalnode startup on Windows.
             Contributed by Siddharth Wagle

-        Set<PosixFilePermission> permissions =
-            PosixFilePermissions.fromString(permission.toString());
-        Files.setPosixFilePermissions(curDir.toPath(), permissions);
+        try {
+          Set<PosixFilePermission> permissions =
+              PosixFilePermissions.fromString(permission.toString());
+          Files.setPosixFilePermissions(curDir.toPath(), permissions);
+        } catch (UnsupportedOperationException uoe) {
+          // Default to FileUtil for non posix file systems
+          FileUtil.setPermission(curDir, permission);
+        }
