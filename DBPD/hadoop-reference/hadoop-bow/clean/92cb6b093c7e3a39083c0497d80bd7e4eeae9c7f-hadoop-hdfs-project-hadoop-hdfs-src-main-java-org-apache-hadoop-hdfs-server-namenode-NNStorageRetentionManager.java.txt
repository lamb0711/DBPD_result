HDFS-3678. Edit log files are never being purged from 2NN. Contributed by Aaron T. Myers.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1377046 13f79535-47bb-0310-9956-ffa450edef68

-  private final FSEditLog editLog;
+  private final LogsPurgeable purgeableLogs;
-      FSEditLog editLog,
+      LogsPurgeable purgeableLogs,
-    this.editLog = editLog;
+    this.purgeableLogs = purgeableLogs;
-      FSEditLog editLog) {
-    this(conf, storage, editLog, new DeletionStoragePurger());
+      LogsPurgeable purgeableLogs) {
+    this(conf, storage, purgeableLogs, new DeletionStoragePurger());
-    editLog.purgeLogsOlderThan(purgeLogsFrom);
+    purgeableLogs.purgeLogsOlderThan(purgeLogsFrom);
-        LOG.info("Purging old image " + image);
+      LOG.info("Purging old edit log " + log);
+      LOG.info("Purging old image " + image);
