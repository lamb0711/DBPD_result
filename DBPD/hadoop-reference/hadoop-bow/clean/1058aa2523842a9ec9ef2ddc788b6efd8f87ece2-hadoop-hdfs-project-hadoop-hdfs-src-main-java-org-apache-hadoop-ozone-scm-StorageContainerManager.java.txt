HDFS-10928. Ozone:SCM: Support MXBean for SCM and NodeManager. Contributed by Weiwei Yang.

+import org.apache.hadoop.metrics2.util.MBeans;
+import javax.management.ObjectName;
+import java.util.Map;
+import java.util.HashMap;
-    StorageContainerLocationProtocol {
+    StorageContainerLocationProtocol, SCMMXBean {
+  /** SCM mxbean*/
+  private ObjectName scmInfoBeanName;
+
-
+
+    registerMXBean();
+  private void registerMXBean() {
+    this.scmInfoBeanName = MBeans.register("StorageContainerManager",
+        "StorageContainerManagerInfo", this);
+  }
+
+  private void unregisterMXBean() {
+    if(this.scmInfoBeanName != null) {
+      MBeans.unregister(this.scmInfoBeanName);
+      this.scmInfoBeanName = null;
+    }
+  }
+
+  @Override
+  public String getClientRpcPort() {
+    InetSocketAddress addr = getClientRpcAddress();
+    return addr == null ? "0" : Integer.toString(addr.getPort());
+  }
+
+  @Override
+  public String getDatanodeRpcPort() {
+    InetSocketAddress addr = getDatanodeRpcAddress();
+    return addr == null ? "0" : Integer.toString(addr.getPort());
+  }
+
+    unregisterMXBean();
+  @Override
+  public Map<String, Integer> getNodeCount() {
+    Map<String, Integer> countMap = new HashMap<String, Integer>();
+    for (SCMNodeManager.NODESTATE state : SCMNodeManager.NODESTATE.values()) {
+      countMap.put(state.toString(), scmNodeManager.getNodeCount(state));
+    }
+    return countMap;
+  }
+
