HDFS-5358. Add replication field to PathBasedCacheDirective. (Contributed by Colin Patrick McCabe)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1532124 13f79535-47bb-0310-9956-ffa450edef68

-
+    private short replication = (short)1;
-      return new PathBasedCacheDirective(path, pool);
+      return new PathBasedCacheDirective(path, replication, pool);
+     * Sets the replication used in this request.
+     * 
+     * @param replication The replication used in this request.
+     * @return This builder, for call chaining.
+     */
+    public Builder setReplication(short replication) {
+      this.replication = replication;
+      return this;
+    }
+
+    /**
+  private final short replication;
+   * @return The number of times the block should be cached.
+   */
+  public short getReplication() {
+    return replication;
+  }
+
+  /**
+    if (replication <= 0) {
+      throw new IOException("Tried to request a cache replication " +
+          "factor of " + replication + ", but that is less than 1.");
+    }
+        append(getReplication(), other.getReplication()).
+        append(replication).
+      append(", replication:").append(replication).
+   * @param replication The replication used in this request.
-  protected PathBasedCacheDirective(Path path, String pool) {
+  protected PathBasedCacheDirective(Path path, short replication, String pool) {
+    this.replication = replication;
