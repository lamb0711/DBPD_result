YARN-4920. ATS/NM should support a link to dowload/get the logs in text format. Contributed by Xuan Gong.

+import javax.ws.rs.core.Response.ResponseBuilder;
-      @PathParam("filename") String filename) {
+      @PathParam("filename") String filename,
+      @QueryParam("download") String download) {
-    
+    boolean downloadFile = parseBooleanParam(download);
-      
-      return Response.ok(stream).build();
+      ResponseBuilder resp = Response.ok(stream);
+      if (downloadFile) {
+        resp.header("Content-Type", "application/octet-stream");
+        resp.header("Content-Disposition", "attachment; filename="
+            + logFile.getName());
+      }
+      return resp.build();
+
+  private boolean parseBooleanParam(String param) {
+    if (param != null) {
+      return ("true").equalsIgnoreCase(param);
+    }
+    return false;
+  }
