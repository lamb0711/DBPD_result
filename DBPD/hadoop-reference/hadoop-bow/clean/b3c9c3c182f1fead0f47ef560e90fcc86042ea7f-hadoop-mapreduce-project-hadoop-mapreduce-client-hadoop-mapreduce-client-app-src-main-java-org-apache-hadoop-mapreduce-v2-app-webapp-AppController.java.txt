MAPREDUCE-2677. Fixed 404 for some links from HistoryServer. Contributed by Robert Evans.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1166901 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.yarn.webapp.View;
+/**
+ * This class renders the various pages that the web app supports.
+ */
+  /**
+   * Render the default(index.html) page for the Application Controller
+   */
+  /**
+   * Render the /info page with an overview of current application.
+   */
+  /**
+   * @return The class that will render the /job page
+   */
+  protected Class<? extends View> jobPage() {
+    return JobPage.class;
+  }
+  
+  /**
+   * Render the /job page
+   */
-    render(JobPage.class);
+    render(jobPage());
+  /**
+   * @return the class that will render the /jobcounters page
+   */
+  protected Class<? extends View> countersPage() {
+    return CountersPage.class;
+  }
+  
+  /**
+   * Render the /jobcounters page
+   */
-    if (app.job != null) {
+    if (app.getJob() != null) {
-    render(CountersPage.class);
+    render(countersPage());
+  /**
+   * @return the class that will render the /tasks page
+   */
+  protected Class<? extends View> tasksPage() {
+    return TasksPage.class;
+  }
+  
+  /**
+   * Render the /tasks page
+   */
-    if (app.job != null) {
+    if (app.getJob() != null) {
-    render(TasksPage.class);
+    render(tasksPage());
+  /**
+   * @return the class that will render the /task page
+   */
+  protected Class<? extends View> taskPage() {
+    return TaskPage.class;
+  }
+  
+  /**
+   * Render the /task page
+   */
-    if (app.task != null) {
+    if (app.getTask() != null) {
-    render(TaskPage.class);
+    render(taskPage());
+  /**
+   * @return the class that will render the /attempts page
+   */
+  protected Class<? extends View> attemptsPage() {
+    return AttemptsPage.class;
+  }
+  
+  /**
+   * Render the attempts page
+   */
-    if (app.job != null) {
+    if (app.getJob() != null) {
-    render(AttemptsPage.class);
+    render(attemptsPage());
+  /**
+   * Render a BAD_REQUEST error.
+   * @param s the error message to include.
+   */
+  /**
+   * Render a NOT_FOUND error.
+   * @param s the error message to include.
+   */
+  /**
+   * Ensure that a JOB_ID was passed into the page.
+   */
-      app.job = app.context.getJob(jobID);
-      if (app.job == null) {
+      app.setJob(app.context.getJob(jobID));
+      if (app.getJob() == null) {
+  /**
+   * Ensure that a TASK_ID was passed into the page.
+   */
-      app.job = app.context.getJob(taskID.getJobId());
-      if (app.job == null) {
+      app.setJob(app.context.getJob(taskID.getJobId()));
+      if (app.getJob() == null) {
-        app.task = app.job.getTask(taskID);
-        if (app.task == null) {
+        app.setTask(app.getJob().getTask(taskID));
+        if (app.getTask() == null) {
