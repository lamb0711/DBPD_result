HADOOP-7389. Use of TestingGroups by tests causes subsequent tests to fail. Contributed by Aaron T. Myers.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1135820 13f79535-47bb-0310-9956-ffa450edef68

+    private Groups underlyingImplementation;
-    private TestingGroups() {
+    private TestingGroups(Groups underlyingImplementation) {
+      this.underlyingImplementation = underlyingImplementation;
-    public List<String> getGroups(String user) {
+    public List<String> getGroups(String user) throws IOException {
+      
-        result = new ArrayList<String>();
+        result = underlyingImplementation.getGroups(user);
+
-      groups = new TestingGroups();
+      groups = new TestingGroups(groups);
-      groups = new TestingGroups();
+      groups = new TestingGroups(groups);
