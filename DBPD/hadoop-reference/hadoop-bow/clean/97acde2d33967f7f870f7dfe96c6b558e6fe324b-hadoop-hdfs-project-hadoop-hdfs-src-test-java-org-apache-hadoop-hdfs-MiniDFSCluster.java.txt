HDFS-5542. Fix TODO and clean up the code in HDFS-2832. (Contributed by szetszwo)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2832@1544664 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Map;
-  public Iterable<Block> getBlockReport(String bpid, int dataNodeIndex) {
+  public Map<String, BlockListAsLongs> getBlockReport(String bpid, int dataNodeIndex) {
-    return DataNodeTestUtils.getFSDataset(dn).getBlockReport(bpid);
+    return DataNodeTestUtils.getFSDataset(dn).getBlockReports(bpid);
-  public Iterable<Block>[] getAllBlockReports(String bpid) {
+  public List<Map<String, BlockListAsLongs>> getAllBlockReports(String bpid) {
-    Iterable<Block>[] result = new BlockListAsLongs[numDataNodes];
+    final List<Map<String, BlockListAsLongs>> result
+        = new ArrayList<Map<String, BlockListAsLongs>>(numDataNodes);
-     result[i] = getBlockReport(bpid, i);
+      result.add(getBlockReport(bpid, i));
