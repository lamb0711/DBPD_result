HADOOP-15499. Performance severe drops when running RawErasureCoderBenchmark with NativeRSRawErasureCoder. Contributed by Sammi Chen.

-    initImpl(coderOptions.getNumDataUnits(), coderOptions.getNumParityUnits());
+    decoderLock.writeLock().lock();
+    try {
+      initImpl(coderOptions.getNumDataUnits(),
+          coderOptions.getNumParityUnits());
+    } finally {
+      decoderLock.writeLock().unlock();
+    }
-  protected synchronized void performDecodeImpl(
+  protected void performDecodeImpl(
-  public synchronized void release() {
-    destroyImpl();
+  public void release() {
+    decoderLock.writeLock().lock();
+    try {
+      destroyImpl();
+    } finally {
+      decoderLock.writeLock().unlock();
+    }
