HDDS-846. Exports ozone metrics to prometheus.
Contributed by Elek, Marton.

+import org.apache.hadoop.hdds.HddsConfigKeys;
+import org.apache.hadoop.metrics2.lib.DefaultMetricsSystem;
+  protected static final String PROMETHEUS_SINK = "PROMETHEUS_SINK";
+  private PrometheusMetricsSink prometheusMetricsSink;
+
+  private boolean prometheusSupport;
+      prometheusSupport =
+          conf.getBoolean(HddsConfigKeys.HDDS_PROMETHEUS_ENABLED, false);
+
+      if (prometheusSupport) {
+        prometheusMetricsSink = new PrometheusMetricsSink();
+        httpServer.getWebAppContext().getServletContext()
+            .setAttribute(PROMETHEUS_SINK, prometheusMetricsSink);
+        httpServer.addServlet("prometheus", "/prom", PrometheusServlet.class);
+      }
+      if (prometheusSupport) {
+        DefaultMetricsSystem.instance()
+            .register("prometheus", "Hadoop metrics prometheus exporter",
+                prometheusMetricsSink);
+      }
