YARN-6545. Followup fix for YARN-6405. Contributed by Jian He

+    Map<String, String> globalTokens = amState.getGlobalSubstitutionTokens();
-        .getStandardTokenMap(application.getConfiguration(), roleInstance,
-            application.getName());
-
+        .initCompTokensForSubstitute(roleInstance);
+    tokensForSubstitution.putAll(globalTokens);
-        component, tokensForSubstitution, roleInstance);
+        component, tokensForSubstitution, roleInstance, amState);
