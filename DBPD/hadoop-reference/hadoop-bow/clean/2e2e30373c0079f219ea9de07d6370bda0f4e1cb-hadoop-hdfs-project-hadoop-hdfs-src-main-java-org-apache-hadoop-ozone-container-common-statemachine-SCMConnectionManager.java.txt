HDFS-12333. Ozone: Extend Datanode web interface with SCM information. Contributed by Elek, Marton.

+import org.apache.hadoop.metrics2.util.MBeans;
+import javax.management.ObjectName;
-import java.util.Collection;
-import java.util.HashMap;
-import java.util.Map;
+import java.util.*;
-public class SCMConnectionManager implements Closeable{
+public class SCMConnectionManager
+    implements Closeable, SCMConnectionManagerMXBean {
-
+  private final ObjectName jmxBean;
+    jmxBean = MBeans.register("OzoneDataNode",
+        "SCMConnectionManager",
+        this);
+
+    MBeans.unregister(jmxBean);
+  }
+
+  @Override
+  public List<EndpointStateMachineMBean> getSCMServers() {
+    readLock();
+    try {
+      return Collections
+          .unmodifiableList(new ArrayList<>(scmMachines.values()));
+
+    } finally {
+      readUnlock();
+    }
