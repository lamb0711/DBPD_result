HDDS-733. Create container if not exist, as part of chunk write.
Contributed by Lokesh Jain.

-          .ObjectStageChangeRequestProto.Op.create) {
+          .ObjectStageChangeRequestProto.Op.close) {
-          scm.getContainerManager().updateContainerState(
-              ContainerID.valueof(id), HddsProtos
-              .LifeCycleEvent.CREATE);
+          scm.getContainerManager()
+              .updateContainerState(ContainerID.valueof(id),
+                  HddsProtos.LifeCycleEvent.FINALIZE);
-          scm.getContainerManager().updateContainerState(
-              ContainerID.valueof(id), HddsProtos
-              .LifeCycleEvent.CREATED);
-        }
-      } else {
-        if (op == StorageContainerLocationProtocolProtos
-            .ObjectStageChangeRequestProto.Op.close) {
-          if (stage == StorageContainerLocationProtocolProtos
-              .ObjectStageChangeRequestProto.Stage.begin) {
-            scm.getContainerManager().updateContainerState(
-                ContainerID.valueof(id), HddsProtos
-                .LifeCycleEvent.FINALIZE);
-          } else {
-            scm.getContainerManager().updateContainerState(
-                ContainerID.valueof(id), HddsProtos
-                .LifeCycleEvent.CLOSE);
-          }
+          scm.getContainerManager()
+              .updateContainerState(ContainerID.valueof(id),
+                  HddsProtos.LifeCycleEvent.CLOSE);
