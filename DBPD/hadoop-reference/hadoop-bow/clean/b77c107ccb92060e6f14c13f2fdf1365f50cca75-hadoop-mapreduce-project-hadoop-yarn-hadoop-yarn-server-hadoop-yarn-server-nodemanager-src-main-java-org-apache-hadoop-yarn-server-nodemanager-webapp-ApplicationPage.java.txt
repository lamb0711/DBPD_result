Committing rest of merge from trunk (accidentally only committed the HDFS portion before)


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1214546 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Map;
-
-import org.apache.hadoop.yarn.api.records.ContainerId;
-import org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container;
+import org.apache.hadoop.yarn.server.nodemanager.webapp.dao.AppInfo;
-import org.apache.hadoop.yarn.webapp.YarnWebParams;
+import org.apache.hadoop.yarn.webapp.YarnWebParams;
-      Map<ContainerId, Container> containers = app.getContainers();
+      AppInfo info = new AppInfo(app);
-            ._("ApplicationId", ConverterUtils.toString(app.getAppId()))
-            ._("ApplicationState", app.getApplicationState().toString())
-            ._("User", app.getUser());
+            ._("ApplicationId", info.getId())
+            ._("ApplicationState", info.getState())
+            ._("User", info.getUser());
-      for (ContainerId containerId : containers.keySet()) {
-        String containerIdStr = ConverterUtils.toString(containerId);
+      for (String containerIdStr : info.getContainers()) {
