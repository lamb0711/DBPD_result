YARN-5686. DefaultContainerExecutor random working dir algorigthm skews results (Vrushali C via Varun Saxena)

+    int dir = pickDirectory(randomPosition, availableOnDisk);
+
+    return getApplicationDir(new Path(localDirs.get(dir)), user, appId);
+  }
+
+  /**
+   * Picks a directory based on the input random number and
+   * available size at each dir.
+   */
+  @Private
+  @VisibleForTesting
+  int pickDirectory(long randomPosition, final long[] availableOnDisk) {
-    while (randomPosition > availableOnDisk[dir]) {
+    while (randomPosition >= availableOnDisk[dir]) {
-
-    return getApplicationDir(new Path(localDirs.get(dir)), user, appId);
+    return dir;
