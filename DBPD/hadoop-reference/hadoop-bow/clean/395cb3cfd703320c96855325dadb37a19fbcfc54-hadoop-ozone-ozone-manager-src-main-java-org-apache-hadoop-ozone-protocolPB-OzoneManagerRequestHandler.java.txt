HDDS-1736. Cleanup 2phase old HA code for Key requests. (#1038)



-    .ApplyCreateKeyRequest;
-import org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos
-      case ApplyCreateKey:
-        CreateKeyResponse applyKeyResponse =
-            applyCreateKey(request.getApplyCreateKeyRequest());
-        responseBuilder.setCreateKeyResponse(applyKeyResponse);
-        break;
-  private CreateKeyResponse applyCreateKey(ApplyCreateKeyRequest request)
-      throws IOException {
-
-    CreateKeyRequest createKeyRequest = request.getCreateKeyRequest();
-    CreateKeyResponse createKeyResponse = request.getCreateKeyResponse();
-
-    impl.applyOpenKey(createKeyRequest.getKeyArgs(),
-        createKeyResponse.getKeyInfo(), createKeyResponse.getID());
-
-    // If applying to om DB successful just return createKeyResponse.
-    return createKeyResponse;
-
-  }
-
-    OmKeyLocationInfo newLocation;
-    if (request.hasKeyLocation()) {
-      newLocation =
-          impl.addAllocatedBlock(omKeyArgs, request.getClientID(),
-              request.getKeyLocation());
-    } else {
-      newLocation =
-          impl.allocateBlock(omKeyArgs, request.getClientID(),
-              ExcludeList.getFromProtoBuf(request.getExcludeList()));
-    }
+    OmKeyLocationInfo newLocation = impl.allocateBlock(omKeyArgs,
+        request.getClientID(), ExcludeList.getFromProtoBuf(
+            request.getExcludeList()));
