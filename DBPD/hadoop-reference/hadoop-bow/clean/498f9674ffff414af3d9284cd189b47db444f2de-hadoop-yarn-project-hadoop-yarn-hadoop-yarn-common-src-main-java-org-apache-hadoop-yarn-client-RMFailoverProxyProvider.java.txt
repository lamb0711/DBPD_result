Merge r1550130 through r1555020 from trunk.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-5535@1555021 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.hadoop.yarn.exceptions;
+package org.apache.hadoop.yarn.client;
-import org.apache.hadoop.classification.InterfaceStability;
+import org.apache.hadoop.conf.Configuration;
+import org.apache.hadoop.io.retry.FailoverProxyProvider;
-/**
- * Exception to be thrown when an Active-Only operation is attempted on a
- * ResourceManager that is not Active.
- */
-@InterfaceStability.Evolving
-public class RMNotYetActiveException extends YarnException {
-  private static final long serialVersionUID = 1L;
-
-  public RMNotYetActiveException() {
-    super("ResourceManager is not yet Active!");
-  }
+public interface RMFailoverProxyProvider<T> extends FailoverProxyProvider <T> {
+  /**
+   * Initialize internal data structures, invoked right after instantiation.
+   *
+   * @param conf Configuration to use
+   * @param proxy The {@link RMProxy} instance to use
+   * @param protocol The communication protocol to use
+   */
+  public void init(Configuration conf, RMProxy<T> proxy, Class<T> protocol);
