Merge remote-tracking branch 'apache/trunk' into HDFS-7285

-          setReplicationOp.path, logVersion), replication, null);
+          setReplicationOp.path, logVersion), replication);
-          newBI.convertToBlockUnderConstruction(BlockUCState.UNDER_CONSTRUCTION,
-              null);
+          newBI.convertToBlockUnderConstruction(
+              BlockUCState.UNDER_CONSTRUCTION, null);
-                file.getPreferredBlockReplication());
+                file.getFileReplication());
