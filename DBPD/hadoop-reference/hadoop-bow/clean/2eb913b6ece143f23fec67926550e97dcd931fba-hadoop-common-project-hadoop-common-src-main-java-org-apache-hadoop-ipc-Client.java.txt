HADOOP-10747. Support configurable retries on SASL connection failures in RPC client. Contributed by Chris Nauroth.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1605219 13f79535-47bb-0310-9956-ffa450edef68

+    private final int maxRetriesOnSasl;
+      this.maxRetriesOnSasl = remoteId.getMaxRetriesOnSasl();
-        final short MAX_RETRIES = 5;
-              handleSaslConnectionFailure(numRetries++, MAX_RETRIES, ex, rand,
-                  ticket);
+              handleSaslConnectionFailure(numRetries++, maxRetriesOnSasl, ex,
+                  rand, ticket);
+    private final int maxRetriesOnSasl;
+      this.maxRetriesOnSasl = conf.getInt(
+          CommonConfigurationKeys.IPC_CLIENT_CONNECT_MAX_RETRIES_ON_SASL_KEY,
+          CommonConfigurationKeys.IPC_CLIENT_CONNECT_MAX_RETRIES_ON_SASL_DEFAULT);
+    public int getMaxRetriesOnSasl() {
+      return maxRetriesOnSasl;
+    }
+
