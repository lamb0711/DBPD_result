HDFS-14996. RBF: GetFileStatus fails for directory with EC policy set in case of multiple destinations. Contributed by Ayush Saxena.

+import java.util.EnumSet;
+import org.apache.hadoop.hdfs.DFSUtil;
+    // Get flags to set in new FileStatus.
+    EnumSet<HdfsFileStatus.Flags> flags =
+        DFSUtil.getFlags(dirStatus.isEncrypted(), dirStatus.isErasureCoded(),
+            dirStatus.isSnapshotEnabled(), dirStatus.hasAcl());
+    EnumSet.noneOf(HdfsFileStatus.Flags.class);
-        .symlink(dirStatus.getSymlinkInBytes()).build();
+        .symlink(dirStatus.getSymlinkInBytes()).flags(flags).build();
