HDFS-13258. Ozone: restructure Hdsl/Ozone code to separated maven subprojects.
Contributed by Elek Marton, Mukul Kumar Singh, Xiaoyu Yao, Ajay Kumar, Anu Engineer, Lokesh Jain, Nanda Kumar.

-import org.apache.hadoop.conf.OzoneConfiguration;
+import org.apache.hadoop.hdsl.conf.OzoneConfiguration;
+
+import static org.apache.hadoop.hdfs.DFSConfigKeys.DFS_DATANODE_PLUGINS_KEY;
+import static org.apache.hadoop.ozone.MiniOzoneTestHelper.*;
-import static org.apache.hadoop.ozone.protocol.proto.OzoneProtos.NodeState
+import static org.apache.hadoop.hdsl.protocol.proto.HdslProtos.NodeState
-      OzoneContainer container =
-          dnProp.getDatanode().getOzoneContainerManager();
+      OzoneContainer container = getOzoneContainer(dnProp
+          .getDatanode());
+      this.waitFirstBRCompleted(0, 3000);
-        getDataNodes().get(dnIndex).getInfoPort());
+        getDataNodes().get(dnIndex).getDatanodeId().getOzoneRestPort());
-          dataNodes.get(dnIndex).getDatanode().getOzoneStateMachineState();
+          MiniOzoneTestHelper.getStateMachine(dataNodes.get(dnIndex)
+              .getDatanode()).getContext().getState();
+      conf.set(ScmConfigKeys.HDSL_REST_HTTP_ADDRESS_KEY, "127.0.0.1:0");
+      conf.set(DFS_DATANODE_PLUGINS_KEY,
+          "org.apache.hadoop.ozone.HdslServerPlugin,"
+              + "org.apache.hadoop.ozone.web.ObjectStoreRestPlugin");
