HDFS-6720. Remove KeyProvider in EncryptionZoneManager. (wang)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/fs-encryption@1612632 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.concurrent.locks.ReentrantReadWriteLock;
-import org.apache.hadoop.crypto.key.KeyProvider;
-import static org.apache.hadoop.crypto.key.KeyProvider.KeyVersion;
-  private final KeyProvider provider;
-  public EncryptionZoneManager(FSDirectory dir, KeyProvider provider) {
+  public EncryptionZoneManager(FSDirectory dir) {
-    this.provider = provider;
-   * @param keyId   encryption zone key id
+   * @param keyName encryption zone key name
-  void addEncryptionZone(Long inodeId, String keyId) {
+  void addEncryptionZone(Long inodeId, String keyName) {
-    final EncryptionZoneInt ez = new EncryptionZoneInt(inodeId, keyId);
+    final EncryptionZoneInt ez = new EncryptionZoneInt(inodeId, keyName);
-  XAttr createEncryptionZone(String src, String keyId, KeyVersion keyVersion)
+  XAttr createEncryptionZone(String src, String keyName)
-    final XAttr keyIdXAttr = XAttrHelper
-        .buildXAttr(CRYPTO_XATTR_ENCRYPTION_ZONE, keyId.getBytes());
+    final XAttr ezXAttr = XAttrHelper
+        .buildXAttr(CRYPTO_XATTR_ENCRYPTION_ZONE, keyName.getBytes());
-    xattrs.add(keyIdXAttr);
+    xattrs.add(ezXAttr);
-    // Re-get the new encryption zone add the latest key version
-    return keyIdXAttr;
+    return ezXAttr;
