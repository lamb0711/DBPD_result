HDDS-682. Unified o3 address parsing for ozonen sh. Contributed by Elek, Marton.

-import java.net.URI;
-import java.nio.file.Path;
-import java.nio.file.Paths;
-import org.apache.hadoop.ozone.client.OzoneClientException;
+import org.apache.hadoop.ozone.client.OzoneClient;
+import org.apache.hadoop.ozone.web.ozShell.OzoneAddress;
-    URI ozoneURI = verifyURI(uri);
-    Path path = Paths.get(ozoneURI.getPath());
-    int pathNameCount = path.getNameCount();
-    if (pathNameCount != 2) {
-      String errorMessage;
-      if (pathNameCount < 2) {
-        errorMessage = "volume/bucket is required in listKey";
-      } else {
-        errorMessage = "Invalid bucket name. Delimiters (/) not allowed in " +
-            "bucket name";
-      }
-      throw new OzoneClientException(errorMessage);
-    }
+    OzoneAddress address = new OzoneAddress(uri);
+    address.ensureBucketAddress();
+    OzoneClient client = address.createClient(createOzoneConfiguration());
+
+    String volumeName = address.getVolumeName();
+    String bucketName = address.getBucketName();
-    String volumeName = path.getName(0).toString();
-    String bucketName = path.getName(1).toString();
-
