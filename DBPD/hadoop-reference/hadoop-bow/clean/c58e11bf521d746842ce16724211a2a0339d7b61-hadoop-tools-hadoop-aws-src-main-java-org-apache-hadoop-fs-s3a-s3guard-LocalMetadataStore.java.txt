HADOOP-16383. Pass ITtlTimeProvider instance in initialize method in MetadataStore interface.  Contributed by Gabor Bota. (#1009) 



+  private ITtlTimeProvider ttlTimeProvider;
+
-  public void initialize(FileSystem fileSystem) throws IOException {
+  public void initialize(FileSystem fileSystem,
+      ITtlTimeProvider ttlTp) throws IOException {
-    initialize(fs.getConf());
+    initialize(fs.getConf(), ttlTp);
-  public void initialize(Configuration conf) throws IOException {
+  public void initialize(Configuration conf, ITtlTimeProvider ttlTp)
+      throws IOException {
+    this.ttlTimeProvider = ttlTp;
-  public void delete(Path p, ITtlTimeProvider ttlTimeProvider)
+  public void delete(Path p)
-  public void deleteSubtree(Path path, ITtlTimeProvider ttlTimeProvider)
+  public void deleteSubtree(Path path)
-      boolean tombstone, ITtlTimeProvider ttlTimeProvider) {
+      boolean tombstone, ITtlTimeProvider ttlTp) {
-    deleteCacheEntries(path, tombstone, ttlTimeProvider);
+    deleteCacheEntries(path, tombstone, ttlTp);
-      deleteEntryByAncestor(path, localCache, tombstone, ttlTimeProvider);
+      deleteEntryByAncestor(path, localCache, tombstone, ttlTp);
-  public void move(
-      @Nullable Collection<Path> pathsToDelete,
+  public void move(@Nullable Collection<Path> pathsToDelete,
-        ITtlTimeProvider ttlTimeProvider,
-        delete(meta, ttlTimeProvider);
+        delete(meta);
-      ITtlTimeProvider ttlTimeProvider) {
+      ITtlTimeProvider ttlTp) {
-        pmd.setLastUpdated(ttlTimeProvider.getNow());
+        pmd.setLastUpdated(ttlTp.getNow());
-          dir.setLastUpdated(ttlTimeProvider.getNow());
+          dir.setLastUpdated(ttlTp.getNow());
+  public void setTtlTimeProvider(ITtlTimeProvider ttlTimeProvider) {
+    this.ttlTimeProvider = ttlTimeProvider;
+  }
+
+  @Override
-      ITtlTimeProvider ttlTimeProvider,
