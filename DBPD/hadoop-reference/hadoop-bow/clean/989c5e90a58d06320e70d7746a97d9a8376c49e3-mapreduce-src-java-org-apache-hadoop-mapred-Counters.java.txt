MAPREDUCE-2037. Capture intermediate progress, CPU and memory usage for tasks. Contributed by Dick King. 


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1157253 13f79535-47bb-0310-9956-ffa450edef68

-    // To provide support for deprecated group names  
-    if (groupName.equals("org.apache.hadoop.mapred.Task$Counter")) {
-      groupName = "org.apache.hadoop.mapreduce.TaskCounter";
-      LOG.warn("Group org.apache.hadoop.mapred.Task$Counter is deprecated." +
-               " Use org.apache.hadoop.mapreduce.TaskCounter instead");
-    } else if (groupName.equals(
-                 "org.apache.hadoop.mapred.JobInProgress$Counter")) {
-      groupName = "org.apache.hadoop.mapreduce.JobCounter";
-      LOG.warn("Group org.apache.hadoop.mapred.JobInProgress$Counter " +
-               "is deprecated. Use " +
-               "org.apache.hadoop.mapreduce.JobCounter instead");
-    }
+
+      // To provide support for deprecated group names  
+      if (groupName.equals("org.apache.hadoop.mapred.Task$Counter")) {
+        LOG.warn("Group org.apache.hadoop.mapred.Task$Counter is deprecated." +
+                 " Use org.apache.hadoop.mapreduce.TaskCounter instead");
+        return getGroup("org.apache.hadoop.mapreduce.TaskCounter");
+      } 
+
+      if (groupName.equals
+          ("org.apache.hadoop.mapred.JobInProgress$Counter")) {
+        LOG.warn("Group org.apache.hadoop.mapred.JobInProgress$Counter " +
+                 "is deprecated. Use " +
+                 "org.apache.hadoop.mapreduce.JobCounter instead");
+        return getGroup("org.apache.hadoop.mapreduce.JobCounter");
+      }
+
+
