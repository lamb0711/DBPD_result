HDFS-9351. checkNNStartup() need to be called when fsck calls FSNamesystem.getSnapshottableDirs(). (Xiao Chen via Yongjun Zhang)

-  /**
-   * Get the list of snapshottable directories.
-   * @return The list of all the current snapshottable directories
-   * @see #getSnapshottableDirListing()
-   * @throws IOException
-   */
-  List<String> getSnapshottableDirs() throws IOException {
-    List<String> snapshottableDirs = new ArrayList<String>();
-    final FSPermissionChecker pc = getFSDirectory().getPermissionChecker();
-    final String user = pc.isSuperUser() ? null : pc.getUser();
-    final SnapshottableDirectoryStatus[] snapDirs =
-        snapshotManager.getSnapshottableDirListing(user);
-    if (snapDirs != null) {
-      for (SnapshottableDirectoryStatus sds : snapDirs) {
-        snapshottableDirs.add(sds.getFullPath().toString());
-      }
-    }
-    return snapshottableDirs;
-  }
-
