YARN-3087. Made the REST server of per-node aggregator work alone in NM daemon. Conntributed by Li Lu.

(cherry picked from commit 41a08ad404d4278fe598d6c222b2ae0e84bae0df)

-  private Map<String, Set<String>> children = new HashMap<>();
+  private HashMap<String, Set<String>> children = new HashMap<>();
+  // required by JAXB
+  @InterfaceAudience.Private
+  public HashMap<String, Set<String>> getChildrenJAXB() {
+    return children;
+  }
+
-    this.children = children;
+    if (children != null && !(children instanceof HashMap)) {
+      this.children = new HashMap<String, Set<String>>(children);
+    } else {
+      this.children = (HashMap) children;
+    }
