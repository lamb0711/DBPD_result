YARN-7124. LogAggregationTFileController deletes/renames while file is open. Contributed by Jason Lowe.

-    this.writer.close();
-    this.writer = null;
+    if (this.writer != null) {
+      this.writer.close();
+      this.writer = null;
+    }
+    // close the writer before the file is renamed or deleted
+    closeWriter();
+
