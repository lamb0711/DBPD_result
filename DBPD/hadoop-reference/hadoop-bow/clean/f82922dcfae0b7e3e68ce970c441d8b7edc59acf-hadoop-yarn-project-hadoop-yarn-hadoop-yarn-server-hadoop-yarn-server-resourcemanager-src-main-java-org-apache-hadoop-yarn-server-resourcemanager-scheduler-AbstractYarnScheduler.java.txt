YARN-5168. Added exposed port information for Docker container.
           Contributed by Xun Liu

+
+import com.google.gson.Gson;
+import com.google.gson.reflect.TypeToken;
+    List<Map.Entry<ApplicationId, ContainerStatus>> updateExistContainers =
+        new ArrayList<>();
+      updateExistContainers.addAll(containerInfo.getUpdateContainers());
+    // Processing the update exist containers
+    for (Map.Entry<ApplicationId, ContainerStatus> c : updateExistContainers) {
+      SchedulerApplication<T> app = applications.get(c.getKey());
+      ContainerId containerId = c.getValue().getContainerId();
+      String strExposedPorts = c.getValue().getExposedPorts();
+      Map<String, List<Map<String, String>>> exposedPorts = null;
+      if (null != strExposedPorts && !strExposedPorts.isEmpty()) {
+        Gson gson = new Gson();
+        exposedPorts = gson.fromJson(strExposedPorts,
+            new TypeToken<Map<String, List<Map<String, String>>>>()
+            {}.getType());
+      }
+
+      RMContainer rmContainer
+          = app.getCurrentAppAttempt().getRMContainer(containerId);
+      if (null != rmContainer &&
+          (null == rmContainer.getExposedPorts()
+              || rmContainer.getExposedPorts().size() == 0)) {
+        LOG.info("update exist container " + containerId.getContainerId()
+            + ", strExposedPorts = " + strExposedPorts);
+        rmContainer.setExposedPorts(exposedPorts);
+      }
+    }
+
