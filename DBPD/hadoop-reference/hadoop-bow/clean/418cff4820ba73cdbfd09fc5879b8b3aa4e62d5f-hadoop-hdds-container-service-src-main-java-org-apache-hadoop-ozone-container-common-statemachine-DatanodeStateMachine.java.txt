Merge remote-tracking branch 'apache-commit/trunk' into HDDS-48

-import org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CloseContainerCommandHandler;
+import org.apache.hadoop.hdds.protocol.proto
+    .StorageContainerDatanodeProtocolProtos.ContainerReportsProto;
+import org.apache.hadoop.hdds.protocol.proto
+    .StorageContainerDatanodeProtocolProtos.NodeReportProto;
+import org.apache.hadoop.ozone.container.common.report.ReportManager;
+import org.apache.hadoop.ozone.container.common.statemachine.commandhandler
+    .CloseContainerCommandHandler;
+  private final ReportManager reportManager;
+
+    reportManager = ReportManager.newBuilder(conf)
+        .setStateContext(context)
+        .addPublisherFor(NodeReportProto.class)
+        .addPublisherFor(ContainerReportsProto.class)
+        .build();
+    reportManager.init();
-        context.setNodeReport(container.getNodeReport());
+      reportManager.shutdown();
+
+  /**
+   * returns the Command Dispatcher.
+   * @return CommandDispatcher
+   */
+  @VisibleForTesting
+  public CommandDispatcher getCommandDispatcher() {
+    return commandDispatcher;
+  }
