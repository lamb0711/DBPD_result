HDFS-12349. Improve log message when it could not alloc enough blocks for EC. (lei)

-                                      clientMachine, blockType);
+                                      clientMachine, blockType, ecPolicy);
-                                    r.blockType, flags);
+                                    r.blockType, r.ecPolicy, flags);
+    final ErasureCodingPolicy ecPolicy;
-        String clientMachine, BlockType blockType) {
+        String clientMachine, BlockType blockType,
+        ErasureCodingPolicy ecPolicy) {
+      this.ecPolicy = ecPolicy;
+
+      if (blockType == BlockType.STRIPED) {
+        Preconditions.checkArgument(ecPolicy != null,
+            "ecPolicy is not specified for striped block");
+      }
