YARN-6099. Improve webservice to list aggregated log files. Contributed by Xuan Gong.

-import com.google.common.annotations.VisibleForTesting;
-import java.util.Map;
-import java.util.Map.Entry;
-import org.apache.hadoop.classification.InterfaceAudience.Private;
+import org.apache.hadoop.yarn.logaggregation.ContainerLogMeta;
+import org.apache.hadoop.yarn.logaggregation.ContainerLogType;
+import org.apache.hadoop.yarn.logaggregation.PerContainerLogFileInfo;
- *   <li>The filename of the container log.</li>
- *   <li>The size of the container log.</li>
+ *   <li>A list of {@link PerContainerLogFileInfo}.</li>
+ *   <li>The container Id.</li>
+ *   <li>The NodeManager Id.</li>
+ *   <li>The logType: could be local or aggregated</li>
-  protected List<ContainerLogInfo> containerLogsInfo;
+  protected List<PerContainerLogFileInfo> containerLogsInfo;
+
+  @XmlElement(name = "logType")
+  protected String logType;
+
+  @XmlElement(name = "containerId")
+  protected String containerId;
+
+  @XmlElement(name = "nodeId")
+  protected String nodeId;
-  public ContainerLogsInfo(Map<String, String> containerLogMeta)
+  public ContainerLogsInfo(ContainerLogMeta logMeta, ContainerLogType logType)
-    this.containerLogsInfo = new ArrayList<ContainerLogInfo>();
-    for (Entry<String, String> meta : containerLogMeta.entrySet()) {
-      ContainerLogInfo info = new ContainerLogInfo(meta.getKey(),
-          meta.getValue());
-      containerLogsInfo.add(info);
-    }
+    this.containerLogsInfo = new ArrayList<PerContainerLogFileInfo>(
+        logMeta.getContainerLogMeta());
+    this.logType = logType.toString();
+    this.containerId = logMeta.getContainerId();
+    this.nodeId = logMeta.getNodeId();
-  public List<ContainerLogInfo> getContainerLogsInfo() {
+  public List<PerContainerLogFileInfo> getContainerLogsInfo() {
-  /**
-   * It includes the log meta-data of a container.
-   *
-   */
-  @Private
-  @VisibleForTesting
-  public static class ContainerLogInfo {
-    private String fileName;
-    private String fileSize;
+  public String getLogType() {
+    return this.logType;
+  }
-    //JAXB needs this
-    public ContainerLogInfo() {}
+  public String getContainerId() {
+    return this.containerId;
+  }
-    public ContainerLogInfo(String fileName, String fileSize) {
-      this.setFileName(fileName);
-      this.setFileSize(fileSize);
-    }
-
-    public String getFileName() {
-      return fileName;
-    }
-
-    public void setFileName(String fileName) {
-      this.fileName = fileName;
-    }
-
-    public String getFileSize() {
-      return fileSize;
-    }
-
-    public void setFileSize(String fileSize) {
-      this.fileSize = fileSize;
-    }
+  public String getNodeId() {
+    return this.nodeId;
