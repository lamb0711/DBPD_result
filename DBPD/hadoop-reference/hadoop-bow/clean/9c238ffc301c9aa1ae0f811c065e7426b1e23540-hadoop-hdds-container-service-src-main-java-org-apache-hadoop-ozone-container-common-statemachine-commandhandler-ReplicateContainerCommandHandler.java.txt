HDDS-432. Replication of closed containers is not working.
Contributed by Elek, Marton.

+import java.util.List;
+import org.apache.hadoop.hdds.protocol.DatanodeDetails;
+import com.google.common.base.Preconditions;
-
+      List<DatanodeDetails> sourceDatanodes =
+          replicateCommand.getSourceDatanodes();
+
+      Preconditions.checkArgument(sourceDatanodes.size() > 0,
+          String.format("Replication command is received for container %d "
+              + "but the size of source datanodes was 0.", containerID));
+
-          replicateCommand.getSourceDatanodes());
+          sourceDatanodes);
-              replicateCommand.getSourceDatanodes());
+              sourceDatanodes);
