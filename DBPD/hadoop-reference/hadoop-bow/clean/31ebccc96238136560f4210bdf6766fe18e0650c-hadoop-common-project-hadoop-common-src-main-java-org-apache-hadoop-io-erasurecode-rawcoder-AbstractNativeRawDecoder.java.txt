HDFS-12613. Native EC coder should implement release() as idempotent function. (Lei (Eddy) Xu)

+import java.io.IOException;
-  protected void doDecode(ByteBufferDecodingState decodingState) {
+  protected synchronized void doDecode(ByteBufferDecodingState decodingState)
+      throws IOException {
+    if (nativeCoder == 0) {
+      throw new IOException(String.format("%s closed",
+          getClass().getSimpleName()));
+    }
-                                            int[] outputOffsets);
+                                            int[] outputOffsets)
+      throws IOException;
-  protected void doDecode(ByteArrayDecodingState decodingState) {
+  protected void doDecode(ByteArrayDecodingState decodingState)
+      throws IOException {
