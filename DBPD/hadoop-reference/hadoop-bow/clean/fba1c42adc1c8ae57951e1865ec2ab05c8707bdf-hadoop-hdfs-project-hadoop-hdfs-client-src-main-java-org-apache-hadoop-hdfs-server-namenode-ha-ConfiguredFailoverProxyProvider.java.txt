HDFS-13664. Refactor ConfiguredFailoverProxyProvider to make inheritance easier. Contributed by Chao Sun.
-  private final UserGroupInformation ugi;
+  protected final UserGroupInformation ugi;
-  private final HAProxyFactory<T> factory;
+  protected final HAProxyFactory<T> factory;
+    return getProxy(current);
+  }
+
+  protected ProxyInfo<T> getProxy(AddressRpcProxyPair<T> current) {
-  private static class AddressRpcProxyPair<T> {
+  protected static class AddressRpcProxyPair<T> {
