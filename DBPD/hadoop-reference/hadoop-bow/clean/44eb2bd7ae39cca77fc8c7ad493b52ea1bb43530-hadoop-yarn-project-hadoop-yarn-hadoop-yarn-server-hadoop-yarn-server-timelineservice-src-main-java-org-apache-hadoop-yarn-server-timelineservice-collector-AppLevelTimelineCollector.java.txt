YARN-5747. Application timeline metric aggregation in timeline v2 will lose last round aggregation when an application finishes (Li Lu via Varun Saxena)

+  private AppLevelAggregator appAggregator;
-    appAggregationExecutor.scheduleAtFixedRate(new AppLevelAggregator(),
+    appAggregator = new AppLevelAggregator();
+    appAggregationExecutor.scheduleAtFixedRate(appAggregator,
+    // Perform one round of aggregation after the aggregation executor is done.
+    appAggregator.aggregate();
-    @Override
-    public void run() {
+    private void aggregate() {
+
+    @Override
+    public void run() {
+      aggregate();
+    }
