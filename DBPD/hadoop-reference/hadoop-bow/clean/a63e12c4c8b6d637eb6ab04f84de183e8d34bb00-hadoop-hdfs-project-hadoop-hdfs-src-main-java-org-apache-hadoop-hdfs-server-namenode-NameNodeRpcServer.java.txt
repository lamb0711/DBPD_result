HDFS-2922. HA: close out operation categories. Contributed by Eli Collins


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1242572 13f79535-47bb-0310-9956-ffa450edef68

-    // TODO(HA): decide on OperationCategory for this
+    namesystem.checkOperation(OperationCategory.READ);
-    // TODO:HA decide on OperationCategory for this
+    // NB: not checking OperationCategory so this works on a standby
-    // TODO:HA decide on OperationCategory for this
+    // NB: not checking OperationCategory so this works on a standby
-    // TODO:HA decide on OperationCategory for this
+    // NB: not checking OperationCategory so this works on a standby
-    // TODO:HA decide on OperationCategory for this
+    // NB: not checking OperationCategory so this works on a standby
-  public long getTransactionID() {
-    // TODO:HA decide on OperationCategory for this
+  public long getTransactionID()  throws IOException {
+    namesystem.checkOperation(OperationCategory.READ);
-    // TODO:HA decide on OperationCategory for this
+    namesystem.checkOperation(OperationCategory.READ);
-    // TODO:HA decide on OperationCategory for this
+    namesystem.checkOperation(OperationCategory.WRITE);
-    // TODO:HA decide on OperationCategory for this
+    namesystem.checkOperation(OperationCategory.READ);
-    // TODO:HA decide on OperationCategory for this
+    // NB: not checking OperationCategory so this works on a standby
-   * @param bandwidth Blanacer bandwidth in bytes per second for all datanodes.
+   * @param bandwidth Balancer bandwidth in bytes per second for all datanodes.
-    // TODO:HA decide on OperationCategory for this
+    // NB: not checking OperationCategory so this works on a standby
