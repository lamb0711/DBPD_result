HDDS-3. Send NodeReport and ContainerReport when datanodes register. Contributed by Bharat Viswanadham.

+import org.apache.hadoop.hdds.protocol.proto
+    .StorageContainerDatanodeProtocolProtos.SCMNodeReport;
-      HddsProtos.DatanodeDetailsProto datanodeDetails)
+      HddsProtos.DatanodeDetailsProto datanodeDetails, SCMNodeReport nodeReport,
+      ContainerReportsRequestProto containerReportsRequestProto)
-    return getRegisteredResponse(scm.getScmNodeManager()
-        .register(datanodeDetails));
+    RegisteredCommand registeredCommand = (RegisteredCommand) scm
+        .getScmNodeManager().register(datanodeDetails, nodeReport);
+    SCMCmdType type = registeredCommand.getType();
+    if (type == SCMCmdType.registeredCommand && registeredCommand.getError()
+        == SCMRegisteredCmdResponseProto.ErrorCode.success) {
+      scm.getScmContainerManager().processContainerReports(
+          containerReportsRequestProto);
+    }
+    return getRegisteredResponse(registeredCommand);
