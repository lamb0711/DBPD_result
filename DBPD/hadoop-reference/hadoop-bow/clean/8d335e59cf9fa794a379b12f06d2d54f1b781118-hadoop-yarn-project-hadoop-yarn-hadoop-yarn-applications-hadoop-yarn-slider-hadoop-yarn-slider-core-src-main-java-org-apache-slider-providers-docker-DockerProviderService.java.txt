YARN-6804. [yarn-native-services changes] Allow custom hostname for docker containers in native services. Contributed by Billie Rinaldi

+import org.apache.hadoop.registry.client.api.RegistryConstants;
+import org.apache.hadoop.registry.client.binding.RegistryUtils;
+import org.apache.slider.api.resource.Application;
+import org.apache.slider.server.appmaster.state.RoleInstance;
+import java.text.MessageFormat;
-  public void processArtifact(ContainerLauncher launcher, Component
-      component, SliderFileSystem fileSystem) throws IOException {
+  public void processArtifact(ContainerLauncher launcher, Application
+      application, RoleInstance roleInstance, SliderFileSystem fileSystem)
+      throws IOException {
+    Component component = roleInstance.providerRole.component;
+    String domain = getConfig().get(RegistryConstants.KEY_DNS_DOMAIN);
+    String hostname;
+    if (domain == null || domain.isEmpty()) {
+      hostname = MessageFormat.format("{0}.{1}.{2}", roleInstance
+          .getCompInstanceName(), application.getName(), RegistryUtils
+          .currentUser());
+    } else {
+      hostname = MessageFormat.format("{0}.{1}.{2}.{3}", roleInstance
+          .getCompInstanceName(), application.getName(), RegistryUtils
+          .currentUser(), domain);
+    }
+    launcher.setDockerHostname(hostname);
