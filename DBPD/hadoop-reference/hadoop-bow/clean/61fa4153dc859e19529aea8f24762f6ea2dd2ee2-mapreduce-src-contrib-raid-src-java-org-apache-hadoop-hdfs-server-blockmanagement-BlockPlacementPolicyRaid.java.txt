MAPREDUCE-2624. Update RAID for HDFS-2107.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1140942 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.hadoop.hdfs.server.namenode;
+package org.apache.hadoop.hdfs.server.blockmanagement;
+import org.apache.hadoop.hdfs.server.namenode.*;
-  DatanodeDescriptor[] chooseTarget(String srcPath, int numOfReplicas,
+  public DatanodeDescriptor[] chooseTarget(String srcPath, int numOfReplicas,
-      long len = namesystem.getFileInfo(file, true).getLen();
-      List<LocatedBlock> result = namesystem.getBlockLocations(
+      long len = NameNodeRaidUtil.getFileInfo(namesystem, file, true).getLen();
+      List<LocatedBlock> result = NameNodeRaidUtil.getBlockLocations(namesystem,
-    if (namesystem.dir.getFileInfo(src, true) == null) {
+    if (NameNodeRaidUtil.getFileInfo(namesystem.dir, src, true) == null) {
-    if (namesystem.dir.getFileInfo(parity, true) == null) {
+    if (NameNodeRaidUtil.getFileInfo(namesystem.dir, parity, true) == null) {
