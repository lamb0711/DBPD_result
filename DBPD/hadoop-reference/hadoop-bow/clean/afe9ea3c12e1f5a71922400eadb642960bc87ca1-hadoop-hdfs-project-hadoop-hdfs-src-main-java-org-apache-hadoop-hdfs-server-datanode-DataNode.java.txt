HDFS-8646. Prune cached replicas from DatanodeDescriptor state on replica invalidation.

+  private volatile boolean cacheReportsDisabledForTests = false;
+  @VisibleForTesting
-  
+
+  @VisibleForTesting
-  
+
+  @VisibleForTesting
+  void setCacheReportsDisabledForTest(boolean disabled) {
+    this.cacheReportsDisabledForTests = disabled;
+  }
+
+  @VisibleForTesting
+  boolean areCacheReportsDisabledForTests() {
+    return this.cacheReportsDisabledForTests;
+  }
+
