HDDS-1727. Use generation of resourceName for locks in OzoneManagerLock. (#1014)



-   * @param resourceName - Resource name on which user want to acquire lock.
+   * @param resources - Resource names on which user want to acquire lock.
+   * For Resource type bucket, first param should be volume, second param
+   * should be bucket name. For remaining all resource only one param should
+   * be passed.
-  public void acquireLock(String resourceName, Resource resource) {
+  public void acquireLock(Resource resource, String... resources) {
+    String resourceName = generateResourceName(resource, resources);
+  /**
+   * Generate resource name to be locked.
+   * @param resource
+   * @param resources
+   */
+  private String generateResourceName(Resource resource, String... resources) {
+    if (resources.length == 1 && resource != Resource.BUCKET) {
+      return OzoneManagerLockUtil.generateResourceLockName(resource,
+          resources[0]);
+    } else if (resources.length == 2 && resource == Resource.BUCKET) {
+      return OzoneManagerLockUtil.generateBucketLockName(resources[0],
+          resources[1]);
+    } else {
+      throw new IllegalArgumentException("acquire lock is supported on single" +
+          " resource for all locks except for resource bucket");
+    }
+  }
+
-    int i=0;
+    firstUser = generateResourceName(resource, firstUser);
+    secondUser = generateResourceName(resource, secondUser);
+
+    firstUser = generateResourceName(resource, firstUser);
+    secondUser = generateResourceName(resource, secondUser);
+
-
-
-  public void releaseLock(String resourceName, Resource resource) {
-
+  /**
+   * Release lock on resource.
+   * @param resource - Type of the resource.
+   * @param resources - Resource names on which user want to acquire lock.
+   * For Resource type bucket, first param should be volume, second param
+   * should be bucket name. For remaining all resource only one param should
+   * be passed.
+   */
+  public void releaseLock(Resource resource, String... resources) {
+    String resourceName = generateResourceName(resource, resources);
