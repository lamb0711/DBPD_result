HDFS-12306. Add audit log for some erasure coding operations. Contributed by Huafeng Wang

-    } catch (AccessControlException ace) {
-      logAuditEvent(success, operationName, srcArg, null,
-          resultingStat);
-      throw ace;
+      logAuditEvent(success, operationName, srcArg, null, resultingStat);
-    logAuditEvent(success, operationName, srcArg, null,
-        resultingStat);
-  AddECPolicyResponse[] addECPolicies(ErasureCodingPolicy[] policies)
+  AddECPolicyResponse[] addErasureCodingPolicies(ErasureCodingPolicy[] policies)
-    final String operationName = "addECPolicies";
+    final String operationName = "addErasureCodingPolicies";
-    } catch (AccessControlException ace) {
-      logAuditEvent(success, operationName, srcArg, null,
-          resultingStat);
-      throw ace;
+      logAuditEvent(success, operationName, srcArg, null, resultingStat);
-    logAuditEvent(success, operationName, srcArg, null,
-        resultingStat);
+    final String operationName = "getErasureCodingPolicy";
+    boolean success = false;
-      return FSDirErasureCodingOp.getErasureCodingPolicy(this, src, pc);
+      final ErasureCodingPolicy ret =
+          FSDirErasureCodingOp.getErasureCodingPolicy(this, src, pc);
+      success = true;
+      return ret;
-      readUnlock("getErasureCodingPolicy");
+      readUnlock(operationName);
+      logAuditEvent(success, operationName, null);
+    final String operationName = "getErasureCodingPolicies";
+    boolean success = false;
-      return FSDirErasureCodingOp.getErasureCodingPolicies(this);
+      final ErasureCodingPolicy[] ret =
+          FSDirErasureCodingOp.getErasureCodingPolicies(this);
+      success = true;
+      return ret;
-      readUnlock("getErasureCodingPolicies");
+      readUnlock(operationName);
+      logAuditEvent(success, operationName, null);
+    final String operationName = "getErasureCodingCodecs";
+    boolean success = false;
-      return FSDirErasureCodingOp.getErasureCodingCodecs(this);
+      final HashMap<String, String> ret =
+          FSDirErasureCodingOp.getErasureCodingCodecs(this);
+      success = true;
+      return ret;
-      readUnlock("getErasureCodingCodecs");
+      readUnlock(operationName);
+      logAuditEvent(success, operationName, null);
