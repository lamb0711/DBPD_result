Merge trunk into branch

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-3077@1373573 13f79535-47bb-0310-9956-ffa450edef68

+    } else if (opts.shouldPrintHelp()) {
+      opts.usage();
+      System.exit(0);
+    private final Option helpOpt;
+    private boolean shouldPrintHelp;
+      helpOpt = new Option("h", "help", false, "get help information");
+      options.addOption(helpOpt);
+    public boolean shouldPrintHelp() {
+      return shouldPrintHelp;
+    }
+    
+      if (cmdLine.hasOption(helpOpt.getOpt())
+          || cmdLine.hasOption(helpOpt.getLongOpt())) {
+        shouldPrintHelp = true;
+        return;
+      }
+      
+      String header = "The Secondary NameNode is a helper "
+          + "to the primary NameNode. The Secondary is responsible "
+          + "for supporting periodic checkpoints of the HDFS metadata. "
+          + "The current design allows only one Secondary NameNode "
+          + "per HDFS cluster.";
-      formatter.printHelp("secondarynamenode", options);
+      formatter.printHelp("secondarynamenode", header, options, "", false);
