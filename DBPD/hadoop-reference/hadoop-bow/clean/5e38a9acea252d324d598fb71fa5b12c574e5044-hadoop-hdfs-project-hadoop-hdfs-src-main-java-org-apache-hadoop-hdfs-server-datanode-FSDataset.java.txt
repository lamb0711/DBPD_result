Revert 1305590 for HDFS-3089.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1305598 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.hdfs.server.datanode.fsdataset.FsDatasetSpi;
-import org.apache.hadoop.hdfs.server.datanode.fsdataset.RollingLogs;
-import org.apache.hadoop.hdfs.server.datanode.fsdataset.RoundRobinVolumeChoosingPolicy;
-import org.apache.hadoop.hdfs.server.datanode.fsdataset.VolumeChoosingPolicy;
-public class FSDataset implements FsDatasetSpi<FSDataset.FSVolume> {
+class FSDataset implements FSDatasetInterface<FSDataset.FSVolume> {
-  public static class Factory extends FsDatasetSpi.Factory<FSDataset> {
+  static class Factory extends FSDatasetInterface.Factory<FSDataset> {
-    public FSDataset newInstance(DataNode datanode,
+    public FSDataset createFSDatasetInterface(DataNode datanode,
-    final VolumeChoosingPolicy<FSVolume> blockChooser;
+    BlockVolumeChoosingPolicy<FSVolume> blockChooser;
-        VolumeChoosingPolicy<FSVolume> blockChooser) {
+        BlockVolumeChoosingPolicy<FSVolume> blockChooser) {
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-    final VolumeChoosingPolicy<FSVolume> blockChooserImpl =
+    final BlockVolumeChoosingPolicy<FSVolume> blockChooserImpl =
-            DFSConfigKeys.DFS_DATANODE_FSDATASET_VOLUME_CHOOSING_POLICY_KEY,
-            RoundRobinVolumeChoosingPolicy.class,
-            VolumeChoosingPolicy.class), conf);
+            DFSConfigKeys.DFS_DATANODE_BLOCKVOLUMECHOICEPOLICY,
+            RoundRobinVolumesPolicy.class,
+            BlockVolumeChoosingPolicy.class), conf);
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override  // FsDatasetSpi
+  @Override  // FSDatasetInterface
-  @Override  // FsDatasetSpi
+  @Override  // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // {@link FsDatasetSpi}
+  @Override // {@link FSDatasetInterface}
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // {@link FsDatasetSpi}
+  @Override // {@link FSDatasetInterface}
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
-  @Override //FsDatasetSpi
+  @Override //FSDatasetInterface
-  @Override // FsDatasetSpi
+  @Override // FSDatasetInterface
