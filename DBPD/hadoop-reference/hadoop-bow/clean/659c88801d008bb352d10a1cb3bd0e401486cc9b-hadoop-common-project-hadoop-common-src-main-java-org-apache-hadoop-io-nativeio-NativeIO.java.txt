HDFS-14818. Check native pmdk lib by 'hadoop checknative' command. Contributed by Feilong He.

+        // -1 represents UNSUPPORTED.
-          msg = "The native code is built without PMDK support.";
+          msg = "The native code was built without PMDK support.";
+        // 1 represents PMDK_LIB_NOT_FOUND.
-          msg = "The native code is built with PMDK support, but PMDK libs " +
-              "are NOT found in execution environment or failed to be loaded.";
+          msg = "The native code was built with PMDK support, but PMDK libs " +
+              "were NOT found in execution environment or failed to be loaded.";
+        // 0 represents SUPPORTED.
-          msg = "The native code is built with PMDK support, and PMDK libs " +
-              "are loaded successfully.";
+          msg = "The native code was built with PMDK support, and PMDK libs " +
+              "were loaded successfully.";
-        SupportState.PMDK_LIB_NOT_FOUND;
+        SupportState.UNSUPPORTED;
+    public static String getPmdkSupportStateMessage() {
+      if (getPmdkLibPath() != null) {
+        return pmdkSupportState.getMessage() +
+            " The pmdk lib path: " + getPmdkLibPath();
+      }
+      return pmdkSupportState.getMessage();
+    }
+
+
+      public static String getPmdkLibPath() {
+        return POSIX.getPmdkLibPath();
+      }
+    private static native String getPmdkLibPath();
