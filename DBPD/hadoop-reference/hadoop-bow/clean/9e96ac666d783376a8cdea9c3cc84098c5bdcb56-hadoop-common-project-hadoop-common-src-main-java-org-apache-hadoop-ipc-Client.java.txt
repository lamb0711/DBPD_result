HADOOP-10219. ipc.Client.setupIOstreams() needs to check for ClientCache.stopClient requested shutdowns.
Contributed by Kihwal Lee and Lukas Majercak.

+import java.util.concurrent.atomic.AtomicReference;
+    private AtomicReference<Thread> connectingThread = new AtomicReference<>();
+
+        connectingThread.set(Thread.currentThread());
+      } finally {
+        connectingThread.set(null);
+
+    private void interruptConnectingThread() {
+      Thread connThread = connectingThread.get();
+      if (connThread != null) {
+        connThread.interrupt();
+      }
+    }
+      conn.interruptConnectingThread();
