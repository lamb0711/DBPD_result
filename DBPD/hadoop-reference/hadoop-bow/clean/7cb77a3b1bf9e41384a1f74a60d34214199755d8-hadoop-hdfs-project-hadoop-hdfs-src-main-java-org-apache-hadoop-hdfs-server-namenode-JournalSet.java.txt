HDFS-2334. Add Closeable to JournalManager. Contributed by Ivan Kelly.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1195620 13f79535-47bb-0310-9956-ffa450edef68

-    public void close() throws IOException {
+    public void closeStream() throws IOException {
+
+    /**
+     * Close the Journal and Stream
+     */
+    public void close() throws IOException {
+      closeStream();
+
+      journal.close();
+    }
-          jas.close();
+          jas.closeStream();
-  
+   
+  @Override
+  public void close() throws IOException {
+    mapJournalsAndReportErrors(new JournalClosure() {
+      @Override
+      public void apply(JournalAndStream jas) throws IOException {
+        jas.close();
+      }
+    }, "close journal");
+  }
+
-          jas.close();
+          jas.closeStream();
