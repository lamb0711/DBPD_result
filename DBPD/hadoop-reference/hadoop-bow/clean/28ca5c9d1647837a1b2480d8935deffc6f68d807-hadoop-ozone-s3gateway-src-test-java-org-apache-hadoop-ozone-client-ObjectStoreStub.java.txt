HDDS-613. Update HeadBucket, DeleteBucket to not to have volume in path. Contributed by Bharat Viswanadham.

+  private Map<String, Boolean> bucketEmptyStatus = new HashMap<>();
-    bucketVolumeMap.put(s3BucketName, "s3"+userName+"/"+s3BucketName);
+    if (bucketVolumeMap.get(s3BucketName) == null) {
+      String volumeName = "s3"+userName;
+      bucketVolumeMap.put(s3BucketName, volumeName + "/" + s3BucketName);
+      bucketEmptyStatus.put(s3BucketName, true);
+      createVolume(volumeName);
+      volumes.get(volumeName).createBucket(s3BucketName);
+    } else {
+      throw new IOException("BUCKET_ALREADY_EXISTS");
+    }
-    bucketVolumeMap.remove(s3BucketName);
+    if (bucketVolumeMap.containsKey(s3BucketName)) {
+      if (bucketEmptyStatus.get(s3BucketName)) {
+        bucketVolumeMap.remove(s3BucketName);
+      } else {
+        throw new IOException("BUCKET_NOT_EMPTY");
+      }
+    } else {
+      throw new IOException("BUCKET_NOT_FOUND");
+    }
+    if (bucketVolumeMap.get(s3BucketName) == null) {
+      throw new IOException("S3_BUCKET_NOT_FOUND");
+    }
+
+    if (bucketVolumeMap.get(s3BucketName) == null) {
+      throw new IOException("S3_BUCKET_NOT_FOUND");
+    }
+
+    if (bucketVolumeMap.get(s3BucketName) == null) {
+      throw new IOException("S3_BUCKET_NOT_FOUND");
+    }
+
+  public void setBucketEmptyStatus(String bucketName, boolean status) {
+    bucketEmptyStatus.put(bucketName, status);
+  }
