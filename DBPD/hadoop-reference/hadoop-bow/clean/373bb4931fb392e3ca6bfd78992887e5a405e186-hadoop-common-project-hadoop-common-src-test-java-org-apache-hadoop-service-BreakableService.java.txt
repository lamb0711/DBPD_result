YARN-679. Add an entry point that can start any Yarn service. Contributed by Steve Loughran.

-import org.apache.hadoop.service.AbstractService;
-import org.apache.hadoop.service.Service;
-  private void maybeFail(boolean fail, String action) {
+  private void maybeFail(boolean fail, String action) throws Exception {
-      throw new BrokenLifecycleEvent(this, action);
+      throw createFailureException(action);
+  /**
+   * Override point: create the exception to raise
+   * @param action action in progress
+   * @return the exception that will be thrown
+   */
+  protected Exception createFailureException(String action) {
+    return new BrokenLifecycleEvent(this, action);
+  }
+
-  protected void serviceStart() {
+  protected void serviceStart() throws Exception {
-  protected void serviceStop() {
+  protected void serviceStop() throws Exception {
-   * The exception explicitly raised on a failure
+   * The exception explicitly raised on a failure.
-    final STATE state;
+    public final STATE state;
