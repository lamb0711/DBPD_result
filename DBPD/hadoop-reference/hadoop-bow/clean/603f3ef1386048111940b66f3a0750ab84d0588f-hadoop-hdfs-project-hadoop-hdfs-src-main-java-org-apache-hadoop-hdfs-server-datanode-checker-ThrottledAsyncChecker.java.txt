HDFS-11274. Datanode should only check the failed volume upon IO errors. Contributed by Xiaoyu Yao.

+import com.google.common.base.Optional;
-  public synchronized ListenableFuture<V> schedule(
-      final Checkable<K, V> target,
-      final K context) {
-    LOG.debug("Scheduling a check of {}", target);
-
+  public Optional<ListenableFuture<V>> schedule(Checkable<K, V> target,
+                                                K context) {
+    LOG.info("Scheduling a check for {}", target);
-      return checksInProgress.get(target);
+      return Optional.absent();
-            "is less than the min gap {}ms.",
+                "is less than the min gap {}ms.",
-        return result.result != null ?
-            Futures.immediateFuture(result.result) :
-            Futures.immediateFailedFuture(result.exception);
+        return Optional.absent();
-    return lf;
+    return Optional.of(lf);
