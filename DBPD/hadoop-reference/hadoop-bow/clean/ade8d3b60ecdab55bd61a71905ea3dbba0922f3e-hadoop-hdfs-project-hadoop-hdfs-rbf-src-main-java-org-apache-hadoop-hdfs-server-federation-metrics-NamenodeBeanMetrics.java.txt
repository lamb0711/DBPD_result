HDFS-14508. RBF: Clean-up and refactor UI components. Contributed by Takanobu Asanuma.

-import org.apache.hadoop.hdfs.server.federation.router.RouterServiceState;
-  private FederationMetrics getFederationMetrics() throws IOException {
-    FederationMetrics metrics = getRouter().getMetrics();
+  private RBFMetrics getRBFMetrics() throws IOException {
+    RBFMetrics metrics = getRouter().getMetrics();
-      return getFederationMetrics().getUsedCapacity();
+      return getRBFMetrics().getUsedCapacity();
-      return getFederationMetrics().getRemainingCapacity();
+      return getRBFMetrics().getRemainingCapacity();
-      return getFederationMetrics().getTotalCapacity();
+      return getRBFMetrics().getTotalCapacity();
-      return getFederationMetrics().getProvidedSpace();
+      return getRBFMetrics().getProvidedSpace();
-      if (getRouter().isRouterState(RouterServiceState.SAFEMODE)) {
-        return "Safe mode is ON. " + this.getSafeModeTip();
-      }
+      return getRBFMetrics().getSafemode();
-    return "";
-  }
-
-  private String getSafeModeTip() throws IOException {
-    Router rt = getRouter();
-    String cmd = "Use \"hdfs dfsrouteradmin -safemode leave\" "
-        + "to turn safe mode off.";
-    if (rt.isRouterState(RouterServiceState.INITIALIZING)
-        || rt.isRouterState(RouterServiceState.UNINITIALIZED)) {
-      return "Router is in" + rt.getRouterState()
-          + "mode, the router will immediately return to "
-          + "normal mode after some time. " + cmd;
-    } else if (rt.isRouterState(RouterServiceState.SAFEMODE)) {
-      return "It was turned on manually. " + cmd;
-    }
-    return "";
-      return getFederationMetrics().getNumBlocks();
+      return getRBFMetrics().getNumBlocks();
-      return getFederationMetrics().getNumOfMissingBlocks();
+      return getRBFMetrics().getNumOfMissingBlocks();
-      return getFederationMetrics().getNumOfBlocksPendingReplication();
+      return getRBFMetrics().getNumOfBlocksPendingReplication();
-      return getFederationMetrics().getNumOfBlocksPendingReplication();
+      return getRBFMetrics().getNumOfBlocksPendingReplication();
-      return getFederationMetrics().getNumOfBlocksUnderReplicated();
+      return getRBFMetrics().getNumOfBlocksUnderReplicated();
-      return getFederationMetrics().getNumOfBlocksUnderReplicated();
+      return getRBFMetrics().getNumOfBlocksUnderReplicated();
-      return getFederationMetrics().getNumOfBlocksPendingDeletion();
+      return getRBFMetrics().getNumOfBlocksPendingDeletion();
-      return getFederationMetrics().getNumFiles();
+      return getRBFMetrics().getNumFiles();
-      return getFederationMetrics().getNumLiveNodes();
+      return getRBFMetrics().getNumLiveNodes();
-      return getFederationMetrics().getNumDeadNodes();
+      return getRBFMetrics().getNumDeadNodes();
-      return getFederationMetrics().getNumStaleNodes();
+      return getRBFMetrics().getNumStaleNodes();
-      return getFederationMetrics().getNumDecomLiveNodes();
+      return getRBFMetrics().getNumDecomLiveNodes();
-      return getFederationMetrics().getNumDecomDeadNodes();
+      return getRBFMetrics().getNumDecomDeadNodes();
-      return getFederationMetrics().getNumDecommissioningNodes();
+      return getRBFMetrics().getNumDecommissioningNodes();
-      return getFederationMetrics().getNumInMaintenanceLiveDataNodes();
+      return getRBFMetrics().getNumInMaintenanceLiveDataNodes();
-      return getFederationMetrics().getNumInMaintenanceDeadDataNodes();
+      return getRBFMetrics().getNumInMaintenanceDeadDataNodes();
-      return getFederationMetrics().getNumEnteringMaintenanceDataNodes();
+      return getRBFMetrics().getNumEnteringMaintenanceDataNodes();
+    try {
+      return getRBFMetrics().isSecurityEnabled();
+    } catch (IOException e) {
+      LOG.debug("Failed to get security status.",
+          e.getMessage());
+    }
