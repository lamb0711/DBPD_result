YARN-9221.  Added flag to disable dynamic auxiliary service feature.
            Contributed by Billie Rinaldi

-  private Path manifest;
-  private FileSystem manifestFS;
+  private volatile boolean manifestEnabled = false;
+  private volatile Path manifest;
+  private volatile FileSystem manifestFS;
+   * Returns whether aux services manifest / dynamic loading is enabled.
+   */
+  public boolean isManifestEnabled() {
+    return manifestEnabled;
+  }
+
+  /**
-  private void reloadManifest() throws IOException {
+  @VisibleForTesting
+  protected void reloadManifest() throws IOException {
-   * @throws IOException if aux services have not been started yet
+   * @throws IOException if aux services have not been started yet or dynamic
+   * reloading is not enabled
-  public void reload(AuxServiceRecords services) throws IOException {
+  public synchronized void reload(AuxServiceRecords services) throws
+      IOException {
+    if (!manifestEnabled) {
+      throw new IOException("Dynamic reloading is not enabled via " +
+          YarnConfiguration.NM_AUX_SERVICES_MANIFEST_ENABLED);
+    }
+    if (!manifestEnabled) {
+      throw new IOException("Dynamic reloading is not enabled via " +
+          YarnConfiguration.NM_AUX_SERVICES_MANIFEST_ENABLED);
+    }
-    String manifestStr = conf.get(YarnConfiguration.NM_AUX_SERVICES_MANIFEST);
-    if (manifestStr == null) {
+    manifestEnabled = conf.getBoolean(
+        YarnConfiguration.NM_AUX_SERVICES_MANIFEST_ENABLED,
+        YarnConfiguration.DEFAULT_NM_AUX_SERVICES_MANIFEST_ENABLED);
+    if (!manifestEnabled) {
-      manifest = new Path(manifestStr);
-      manifestFS = FileSystem.get(new URI(manifestStr), conf);
-      loadManifest(conf, false);
+      String manifestStr = conf.get(YarnConfiguration.NM_AUX_SERVICES_MANIFEST);
+      if (manifestStr != null) {
+        manifest = new Path(manifestStr);
+        manifestFS = FileSystem.get(new URI(manifestStr), conf);
+        loadManifest(conf, false);
+        manifestReloadInterval = conf.getLong(
+            YarnConfiguration.NM_AUX_SERVICES_MANIFEST_RELOAD_MS,
+            YarnConfiguration.DEFAULT_NM_AUX_SERVICES_MANIFEST_RELOAD_MS);
+        manifestReloadTask = new ManifestReloadTask();
+      } else {
+        LOG.info("Auxiliary services manifest is enabled, but no manifest " +
+            "file is specified in the configuration.");
+      }
-    manifestReloadInterval = conf.getLong(
-        YarnConfiguration.NM_AUX_SERVICES_MANIFEST_RELOAD_MS,
-        YarnConfiguration.DEFAULT_NM_AUX_SERVICES_MANIFEST_RELOAD_MS);
-    manifestReloadTask = new ManifestReloadTask();
-    if (manifest != null && manifestReloadInterval > 0) {
-      manifestReloadTimer = new Timer("AuxServicesManifestRelaod-Timer",
+    if (manifestEnabled && manifest != null && manifestReloadInterval > 0) {
+      LOG.info("Scheduling reloading auxiliary services manifest file at " +
+          "interval " + manifestReloadInterval + " ms");
+      manifestReloadTimer = new Timer("AuxServicesManifestReload-Timer",
