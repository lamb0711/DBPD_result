MAPREDUCE-4992. AM hangs in RecoveryService when recovering tasks with speculative attempts. Contributed by Robert Parker


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1445456 13f79535-47bb-0310-9956-ffa450edef68

+    info.completedTaskAttemptsMap.put(event.getAttemptId(), attemptInfo);
+    info.completedTaskAttemptsMap.put(event.getAttemptId(), attemptInfo);
+    info.completedTaskAttemptsMap.put(event.getAttemptId(), attemptInfo);
+    info.completedTaskAttemptsMap.put(event.getTaskAttemptId(), attemptInfo);
+    Map<TaskAttemptID, TaskAttemptInfo> completedTaskAttemptsMap;
+      completedTaskAttemptsMap = new HashMap<TaskAttemptID, TaskAttemptInfo>();
+    /** @return the map of all completed task attempts in this job */
+    public Map<TaskAttemptID, TaskAttemptInfo> getAllCompletedTaskAttempts() { return completedTaskAttemptsMap; }
