HDFS-7474. Avoid resolving path in FSPermissionChecker. Contributed by Jing Zhao.

-import org.apache.hadoop.fs.UnresolvedLinkException;
-  private final UserGroupInformation ugi;
-  private final String user;  
+  private final String user;
-    ugi = callerUgi;
-    HashSet<String> s = new HashSet<String>(Arrays.asList(ugi.getGroupNames()));
+    HashSet<String> s = new HashSet<String>(Arrays.asList(callerUgi.getGroupNames()));
-    user = ugi.getShortUserName();
+    user = callerUgi.getShortUserName();
-   * @param resolveLink whether to resolve the final path component if it is
-   * a symlink
-   * @throws UnresolvedLinkException
-  void checkPermission(String path, FSDirectory dir, boolean doCheckOwner,
+  void checkPermission(INodesInPath inodesInPath, boolean doCheckOwner,
-      FsAction subAccess, boolean ignoreEmptyDir, boolean resolveLink)
-      throws AccessControlException, UnresolvedLinkException {
+      FsAction subAccess, boolean ignoreEmptyDir)
+      throws AccessControlException {
-          + ", ignoreEmptyDir=" + ignoreEmptyDir
-          + ", resolveLink=" + resolveLink);
+          + ", ignoreEmptyDir=" + ignoreEmptyDir);
-    final INodesInPath inodesInPath = dir.getINodesInPath(path, resolveLink);
