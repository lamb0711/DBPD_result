MAPREDUCE-6264. Remove httpclient dependency from hadoop-mapreduce-client. Contributed by Brahma Reddy Battula.

+import java.net.URI;
+import java.net.URISyntaxException;
-import org.apache.commons.httpclient.HttpClient;
-import org.apache.commons.httpclient.HttpMethod;
-import org.apache.commons.httpclient.URI;
-import org.apache.commons.httpclient.methods.GetMethod;
+import org.apache.http.client.methods.HttpGet;
+import org.apache.http.client.params.ClientPNames;
+import org.apache.http.impl.client.DefaultHttpClient;
+import org.apache.http.params.CoreConnectionPNames;
-      throws IOException {
-    URI url = new URI(uri, false);
-    HttpClient httpClient = new HttpClient();
-    httpClient.getParams().setSoTimeout(timeout);
-    httpClient.getParams().setConnectionManagerTimeout(timeout);
-
-    HttpMethod method = new GetMethod(url.getEscapedURI());
-    method.setRequestHeader("Accept", "*/*");
-    return httpClient.executeMethod(method);
+      throws IOException, URISyntaxException {
+    DefaultHttpClient client = new DefaultHttpClient();
+    client.getParams()
+        .setIntParameter(CoreConnectionPNames.SO_TIMEOUT, timeout)
+        .setLongParameter(ClientPNames.CONN_MANAGER_TIMEOUT, (long) timeout);
+    HttpGet httpGet = new HttpGet(new URI(uri));
+    httpGet.setHeader("Accept", "*/*");
+    return client.execute(httpGet).getStatusLine().getStatusCode();
