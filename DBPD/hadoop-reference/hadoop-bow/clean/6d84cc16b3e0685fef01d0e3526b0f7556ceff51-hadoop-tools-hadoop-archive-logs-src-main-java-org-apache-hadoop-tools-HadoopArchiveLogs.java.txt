MAPREDUCE-6550. archive-logs tool changes log ownership to the Yarn user when using DefaultContainerExecutor (rkanter)

+  private static final String NO_PROXY_OPTION = "noProxy";
+  @VisibleForTesting
+  boolean proxy = true;
+    Option noProxyOpt = new Option(NO_PROXY_OPTION, false,
+        "When specified, all processing will be done as the user running this" +
+            " command (or the Yarn user if DefaultContainerExecutor is in " +
+            "use). When not specified, all processing will be done as the " +
+            "user who owns that application; if the user running this command" +
+            " is not allowed to impersonate that user, it will fail");
+    opts.addOption(noProxyOpt);
+      if (commandLine.hasOption(NO_PROXY_OPTION)) {
+        proxy = false;
+      }
-        new FsPermission(FsAction.ALL, FsAction.ALL, FsAction.NONE));
+        new FsPermission(FsAction.ALL, FsAction.ALL, FsAction.ALL, true));
+      if (!proxy) {
+        fw.write(" -noProxy\n");
+      }
