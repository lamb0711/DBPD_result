YARN-9451. AggregatedLogsBlock shows wrong NM http port. Contributed by Prabhu Joseph

+import org.apache.hadoop.yarn.webapp.util.WebAppUtils;
-              + ". Aggregation may not be complete, "
-              + "Check back later or try the nodemanager at " + nodeId).__();
+              + ". Aggregation may not be complete, Check back later or "
+              + "try to find the container logs in the local directory of "
+              + "nodemanager " + nodeId).__();
+
+    String webAppURLWithoutScheme =
+        WebAppUtils.getNMWebAppURLWithoutScheme(conf);
+    if (webAppURLWithoutScheme.contains(":")) {
+      String httpPort = webAppURLWithoutScheme.split(":")[1];
+      nodeId = NodeId.fromString(nodeId).getHost() + ":" + httpPort;
+    }
+
