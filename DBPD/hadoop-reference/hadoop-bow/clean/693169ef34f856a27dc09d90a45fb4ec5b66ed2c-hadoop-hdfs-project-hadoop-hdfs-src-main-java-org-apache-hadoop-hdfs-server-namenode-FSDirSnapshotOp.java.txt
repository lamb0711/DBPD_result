HDFS-12882. Support full open(PathHandle) contract in HDFS

+import org.apache.hadoop.hdfs.protocol.HdfsFileStatus;
-        if (fsd.getFSNamesystem().getFileInfo(snapname, true) != null) {
+        HdfsFileStatus stat =
+            fsd.getFSNamesystem().getFileInfo(snapname, true, false, false);
+        if (stat != null) {
