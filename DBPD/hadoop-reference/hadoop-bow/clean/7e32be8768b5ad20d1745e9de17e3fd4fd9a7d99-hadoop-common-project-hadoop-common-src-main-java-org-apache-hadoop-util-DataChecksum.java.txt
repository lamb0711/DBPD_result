Merge remote-tracking branch 'apache-commit/trunk' into HDFS-6581

Conflicts:
	hadoop-common-project/hadoop-common/CHANGES.txt

+    if (type.size == 0) return;
+    if (type.size == 0) return;
