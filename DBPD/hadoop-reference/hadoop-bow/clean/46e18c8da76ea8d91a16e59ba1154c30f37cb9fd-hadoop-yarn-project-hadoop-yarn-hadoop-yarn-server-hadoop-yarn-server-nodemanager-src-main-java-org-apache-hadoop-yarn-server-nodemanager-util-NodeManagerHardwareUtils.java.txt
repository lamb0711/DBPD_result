HADOOP-14914. Change to a safely casting long to int. Contributed by Ajay Kumar.

-          cores = (int) tmp;
+          cores = Math.round(tmp);
