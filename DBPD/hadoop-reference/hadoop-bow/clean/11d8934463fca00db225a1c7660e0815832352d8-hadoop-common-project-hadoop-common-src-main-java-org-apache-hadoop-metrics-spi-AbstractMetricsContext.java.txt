HADOOP-11586. Update use of Iterator to Iterable in AbstractMetricsContext.java. Contributed by Ray Chiang.

-    for (String recordName : bufferedData.keySet()) {
-      RecordMap recordMap = bufferedData.get(recordName);
+    for (Map.Entry<String,RecordMap> recordEntry : bufferedData.entrySet()) {
+      RecordMap recordMap = recordEntry.getValue();
-          emitRecord(contextName, recordName, outRec);
+          emitRecord(contextName, recordEntry.getKey(), outRec);
-    for (String recordName : bufferedData.keySet()) {
-      RecordMap recordMap = bufferedData.get(recordName);
+    for (Map.Entry<String,RecordMap> recordEntry : bufferedData.entrySet()) {
+      RecordMap recordMap = recordEntry.getValue();
-        out.put(recordName, records);
+        out.put(recordEntry.getKey(), records);
