YARN-6716. Native services support for specifying component start order. Contributed by Billie Rinaldi

+import org.apache.slider.server.appmaster.actions.MonitorComponentInstances;
-  private List<ProviderService> providers = new ArrayList<>();
+  private Set<ProviderService> providers = new HashSet<>();
+    scheduleMonitoring(application.getConfiguration());
-  
+
-   * Look at where the current node state is -and whether it should be changed
+   * Schedule monitor action
+   */
+  private void scheduleMonitoring(
+      org.apache.slider.api.resource.Configuration conf) {
+    MonitorComponentInstances monitor = new MonitorComponentInstances();
+    long seconds = conf.getPropertyLong(InternalKeys.MONITOR_INTERVAL,
+        InternalKeys.DEFAULT_MONITOR_INTERVAL);
+    RenewingAction<MonitorComponentInstances> renew =
+        new RenewingAction<>(monitor, seconds, seconds, TimeUnit.SECONDS, 0);
+    actionQueues.renewing("monitoring", renew);
+  }
+
+  /**
+   * Look at where the current node state is and whether it should be changed.
+  public void monitorComponentInstances() {
+    // TODO use health checks?
+    // TODO publish timeline events for monitoring changes?
+    if (appState.monitorComponentInstances()) {
+      // monitoring change
+      reviewRequestAndReleaseNodes("monitoring change");
+    }
+  }
+
