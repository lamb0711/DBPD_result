HDFS-5233. Use Datanode UUID to identify Datanodes.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2832@1525407 13f79535-47bb-0310-9956-ffa450edef68

-        getStorageId(), getXferPort(), getInfoPort(), getIpcPort());
+        getDatanodeUuid(), getXferPort(), getInfoPort(), getIpcPort());
-      storage.setStorageID(bpRegistration.getStorageID());
+      storage.setStorageID(bpRegistration.getDatanodeUuid());
-      LOG.info("New storage id " + bpRegistration.getStorageID()
+      LOG.info("New storage id " + bpRegistration.getDatanodeUuid()
-    } else if(!storage.getStorageID().equals(bpRegistration.getStorageID())) {
+    } else if(!storage.getStorageID().equals(bpRegistration.getDatanodeUuid())) {
-          + bpRegistration.getStorageID() 
+          + bpRegistration.getDatanodeUuid()
-  String getStorageId() {
+  String getDatanodeUuid() {
-   * transfer, and that may be a different address.
+   * transfer, and that may be a   different address.
-    dnId.setStorageID(DatanodeStorage.newStorageID());
+    dnId.setDatanodeUuid(DatanodeStorage.newStorageID());
-        + "', storageID='" + getStorageId() + "', xmitsInProgress="
+        + "', storageID='" + getDatanodeUuid() + "', xmitsInProgress="
