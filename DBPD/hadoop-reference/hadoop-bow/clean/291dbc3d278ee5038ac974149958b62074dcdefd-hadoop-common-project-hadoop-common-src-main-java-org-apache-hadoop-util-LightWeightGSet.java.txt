svn merge --reintegrate https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-5535 back to trunk.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1574259 13f79535-47bb-0310-9956-ffa450edef68

-  private class SetIterator implements Iterator<E> {
+  public class SetIterator implements Iterator<E> {
+    private boolean trackModification = true;
-      if (modification != iterModification) {
+      if (trackModification && modification != iterModification) {
+
+    public void setTrackModification(boolean trackModification) {
+      this.trackModification = trackModification;
+    }
