HDFS-4534. Add INodeReference in order to support rename with snapshots.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1458164 13f79535-47bb-0310-9956-ffa450edef68

-  private void updateRootAttr(INode root) {                                                           
+  private void updateRootAttr(INodeWithAdditionalFields root) {                                                           
-      final INode root = loadINode(null, false, in);
+      final INodeWithAdditionalFields root = loadINode(null, false, in);
-      final INode newNode = loadINode(pathComponents[pathComponents.length-1],
-          false, in);
+      final INodeWithAdditionalFields newNode = loadINode(
+          pathComponents[pathComponents.length-1], false, in);
-  INode loadINode(final byte[] localName, boolean isSnapshotINode,
+  INodeWithAdditionalFields loadINode(final byte[] localName, boolean isSnapshotINode,
