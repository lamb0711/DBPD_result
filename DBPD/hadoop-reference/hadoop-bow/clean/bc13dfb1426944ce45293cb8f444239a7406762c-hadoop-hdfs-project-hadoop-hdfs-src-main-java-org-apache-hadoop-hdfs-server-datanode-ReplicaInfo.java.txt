HDFS-3130. Move fsdataset implementation to a package.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1308437 13f79535-47bb-0310-9956-ffa450edef68

-
-  /**
-   * Get this replica's meta file name
-   * @return this replica's meta file name
-   */
-  private String getMetaFileName() {
-    return getBlockName() + "_" + getGenerationStamp() + METADATA_EXTENSION; 
-  }
-  File getBlockFile() {
+  public File getBlockFile() {
-  File getMetaFile() {
-    return new File(getDir(), getMetaFileName());
+  public File getMetaFile() {
+    return new File(getDir(),
+        DatanodeUtil.getMetaName(getBlockName(), getGenerationStamp()));
-  FsVolumeSpi getVolume() {
+  public FsVolumeSpi getVolume() {
-  void setDir(File dir) {
+  public void setDir(File dir) {
-  boolean isUnlinked() {
+  public boolean isUnlinked() {
-  void setUnlinked() {
+  public void setUnlinked() {
-  boolean unlinkBlock(int numLinks) throws IOException {
+  public boolean unlinkBlock(int numLinks) throws IOException {
