YARN-5918. Handle Opportunistic scheduling allocate request failure when NM is lost. (Bibin A Chundatt via asuresh)

+import org.apache.hadoop.yarn.server.resourcemanager.scheduler.SchedulerNode;
-      retNodes.add(convertToRemoteNode(nId));
+      RemoteNode remoteNode = convertToRemoteNode(nId);
+      if (null != remoteNode) {
+        retNodes.add(remoteNode);
+      }
-    return RemoteNode.newInstance(nodeId,
-        ((AbstractYarnScheduler)rmContext.getScheduler()).getNode(nodeId)
-            .getHttpAddress());
+    SchedulerNode node =
+        ((AbstractYarnScheduler) rmContext.getScheduler()).getNode(nodeId);
+    return node != null ? RemoteNode.newInstance(nodeId, node.getHttpAddress())
+        : null;
