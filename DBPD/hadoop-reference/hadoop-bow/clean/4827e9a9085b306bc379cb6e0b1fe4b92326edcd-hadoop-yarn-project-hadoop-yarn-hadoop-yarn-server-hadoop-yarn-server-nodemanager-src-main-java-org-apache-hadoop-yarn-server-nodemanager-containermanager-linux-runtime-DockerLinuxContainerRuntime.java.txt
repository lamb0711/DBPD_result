YARN-8329. Docker client configuration can still be set incorrectly. Contributed by Shane Kumpf

-            DockerClientConfigHandler
-                .writeDockerCredentialsToPath(dockerConfigPath, credentials);
+            if (DockerClientConfigHandler
+                .writeDockerCredentialsToPath(dockerConfigPath, credentials)) {
+              dockerRunCommand.setClientConfigDir(dockerConfigPath.getParent());
+            }
-          dockerRunCommand.setClientConfigDir(dockerConfigPath.getParent());
