YARN-6445. [YARN-3926] Performance improvements in resource profile branch with respect to SLS. Contributed by Varun Vasudev.

-    for (Map.Entry<String, ResourceInformation> entry : resource.getResources()
-        .entrySet()) {
-      ret.setResourceInformation(entry.getKey(),
-          ResourceInformation.newInstance(entry.getValue()));
-    }
+    Resource.copy(resource, ret);
+  @InterfaceAudience.Private
+  @InterfaceStability.Unstable
+  public static void copy(Resource source, Resource dest) {
+    for (Map.Entry<String, ResourceInformation> entry : source.getResources()
+        .entrySet()) {
+      try {
+        ResourceInformation.copy(entry.getValue(),
+            dest.getResourceInformation(entry.getKey()));
+      } catch (YarnException ye) {
+        dest.setResourceInformation(entry.getKey(),
+            ResourceInformation.newInstance(entry.getValue()));
+      }
+    }
+  }
+
