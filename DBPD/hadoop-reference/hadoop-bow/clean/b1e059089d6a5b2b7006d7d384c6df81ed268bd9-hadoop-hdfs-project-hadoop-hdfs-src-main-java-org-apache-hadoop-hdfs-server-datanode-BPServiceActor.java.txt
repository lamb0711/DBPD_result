HDFS-7979. Initialize block report IDs with a random number.

+  private long prevBlockReportId;
+    prevBlockReportId = DFSUtil.getRandom().nextLong();
-  private long prevBlockReportId = 0;
-
-    long id = System.nanoTime();
-    if (id <= prevBlockReportId) {
-      id = prevBlockReportId + 1;
+    // Initialize the block report ID the first time through.
+    // Note that 0 is used on the NN to indicate "uninitialized", so we should
+    // not send a 0 value ourselves.
+    prevBlockReportId++;
+    while (prevBlockReportId == 0) {
+      prevBlockReportId = DFSUtil.getRandom().nextLong();
-    prevBlockReportId = id;
-    return id;
+    return prevBlockReportId;
