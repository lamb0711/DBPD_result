HADOOP-11389. Clean up byte to string encoding issues in hadoop-common. Contributed by Haohui Mai.

+import java.io.OutputStream;
+import java.io.PrintStream;
-                                                     request, response)) {
+                                                      request, response)) {
-      PrintWriter out = response.getWriter();
-      ReflectionUtils.printThreadInfo(out, "");
-      out.close();
+      try (PrintStream out = new PrintStream(
+          response.getOutputStream(), false, "UTF-8")) {
+        ReflectionUtils.printThreadInfo(out, "");
+      }
