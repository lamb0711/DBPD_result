HDFS-7734. Class cast exception in NameNode#main. Contributed by Yi Liu.

-    final private org.apache.commons.logging.Log LOG;
+    final private LogAdapter LOG;
-    Handler(String name, Log LOG) {
+    Handler(String name, LogAdapter LOG) {
+    register(LogAdapter.create(LOG));
+  }
+
+  void register(final LogAdapter LOG) {
