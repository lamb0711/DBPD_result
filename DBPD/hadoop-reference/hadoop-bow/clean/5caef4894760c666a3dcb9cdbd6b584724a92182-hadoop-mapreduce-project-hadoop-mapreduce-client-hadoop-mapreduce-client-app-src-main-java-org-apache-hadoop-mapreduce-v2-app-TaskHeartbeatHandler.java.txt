MAPREDUCE-4817. Hardcoded task ping timeout kills tasks localizing large amounts of data (tgraves)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1414873 13f79535-47bb-0310-9956-ffa450edef68

-    private long lastPing;
-    public synchronized void setLastPing(long time) {
-      lastPing = time;
-    }
-    
-      lastPing = time;
-    
-    public synchronized long getLastPing() {
-      return lastPing;
-    }
-    
+
-  private static final int PING_TIMEOUT = 5 * 60 * 1000;
-  public void pinged(TaskAttemptId attemptID) {
-    //only put for the registered attempts
-      //TODO throw an exception if the task isn't registered.
-      ReportTime time = runningAttempts.get(attemptID);
-      if(time != null) {
-        time.setLastPing(clock.getTime());
-      }
-    }
-          boolean pingTimedOut =
-              (currentTime > (entry.getValue().getLastPing() + PING_TIMEOUT));
-              
-          if(taskTimedOut || pingTimedOut) {
+           
+          if(taskTimedOut) {
