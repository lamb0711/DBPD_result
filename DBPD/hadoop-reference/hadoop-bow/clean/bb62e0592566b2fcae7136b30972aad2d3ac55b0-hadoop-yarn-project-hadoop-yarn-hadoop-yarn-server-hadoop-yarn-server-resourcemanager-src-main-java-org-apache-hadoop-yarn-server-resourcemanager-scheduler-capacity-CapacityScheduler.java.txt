YARN-4390. Do surgical preemption based on reserved container in CapacityScheduler. Contributed by Wangda Tan

-import org.apache.hadoop.yarn.api.records.ContainerExitStatus;
-    for (RMContainer rmContainer : node.getRunningContainers()) {
+    for (RMContainer rmContainer : node.getCopiedListOfRunningContainers()) {
-    List<RMContainer> runningContainers = node.getRunningContainers();
+    List<RMContainer> runningContainers = node.getCopiedListOfRunningContainers();
+
+  @Lock(Lock.NoLock.class)
+  public List<FiCaSchedulerNode> getAllNodes() {
+    return nodeTracker.getAllNodes();
+  }
