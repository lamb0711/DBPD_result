HDDS-158. DatanodeStateMachine endPoint task throws NullPointerException. Contributed by Nanda Kumar.

+import com.google.protobuf.Descriptors;
-      requestBuilder.setField(
-          SCMHeartbeatRequestProto.getDescriptor().findFieldByName(
-              report.getDescriptorForType().getName()), report);
+      String reportName = report.getDescriptorForType().getFullName();
+      for (Descriptors.FieldDescriptor descriptor :
+          SCMHeartbeatRequestProto.getDescriptor().getFields()) {
+        String heartbeatFieldName = descriptor.getMessageType().getFullName();
+        if (heartbeatFieldName.equals(reportName)) {
+          requestBuilder.setField(descriptor, report);
+        }
+      }
