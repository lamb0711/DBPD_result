YARN-571. Remove user from ContainerLaunchContext. Contributed by Omkar Vinit Joshi.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1485928 13f79535-47bb-0310-9956-ffa450edef68

+import static org.mockito.Mockito.mock;
+import static org.mockito.Mockito.when;
+
+import java.io.IOException;
-import org.apache.hadoop.yarn.api.records.Resource;
+import org.apache.hadoop.yarn.api.records.ContainerToken;
-import static org.mockito.Mockito.*;
-      ApplicationId appId, int uniqId) {
+      ApplicationId appId, int uniqId) throws IOException{
-    launchContext.setUser(user);
+    ContainerToken containerToken =
+        BuilderUtils.newContainerToken(id, "127.0.0.1", 1234, user,
+          BuilderUtils.newResource(1024, 1),
+          System.currentTimeMillis() + 10000, 123, "password".getBytes());
+    when(mockContainer.getContainerToken()).thenReturn(containerToken);
