HDFS-6708. StorageType should be encoded in the block token. Contributed by Ewan Higgs

-              internalBlock, EnumSet.of(mode));
+              internalBlock, EnumSet.of(mode), b.getStorageTypes());
-            b.getBlock(), EnumSet.of(mode)));
+            b.getBlock(), EnumSet.of(mode), b.getStorageTypes()));
-    }    
+    }
