Merge trunk into HDFS-3077 branch.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-3077@1377092 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.hdfs.security.token.delegation.DelegationTokenIdentifier;
-    final Token<DelegationTokenIdentifier> token =
-      dfs.getDelegationToken("JobTracker");
+    final Token<?>[] tokens = dfs.addDelegationTokens("JobTracker", null);
-          token.renew(config);
-          token.cancel(config);
+          for (Token<?> token : tokens) {
+            token.renew(config);
+            token.cancel(config);
+          }
