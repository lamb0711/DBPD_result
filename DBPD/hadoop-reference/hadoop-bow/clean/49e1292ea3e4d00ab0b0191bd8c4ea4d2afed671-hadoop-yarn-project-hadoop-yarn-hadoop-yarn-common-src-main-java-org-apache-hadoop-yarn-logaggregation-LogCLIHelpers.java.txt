YARN-9524.  Fixed TestAHSWebService and TestLogsCLI unit tests.
            Contributed by Prabhu Joseph

+
+
+      boolean scanOldPath = LogAggregationUtils.isOlderPathEnabled(conf);
+      if (scanOldPath) {
+        Path olderAppPath = LogAggregationUtils.getOlderRemoteAppLogDir(appId,
+            bestGuess, remoteRootLogDir, suffix);
+        if (fc.util().exists(olderAppPath)) {
+          return bestGuess;
+        }
+      }
+
+
+        if (scanOldPath) {
+          toMatch = LogAggregationUtils.getOlderRemoteAppLogDir(appId, "*",
+              remoteRootLogDir, suffix);
+          try {
+            matching = fc.util().globStatus(toMatch);
+            if (matching != null && matching.length == 1) {
+              //fetch the user from the old path /app-logs/user[/suffix]/app_id
+              Path parent = matching[0].getPath().getParent();
+              //skip the suffix too
+              if (suffix != null && !StringUtils.isEmpty(suffix)) {
+                parent = parent.getParent();
+              }
+              return parent.getName();
+            }
+          } catch (IOException e) {
+            // Ignore IOException from accessing older app log dir
+          }
+        }
-      //fetch the user from the full path /app-logs/user[/suffix]/app_id
+      //fetch the user from the full path /app-logs/user[/suffix]/bucket/app_id
+      //skip the bucket
+      parent = parent.getParent();
