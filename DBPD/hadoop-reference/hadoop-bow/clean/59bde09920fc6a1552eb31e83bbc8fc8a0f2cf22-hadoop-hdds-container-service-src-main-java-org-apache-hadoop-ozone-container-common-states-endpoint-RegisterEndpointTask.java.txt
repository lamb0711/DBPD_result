HDDS-3. Send NodeReport and ContainerReport when datanodes register. Contributed by Bharat Viswanadham.

-import org.apache.hadoop.hdds.scm.ScmConfigKeys;
+    .StorageContainerDatanodeProtocolProtos.SCMNodeReport;
+import org.apache.hadoop.hdds.protocol.proto
+    .StorageContainerDatanodeProtocolProtos.ContainerReportsRequestProto;
+import org.apache.hadoop.hdds.protocol.proto
+import org.apache.hadoop.ozone.container.ozoneimpl.OzoneContainer;
+  private final OzoneContainer datanodeContainerManager;
+   * @param ozoneContainer - container
-      Configuration conf) {
+      Configuration conf, OzoneContainer ozoneContainer) {
+    this.datanodeContainerManager = ozoneContainer;
+      ContainerReportsRequestProto contianerReport = datanodeContainerManager
+          .getContainerReport();
+      SCMNodeReport nodeReport = datanodeContainerManager.getNodeReport();
-          .register(datanodeDetails.getProtoBufMessage());
+          .register(datanodeDetails.getProtoBufMessage(), nodeReport,
+              contianerReport);
+    private OzoneContainer container;
+    /**
+     * Sets the ozonecontainer.
+     * @param ozoneContainer
+     * @return Builder
+     */
+    public Builder setOzoneContainer(OzoneContainer ozoneContainer) {
+      this.container = ozoneContainer;
+      return this;
+    }
+
+
+      if (container == null) {
+        LOG.error("Container is not specified");
+        throw new IllegalArgumentException("Container is not specified to " +
+            "constrict RegisterEndpoint task");
+      }
+
-          .endPointStateMachine, this.conf);
+          .endPointStateMachine, this.conf, this.container);
