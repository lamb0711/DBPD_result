YARN-6866. Minor clean-up and fixes in anticipation of YARN-2915 merge with trunk. (Botong Huang via Subru).

(cherry picked from commit 40453879ec860819b080ccc82454480a436c0adc)

-import java.security.PrivilegedExceptionAction;
-import org.apache.hadoop.yarn.client.ClientRMProxy;
+import org.apache.hadoop.yarn.server.federation.failover.FederationProxyProviderUtil;
-      clientRMProxy =
-          user.doAs(new PrivilegedExceptionAction<ApplicationClientProtocol>() {
-            @Override
-            public ApplicationClientProtocol run() throws Exception {
-              return ClientRMProxy.createRMProxy(getConf(),
-                  ApplicationClientProtocol.class);
-            }
-          });
+      clientRMProxy = FederationProxyProviderUtil.createRMProxy(getConf(),
+          ApplicationClientProtocol.class, subClusterId, user);
