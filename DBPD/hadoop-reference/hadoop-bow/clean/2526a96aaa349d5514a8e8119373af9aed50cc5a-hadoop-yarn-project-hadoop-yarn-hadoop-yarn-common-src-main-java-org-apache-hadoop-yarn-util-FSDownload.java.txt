YARN-108. FSDownload can create cache directories with the wrong permissions (Jason Lowe via bobby)


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1386838 13f79535-47bb-0310-9956-ffa450edef68

+  private void createDir(Path path, FsPermission perm) throws IOException {
+    files.mkdir(path, perm, false);
+    if (!perm.equals(files.getUMask().applyUMask(perm))) {
+      files.setPermission(path, perm);
+    }
+  }
+
-    files.mkdir(destDirPath, cachePerms, false);
+    createDir(destDirPath, cachePerms);
-    files.mkdir(dst_work, cachePerms, false);
+    createDir(dst_work, cachePerms);
