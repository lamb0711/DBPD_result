HDFS-6934. Move checksum computation off the hot path when writing to RAM disk. Contributed by Chris Nauroth.

+   * StorageType of replica on DataNode.
+   */
+  private StorageType storageType;
+
+  /**
+  public BlockReaderFactory setStorageType(StorageType storageType) {
+    this.storageType = storageType;
+    return this;
+  }
+
-          datanode, startOffset, length);
+          datanode, startOffset, length, storageType);
+        setStorageType(storageType).
