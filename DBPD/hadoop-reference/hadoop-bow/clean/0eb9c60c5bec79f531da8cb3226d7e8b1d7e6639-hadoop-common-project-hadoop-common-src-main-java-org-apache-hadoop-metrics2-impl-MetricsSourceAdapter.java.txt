HADOOP-12482. Race condition in JMX cache update. (Tony Wu via lei)

+  private boolean lastRecsCleared;
+    // Initialize to true so we always trigger update MBeanInfo cache the first
+    // time calling updateJmxCache
+    this.lastRecsCleared = true;
-        if (lastRecs == null) {
+        // lastRecs might have been set to an object already by another thread.
+        // Track the fact that lastRecs has been reset once to make sure refresh
+        // is correctly triggered.
+        if (lastRecsCleared) {
+          lastRecsCleared = false;
+      lastRecsCleared = true;
