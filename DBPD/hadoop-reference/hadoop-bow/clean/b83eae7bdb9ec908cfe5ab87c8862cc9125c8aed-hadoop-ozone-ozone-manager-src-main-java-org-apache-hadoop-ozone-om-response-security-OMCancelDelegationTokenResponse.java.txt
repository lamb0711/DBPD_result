HDDS-1974. Implement OM CancelDelegationToken request to use Cache and DoubleBuffer. (#1308)


+import org.apache.hadoop.utils.db.Table;
+import javax.annotation.Nonnull;
+import javax.annotation.Nullable;
- * Handle response for DelegationToken request.
+ * Handle response for CancelDelegationToken request.
-public class OMDelegationTokenResponse extends OMClientResponse {
+public class OMCancelDelegationTokenResponse extends OMClientResponse {
-  private long renewTime;
-  public OMDelegationTokenResponse(OzoneTokenIdentifier ozoneTokenIdentifier,
-      long renewTime, OMResponse omResponse) {
+
+  public OMCancelDelegationTokenResponse(
+      @Nullable OzoneTokenIdentifier ozoneTokenIdentifier,
+      @Nonnull OMResponse omResponse) {
-    this.renewTime = renewTime;
-
+    Table table = omMetadataManager.getDelegationTokenTable();
-      omMetadataManager.getDelegationTokenTable().putWithBatch(batchOperation,
-          ozoneTokenIdentifier, renewTime);
+      table.deleteWithBatch(batchOperation, ozoneTokenIdentifier);
