HDDS-844. Add logic for pipeline teardown after timeout. Contributed by Lokesh Jain.

-import org.apache.hadoop.hdds.protocol.proto
-    .StorageContainerDatanodeProtocolProtos.PipelineAction;
-import org.apache.hadoop.hdds.scm.server.SCMDatanodeHeartbeatDispatcher
-    .PipelineActionsFromDatanode;
+import org.apache.hadoop.conf.Configuration;
+import org.apache.hadoop.hdds.conf.OzoneConfiguration;
+import org.apache.hadoop.hdds.protocol.proto.StorageContainerDatanodeProtocolProtos.PipelineAction;
+import org.apache.hadoop.hdds.scm.server.SCMDatanodeHeartbeatDispatcher.PipelineActionsFromDatanode;
-public class PipelineActionHandler implements
-    EventHandler<PipelineActionsFromDatanode> {
+public class PipelineActionHandler
+    implements EventHandler<PipelineActionsFromDatanode> {
-  public static final Logger LOG = LoggerFactory.getLogger(
-      PipelineActionHandler.class);
+  public static final Logger LOG =
+      LoggerFactory.getLogger(PipelineActionHandler.class);
+  private final Configuration ozoneConf;
-  public PipelineActionHandler(PipelineManager pipelineManager) {
+  public PipelineActionHandler(PipelineManager pipelineManager,
+      OzoneConfiguration conf) {
+    this.ozoneConf = conf;
-          pipelineManager.finalizePipeline(pipelineID);
+          Pipeline pipeline = pipelineManager.getPipeline(pipelineID);
+          RatisPipelineUtils
+              .finalizeAndDestroyPipeline(pipelineManager, pipeline, ozoneConf,
+                  true);
