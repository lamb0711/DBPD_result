HDDS-211. Add a create container Lock. Contributed by Bharat Viswanadham

+import org.apache.hadoop.util.AutoCloseableLock;
+import java.util.concurrent.locks.ReentrantLock;
+  private final AutoCloseableLock handlerLock;
+    // this handler lock is used for synchronizing createContainer Requests,
+    // so using a fair lock here.
+    handlerLock = new AutoCloseableLock(new ReentrantLock(true));
-
-      newContainer.create(volumeSet, volumeChoosingPolicy, scmID);
-      containerSet.addContainer(newContainer);
+      handlerLock.acquire();
+      if (containerSet.getContainer(containerID) == null) {
+        newContainer.create(volumeSet, volumeChoosingPolicy, scmID);
+        containerSet.addContainer(newContainer);
+      } else {
+        throw new StorageContainerException("Container already exists with " +
+            "container Id " + containerID, ContainerProtos.Result
+            .CONTAINER_EXISTS);
+      }
+    } finally {
+      handlerLock.release();
