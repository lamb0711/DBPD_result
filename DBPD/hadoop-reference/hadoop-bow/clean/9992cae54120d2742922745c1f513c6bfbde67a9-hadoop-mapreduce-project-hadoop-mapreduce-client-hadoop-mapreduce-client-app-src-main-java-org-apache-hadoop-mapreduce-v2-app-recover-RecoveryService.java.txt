Reverting the previous trunk merge since it added other unintended changes in addition


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1177127 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.api.records.ApplicationAttemptId;
+import org.apache.hadoop.yarn.api.records.ApplicationId;
-  private final ApplicationAttemptId applicationAttemptId;
+  private final ApplicationId appID;
+  private final int startCount;
-  public RecoveryService(ApplicationAttemptId applicationAttemptId, 
-      Clock clock) {
+  public RecoveryService(ApplicationId appID, Clock clock, int startCount) {
-    this.applicationAttemptId = applicationAttemptId;
+    this.appID = appID;
+    this.startCount = startCount;
-    String jobName = 
-        TypeConverter.fromYarn(applicationAttemptId.getApplicationId()).toString();
+    String jobName = TypeConverter.fromYarn(appID).toString();
-    //read the previous history file
-        histDirPath, jobName, (applicationAttemptId.getAttemptId() - 1)));          
+        histDirPath, jobName, startCount - 1));          //read the previous history file
