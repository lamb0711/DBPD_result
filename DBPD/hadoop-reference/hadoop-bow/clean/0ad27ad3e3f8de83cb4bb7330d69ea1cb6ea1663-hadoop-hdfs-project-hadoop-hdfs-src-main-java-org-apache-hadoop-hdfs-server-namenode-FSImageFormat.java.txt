HDFS-4707. Add snapshot methods to FilterFileSystem and fix findbugs warnings.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1469119 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Map.Entry;
-        for (Snapshot ss : snapshotDirMap.keySet()) {
-          List<INodeDirectory> snapshotSubDirs = snapshotDirMap.get(ss);
-          for (INodeDirectory subDir : snapshotSubDirs) {
+        for (Entry<Snapshot, List<INodeDirectory>> e : snapshotDirMap.entrySet()) {
+          for (INodeDirectory subDir : e.getValue()) {
-            saveImage(currentDirName, subDir, out, ss, toSave);
+            saveImage(currentDirName, subDir, out, e.getKey(), toSave);
