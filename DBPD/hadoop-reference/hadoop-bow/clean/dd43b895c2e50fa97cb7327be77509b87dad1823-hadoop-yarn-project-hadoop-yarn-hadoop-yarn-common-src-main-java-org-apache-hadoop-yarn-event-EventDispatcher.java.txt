YARN-6202. Configuration item Dispatcher.DISPATCHER_EXIT_ON_ERROR_KEY is disregarded
(Contributed by Yufei Gu via Daniel Templeton)

+import com.google.common.annotations.VisibleForTesting;
-import org.apache.hadoop.conf.Configuration;
-  private boolean shouldExitOnError = false;
+  private boolean shouldExitOnError = true;
-  protected void serviceInit(Configuration conf) throws Exception {
-    this.shouldExitOnError =
-        conf.getBoolean(Dispatcher.DISPATCHER_EXIT_ON_ERROR_KEY,
-            Dispatcher.DEFAULT_DISPATCHER_EXIT_ON_ERROR);
-    super.serviceInit(conf);
-  }
-
-  @Override
+
+  @VisibleForTesting
+  public void disableExitOnError() {
+    shouldExitOnError = false;
+  }
