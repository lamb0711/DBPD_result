YARN=5526. DrainDispacher#serviceStop blocked if setDrainEventsOnStop invoked (sandflee via Varun Saxena)

-        while (!drained && eventHandlingThread != null
+        while (!isDrained() && eventHandlingThread != null
+
+  protected boolean isDrained() {
+    return drained;
+  }
