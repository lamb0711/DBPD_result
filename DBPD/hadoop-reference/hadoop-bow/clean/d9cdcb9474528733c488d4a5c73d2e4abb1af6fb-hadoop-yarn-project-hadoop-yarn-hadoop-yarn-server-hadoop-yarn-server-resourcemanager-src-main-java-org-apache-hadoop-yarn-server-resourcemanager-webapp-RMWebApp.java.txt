YARN-1658. Modified web-app framework to let standby RMs redirect web-service calls to the active RM. Contributed by Cindy Li.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1577408 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.webapp.Dispatcher;
+import com.sun.jersey.guice.spi.container.servlet.GuiceContainer;
+
+    bind(RMWebApp.class).toInstance(this);
+
-  public void configureServlets() {
-    setup();
-
-    serve("/").with(RMDispatcher.class);
-    serve("/__stop").with(Dispatcher.class);
-
-    for (String path : super.getServePathSpecs()) {
-      serve(path).with(RMDispatcher.class);
-    }
-
-    configureRSServlets();
+  protected Class<? extends GuiceContainer> getWebAppFilterClass() {
+    return RMWebAppFilter.class;
