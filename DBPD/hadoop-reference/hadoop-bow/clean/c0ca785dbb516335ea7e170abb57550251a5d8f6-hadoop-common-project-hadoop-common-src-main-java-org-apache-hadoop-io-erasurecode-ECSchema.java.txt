HDFS-11652. Improve ECSchema and ErasureCodingPolicy toString, hashCode, equals.

+import org.apache.commons.lang.builder.EqualsBuilder;
+import org.apache.commons.lang.builder.HashCodeBuilder;
-    if (this == o) {
+    if (o == null) {
+      return false;
+    }
+    if (o == this) {
-    if (o == null || getClass() != o.getClass()) {
+    if (o.getClass() != getClass()) {
-
-    ECSchema ecSchema = (ECSchema) o;
-
-    if (numDataUnits != ecSchema.numDataUnits) {
-      return false;
-    }
-    if (numParityUnits != ecSchema.numParityUnits) {
-      return false;
-    }
-    if (!codecName.equals(ecSchema.codecName)) {
-      return false;
-    }
-    return extraOptions.equals(ecSchema.extraOptions);
+    ECSchema rhs = (ECSchema) o;
+    return new EqualsBuilder()
+        .append(codecName, rhs.codecName)
+        .append(extraOptions, rhs.extraOptions)
+        .append(numDataUnits, rhs.numDataUnits)
+        .append(numParityUnits, rhs.numParityUnits)
+        .isEquals();
-    int result = codecName.hashCode();
-    result = 31 * result + extraOptions.hashCode();
-    result = 31 * result + numDataUnits;
-    result = 31 * result + numParityUnits;
-
-    return result;
+    return new HashCodeBuilder(1273158869, 1555022101)
+        .append(codecName)
+        .append(extraOptions)
+        .append(numDataUnits)
+        .append(numParityUnits)
+        .toHashCode();
