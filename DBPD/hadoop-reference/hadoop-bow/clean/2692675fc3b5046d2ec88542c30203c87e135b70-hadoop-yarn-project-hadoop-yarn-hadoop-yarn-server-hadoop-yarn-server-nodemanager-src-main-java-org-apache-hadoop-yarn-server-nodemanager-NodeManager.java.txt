YARN-684. ContainerManager.startContainer should use ContainerTokenIdentifier instead of the entire Container. Contributed by Vinod Kumar Vavilapalli.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1488085 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.security.UserGroupInformation;
-import org.apache.hadoop.yarn.service.Service;
-    Service webServer = createWebServer(context, containerManager
+    WebServer webServer = createWebServer(context, containerManager
+    ((NMContext) context).setWebServer(webServer);
+    private WebServer webServer;
+    public int getHttpPort() {
+      return this.webServer.getPort();
+    }
+
+    @Override
+
+    public void setWebServer(WebServer webServer) {
+      this.webServer = webServer;
+    }
-  private void reboot() {
-    LOG.info("Rebooting the node manager.");
-    NodeManager nodeManager = createNewNodeManager();
-    nodeManager.initAndStartNodeManager(this.getConfig(), true);
-  }
-  
