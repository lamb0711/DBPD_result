HADOOP-12760. sun.misc.Cleaner has moved to a new location in OpenJDK 9. Contributed by Akira Ajisaka.

+import org.apache.hadoop.util.CleanerUtil;
-    
+
-      if (buffer instanceof sun.nio.ch.DirectBuffer) {
-        sun.misc.Cleaner cleaner =
-            ((sun.nio.ch.DirectBuffer)buffer).cleaner();
-        cleaner.clean();
+      if (CleanerUtil.UNMAP_SUPPORTED) {
+        try {
+          CleanerUtil.getCleaner().freeBuffer(buffer);
+        } catch (IOException e) {
+          LOG.info("Failed to unmap the buffer", e);
+        }
+      } else {
+        LOG.trace(CleanerUtil.UNMAP_NOT_SUPPORTED_REASON);
