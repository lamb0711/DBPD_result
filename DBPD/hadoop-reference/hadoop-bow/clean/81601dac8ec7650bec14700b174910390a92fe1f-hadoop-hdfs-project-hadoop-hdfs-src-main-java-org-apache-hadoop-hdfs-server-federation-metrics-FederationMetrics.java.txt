HDFS-12273. Federation UI. Contributed by Inigo Goiri.

(cherry picked from commit adbb2e00c7b85524fd43bd68895d49814c16680a)

+import java.net.InetAddress;
+import java.net.InetSocketAddress;
+import java.net.UnknownHostException;
+import java.util.concurrent.TimeUnit;
+  /** Prevent holding the page from load too long. */
+  private static final long TIME_OUT = TimeUnit.SECONDS.toMillis(1);
+
-      DatanodeInfo[] live =
-          rpcServer.getDatanodeReport(DatanodeReportType.LIVE);
+      DatanodeInfo[] live = rpcServer.getDatanodeReport(
+          DatanodeReportType.LIVE, TIME_OUT);
-    // TODO this should be the HTTP address
+    InetSocketAddress address = this.router.getHttpServerAddress();
+    if (address != null) {
+      try {
+        String hostname = InetAddress.getLocalHost().getHostName();
+        int port = address.getPort();
+        return hostname + ":" + port;
+      } catch (UnknownHostException ignored) { }
+    }
+  @Override
+  public String getRouterStatus() {
+    return "RUNNING";
+  }
+
