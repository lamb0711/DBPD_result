HADOOP-6939. Inconsistent lock ordering in AbstractDelegationTokenSecretManager. Contributed by Todd Lipcon.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1042047 13f79535-47bb-0310-9956-ffa450edef68

-  public synchronized void startThreads() throws IOException {
+  public void startThreads() throws IOException {
-    running = true;
-    tokenRemoverThread = new Daemon(new ExpiredTokenRemover());
-    tokenRemoverThread.start();
+    synchronized (this) {
+      running = true;
+      tokenRemoverThread = new Daemon(new ExpiredTokenRemover());
+      tokenRemoverThread.start();
+    }
