HADOOP-6889. Make RPC to have an option to timeout. Contributed by Hairong Kuang.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@982681 13f79535-47bb-0310-9956-ffa450edef68

-                             Configuration conf, SocketFactory factory)
+                             Configuration conf, SocketFactory factory,
+                             int rpcTimeout)
-                                        addr, ticket, conf, factory);
+                                        addr, ticket, conf, factory,
+                                        rpcTimeout);
-  public Object getProxy(Class protocol, long clientVersion,
+  public Object getProxy(Class<?> protocol, long clientVersion,
-                         Configuration conf, SocketFactory factory)
+                         Configuration conf, SocketFactory factory,
+                         int rpcTimeout)
-       new Invoker(protocol, addr, ticket, conf, factory));
+       new Invoker(protocol, addr, ticket, conf, factory, rpcTimeout));
-                   SocketFactory factory) throws IOException {
-      this.tx = new ClientTransceiver(addr, ticket, conf, factory);
+                   SocketFactory factory,
+                   int rpcTimeout) throws IOException {
+      this.tx = new ClientTransceiver(addr, ticket, conf, factory, rpcTimeout);
-    public TunnelResponder(Class iface, Object impl) {
+    public TunnelResponder(Class<?> iface, Object impl) {
-  public RPC.Server getServer(Class iface, Object impl, String bindAddress,
+  public RPC.Server getServer(Class<?> iface, Object impl, String bindAddress,
