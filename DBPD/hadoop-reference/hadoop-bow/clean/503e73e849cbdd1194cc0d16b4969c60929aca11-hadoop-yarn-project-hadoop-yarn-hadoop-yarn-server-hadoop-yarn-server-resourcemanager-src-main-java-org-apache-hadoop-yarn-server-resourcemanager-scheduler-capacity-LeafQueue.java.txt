YARN-5545. Fix issues related to Max App in capacity scheduler. Contributed by Bibin A Chundatt

-        int maxSystemApps = conf.getMaximumSystemApplications();
-        maxApplications =
-            (int) (maxSystemApps * queueCapacities.getAbsoluteCapacity());
+        int maxGlobalPerQueueApps = conf.getGlobalMaximumApplicationsPerQueue();
+        if (maxGlobalPerQueueApps > 0) {
+          maxApplications = maxGlobalPerQueueApps;
+        } else {
+          int maxSystemApps = conf.getMaximumSystemApplications();
+          maxApplications =
+              (int) (maxSystemApps * queueCapacities.getAbsoluteCapacity());
+        }
