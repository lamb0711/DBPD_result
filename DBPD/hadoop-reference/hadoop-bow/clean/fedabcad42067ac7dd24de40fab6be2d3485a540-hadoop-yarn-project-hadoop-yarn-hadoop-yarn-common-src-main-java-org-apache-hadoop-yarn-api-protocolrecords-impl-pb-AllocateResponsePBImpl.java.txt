YARN-6168. Restarted RM may not inform AM about all existing containers. Contributed by Chandni Singh

+  private List<Container> containersFromPreviousAttempts = null;
+    if (this.containersFromPreviousAttempts != null) {
+      builder.clearContainersFromPreviousAttempts();
+      Iterable<ContainerProto> iterable =
+          getContainerProtoIterable(this.containersFromPreviousAttempts);
+      builder.addAllContainersFromPreviousAttempts(iterable);
+    }
+  @Override
+  public synchronized List<Container> getContainersFromPreviousAttempts() {
+    initContainersFromPreviousAttemptsList();
+    return this.containersFromPreviousAttempts;
+  }
+
+  @Override
+  public synchronized void setContainersFromPreviousAttempts(
+      final List<Container> containers) {
+    if (containers == null) {
+      return;
+    }
+    initContainersFromPreviousAttemptsList();
+    containersFromPreviousAttempts.clear();
+    containersFromPreviousAttempts.addAll(containers);
+  }
+
+  private synchronized void initContainersFromPreviousAttemptsList() {
+    if (this.containersFromPreviousAttempts != null) {
+      return;
+    }
+    AllocateResponseProtoOrBuilder p = viaProto ? proto : builder;
+    List<ContainerProto> list = p.getContainersFromPreviousAttemptsList();
+    containersFromPreviousAttempts = new ArrayList<>();
+
+    for (ContainerProto c : list) {
+      containersFromPreviousAttempts.add(convertFromProtoFormat(c));
+    }
+  }
+
