MAPREDUCE-6455. Unable to use surefire > 2.18. (Charlie Helin via kasha)

-      if (val == null) {
-        val = getRaw(var);
+      if (val == null || val.isEmpty()) {
+        String raw = getRaw(var);
+        if (raw != null) {
+          // if System.getProperty(var) returns an empty string, retain this
+          // value instead of return null
+          val = raw;
+        }
