HADOOP-16247. NPE in FsUrlConnection. Contributed by Karthik Palanisamy.

+import java.net.URI;
-      FileSystem fs = FileSystem.get(url.toURI(), conf);
-      is = fs.open(new Path(url.toURI()));
+      URI uri = url.toURI();
+      FileSystem fs = FileSystem.get(uri, conf);
+      // URI#getPath returns null value if path contains relative path
+      // i.e file:root/dir1/file1
+      // So path can not be constructed from URI.
+      // We can only use schema specific part in URI.
+      // Uri#isOpaque return true if path is relative.
+      if(uri.isOpaque() && uri.getScheme().equals("file")) {
+        is = fs.open(new Path(uri.getSchemeSpecificPart()));
+      } else {
+        is = fs.open(new Path(uri));
+      }
