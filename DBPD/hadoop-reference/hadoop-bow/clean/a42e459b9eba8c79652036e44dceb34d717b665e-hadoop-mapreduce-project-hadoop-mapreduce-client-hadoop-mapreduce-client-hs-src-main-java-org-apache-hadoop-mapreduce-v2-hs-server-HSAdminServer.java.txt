MAPREDUCE-5356. Ability to refresh aggregated log retention period and check interval. Contributed by Ashwin Shankar


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1506226 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.yarn.logaggregation.AggregatedLogDeletionService;
+  private AggregatedLogDeletionService aggLogDelService = null;
-
-  public HSAdminServer() {
+  
+  public HSAdminServer(AggregatedLogDeletionService aggLogDelService) {
+    this.aggLogDelService = aggLogDelService;
+
+ 
+  @Override
+  public void refreshLogRetentionSettings() throws IOException {
+    UserGroupInformation user = checkAcls("refreshLogRetentionSettings");
+    aggLogDelService.refreshLogRetentionSettings();
+
+    HSAuditLogger.logSuccess(user.getShortUserName(),
+        "refreshLogRetentionSettings", "HSAdminServer");
+  }
