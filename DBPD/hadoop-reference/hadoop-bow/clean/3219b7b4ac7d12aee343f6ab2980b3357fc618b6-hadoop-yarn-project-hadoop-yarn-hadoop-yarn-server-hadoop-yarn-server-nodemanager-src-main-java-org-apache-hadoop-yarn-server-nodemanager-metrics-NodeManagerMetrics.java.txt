YARN-4597. Introduce ContainerScheduler and a SCHEDULED state to NodeManager container lifecycle. (asuresh)

+import org.apache.hadoop.metrics2.lib.MutableGaugeLong;
+import org.apache.hadoop.yarn.server.nodemanager.containermanager.container
+    .Container;
+
+  @Metric("Memory used by Opportunistic Containers in MB")
+      MutableGaugeLong opportMemoryUsed;
+  @Metric("# of Virtual Cores used by opportunistic containers")
+      MutableGaugeInt opportCoresUsed;
+  @Metric("# of running opportunistic containers")
+      MutableGaugeInt runningOpportContainers;
+
+  public long getOpportMemoryUsed() {
+    return opportMemoryUsed.value();
+  }
+
+  public int getOpportCoresUsed() {
+    return opportCoresUsed.value();
+  }
+
+  public int getRunningOpportContainers() {
+    return runningOpportContainers.value();
+  }
+
+  public void opportunisticContainerCompleted(Container container) {
+    opportMemoryUsed.decr(container.getResource().getMemorySize());
+    opportCoresUsed.decr(container.getResource().getVirtualCores());
+    runningOpportContainers.decr();
+  }
+
+  public void opportunisticContainerStarted(Container container) {
+    opportMemoryUsed.incr(container.getResource().getMemorySize());
+    opportCoresUsed.incr(container.getResource().getVirtualCores());
+    runningOpportContainers.incr();
+  }
+
