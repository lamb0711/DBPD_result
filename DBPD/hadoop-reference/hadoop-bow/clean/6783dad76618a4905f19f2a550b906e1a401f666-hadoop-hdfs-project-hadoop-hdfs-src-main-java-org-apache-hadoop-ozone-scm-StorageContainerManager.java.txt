HDFS-11468. Ozone: SCM: Add Node Metrics for SCM. Contributed by Yiqun Lin.

+import org.apache.hadoop.ozone.scm.container.placement.metrics.ContainerStat;
+import org.apache.hadoop.ozone.scm.container.placement.metrics.SCMMetrics;
+  /** SCM metrics. */
+  private static SCMMetrics metrics;
+
+    StorageContainerManager.initMetrics();
+    metrics.unRegister();
+    // TODO: We should update the logic once incremental container report
+    // type is supported.
+    if (reports.getType() ==
+        ContainerReportsRequestProto.reportType.fullReport) {
+      ContainerStat stat = new ContainerStat();
+      for (StorageContainerDatanodeProtocolProtos.ContainerInfo info : reports
+          .getReportsList()) {
+        stat.add(new ContainerStat(info.getSize(), info.getUsed(),
+            info.getKeyCount(), info.getReadBytes(), info.getWriteBytes(),
+            info.getReadCount(), info.getWriteCount()));
+      }
+
+      // update container metrics
+      metrics.setLastContainerReportSize(stat.getSize().get());
+      metrics.setLastContainerReportUsed(stat.getUsed().get());
+      metrics.setLastContainerReportKeyCount(stat.getKeyCount().get());
+      metrics.setLastContainerReportReadBytes(stat.getReadBytes().get());
+      metrics.setLastContainerReportWriteBytes(stat.getWriteBytes().get());
+      metrics.setLastContainerReportReadCount(stat.getReadCount().get());
+      metrics.setLastContainerReportWriteCount(stat.getWriteCount().get());
+    }
+  /**
+   * Initialize SCM metrics.
+   */
+  public static void initMetrics() {
+    metrics = SCMMetrics.create();
+  }
+
+  /**
+   * Return SCM metrics instance.
+   */
+  public static SCMMetrics getMetrics() {
+    return metrics == null ? SCMMetrics.create() : metrics;
+  }
