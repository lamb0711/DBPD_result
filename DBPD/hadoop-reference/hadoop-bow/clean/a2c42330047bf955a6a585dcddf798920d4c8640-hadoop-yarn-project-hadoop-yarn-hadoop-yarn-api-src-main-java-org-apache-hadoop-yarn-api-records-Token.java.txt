YARN-717. Put object creation factories for Token in the class itself and remove useless derivations for specific tokens. Contributed by Jian He.
MAPREDUCE-5289. Updated MR App to use Token directly after YARN-717. Contributed by Jian He.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1488616 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.yarn.util.Records;
-public interface Token {
+public abstract class Token {
+
+  @Private
+  public static Token newInstance(byte[] identifier, String kind, byte[] password,
+      String service) {
+    Token token = Records.newRecord(Token.class);
+    token.setIdentifier(ByteBuffer.wrap(identifier));
+    token.setKind(kind);
+    token.setPassword(ByteBuffer.wrap(password));
+    token.setService(service);
+    return token;
+  }
+
-  ByteBuffer getIdentifier();
+  public abstract ByteBuffer getIdentifier();
-  void setIdentifier(ByteBuffer identifier);
+  public abstract void setIdentifier(ByteBuffer identifier);
-  ByteBuffer getPassword();
+  public abstract ByteBuffer getPassword();
-  void setPassword(ByteBuffer password);
+  public abstract void setPassword(ByteBuffer password);
-  String getKind();
+  public abstract String getKind();
-  void setKind(String kind);
+  public abstract void setKind(String kind);
-  String getService();
+  public abstract String getService();
-  void setService(String service);
+  public abstract void setService(String service);
