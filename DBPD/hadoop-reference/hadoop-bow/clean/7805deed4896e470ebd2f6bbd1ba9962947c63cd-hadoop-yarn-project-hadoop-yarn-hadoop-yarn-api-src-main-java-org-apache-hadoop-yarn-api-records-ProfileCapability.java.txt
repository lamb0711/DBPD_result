YARN-5588. [YARN-3926] Add support for resource profiles in distributed shell. Contributed by Varun Vasudev.

+    Resource none = Resource.newInstance(0, 0);
-
-    if (resourceProfilesMap.containsKey(capability.getProfileName())) {
-      resource = Resource
-          .newInstance(resourceProfilesMap.get(capability.getProfileName()));
+    String profileName = capability.getProfileName();
+    if (profileName.isEmpty()) {
+      profileName = DEFAULT_PROFILE;
+    }
+    if (resourceProfilesMap.containsKey(profileName)) {
+      resource = Resource.newInstance(resourceProfilesMap.get(profileName));
-    if(capability.getProfileCapabilityOverride()!= null) {
+    if (capability.getProfileCapabilityOverride() != null &&
+        !capability.getProfileCapabilityOverride().equals(none)) {
-        if (entry.getValue() != null && entry.getValue().getValue() != 0) {
+        if (entry.getValue() != null && entry.getValue().getValue() >= 0) {
