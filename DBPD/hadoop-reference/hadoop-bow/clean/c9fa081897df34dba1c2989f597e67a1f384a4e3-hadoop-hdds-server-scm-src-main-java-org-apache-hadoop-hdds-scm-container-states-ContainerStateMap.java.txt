HDDS-462. Optimize ContainerStateMap#getMatchingContainerIDs in SCM. Contributed by Nanda kumar.

+import java.util.concurrent.ConcurrentHashMap;
+  private final Map<ContainerQueryKey, NavigableSet<ContainerID>> resultCache;
+    resultCache = new ConcurrentHashMap<>();
+
+      // Flush the cache of this container type, will be added later when
+      // get container queries are executed.
+      flushCache(info);
+    return getContainerInfo(ContainerID.valueof(containerID));
+  }
+
+  /**
+   * Returns the latest state of Container from SCM's Container State Map.
+   *
+   * @param containerID - ContainerID
+   * @return container info, if found.
+   */
+  public ContainerInfo getContainerInfo(ContainerID containerID) {
-      ContainerID id = new ContainerID(containerID);
-      return containerMap.get(id);
+      return containerMap.get(containerID);
+      flushCache(info, currentInfo);
+        // Just flush both old and new data sets from the result cache.
+        ContainerInfo newInfo = new ContainerInfo(info);
+        newInfo.setState(newState);
+        flushCache(newInfo, info);
+
+      ContainerQueryKey queryKey =
+          new ContainerQueryKey(state, owner, factor, type);
+      if(resultCache.containsKey(queryKey)){
+        return resultCache.get(queryKey);
+      }
+      resultCache.put(queryKey, currentSet);
+
+  private void flushCache(ContainerInfo... containerInfos) {
+    for (ContainerInfo containerInfo : containerInfos) {
+      ContainerQueryKey key = new ContainerQueryKey(containerInfo.getState(),
+          containerInfo.getOwner(), containerInfo.getReplicationFactor(),
+          containerInfo.getReplicationType());
+      resultCache.remove(key);
+    }
+  }
+
