HDFS-5053. NameNode should invoke DataNode APIs to coordinate caching. (Andrew Wang)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1523145 13f79535-47bb-0310-9956-ffa450edef68

-    namesystem.getBlockManager().processCacheReport(nodeReg, poolId, blist);
+    if (blockStateChangeLog.isDebugEnabled()) {
+      blockStateChangeLog.debug("*BLOCK* NameNode.cacheReport: "
+           + "from " + nodeReg + " " + blist.getNumberOfBlocks()
+           + " blocks");
+    }
+
+    namesystem.getCacheReplicationManager()
+        .processCacheReport(nodeReg, poolId, blist);
