HDFS-4518. Finer grained metrics for HDFS capacity. Contributed by Suresh Srinivas.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1451348 13f79535-47bb-0310-9956-ffa450edef68

-  /**
-   * Total raw bytes including non-dfs used space.
-   */
+  @Metric({"CapacityTotal",
+      "Total raw capacity of data nodes in bytes"})
-  @Metric
+  @Metric({"CapacityTotalGB",
+      "Total raw capacity of data nodes in GB"})
-  /**
-   * Total used space by data nodes
-   */
+  @Metric({"CapacityUsed",
+      "Total used capacity across all data nodes in bytes"})
-  @Metric
+  @Metric({"CapacityUsedGB",
+      "Total used capacity across all data nodes in GB"})
-  @Override
+  @Override // FSNamesystemMBean
+  @Metric({"CapacityRemaining", "Remaining capacity in bytes"})
-  @Metric
+  @Metric({"CapacityRemainingGB", "Remaining capacity in GB"})
+  @Metric({"CapacityUsedNonDFS",
+      "Total space used by data nodes for non DFS purposes in bytes"})
+  public long getCapacityUsedNonDFS() {
+    return datanodeStatistics.getCapacityUsedNonDFS();
+  }
+
