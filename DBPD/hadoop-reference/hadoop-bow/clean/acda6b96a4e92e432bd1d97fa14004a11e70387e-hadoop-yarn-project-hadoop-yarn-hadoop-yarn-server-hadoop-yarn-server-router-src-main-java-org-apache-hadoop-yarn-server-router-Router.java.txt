YARN-5412. Create a proxy chain for ResourceManager REST API in the Router. (Contributed by Giovanni Matteo Fumarola via curino)

(cherry picked from commit b6240b92abf453affc5fd64e1eedf2d29842aa75)

+import org.apache.hadoop.classification.InterfaceAudience.Private;
+import org.apache.hadoop.yarn.server.resourcemanager.webapp.RMWebAppUtil;
+import org.apache.hadoop.yarn.server.router.webapp.RouterWebApp;
+import org.apache.hadoop.yarn.webapp.WebApp;
+import org.apache.hadoop.yarn.webapp.WebApps;
+import org.apache.hadoop.yarn.webapp.WebApps.Builder;
+import org.apache.hadoop.yarn.webapp.util.WebAppUtils;
+import com.google.common.annotations.VisibleForTesting;
+
+  private WebApp webApp;
+  @VisibleForTesting
+  protected String webAppAddress;
+    // WebService
+    webAppAddress = WebAppUtils.getWebAppBindURL(this.conf,
+        YarnConfiguration.ROUTER_BIND_HOST,
+        WebAppUtils.getRouterWebAppURLWithoutScheme(this.conf));
+    startWepApp();
+    if (webApp != null) {
+      webApp.stop();
+    }
+  @Private
+  public WebApp getWebapp() {
+    return this.webApp;
+  }
+
+  @VisibleForTesting
+  public void startWepApp() {
+
+    RMWebAppUtil.setupSecurityAndFilters(conf, null);
+
+    Builder<Object> builder =
+        WebApps.$for("cluster", null, null, "ws").with(conf).at(webAppAddress);
+    webApp = builder.start(new RouterWebApp(this));
+  }
+
