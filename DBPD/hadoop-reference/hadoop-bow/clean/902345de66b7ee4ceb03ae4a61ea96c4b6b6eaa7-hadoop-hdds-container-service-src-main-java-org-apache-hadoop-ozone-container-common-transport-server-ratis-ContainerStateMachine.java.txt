HDDS-728. Datanodes should use different ContainerStateMachine for each pipeline.
Contributed by Mukul Kumar Singh.

-import java.util.concurrent.Executors;
+  private final RaftGroupId gid;
-  public ContainerStateMachine(ContainerDispatcher dispatcher,
+  public ContainerStateMachine(RaftGroupId gid, ContainerDispatcher dispatcher,
-      int  numOfExecutors) {
+      List<ExecutorService> executors) {
+    this.gid = gid;
+    metrics = CSMMetrics.create(gid);
+    this.numExecutors = executors.size();
+    this.executors = executors.toArray(new ExecutorService[numExecutors]);
-    metrics = CSMMetrics.create();
-    this.numExecutors = numOfExecutors;
-    executors = new ExecutorService[numExecutors];
-    for (int i = 0; i < numExecutors; i++) {
-      executors[i] = Executors.newSingleThreadExecutor();
-    }
-
+    Preconditions.checkArgument(request.getRaftGroupId().equals(gid));
-    for (int i = 0; i < numExecutors; i++) {
-      executors[i].shutdown();
-    }
