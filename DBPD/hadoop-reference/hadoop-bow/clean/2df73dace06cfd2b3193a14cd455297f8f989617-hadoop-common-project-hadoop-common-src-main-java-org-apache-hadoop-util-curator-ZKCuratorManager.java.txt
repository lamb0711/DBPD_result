YARN-8405. RM zk-state-store.parent-path ACLs has been changed since HADOOP-14773. Contributed by  Íñigo Goiri.

+    createRootDirRecursively(path, null);
+  }
+
+  /**
+   * Utility function to ensure that the configured base znode exists.
+   * This recursively creates the znode as well as all of its parents.
+   * @param path Path of the znode to create.
+   * @param zkAcl ACLs for ZooKeeper.
+   * @throws Exception If it cannot create the file.
+   */
+  public void createRootDirRecursively(String path, List<ACL> zkAcl)
+      throws Exception {
-      create(sb.toString());
+      create(sb.toString(), zkAcl);
