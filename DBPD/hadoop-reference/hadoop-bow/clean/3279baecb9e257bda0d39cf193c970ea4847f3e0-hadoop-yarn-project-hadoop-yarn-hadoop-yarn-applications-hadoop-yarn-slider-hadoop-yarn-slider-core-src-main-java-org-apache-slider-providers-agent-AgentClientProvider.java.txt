YARN-5538. Apply SLIDER-875 to yarn-native-services. Contributed by Billie Rinaldi

-    Metainfo metaInfo = getMetainfo(fs, appDef);
-
+      try {
+        // Validate the app definition
+        appDef = SliderUtils.getApplicationDefinitionPath(instanceDefinition
+            .getAppConfOperations(), name);
+      } catch (BadConfigException bce) {
+        throw new BadConfigException("Application definition must be provided. " + bce.getMessage());
+      }
+      Metainfo metaInfo = getMetainfo(fs, appDef);
+
-        Component componentDef = metaInfo.getApplicationComponent(name);
+        Component componentDef = metaInfo.getApplicationComponent(
+            AgentUtils.getMetainfoComponentName(name,
+                instanceDefinition.getAppConfOperations()));
-    }
-    // fileSystem may be null for tests
-    if (metaInfo != null) {
-      for (String name : names) {
-        Component componentDef = metaInfo.getApplicationComponent(name);
-        if (componentDef == null) {
-          throw new BadConfigException(
-              "Component %s is not a member of application.", name);
-        }
+      // fileSystem may be null for tests
+      if (metaInfo != null) {
+        Component componentDef = metaInfo.getApplicationComponent(
+            AgentUtils.getMetainfoComponentName(name,
+                instanceDefinition.getAppConfOperations()));
