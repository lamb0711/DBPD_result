YARN-851. Share NMTokens using NMTokenCache (api-based) between AMRMClient and NMClient instead of memory based approach which is used currently. Contributed by Omkar Vinit Joshi.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1495247 13f79535-47bb-0310-9956-ffa450edef68

-  public NMClientAsyncImpl(CallbackHandler callbackHandler,
-      ConcurrentMap<String, Token> nmTokens) {
-    this(NMClientAsync.class.getName(), callbackHandler, nmTokens);
+  public NMClientAsyncImpl(CallbackHandler callbackHandler) {
+    this(NMClientAsync.class.getName(), callbackHandler);
-  public NMClientAsyncImpl(String name, CallbackHandler callbackHandler,
-      ConcurrentMap<String, Token> nmTokens) {
-    this(name, new NMClientImpl(nmTokens), callbackHandler);
+  public NMClientAsyncImpl(String name, CallbackHandler callbackHandler) {
+    this(name, new NMClientImpl(), callbackHandler);
