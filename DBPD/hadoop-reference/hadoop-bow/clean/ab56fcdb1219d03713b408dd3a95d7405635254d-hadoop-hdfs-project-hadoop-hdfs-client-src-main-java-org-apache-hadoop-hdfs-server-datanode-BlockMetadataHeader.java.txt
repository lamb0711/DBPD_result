Merge remote-tracking branch 'apache/trunk' into HDFS-7285

-import org.apache.commons.logging.Log;
-import org.apache.commons.logging.LogFactory;
-import org.apache.hadoop.hdfs.DFSUtil;
-import org.apache.hadoop.hdfs.HdfsConfiguration;
+import org.slf4j.Logger;
+import org.slf4j.LoggerFactory;
-  private static final Log LOG = LogFactory.getLog(BlockMetadataHeader.class);
+  private static final Logger LOG = LoggerFactory.getLogger(
+      BlockMetadataHeader.class);
-  private static final HdfsConfiguration conf = new HdfsConfiguration();
-    
-  public static DataChecksum readDataChecksum(File metaFile) throws IOException {
+  public static DataChecksum readDataChecksum(File metaFile, int bufSize)
+      throws IOException {
-        new FileInputStream(metaFile), DFSUtil.getIoFileBufferSize(conf)));
+        new FileInputStream(metaFile), bufSize));
