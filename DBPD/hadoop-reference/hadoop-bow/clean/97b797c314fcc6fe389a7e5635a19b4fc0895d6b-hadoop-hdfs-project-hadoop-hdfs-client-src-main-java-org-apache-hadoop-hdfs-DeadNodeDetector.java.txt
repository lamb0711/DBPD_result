HDFS-15149. TestDeadNodeDetection test cases time-out. Contributed by Lisheng Sun.

-    while (true) {
+    while (!Thread.currentThread().isInterrupted()) {
+          LOG.debug("Got interrupted while DeadNodeDetector is error.", e);
+          Thread.currentThread().interrupt();
-  static void disabledProbeThreadForTest() {
-    disabledProbeThreadForTest = true;
+  static void setDisabledProbeThreadForTest(
+      boolean disabledProbeThreadForTest) {
+    DeadNodeDetector.disabledProbeThreadForTest = disabledProbeThreadForTest;
-
+      LOG.debug("Got interrupted while DeadNodeDetector is idle.", e);
+      Thread.currentThread().interrupt();
+      LOG.debug("Got interrupted while probe is scheduling.", e);
+      return;
-      while (true) {
+      while (!Thread.currentThread().isInterrupted()) {
