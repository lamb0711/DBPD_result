HDDS-896. Handle over replicated containers in SCM.
Contributed by Nandakumar.

+import java.util.Optional;
-    .StorageContainerDatanodeProtocolProtos.SCMCommandProto.Type;
-import org.apache.hadoop.hdds.protocol.proto
-    if (cmd.getType().equals(Type.closeContainerCommand)) {
-      // We will be removing CommandStatus completely.
-      // As a first step, removed it for CloseContainerCommand.
-      return;
+    final Optional<CommandStatusBuilder> cmdStatusBuilder;
+    switch (cmd.getType()) {
+    case replicateContainerCommand:
+      cmdStatusBuilder = Optional.of(CommandStatusBuilder.newBuilder());
+      break;
+    case deleteBlocksCommand:
+      cmdStatusBuilder = Optional.of(
+          DeleteBlockCommandStatusBuilder.newBuilder());
+      break;
+    case deleteContainerCommand:
+      cmdStatusBuilder = Optional.of(CommandStatusBuilder.newBuilder());
+      break;
+    default:
+      cmdStatusBuilder = Optional.empty();
-    CommandStatusBuilder statusBuilder;
-    if (cmd.getType() == Type.deleteBlocksCommand) {
-      statusBuilder = new DeleteBlockCommandStatusBuilder();
-    } else {
-      statusBuilder = CommandStatusBuilder.newBuilder();
-    }
-    this.addCmdStatus(cmd.getId(),
-        statusBuilder.setCmdId(cmd.getId())
+    cmdStatusBuilder.ifPresent(statusBuilder ->
+        addCmdStatus(cmd.getId(), statusBuilder
+            .setCmdId(cmd.getId())
-            .build());
+            .build()));
