HDFS-12273. Federation UI. Contributed by Inigo Goiri.

(cherry picked from commit adbb2e00c7b85524fd43bd68895d49814c16680a)

+    return getDatanodeReport(type, 0);
+  }
+
+  /**
+   * Get the datanode report with a timeout.
+   * @param type Type of the datanode.
+   * @param timeOutMs Time out for the reply in milliseconds.
+   * @return List of datanodes.
+   * @throws IOException If it cannot get the report.
+   */
+  public DatanodeInfo[] getDatanodeReport(
+      DatanodeReportType type, long timeOutMs) throws IOException {
+    checkOperation(OperationCategory.UNCHECKED);
-        rpcClient.invokeConcurrent(nss, method, true, false);
+        rpcClient.invokeConcurrent(nss, method, true, false, timeOutMs);
