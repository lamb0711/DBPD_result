HADOOP-12479. ProtocMojo does not log the reason for a protoc compilation failure. Contributed by Chris Nauroth.

-   * 
+   *
+    return this.run(command, output, null);
+  }
+
+  /**
+   * Runs the specified command and saves each line of the command's output to
+   * the given list and each line of the command's stderr to the other list.
+   *
+   * @param command List containing command and all arguments
+   * @param output List in/out parameter to receive command output
+   * @param errors List in/out parameter to receive command stderr
+   * @return int exit code of command
+   */
+  public int run(List<String> command, List<String> output,
+      List<String> errors) {
+      if (errors != null) {
+        errors.addAll(stdErr.getOutput());
+      }
