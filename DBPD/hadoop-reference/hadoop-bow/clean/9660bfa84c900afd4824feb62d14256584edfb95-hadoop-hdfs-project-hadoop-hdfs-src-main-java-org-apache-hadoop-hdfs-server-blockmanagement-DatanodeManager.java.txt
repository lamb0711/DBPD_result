HDFS-5448. Datanode should generate its ID on first registration

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2832@1538496 13f79535-47bb-0310-9956-ffa450edef68

-      // This is a new datanode.
-      if (nodeReg.getDatanodeUuid() == null ||
-          nodeReg.getDatanodeUuid().isEmpty()) {
-        // this data node has never been registered
-        nodeReg.generateNewDatanodeUuid();
-        if (NameNode.stateChangeLog.isDebugEnabled()) {
-          NameNode.stateChangeLog.debug(
-              "BLOCK* NameSystem.registerDatanode: "
-              + "new Datanode UUID " + nodeReg.getDatanodeUuid() + " assigned.");
-        }
-      }
-      
