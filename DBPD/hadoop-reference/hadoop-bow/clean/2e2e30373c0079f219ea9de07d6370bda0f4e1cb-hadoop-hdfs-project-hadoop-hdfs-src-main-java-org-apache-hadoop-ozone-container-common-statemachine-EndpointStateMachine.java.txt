HDFS-12333. Ozone: Extend Datanode web interface with SCM information. Contributed by Elek, Marton.

+import java.time.ZonedDateTime;
-public class EndpointStateMachine implements Closeable {
+public class EndpointStateMachine
+    implements Closeable, EndpointStateMachineMBean {
+  private ZonedDateTime lastSuccessfulHeartbeat;
+  @Override
+  public int getVersionNumber() {
+    if (version != null) {
+      return version.getProtobufMessage().getSoftwareVersion();
+    } else {
+      return -1;
+    }
+  }
+
+  @Override
+  public String getAddressString() {
+    return getAddress().toString();
+  }
+
+
+  public long getLastSuccessfulHeartbeat() {
+    return lastSuccessfulHeartbeat == null ?
+        0 :
+        lastSuccessfulHeartbeat.toEpochSecond();
+  }
+
+  public void setLastSuccessfulHeartbeat(
+      ZonedDateTime lastSuccessfulHeartbeat) {
+    this.lastSuccessfulHeartbeat = lastSuccessfulHeartbeat;
+  }
