Revert commit of HDFS-2979.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1295435 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.HashSet;
-import java.util.Set;
-import org.apache.hadoop.hdfs.protocol.HdfsConstants;
-  
-  /**
-   * Get a URI for each configured nameservice. If a nameservice is
-   * HA-enabled, then the logical URI of the nameservice is returned. If the
-   * nameservice is not HA-enabled, then a URI corresponding to an RPC address
-   * of the single NN for that nameservice is returned, preferring the service
-   * RPC address over the client RPC address.
-   * 
-   * @param conf configuration
-   * @return a collection of all configured NN URIs, preferring service
-   *         addresses
-   */
-  public static Collection<URI> getNsServiceRpcUris(Configuration conf) {
-    return getNameServiceUris(conf,
-        DFSConfigKeys.DFS_NAMENODE_SERVICE_RPC_ADDRESS_KEY,
-        DFSConfigKeys.DFS_NAMENODE_RPC_ADDRESS_KEY);
-  }
-
-  /**
-   * Get a URI for each configured nameservice. If a nameservice is
-   * HA-enabled, then the logical URI of the nameservice is returned. If the
-   * nameservice is not HA-enabled, then a URI corresponding to the address of
-   * the single NN for that nameservice is returned.
-   * 
-   * @param conf configuration
-   * @param keys configuration keys to try in order to get the URI for non-HA
-   *        nameservices
-   * @return a collection of all configured NN URIs
-   */
-  public static Collection<URI> getNameServiceUris(Configuration conf,
-      String... keys) {
-    Set<URI> ret = new HashSet<URI>();
-    for (String nsId : getNameServiceIds(conf)) {
-      if (HAUtil.isHAEnabled(conf, nsId)) {
-        // Add the logical URI of the nameservice.
-        try {
-          ret.add(new URI(HdfsConstants.HDFS_URI_SCHEME + "://" + nsId));
-        } catch (URISyntaxException ue) {
-          throw new IllegalArgumentException(ue);
-        }
-      } else {
-        // Add the URI corresponding to the address of the NN.
-        for (String key : keys) {
-          String addr = conf.get(concatSuffixes(key, nsId));
-          if (addr != null) {
-            ret.add(createUri(HdfsConstants.HDFS_URI_SCHEME,
-                NetUtils.createSocketAddr(addr)));
-            break;
-          }
-        }
-      }
-    }
-    // Add the generic configuration keys.
-    for (String key : keys) {
-      String addr = conf.get(key);
-      if (addr != null) {
-        ret.add(createUri("hdfs", NetUtils.createSocketAddr(addr)));
-        break;
-      }
-    }
-    return ret;
-  }
