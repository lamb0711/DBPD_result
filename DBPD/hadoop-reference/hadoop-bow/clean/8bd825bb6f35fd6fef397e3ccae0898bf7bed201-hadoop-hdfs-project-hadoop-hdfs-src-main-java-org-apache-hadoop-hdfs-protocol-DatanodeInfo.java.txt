HDFS-3164. Move DatanodeInfo#hostName to DatanodeID. Contributed by Eli Collins


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1307890 13f79535-47bb-0310-9956-ffa450edef68

-
-  // The FQDN of the IP associated with the Datanode's hostname
-  protected String hostName = null;
-  public DatanodeInfo(DatanodeID nodeID, String location, String hostName) {
+  public DatanodeInfo(DatanodeID nodeID, String location) {
-    this.hostName = hostName;
-  public DatanodeInfo(DatanodeID nodeID, String location, String hostName,
+  public DatanodeInfo(DatanodeID nodeID, String location,
-    this(nodeID.getName(), nodeID.getStorageID(), nodeID.getInfoPort(), nodeID
+    this(nodeID.getName(), nodeID.getHostName(), nodeID.getStorageID(), nodeID.getInfoPort(), nodeID
-        xceiverCount, location, hostName, adminState);
+        xceiverCount, location, adminState);
-  public DatanodeInfo(final String name, final String storageID,
-      final int infoPort, final int ipcPort,
+  public DatanodeInfo(final String name, final String hostName,
+      final String storageID, final int infoPort, final int ipcPort,
-      final String networkLocation, final String hostName,
-      final AdminStates adminState) {
-    super(name, storageID, infoPort, ipcPort);
-
+      final String networkLocation, final AdminStates adminState) {
+    super(name, hostName, storageID, infoPort, ipcPort);
-    this.hostName = hostName;
-  
-  public String getHostName() {
-    return (hostName == null || hostName.length()==0) ? getHost() : hostName;
-  }
-  
-  public void setHostName(String host) {
-    hostName = host;
-  }
-  
+    
-    Text.writeString(out, hostName == null? "": hostName);
-    this.hostName = Text.readString(in);
