YARN-9440. Improve diagnostics for scheduler and app activities. Contributed by Tao Yang.

+import com.google.common.base.Strings;
+import org.apache.hadoop.yarn.api.records.NodeId;
-        this.nodeId = nodeAllocations.get(0).getNodeId();
+        NodeId rootNodeId = nodeAllocations.get(0).getNodeId();
+        if (rootNodeId != null && !Strings
+            .isNullOrEmpty(rootNodeId.getHost())) {
+          this.nodeId = nodeAllocations.get(0).getNodeId().toString();
+        }
