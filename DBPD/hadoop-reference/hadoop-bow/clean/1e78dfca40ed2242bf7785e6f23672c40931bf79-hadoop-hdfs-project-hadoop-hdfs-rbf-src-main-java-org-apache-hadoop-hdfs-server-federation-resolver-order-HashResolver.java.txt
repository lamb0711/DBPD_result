HDFS-13990. Synchronization Issue With HashResolver. Contributed by BELUGA BEHR.

-    int hash = namespaces.hashCode();
-    ConsistentHashRing resolver = this.hashResolverMap.get(hash);
-    if (resolver == null) {
-      resolver = new ConsistentHashRing(namespaces);
-      this.hashResolverMap.put(hash, resolver);
-    }
-    return resolver;
+    final int hash = namespaces.hashCode();
+    return this.hashResolverMap.computeIfAbsent(hash,
+        k -> new ConsistentHashRing(namespaces));
