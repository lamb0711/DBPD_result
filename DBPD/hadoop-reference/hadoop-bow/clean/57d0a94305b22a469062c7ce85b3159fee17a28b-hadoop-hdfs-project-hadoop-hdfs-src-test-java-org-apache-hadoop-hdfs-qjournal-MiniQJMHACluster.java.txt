HDFS-6054. MiniQJMHACluster should not use static port to avoid binding failure in unit test. (Yongjun Zhang)

-  private int basePort = 10000;
+    int basePort = 10000;
+
+        LOG.info("Set MiniQJMHACluster basePort to " + basePort);
-        initHAConf(journalURI, builder.conf, builder.numNNs);
+        initHAConf(journalURI, builder.conf, builder.numNNs, basePort);
-        ++retryCount;
+        if (cluster != null) {
+          cluster.shutdown(true);
+          cluster = null;
+        }
+        ++retryCount;
-  private Configuration initHAConf(URI journalURI, Configuration conf, int numNNs) {
+  private Configuration initHAConf(URI journalURI, Configuration conf,
+      int numNNs, int basePort) {
