HDFS-3641. Move server Util time methods to common and use now instead of System#currentTimeMillis. Contributed by Eli Collins


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1360858 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.util.Time;
-      long lastPacket = System.currentTimeMillis();
+      long lastPacket = Time.now();
-            long now = System.currentTimeMillis();
+            long now = Time.now();
-              now = System.currentTimeMillis();
+              now = Time.now();
-          lastPacket = System.currentTimeMillis();
+          lastPacket = Time.now();
-        long startTime = System.currentTimeMillis();
+        long startTime = Time.now();
-        long localstart = System.currentTimeMillis();
+        long localstart = Time.now();
-                if (System.currentTimeMillis() - localstart > 5000) {
+                if (Time.now() - localstart > 5000) {
-                      + (System.currentTimeMillis() - localstart) / 1000
+                      + (Time.now() - localstart) / 1000
-    long localstart = System.currentTimeMillis();
+    long localstart = Time.now();
-               localstart + dfsClient.hdfsTimeout < System.currentTimeMillis())) {
+               localstart + dfsClient.hdfsTimeout < Time.now())) {
-          if (System.currentTimeMillis() - localstart > 5000) {
+          if (Time.now() - localstart > 5000) {
