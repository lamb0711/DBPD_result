HDDS-1044. Client doesn't propogate correct error code to client on out of disk space. Contributed by Yiqun Lin.

-        createContainer(msg);
+        responseProto = createContainer(msg);
+        if (responseProto.getResult() != Result.SUCCESS) {
+          StorageContainerException sce = new StorageContainerException(
+              "ContainerID " + containerID + " creation failed",
+              responseProto.getResult());
+          audit(action, eventType, params, AuditEventStatus.FAILURE, sce);
+          return ContainerUtils.logAndReturnError(LOG, sce, msg);
+        }
+
+   * @return ContainerCommandResponseProto container command response.
-  private void createContainer(ContainerCommandRequestProto containerRequest) {
+  @VisibleForTesting
+  ContainerCommandResponseProto createContainer(
+      ContainerCommandRequestProto containerRequest) {
-    handler.handle(requestBuilder.build(), null, null);
+    return handler.handle(requestBuilder.build(), null, null);
