HDFS-10983. OIV tool should make an EC file explicit. Contributed by Manoj Govindassamy.

-import org.apache.hadoop.hdfs.protocol.proto.HdfsProtos.BlockTypeProto;
+import org.apache.hadoop.hdfs.server.namenode.INodeFile;
+  public static final String INODE_SECTION_EC_POLICY_ID =
+      "erasureCodingPolicyId";
-    o(SECTION_REPLICATION, f.getReplication())
-        .o(INODE_SECTION_MTIME, f.getModificationTime())
+    if (f.hasErasureCodingPolicyID()) {
+      o(SECTION_REPLICATION, INodeFile.DEFAULT_REPL_FOR_STRIPED_BLOCKS);
+    } else {
+      o(SECTION_REPLICATION, f.getReplication());
+    }
+    o(INODE_SECTION_MTIME, f.getModificationTime())
-    if (f.getBlockType() != BlockTypeProto.CONTIGUOUS) {
+    if (f.hasErasureCodingPolicyID()) {
+      o(INODE_SECTION_EC_POLICY_ID, f.getErasureCodingPolicyID());
