YARN-4438. Implement RM leader election with curator. Contributed by Jian He

+  private boolean curatorEnabled = false;
+      curatorEnabled = conf.getBoolean(YarnConfiguration.CURATOR_LEADER_ELECTOR,
+          YarnConfiguration.DEFAULT_CURATOR_LEADER_ELECTOR_ENABLED);
+      if (curatorEnabled) {
+        LeaderElectorService elector = new LeaderElectorService(rmContext);
+        addService(elector);
+        rmContext.setLeaderElectorService(elector);
+      }
-        adminService.resetLeaderElection();
+        if (curatorEnabled) {
+          rmContext.getLeaderElectorService().reJoinElection();
+        } else {
+          adminService.resetLeaderElection();
+        }
-  protected void createAndInitActiveServices() throws Exception {
+  protected void createAndInitActiveServices() {
-  void stopActiveServices() throws Exception {
+  void stopActiveServices() {
-  void reinitialize(boolean initialize) throws Exception {
+  void reinitialize(boolean initialize) {
-
-      transitionToStandby(true);
+      transitionToStandby(false);
+
