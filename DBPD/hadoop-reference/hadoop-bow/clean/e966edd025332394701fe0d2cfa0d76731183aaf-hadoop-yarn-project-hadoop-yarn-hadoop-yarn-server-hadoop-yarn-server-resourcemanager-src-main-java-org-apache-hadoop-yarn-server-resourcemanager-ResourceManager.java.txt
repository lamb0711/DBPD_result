YARN-9644. First RMContext object is always leaked during switch over. Contributed by Bibin A Chundatt.

+    private RMNMInfo rmnmInfo;
-      new RMNMInfo(rmContext, scheduler);
+      rmnmInfo = new RMNMInfo(rmContext, scheduler);
+      // unregister rmnmInfo bean
+      if (rmnmInfo != null) {
+        rmnmInfo.unregister();
+      }
-    Builder<ApplicationMasterService> builder = 
+    Builder<ResourceManager> builder =
-            .$for("cluster", ApplicationMasterService.class, masterService,
+            .$for("cluster", ResourceManager.class, this,
