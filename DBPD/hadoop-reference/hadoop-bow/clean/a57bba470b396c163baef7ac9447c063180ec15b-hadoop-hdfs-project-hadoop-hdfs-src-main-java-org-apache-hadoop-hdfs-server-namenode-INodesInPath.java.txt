Merge branch 'trunk' into HADOOP-12756

+  private final String pathname;
+
+    this.pathname = DFSUtil.byteArray2PathString(path);
-    return DFSUtil.byteArray2PathString(path);
+    return pathname;
-    Preconditions.checkState(!isSnapshot());
+    Preconditions.checkState(isDotSnapshotDir() || !isSnapshot());
