HDDS-893. pipeline status is ALLOCATED in scmcli listPipelines command. Contributed by Lokesh Jain.

-  public HddsProtos.Pipeline getProtobufMessage() {
+  public HddsProtos.Pipeline getProtobufMessage()
+      throws UnknownPipelineStateException {
+        .setState(PipelineState.getProtobuf(state))
-  public static Pipeline getFromProtobuf(HddsProtos.Pipeline pipeline) {
+  public static Pipeline getFromProtobuf(HddsProtos.Pipeline pipeline)
+      throws UnknownPipelineStateException {
+    Preconditions.checkNotNull(pipeline, "Pipeline is null");
-        .setState(PipelineState.ALLOCATED)
+        .setState(PipelineState.fromProtobuf(pipeline.getState()))
-    ALLOCATED, OPEN, CLOSED
+    ALLOCATED, OPEN, CLOSED;
+
+    public static PipelineState fromProtobuf(HddsProtos.PipelineState state)
+        throws UnknownPipelineStateException {
+      Preconditions.checkNotNull(state, "Pipeline state is null");
+      switch (state) {
+      case PIPELINE_ALLOCATED: return ALLOCATED;
+      case PIPELINE_OPEN: return OPEN;
+      case PIPELINE_CLOSED: return CLOSED;
+      default:
+        throw new UnknownPipelineStateException(
+            "Pipeline state: " + state + " is not recognized.");
+      }
+    }
+
+    public static HddsProtos.PipelineState getProtobuf(PipelineState state)
+        throws UnknownPipelineStateException {
+      Preconditions.checkNotNull(state, "Pipeline state is null");
+      switch (state) {
+      case ALLOCATED: return HddsProtos.PipelineState.PIPELINE_ALLOCATED;
+      case OPEN: return HddsProtos.PipelineState.PIPELINE_OPEN;
+      case CLOSED: return HddsProtos.PipelineState.PIPELINE_CLOSED;
+      default:
+        throw new UnknownPipelineStateException(
+            "Pipeline state: " + state + " is not recognized.");
+      }
+    }
