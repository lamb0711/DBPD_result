Revert "YARN-5609. Expose upgrade and restart API in ContainerManagementProtocol. Contributed by Arun Suresh"

This reverts commit fe644bafe7b4fb5b07f7cf08a7d7044abbf55027.

-import org.apache.hadoop.yarn.api.protocolrecords.CommitResponse;
-import org.apache.hadoop.yarn.api.protocolrecords.ReInitializeContainerRequest;
-import org.apache.hadoop.yarn.api.protocolrecords.ReInitializeContainerResponse;
-import org.apache.hadoop.yarn.api.protocolrecords.RestartContainerResponse;
-import org.apache.hadoop.yarn.api.protocolrecords.RollbackResponse;
-    Container container = preReInitializeOrLocalizeCheck(containerId,
+    Container container = preUpgradeOrLocalizeCheck(containerId,
-  @Override
-  public ReInitializeContainerResponse reInitializeContainer(
-      ReInitializeContainerRequest request) throws YarnException, IOException {
-    reInitializeContainer(request.getContainerId(),
-        request.getContainerLaunchContext(), request.getAutoCommit());
-    return ReInitializeContainerResponse.newInstance();
-  }
-
-  @Override
-  public RestartContainerResponse restartContainer(ContainerId containerId)
-      throws YarnException, IOException {
-    reInitializeContainer(containerId, null, true);
-    return RestartContainerResponse.newInstance();
-  }
-
-    Container container = preReInitializeOrLocalizeCheck(containerId,
+    Container container = preUpgradeOrLocalizeCheck(containerId,
-      if (reInitLaunchContext != null) {
-        resourceSet.addResources(reInitLaunchContext.getLocalResources());
-      }
+      resourceSet.addResources(reInitLaunchContext.getLocalResources());
-   * @return Rollback Response.
-  @Override
-  public RollbackResponse rollbackLastReInitialization(ContainerId containerId)
+  public void rollbackReInitialization(ContainerId containerId)
-    Container container = preReInitializeOrLocalizeCheck(containerId,
+    Container container = preUpgradeOrLocalizeCheck(containerId,
-      container.setIsReInitializing(true);
-    return RollbackResponse.newInstance();
-   * @return Commit Response.
-  @Override
-  public CommitResponse commitLastReInitialization(ContainerId containerId)
+  public void commitReInitialization(ContainerId containerId)
-    Container container = preReInitializeOrLocalizeCheck(containerId,
+    Container container = preUpgradeOrLocalizeCheck(containerId,
-    return CommitResponse.newInstance();
-  private Container preReInitializeOrLocalizeCheck(ContainerId containerId,
+  private Container preUpgradeOrLocalizeCheck(ContainerId containerId,
-    UserGroupInformation remoteUgi = getRemoteUgi();
-    NMTokenIdentifier nmTokenIdentifier = selectNMTokenIdentifier(remoteUgi);
-    authorizeUser(remoteUgi, nmTokenIdentifier);
-    if (!nmTokenIdentifier.getApplicationAttemptId().getApplicationId()
-        .equals(containerId.getApplicationAttemptId().getApplicationId())) {
-      throw new YarnException("ApplicationMaster not autorized to perform " +
-          "["+ op + "] on Container [" + containerId + "]!!");
-    }
