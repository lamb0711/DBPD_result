HDDS-2169. Avoid buffer copies while submitting client requests in Ratis. Contributed by Tsz-wo Sze(#1517).

+import org.apache.hadoop.hdds.ratis.ContainerCommandRequestMessage;
-        getContainerCommandRequestProto(request.getMessage().getContent());
+        message2ContainerCommandRequestProto(request.getMessage());
-          .setLogData(request.getMessage().getContent())
+          .setLogData(proto.toByteString())
+  private ContainerCommandRequestProto message2ContainerCommandRequestProto(
+      Message message) throws InvalidProtocolBufferException {
+    return ContainerCommandRequestMessage.toProto(message.getContent(), gid);
+  }
+
-          getContainerCommandRequestProto(request.getContent());
+          message2ContainerCommandRequestProto(request);
