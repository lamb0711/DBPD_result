YARN-1661. Fixed DS ApplicationMaster to write the correct exit log. Contributed by Vinod Kumar Vavilapalli.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1565394 13f79535-47bb-0310-9956-ffa450edef68

-  private volatile boolean success;
-      result = appMaster.run();
-      appMaster.finish();
+      appMaster.run();
+      result = appMaster.finish();
-  public boolean run() throws YarnException, IOException {
+  public void run() throws YarnException, IOException {
-    return success;
-  protected void finish() {
+  @VisibleForTesting
+  protected boolean finish() {
-    success = true;
+    boolean success = true;
+
+    return success;
