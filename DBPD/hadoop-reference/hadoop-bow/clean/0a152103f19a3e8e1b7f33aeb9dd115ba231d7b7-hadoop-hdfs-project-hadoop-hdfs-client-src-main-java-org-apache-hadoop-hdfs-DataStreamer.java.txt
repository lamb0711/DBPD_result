HDFS-3702. Add an option for NOT writing the blocks locally if there is a datanode on the same box as the client. (Contributed by Lei (Eddy) Xu)

+import java.util.EnumSet;
+  private final EnumSet<AddBlockFlag> addBlockFlags;
-                       boolean isAppend, String[] favoredNodes) {
+                       boolean isAppend, String[] favoredNodes,
+                       EnumSet<AddBlockFlag> flags) {
-
+    this.addBlockFlags = flags;
-               ByteArrayManager byteArrayManage, String[] favoredNodes) {
+               ByteArrayManager byteArrayManage, String[] favoredNodes,
+               EnumSet<AddBlockFlag> flags) {
-        byteArrayManage, false, favoredNodes);
+        byteArrayManage, false, favoredNodes, flags);
-        byteArrayManage, true, null);
+        byteArrayManage, true, null, null);
-        stat.getFileId(), favoredNodes);
+        stat.getFileId(), favoredNodes, addBlockFlags);
