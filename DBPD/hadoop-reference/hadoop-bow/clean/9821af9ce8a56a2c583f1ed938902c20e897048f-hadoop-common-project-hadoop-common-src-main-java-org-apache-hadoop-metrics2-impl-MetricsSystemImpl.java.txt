Reverting the previous merge r1416603 which committed some extra changes

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1416712 13f79535-47bb-0310-9956-ffa450edef68

-      publishMetrics(sampleMetrics(), false);
+      publishMetrics(sampleMetrics());
-  
-  /**
-   * Requests an immediate publish of all metrics from sources to sinks.
-   */
-  @Override
-  public void publishMetricsNow() {
-    if (sinks.size() > 0) {
-      publishMetrics(sampleMetrics(), true);
-    }    
-  }
-   * @param immediate  indicates that we should publish metrics immediately
-   *                   instead of using a separate thread.
-  synchronized void publishMetrics(MetricsBuffer buffer, boolean immediate) {
+  synchronized void publishMetrics(MetricsBuffer buffer) {
-      boolean result;
-      if (immediate) {
-        result = sa.putMetricsImmediate(buffer); 
-      } else {
-        result = sa.putMetrics(buffer, logicalTime);
-      }
-      dropped += result ? 0 : 1;
+      dropped += sa.putMetrics(buffer, logicalTime) ? 0 : 1;
