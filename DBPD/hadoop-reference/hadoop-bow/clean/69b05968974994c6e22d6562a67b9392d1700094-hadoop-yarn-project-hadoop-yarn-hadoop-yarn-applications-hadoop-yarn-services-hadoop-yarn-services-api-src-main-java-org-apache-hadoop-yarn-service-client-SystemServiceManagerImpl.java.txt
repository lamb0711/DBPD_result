YARN-8411.  Restart stopped system service during RM start.
            Contributed by Billie Rinaldi

+import org.apache.hadoop.yarn.service.conf.SliderExitCodes;
+import org.apache.hadoop.yarn.service.exceptions.SliderException;
-              ApplicationId applicationId = serviceClient.actionCreate(service);
-              return applicationId;
+              boolean tryStart = true;
+              try {
+                serviceClient.actionBuild(service);
+              } catch (Exception e) {
+                if (e instanceof SliderException && ((SliderException) e)
+                    .getExitCode() == SliderExitCodes.EXIT_INSTANCE_EXISTS) {
+                  LOG.info("Service {} already exists, will attempt to start " +
+                      "service", service.getName());
+                } else {
+                  tryStart = false;
+                  LOG.info("Got exception saving {}, will not attempt to " +
+                      "start service", service.getName(), e);
+                }
+              }
+              if (tryStart) {
+                return serviceClient.actionStartAndGetId(service.getName());
+              } else {
+                return null;
+              }
-      LOG.info("Service {} submitted with Application ID: {}",
-          service.getName(), applicationId);
+      if (applicationId != null) {
+        LOG.info("Service {} submitted with Application ID: {}",
+            service.getName(), applicationId);
+      }
