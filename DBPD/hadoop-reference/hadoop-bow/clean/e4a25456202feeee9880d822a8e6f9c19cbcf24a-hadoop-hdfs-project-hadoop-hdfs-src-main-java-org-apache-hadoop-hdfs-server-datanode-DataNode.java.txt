HDFS-9805. Add server-side configuration for enabling TCP_NODELAY for DataTransferProtocol and default it to true (Gary Helmling via cmccabe)

-import java.nio.channels.SocketChannel;
+import javax.net.SocketFactory;
+  private final SocketFactory socketFactory;
+
+    this.socketFactory = NetUtils.getDefaultSocketFactory(conf);
+    this.socketFactory = NetUtils.getDefaultSocketFactory(conf);
+
-    return (dnConf.socketWriteTimeout > 0) ? 
-           SocketChannel.open().socket() : new Socket();                                   
+    return socketFactory.createSocket();
+        sock.setTcpNoDelay(dnConf.getDataTransferServerTcpNoDelay());
