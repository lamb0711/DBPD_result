HDFS-7535. Utilize Snapshot diff report for distcp. Contributed by Jing Zhao.

+import java.io.IOException;
+import java.util.Random;
+
+import org.apache.hadoop.mapreduce.Cluster;
-import org.apache.hadoop.mapreduce.Cluster;
-import java.io.IOException;
-import java.util.Random;
-
-  private static final Log LOG = LogFactory.getLog(DistCp.class);
+  static final Log LOG = LogFactory.getLog(DistCp.class);
-
+      if (inputOptions.shouldUseDiff()) {
+        if (!DistCpSync.sync(inputOptions, getConf())) {
+          inputOptions.disableUsingDiff();
+        }
+      }
