HDFS-7866. Erasure coding: NameNode manages multiple erasure coding policies. Contributed by Rui Li.

-  public short getFileReplication();
+  short getFileReplication();
-  public boolean isStriped();
+  boolean isStriped();
-  /** @return whether the file is striped (instead of contiguous) */
-  public byte getErasureCodingPolicyID();
+  /** @return the ID of the ErasureCodingPolicy */
+  byte getErasureCodingPolicyID();
-  public long getPreferredBlockSize();
+  long getPreferredBlockSize();
-  public long getHeaderLong();
+  long getHeaderLong();
-  public boolean metadataEquals(INodeFileAttributes other);
+  boolean metadataEquals(INodeFileAttributes other);
-  public byte getLocalStoragePolicyID();
+  byte getLocalStoragePolicyID();
-  public static class SnapshotCopy extends INodeAttributes.SnapshotCopy
+  static class SnapshotCopy extends INodeAttributes.SnapshotCopy
-      return isStriped() ? (byte)1 : (byte)0;
+      if (isStriped()) {
+        return HeaderFormat.getECPolicyID(header);
+      }
+      return -1;
