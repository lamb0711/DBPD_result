YARN-1577. Made UnmanagedAMLauncher do launchAM after the attempt reaches the LAUNCHED state. Contributed by Jian He.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1580164 13f79535-47bb-0310-9956-ffa450edef68

+      // AM container maybe not yet allocated. and also unmangedAM doesn't have
+      // am container.
+      ContainerId amId =
+          masterContainer == null ? null : masterContainer.getId();
-          .valueOf(this.getState().toString()), this.getMasterContainer()
-          .getId());
+          .valueOf(this.getState().toString()), amId);
