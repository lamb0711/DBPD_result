HDDS-1490. Support configurable container placement policy through 'oâ€¦ (#903)


+import org.apache.hadoop.hdds.scm.container.placement.algorithms.ContainerPlacementPolicyFactory;
+import org.apache.hadoop.hdds.scm.net.NetworkTopology;
+import org.apache.hadoop.hdds.scm.net.NetworkTopologyImpl;
-import org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementCapacity;
+   *  Network topology Map.
+   */
+  private NetworkTopology clusterMap;
+
+  /**
-
-    initalizeSystemManagers(conf, configurator);
+    initializeSystemManagers(conf, configurator);
-  private void initalizeSystemManagers(OzoneConfiguration conf,
+  private void initializeSystemManagers(OzoneConfiguration conf,
-    //TODO: support configurable containerPlacement policy
+    clusterMap = new NetworkTopologyImpl(conf);
-        new SCMContainerPlacementCapacity(scmNodeManager, conf);
+        ContainerPlacementPolicyFactory.getPolicy(conf, scmNodeManager,
+            clusterMap, true);
-
