HDFS-14215. RBF: Remove dependency on availability of default namespace. Contributed by Ayush Saxena.

-import org.apache.hadoop.hdfs.server.federation.resolver.FileSubclusterResolver;
-  /** Interface to map global name space to HDFS subcluster name spaces. */
-  private final FileSubclusterResolver subclusterResolver;
-    this.subclusterResolver = this.rpcServer.getSubclusterResolver();
-    // We return the information from the default name space
-    String defaultNsId = subclusterResolver.getDefaultNamespace();
-    return rpcClient.invokeSingle(defaultNsId, method, ExportedBlockKeys.class);
+    return rpcServer.invokeAtAvailableNs(method, ExportedBlockKeys.class);
-    // We return the information from the default name space
-    String defaultNsId = subclusterResolver.getDefaultNamespace();
-    return rpcClient.invokeSingle(defaultNsId, method, long.class);
+    return rpcServer.invokeAtAvailableNs(method, long.class);
-    // We return the information from the default name space
-    String defaultNsId = subclusterResolver.getDefaultNamespace();
-    return rpcClient.invokeSingle(defaultNsId, method, long.class);
+    return rpcServer.invokeAtAvailableNs(method, long.class);
-    // We return the information from the default name space
-    String defaultNsId = subclusterResolver.getDefaultNamespace();
-    return rpcClient.invokeSingle(defaultNsId, method, NamespaceInfo.class);
+    return rpcServer.invokeAtAvailableNs(method, NamespaceInfo.class);
