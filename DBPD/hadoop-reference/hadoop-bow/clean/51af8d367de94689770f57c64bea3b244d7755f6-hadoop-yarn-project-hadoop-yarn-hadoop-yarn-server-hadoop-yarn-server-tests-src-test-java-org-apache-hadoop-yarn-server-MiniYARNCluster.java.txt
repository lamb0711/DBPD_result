YARN-2890. MiniYARNCluster should start the timeline server based on the configuration. Contributed by Mit Desai.

-import org.apache.hadoop.yarn.server.applicationhistoryservice.webapp.AHSWebApp;
-  private boolean enableAHS;
-   * @param enableAHS enable ApplicationHistoryServer or not
-      int numLocalDirs, int numLogDirs, boolean enableAHS) {
+      int numLocalDirs, int numLogDirs) {
-    this.enableAHS = enableAHS;
-   * @param numResourceManagers the number of resource managers in the cluster
-   * @param numNodeManagers the number of node managers in the cluster
-   * @param numLocalDirs the number of nm-local-dirs per nodemanager
-   * @param numLogDirs the number of nm-log-dirs per nodemanager
-   */
-  public MiniYARNCluster(
-      String testName, int numResourceManagers, int numNodeManagers,
-      int numLocalDirs, int numLogDirs) {
-    this(testName, numResourceManagers, numNodeManagers, numLocalDirs,
-        numLogDirs, false);
-  }
-
-  /**
-   * @param testName name of the test
-    if (enableAHS) {
-      addService(new ApplicationHistoryServerWrapper());
+    if(conf.getBoolean(YarnConfiguration.TIMELINE_SERVICE_ENABLED, false)) {
+        addService(new ApplicationHistoryServerWrapper());
