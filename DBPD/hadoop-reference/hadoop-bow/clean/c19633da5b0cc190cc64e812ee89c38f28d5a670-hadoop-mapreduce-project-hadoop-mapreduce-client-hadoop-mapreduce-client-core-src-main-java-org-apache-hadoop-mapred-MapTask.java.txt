Reverting MAPREDUCE-5028 (commit 1457918)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1458433 13f79535-47bb-0310-9956-ffa450edef68

-      // Cast one of the operands to long to ensure large values don't cause int
-      // overflow
-      kvindex = (int) (((long) aligned - METASIZE + kvbuffer.length) % kvbuffer.length) / 4;
+      kvindex =
+        ((aligned - METASIZE + kvbuffer.length) % kvbuffer.length) / 4;
-      // Cast one of the operands to long to ensure large values don't cause int
-      // overflow
-      kvstart = kvend = (int) (((long) aligned - METASIZE + kvbuffer.length) % kvbuffer.length) / 4;
+      kvstart = kvend =
+        ((aligned - METASIZE + kvbuffer.length) % kvbuffer.length) / 4;
-        super.reset(this.buffer, this.start, this.length - this.start);
+        super.reset(this.buffer, this.start, this.length);
