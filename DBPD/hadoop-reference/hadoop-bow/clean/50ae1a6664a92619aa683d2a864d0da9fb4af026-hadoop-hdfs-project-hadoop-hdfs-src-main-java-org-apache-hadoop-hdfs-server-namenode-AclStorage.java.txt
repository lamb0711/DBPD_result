HDFS-7456. De-duplicate AclFeature instances with same AclEntries do reduce memory footprint of NameNode (Contributed by Vinayakumar B)

+import org.apache.hadoop.hdfs.util.ReferenceCountMap;
-final class AclStorage {
+public final class AclStorage {
+
+  private final static ReferenceCountMap<AclFeature> UNIQUE_ACL_FEATURES =
+      new ReferenceCountMap<AclFeature>();
+
+  @VisibleForTesting
+  public static ReferenceCountMap<AclFeature> getUniqueAclFeatures() {
+    return UNIQUE_ACL_FEATURES;
+  }
+
+  /**
+   * Add reference for the said AclFeature
+   * 
+   * @param aclFeature
+   * @return Referenced AclFeature
+   */
+  public static AclFeature addAclFeature(AclFeature aclFeature) {
+    return UNIQUE_ACL_FEATURES.put(aclFeature);
+  }
+
+  /**
+   * Remove reference to the AclFeature
+   * 
+   * @param aclFeature
+   */
+  public static void removeAclFeature(AclFeature aclFeature) {
+    UNIQUE_ACL_FEATURES.remove(aclFeature);
+  }
