YARN-9644. First RMContext object is always leaked during switch over. Contributed by Bibin A Chundatt.

+import javax.management.ObjectName;
+  private ObjectName mbeanObjectName;
-        bean = new StandardMBean(this,RMNMInfoBeans.class);
-        MBeans.register("ResourceManager", "RMNMInfo", bean);
+      bean = new StandardMBean(this, RMNMInfoBeans.class);
+      mbeanObjectName = MBeans.register("ResourceManager", "RMNMInfo", bean);
-        LOG.warn("Error registering RMNMInfo MBean", e);
+      LOG.warn("Error registering RMNMInfo MBean", e);
+  public void unregister() {
+    MBeans.unregister(mbeanObjectName);
+  }
