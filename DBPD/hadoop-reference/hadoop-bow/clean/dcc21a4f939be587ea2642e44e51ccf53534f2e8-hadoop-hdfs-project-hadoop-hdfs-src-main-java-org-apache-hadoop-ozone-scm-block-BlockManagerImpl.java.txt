HDFS-12005. Ozone: Web interface for SCM. Contributed by Elek, Marton.

+import org.apache.hadoop.metrics2.util.MBeans;
+import javax.management.ObjectName;
+import java.util.concurrent.ConcurrentHashMap;
-import java.util.HashMap;
-public class BlockManagerImpl implements BlockManager {
+public class BlockManagerImpl implements BlockManager, BlockmanagerMXBean {
+  private final ObjectName mxBean;
+
-    openContainers = new HashMap<>();
+    openContainers = new ConcurrentHashMap<>();
+
+    mxBean = MBeans.register("BlockManager", "BlockManagerImpl", this);
+
+    MBeans.unregister(mxBean);
+  }
+
+  @Override
+  public int getOpenContainersNo() {
+    return openContainers.size();
