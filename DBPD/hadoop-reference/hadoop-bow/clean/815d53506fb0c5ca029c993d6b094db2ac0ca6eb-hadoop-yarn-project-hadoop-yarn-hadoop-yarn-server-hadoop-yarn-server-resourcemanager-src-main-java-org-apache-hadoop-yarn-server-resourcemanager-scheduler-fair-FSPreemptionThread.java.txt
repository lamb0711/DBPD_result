YARN-6215. FairScheduler preemption and update should not run concurrently. (Tao Jie via kasha)

+import java.util.concurrent.locks.Lock;
+  private final Lock schedulerReadLock;
+    schedulerReadLock = scheduler.getSchedulerReadLock();
-        preemptContainers(identifyContainersToPreempt(starvedApp));
+        // Hold the scheduler readlock so this is not concurrent with the
+        // update thread.
+        schedulerReadLock.lock();
+        try {
+          preemptContainers(identifyContainersToPreempt(starvedApp));
+        } finally {
+          schedulerReadLock.unlock();
+        }
