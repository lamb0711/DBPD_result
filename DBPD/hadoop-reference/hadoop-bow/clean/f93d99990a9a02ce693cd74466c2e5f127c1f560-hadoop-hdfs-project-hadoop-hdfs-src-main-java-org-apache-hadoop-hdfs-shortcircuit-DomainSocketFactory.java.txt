HDFS-6167. Relocate the non-public API classes in the hdfs.client package.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1583878 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.hadoop.hdfs;
+package org.apache.hadoop.hdfs.shortcircuit;
+import org.apache.commons.logging.LogFactory;
+import org.apache.hadoop.hdfs.DFSClient;
+import org.apache.hadoop.hdfs.DFSConfigKeys;
-class DomainSocketFactory {
-  private static final Log LOG = BlockReaderLocal.LOG;
+public class DomainSocketFactory {
+  private static final Log LOG = LogFactory.getLog(DomainSocketFactory.class);
-    if (conf.shortCircuitLocalReads && (!conf.useLegacyBlockReaderLocal)) {
+    if (conf.isShortCircuitLocalReads() && (!conf.isUseLegacyBlockReaderLocal())) {
-    } else if (conf.domainSocketDataTraffic) {
+    } else if (conf.isDomainSocketDataTraffic()) {
-      if (conf.domainSocketPath.isEmpty()) {
+      if (conf.getDomainSocketPath().isEmpty()) {
-    if (conf.domainSocketPath.isEmpty()) return PathInfo.NOT_CONFIGURED;
+    if (conf.getDomainSocketPath().isEmpty()) return PathInfo.NOT_CONFIGURED;
-    if (!conf.domainSocketDataTraffic &&
-        (!conf.shortCircuitLocalReads || conf.useLegacyBlockReaderLocal)) {
+    if (!conf.isDomainSocketDataTraffic() &&
+        (!conf.isShortCircuitLocalReads() || conf.isUseLegacyBlockReaderLocal())) {
-    String escapedPath = DomainSocket.
-        getEffectivePath(conf.domainSocketPath, addr.getPort());
+    String escapedPath = DomainSocket.getEffectivePath(
+        conf.getDomainSocketPath(), addr.getPort());
