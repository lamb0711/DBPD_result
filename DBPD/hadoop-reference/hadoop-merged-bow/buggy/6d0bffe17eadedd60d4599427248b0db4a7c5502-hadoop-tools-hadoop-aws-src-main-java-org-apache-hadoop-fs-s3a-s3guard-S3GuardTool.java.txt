HADOOP-14556. S3A to support Delegation Tokens.

Contributed by Steve Loughran and Daryn Sharp.

+import org.apache.hadoop.fs.s3a.auth.delegation.S3ADelegationTokens;
+import org.apache.hadoop.security.UserGroupInformation;
+      // look at delegation token support
+      if (fs.getDelegationTokens().isPresent()) {
+        // DT is enabled
+        S3ADelegationTokens dtIntegration = fs.getDelegationTokens().get();
+        println(out, "Delegation Support enabled: token kind = %s",
+            dtIntegration.getTokenKind());
+        UserGroupInformation.AuthenticationMethod authenticationMethod
+            = UserGroupInformation.getCurrentUser().getAuthenticationMethod();
+        println(out, "Hadoop security mode: %s", authenticationMethod);
+        if (UserGroupInformation.isSecurityEnabled()) {
+          println(out,
+              "Warning: security is disabled; tokens will not be collected");
+        }
+      } else {
+        println(out, "Delegation token support is disabled");
+      }
+

INS26 INS26 INS40 INS40 INS25 INS32 INS8 INS8 INS32 INS42 INS60 INS21 INS60 INS21 INS25 INS21 INS42 INS42 INS43 INS59 INS32 INS43 INS59 INS32 INS32 INS8 INS32 INS42 INS42 INS32 INS42 INS42 INS45 INS32 INS40 INS42 INS32 INS42 INS42 INS45 INS42 INS42 INS42 INS21 INS42 INS42 INS45 INS32 INS42 INS42 INS42 INS32 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS45