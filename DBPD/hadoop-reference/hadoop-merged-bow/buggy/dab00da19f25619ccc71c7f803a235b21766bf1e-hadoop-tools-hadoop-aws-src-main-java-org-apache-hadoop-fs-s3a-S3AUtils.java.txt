HADOOP-14028. S3A BlockOutputStreams doesn't delete temporary files in multipart uploads or handle part upload failures.
Contributed by Steve Loughran.

(cherry picked from commit 29fe5af017b945d8750c074ca39031b5b777eddd)

+
+  /**
+   * Close the Closeable objects and <b>ignore</b> any Exception or
+   * null pointers.
+   * (This is the SLF4J equivalent of that in {@code IOUtils}).
+   * @param log the log to log at debug level. Can be null.
+   * @param closeables the objects to close
+   */
+  public static void closeAll(Logger log,
+      java.io.Closeable... closeables) {
+    for (java.io.Closeable c : closeables) {
+      if (c != null) {
+        try {
+          if (log != null) {
+            log.debug("Closing {}", c);
+          }
+          c.close();
+        } catch (Exception e) {
+          if (log != null && log.isDebugEnabled()) {
+            log.debug("Exception in closing {}", c, e);
+          }
+        }
+      }
+    }
+  }
+

INS31 INS29 INS83 INS83 INS39 INS42 INS44 INS44 INS8 INS65 INS65 INS65 INS43 INS42 INS43 INS42 INS70 INS66 INS66 INS66 INS65 INS66 INS42 INS66 INS42 INS66 INS42 INS40 INS44 INS42 INS8 INS66 INS43 INS42 INS25 INS40 INS27 INS8 INS42 INS33 INS54 INS8 INS12 INS25 INS21 INS44 INS8 INS27 INS8 INS32 INS43 INS42 INS25 INS42 INS33 INS21 INS42 INS42 INS42 INS27 INS8 INS32 INS27 INS32 INS21 INS42 INS42 INS45 INS42 INS42 INS33 INS42 INS42 INS32 INS42 INS42 INS45 INS42 INS42