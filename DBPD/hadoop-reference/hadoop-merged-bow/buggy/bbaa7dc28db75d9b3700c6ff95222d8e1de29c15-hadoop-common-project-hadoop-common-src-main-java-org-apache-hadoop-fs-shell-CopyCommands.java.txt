HDFS-6928. 'hdfs put' command should accept lazyPersist flag for testing. (Arpit Agarwal)

-    public static final String USAGE = "[-f] [-p] <localsrc> ... <dst>";
+    public static final String USAGE = "[-f] [-p] [-l] <localsrc> ... <dst>";
-      "exists, unless the -f flag is given. Passing " +
-      "-p preserves access and modification times, " +
-      "ownership and the mode. Passing -f overwrites " +
-      "the destination if it already exists.\n";
+      "exists, unless the -f flag is given.\n" +
+      "Flags:\n" +
+      "  -p : Preserves access and modification times, ownership and the mode.\n" +
+      "  -f : Overwrites the destination if it already exists.\n" +
+      "  -l : Allow DataNode to lazily persist the file to disk. Forces\n" +
+      "       replication factor of 1. This flag will result in reduced\n" +
+      "       durability. Use with care.\n";
-      CommandFormat cf = new CommandFormat(1, Integer.MAX_VALUE, "f", "p");
+      CommandFormat cf = new CommandFormat(1, Integer.MAX_VALUE, "f", "p", "l");
+      setLazyPersist(cf.getOpt("l"));

UPD45 INS21 UPD45 UPD45 UPD45 UPD45 INS45 INS45 INS45 MOV43 INS32 INS42 INS32 MOV43 INS45 INS42 INS42 INS45