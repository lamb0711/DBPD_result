HADOOP-16266. Add more fine-grained processing time metrics to the RPC layer. Contributed by Christopher Gregorian.

+import static org.apache.hadoop.ipc.ProcessingDetails.Timing;
+
-  public void addResponseTime(String name, int priorityLevel, int queueTime,
-      int processingTime) {
+  public void addResponseTime(String callName, Schedulable schedulable,
+      ProcessingDetails details) {
+    int priorityLevel = schedulable.getPriorityLevel();
+    long queueTime = details.get(Timing.QUEUE, TimeUnit.MILLISECONDS);
+    long processingTime = details.get(Timing.PROCESSING, TimeUnit.MILLISECONDS);
+
-          "processingTime: {} ", name, priorityLevel, queueTime,
+          "processingTime: {} ", callName, priorityLevel, queueTime,

INS26 INS40 INS44 INS44 INS8 UPD42 INS43 INS42 INS43 INS42 INS60 INS60 INS60 MOV21 MOV21 MOV25 INS42 INS42 INS39 INS59 INS39 INS59 INS39 INS59 INS42 INS32 INS42 INS32 INS42 INS32 INS42 INS42 INS42 INS42 INS40 INS40 INS42 INS42 INS40 INS40 UPD42 DEL39 DEL42 DEL44 DEL39 DEL42 DEL44 DEL39 DEL42 DEL44 DEL8