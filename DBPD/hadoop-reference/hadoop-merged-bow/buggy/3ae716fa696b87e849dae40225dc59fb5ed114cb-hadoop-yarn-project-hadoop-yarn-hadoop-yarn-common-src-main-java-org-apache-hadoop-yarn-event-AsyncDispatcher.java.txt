YARN-3999. RM hangs on draing events. Contributed by Jian He

+import org.apache.hadoop.yarn.conf.YarnConfiguration;
+      long endTime = System.currentTimeMillis() + getConfig()
+          .getLong(YarnConfiguration.DISPATCHER_DRAIN_EVENTS_TIMEOUT,
+              YarnConfiguration.DEFAULT_DISPATCHER_DRAIN_EVENTS_TIMEOUT);
+
-            && eventHandlingThread.isAlive()) {
+            && eventHandlingThread.isAlive()
+            && System.currentTimeMillis() < endTime) {

INS26 INS40 INS60 INS39 INS59 INS42 INS27 INS32 INS32 INS27 INS42 INS42 INS32 INS42 INS40 INS40 MOV27 INS27 INS42 INS32 INS42 INS42 INS42