HADOOP-6461.  Webapps aren't located correctly post-split.  Contributed by Todd Lipcon and Steve Loughran.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@950605 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.FileNotFoundException;
-    final String appDir = getWebAppsPath();
+    final String appDir = getWebAppsPath(name);
+   * @param appName eg "secondary" or "datanode"
-   * @throws IOException if 'webapps' directory cannot be found on CLASSPATH.
+   * @throws FileNotFoundException if 'webapps' directory cannot be found on CLASSPATH.
-  protected String getWebAppsPath() throws IOException {
-    URL url = getClass().getClassLoader().getResource("webapps");
+  private String getWebAppsPath(String appName) throws FileNotFoundException {
+    URL url = getClass().getClassLoader().getResource("webapps/" + appName);
-      throw new IOException("webapps not found in CLASSPATH"); 
-    return url.toString();
+      throw new FileNotFoundException("webapps/" + appName
+          + " not found in CLASSPATH");
+    String urlString = url.toString();
+    return urlString.substring(0, urlString.lastIndexOf('/'));

INS26 INS40 UPD83 INS44 UPD43 INS65 INS43 INS42 UPD42 INS60 INS42 INS66 UPD42 INS42 INS43 INS59 INS32 INS42 INS42 MOV32 INS42 INS42 INS34 INS32 INS42 INS27 UPD43 INS27 INS42 INS42 INS13 INS45 INS42 UPD42 INS45 INS42 INS45 DEL45 DEL45