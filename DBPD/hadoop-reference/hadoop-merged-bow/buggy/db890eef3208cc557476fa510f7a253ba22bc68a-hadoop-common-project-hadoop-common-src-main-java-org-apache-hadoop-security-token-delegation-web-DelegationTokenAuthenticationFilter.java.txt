HADOOP-11017. KMS delegation token secret manager should be able to use zookeeper as store. (asuresh via tucu)

+import org.apache.curator.framework.CuratorFramework;
+import org.apache.hadoop.security.authentication.util.ZKSignerSecretProvider;
+import org.apache.hadoop.security.token.delegation.ZKDelegationTokenSecretManager;
+    // A single CuratorFramework should be used for a ZK cluster.
+    // If the ZKSignerSecretProvider has already created it, it has to
+    // be set here... to be used by the ZKDelegationTokenSecretManager
+    ZKDelegationTokenSecretManager.setCurator((CuratorFramework)
+        filterConfig.getServletContext().getAttribute(ZKSignerSecretProvider.
+            ZOOKEEPER_SIGNER_SECRET_PROVIDER_CURATOR_CLIENT_ATTRIBUTE));
+    ZKDelegationTokenSecretManager.setCurator(null);

INS26 INS26 INS26 INS40 INS40 INS40 INS21 INS21 INS32 INS32 INS42 INS42 INS11 INS42 INS42 INS33 INS43 INS32 INS42 INS32 INS42 INS40 INS42 INS42