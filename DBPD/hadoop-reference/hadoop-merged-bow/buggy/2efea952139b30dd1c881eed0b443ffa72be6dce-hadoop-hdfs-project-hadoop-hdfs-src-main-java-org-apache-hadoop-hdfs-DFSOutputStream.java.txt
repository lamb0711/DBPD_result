HDFS-6391. Get the Key/IV from the NameNode for encrypted files in DFSClient. Contributed by Charles Lamb and Andrew Wang.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/fs-encryption@1606220 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.fs.FileEncryptionInfo;
-  private byte[] key = null;
-  private byte[] iv = null;
-  
+  private FileEncryptionInfo fileEncryptionInfo;
+
-    this.key = stat.getKey();
-    this.iv = stat.getIv();
+    this.fileEncryptionInfo = stat.getFileEncryptionInfo();
+    this.fileEncryptionInfo = stat.getFileEncryptionInfo();
-  long getInitialLen() {
+  public long getInitialLen() {
-   * Get the encryption key for this stream.
-   *
-   * @return byte[] the key.
+   * @return the FileEncryptionInfo for this stream, or null if not encrypted.
-  public byte[] getKey() {
-    return key;
-  }
-
-  /**
-   * Get the encryption initialization vector (IV) for this stream.
-   *
-   * @return byte[] the initialization vector (IV).
-   */
-  public byte[] getIv() {
-    return iv;
+  public FileEncryptionInfo getFileEncryptionInfo() {
+    return fileEncryptionInfo;

INS26 INS40 INS43 INS83 INS43 UPD42 INS42 UPD42 INS21 INS42 INS7 UPD66 UPD42 INS22 INS32 UPD42 UPD42 INS52 INS42 INS42 INS42 DEL39 DEL85 DEL5 DEL33 DEL83 DEL39 DEL85 DEL5 DEL42 DEL33 DEL59 DEL23 DEL52 DEL42 DEL22 DEL42 DEL42 DEL32 DEL7 DEL21 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL39 DEL85 DEL5 DEL42 DEL42 DEL41 DEL8 DEL31 DEL66 DEL65 DEL39 DEL85 DEL5