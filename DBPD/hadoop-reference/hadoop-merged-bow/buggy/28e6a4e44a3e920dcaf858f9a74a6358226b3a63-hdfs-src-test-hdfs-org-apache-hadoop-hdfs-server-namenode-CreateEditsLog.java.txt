HDFS-1073. Redesign the NameNode's storage layout for image checkpoints and edit logs to introduce transaction IDs and be more robust. Contributed by Todd Lipcon and Ivan Kelly.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1152295 13f79535-47bb-0310-9956-ffa450edef68

-    FSImage fsImage = new FSImage(editsLogDir.getAbsoluteFile().toURI());
-    FileNameGenerator nameGenerator = new FileNameGenerator(BASE_PATH, 100);
-    FSEditLog editLog = fsImage.getEditLog();
-    editLog.createEditLogFile(fsImage.getStorage().getFsEditName());
+    FileNameGenerator nameGenerator = new FileNameGenerator(BASE_PATH, 100);
+    FSEditLog editLog = FSImageTestUtil.createStandaloneEditLog(editsLogDir);

UPD42 UPD42 INS42 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL42 DEL32 DEL42 DEL32 DEL14 DEL59 DEL60 DEL42 DEL42 DEL42 DEL42 DEL32 DEL42 DEL32 DEL32 DEL21