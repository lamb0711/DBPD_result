HDFS-6050. NFS does not handle exceptions correctly in a few places. Contributed by Brandon Li

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1581055 13f79535-47bb-0310-9956-ffa450edef68

-              + OpenFileCtx.this.dumpFilePath);
+              + OpenFileCtx.this.dumpFilePath, t);
-      LOG.info("The FSDataOutputStream has been closed. " +
-      		"Continue processing the perfect overwrite.");
+      LOG.info("The FSDataOutputStream has been closed. "
+          + "Continue processing the perfect overwrite.");
-          + path + " error:" + e);
+          + path, e);
-        "openFileCtx has false asyncStatus, fileId:" + latestAttr.getFileid());
+        "openFileCtx has false asyncStatus, fileId:" + latestAttr.getFileId());
-              + " is finalized. fileId:" + latestAttr.getFileid()
+              + " is finalized. fileId:" + latestAttr.getFileId()
-            + ". Channel closed with writes pending");
+            + ". Channel closed with writes pending.", cce);
-      LOG.error("Got stream error during data sync:" + e);
+      LOG.error("Got stream error during data sync:", e);
-      LOG.error("Can't get new file attr for fileId: " + latestAttr.getFileId());
+      LOG.error("Can't get new file attr, fileId: " + latestAttr.getFileId(), e);
-        LOG.debug("FileId: " + latestAttr.getFileid() + " Service time:"
+        LOG.debug("FileId: " + latestAttr.getFileId() + " Service time:"
-            LOG.error("hsync failed with writeCtx:" + writeCtx + " error:" + e);
+            LOG.error("hsync failed with writeCtx:" + writeCtx, e);
-          + latestAttr.getFileid());
+          + latestAttr.getFileId());
-      LOG.info("Can't close stream for fileId:" + latestAttr.getFileid()
+      LOG.info("Can't close stream for fileId:" + latestAttr.getFileId()
-        e.printStackTrace();
+        LOG.error("Failed to close outputstream of dump file" + dumpFilePath, e);
-        e.printStackTrace();
+        LOG.error("Got exception when closing input stream of dump file.", e);

UPD42 INS27 INS42 INS45 INS42 INS42 MOV45 MOV42 UPD45 INS42 UPD42 UPD42 INS42 UPD42 INS27 UPD42 INS42 UPD42 INS45 UPD42 INS42 UPD45 UPD42 INS45 INS42 UPD42 INS27 INS42 MOV45 MOV42 DEL45 DEL42 DEL27 DEL45 DEL42 DEL27 DEL45 DEL42 DEL27