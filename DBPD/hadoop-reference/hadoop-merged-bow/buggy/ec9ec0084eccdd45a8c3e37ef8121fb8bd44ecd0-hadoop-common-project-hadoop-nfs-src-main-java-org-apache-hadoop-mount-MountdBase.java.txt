HDFS-5469. Add configuration property for the sub-directroy export path. Contributed by Brandon Li

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1540443 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.List;
+  private int udpBoundPort; // Will set after server starts
+  private int tcpBoundPort; // Will set after server starts
-   * @param exports
+   * @param program
-  public MountdBase(List<String> exports, RpcProgram program) throws IOException {
+  public MountdBase(RpcProgram program) throws IOException {
+    udpBoundPort = udpServer.getBoundPort();
+    tcpBoundPort = tcpServer.getBoundPort();
-      rpcProgram.register(PortmapMapping.TRANSPORT_UDP);
-      rpcProgram.register(PortmapMapping.TRANSPORT_TCP);
+      rpcProgram.register(PortmapMapping.TRANSPORT_UDP, udpBoundPort);
+      rpcProgram.register(PortmapMapping.TRANSPORT_TCP, tcpBoundPort);

INS23 INS23 INS83 INS39 INS59 INS83 INS39 INS59 INS42 INS42 INS21 INS21 UPD42 INS7 INS7 INS42 INS32 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS42 DEL40 DEL26 DEL42 DEL43 DEL42 DEL43 DEL74 DEL42 DEL44