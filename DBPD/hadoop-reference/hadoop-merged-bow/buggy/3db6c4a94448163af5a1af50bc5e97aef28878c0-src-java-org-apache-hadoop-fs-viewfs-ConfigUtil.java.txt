    HADOOP-7284 Trash and shell's rm does not work for viewfs


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1129989 13f79535-47bb-0310-9956-ffa450edef68

+  
+  /**
+   * Add config variable for homedir for default mount table
+   * @param conf - add to this conf
+   * @param homedir - the home dir path starting with slash
+   */
+  public static void setHomeDirConf(final Configuration conf,
+      final String homedir) {
+    setHomeDirConf(  conf,
+        Constants.CONFIG_VIEWFS_DEFAULT_MOUNT_TABLE,   homedir);
+  }
+  
+  /**
+   * Add config variable for homedir the specified mount table
+   * @param conf - add to this conf
+   * @param homedir - the home dir path starting with slash
+   */
+  public static void setHomeDirConf(final Configuration conf,
+              final String mountTableName, final String homedir) {
+    if (!homedir.startsWith("/")) {
+      throw new IllegalArgumentException("Home dir should start with /:"
+          + homedir);
+    }
+    conf.set(getConfigViewFsPrefix(mountTableName) + "." +
+        Constants.CONFIG_VIEWFS_HOMEDIR, homedir);
+  }
+  
+  /**
+   * Get the value of the home dir conf value for default mount table
+   * @param conf - from this conf
+   * @return home dir value, null if variable is not in conf
+   */
+  public static String getHomeDirValue(final Configuration conf) {
+    return getHomeDirValue(conf, Constants.CONFIG_VIEWFS_DEFAULT_MOUNT_TABLE);
+  }
+  
+  /**
+   * Get the value of the home dir conf value for specfied mount table
+   * @param conf - from this conf
+   * @param mountTableName - the mount table
+   * @return home dir value, null if variable is not in conf
+   */
+  public static String getHomeDirValue(final Configuration conf, 
+      final String mountTableName) {
+    return conf.get(getConfigViewFsPrefix(mountTableName) + "." +
+        Constants.CONFIG_VIEWFS_HOMEDIR);
+  }

INS31 INS31 INS31 INS31 INS29 INS83 INS83 INS39 INS42 INS44 INS44 INS8 INS29 INS83 INS83 INS39 INS42 INS44 INS44 INS44 INS8 INS29 INS83 INS83 INS43 INS42 INS44 INS8 INS29 INS83 INS83 INS43 INS42 INS44 INS44 INS8 INS65 INS65 INS65 INS83 INS43 INS42 INS83 INS43 INS42 INS21 INS65 INS65 INS65 INS83 INS43 INS42 INS83 INS43 INS42 INS83 INS43 INS42 INS25 INS21 INS65 INS65 INS65 INS42 INS83 INS43 INS42 INS41 INS65 INS65 INS65 INS65 INS42 INS83 INS43 INS42 INS83 INS43 INS42 INS41 INS66 INS42 INS66 INS42 INS66 INS42 INS42 INS32 INS66 INS42 INS66 INS42 INS66 INS42 INS42 INS42 INS38 INS8 INS32 INS66 INS42 INS66 INS66 INS42 INS32 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS42 INS32 INS42 INS42 INS40 INS42 INS32 INS53 INS42 INS42 INS27 INS42 INS42 INS42 INS40 INS42 INS42 INS27 INS42 INS42 INS45 INS14 INS32 INS45 INS40 INS32 INS45 INS40 INS43 INS27 INS42 INS42 INS42 INS42 INS42 INS45 INS42