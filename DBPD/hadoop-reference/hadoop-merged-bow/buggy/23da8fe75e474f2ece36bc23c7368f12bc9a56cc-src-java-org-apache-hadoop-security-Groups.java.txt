HADOOP-6864. Provide a JNI-based implementation of ShellBasedUnixGroupsNetgroupMapping (implementation of GroupMappingServiceProvider)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1052420 13f79535-47bb-0310-9956-ffa450edef68

+    try {
+      impl.cacheGroupsRefresh();
+    } catch (IOException e) {
+      LOG.warn("Error refreshing groups cache", e);
+    }
-  
+
+  /**
+   * Add groups to cache
+   *
+   * @param groups list of groups to add to cache
+   */
+  public void cacheGroupsAdd(List<String> groups) {
+    try {
+      impl.cacheGroupsAdd(groups);
+    } catch (IOException e) {
+      LOG.warn("Error caching groups", e);
+    }
+  }
+
+  /**
+   * Class to hold the cached groups
+   */
+    /**
+     * Create and initialize group cache
+     */
+    /**
+     * Returns time of last cache update
+     *
+     * @return time of last cache update
+     */
+    /**
+     * Get list of cached groups
+     *
+     * @return cached groups
+     */
-  
+
-  public static Groups getUserToGroupsMappingService(Configuration conf) {
+  public static synchronized Groups getUserToGroupsMappingService(
+    Configuration conf) {
+

INS31 INS29 INS83 INS39 INS42 INS44 INS8 INS29 INS83 INS54 INS65 INS65 INS74 INS42 INS54 INS65 INS29 INS29 INS29 INS8 INS12 INS66 INS42 INS66 INS43 INS43 INS8 INS12 INS66 INS65 INS65 INS65 INS65 INS65 INS21 INS44 INS8 INS42 INS42 INS21 INS44 INS8 INS66 INS66 INS66 INS66 INS66 INS32 INS43 INS42 INS21 INS32 INS43 INS42 INS21 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS45 INS42 INS42 INS42 INS45 INS42