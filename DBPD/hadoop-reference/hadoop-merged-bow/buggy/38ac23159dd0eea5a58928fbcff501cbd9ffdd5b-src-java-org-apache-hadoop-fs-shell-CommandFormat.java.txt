HADOOP-7249. Refactor the chmod/chown/chgrp command to conform to new FsCommand class.  Contributed by Daryn Sharp


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1100356 13f79535-47bb-0310-9956-ffa450edef68

-
+  boolean ignoreUnknownOpts = false;
+  
-    for(String opt : possibleOpt)
-      options.put(opt, Boolean.FALSE);
+    for (String opt : possibleOpt) {
+      if (opt == null) {
+        ignoreUnknownOpts = true;
+      } else {
+        options.put(opt, Boolean.FALSE);
+      }
+    }
-        if (!options.containsKey(opt)) {
-          throw new UnknownOptionException(arg);
+        if (options.containsKey(opt)) {
+          args.remove(pos);
+          options.put(opt, Boolean.TRUE);
+          continue;
-        args.remove(pos);
-        options.put(opt, Boolean.TRUE);
-      } else {
-        pos++;
+        if (!ignoreUnknownOpts) throw new UnknownOptionException(arg);
+      pos++;

INS23 INS39 INS59 INS42 INS9 INS8 INS25 MOV21 INS27 INS8 INS8 INS42 INS33 INS21 MOV21 INS25 INS7 MOV32 INS8 MOV53 INS42 INS9 MOV21 MOV21 INS18 INS42 DEL8 DEL8