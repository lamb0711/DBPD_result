HADOOP-15609. Retry KMS calls when SSLHandshakeException occurs. Contributed by Kitti Nanasi.

+import java.net.ConnectException;
+import javax.net.ssl.SSLHandshakeException;
+
-    IOException ex = null;
-        ex = ioe;
-
+        // SSLHandshakeException can occur here because of lost connection
+        // with the KMS server, creating a ConnectException from it,
+        // so that the FailoverOnNetworkExceptionRetry policy will retry
+        if (ioe instanceof SSLHandshakeException) {
+          Exception cause = ioe;
+          ioe = new ConnectException("SSLHandshakeException: "
+              + cause.getMessage());
+          ioe.initCause(cause);
+        }
-          throw ex;
+          throw ioe;

INS26 INS26 INS40 INS40 INS25 INS62 INS8 INS42 INS43 INS60 MOV21 INS21 INS42 INS43 INS59 INS32 UPD42 INS42 INS42 INS42 UPD42 INS14 INS42 INS42 INS42 INS43 INS27 INS42 INS45 INS32 INS42 INS42 DEL42 DEL43 DEL42 DEL33 DEL59 DEL60 DEL42