HADOOP-7282. ipc.Server.getRemoteIp() may return null.  Contributed by John George


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1104426 13f79535-47bb-0310-9956-ffa450edef68

-      return call.connection.socket.getInetAddress();
+      return call.connection.getHostInetAddress();
+ 
+  /** Return true if the invocation was through an RPC.
+   */
+  public static boolean isRpcInvocation() {
+    return CurCall.get() != null;
+  }
+

INS31 INS29 INS83 INS83 INS39 INS42 INS8 INS65 INS41 INS66 INS27 INS32 INS33 INS42 INS42 UPD40 UPD42