YARN-5227. Yarn logs command: no need to specify applicationId when
specifying containerId. Contributed by Gergely Nov√°k

-    if (appIdStr == null) {
-      System.err.println("ApplicationId cannot be null!");
+    if (appIdStr == null && containerIdStr == null) {
+      System.err.println("Both applicationId and containerId are missing, "
+          + " one of them must be specified.");
-    try {
-      appId = ApplicationId.fromString(appIdStr);
-    } catch (Exception e) {
-      System.err.println("Invalid ApplicationId specified");
-      return -1;
+    if (appIdStr != null) {
+      try {
+        appId = ApplicationId.fromString(appIdStr);
+      } catch (Exception e) {
+        System.err.println("Invalid ApplicationId specified");
+        return -1;
+      }
+    }
+
+    if (containerIdStr != null) {
+      try {
+        ContainerId containerId = ContainerId.fromString(containerIdStr);
+        if (appId == null) {
+          appId = containerId.getApplicationAttemptId().getApplicationId();
+        } else if (!containerId.getApplicationAttemptId().getApplicationId()
+            .equals(appId)) {
+          System.err.println("The Application:" + appId
+              + " does not have the container:" + containerId);
+          return -1;
+        }
+      } catch (Exception e) {
+        System.err.println("Invalid ContainerId specified");
+        return -1;
+      }
-      ContainerId containerId = ContainerId.fromString(containerIdStr);
-      if (!containerId.getApplicationAttemptId().getApplicationId()
-          .equals(appId)) {
-        System.err.println("The Application:" + appId
-            + " does not have the container:" + containerId);
-        return -1;
-      }
-    appIdOpt.setRequired(true);
-        + "By default, it will only print syslog if the application is runing."
-        + " Work with -logFiles to get other logs.");
+        + "By default, it will only print syslog if the application is running."
+        + " Work with -logFiles to get other logs. If specified, the"
+        + " applicationId can be omitted");

INS25 INS25 INS27 INS27 INS8 INS27 INS8 INS8 MOV27 INS27 INS42 INS33 MOV54 INS42 INS33 INS54 MOV41 INS42 INS33 MOV8 INS12 UPD45 UPD45 INS45 INS27 INS25 INS44 INS8 INS45 INS45 INS27 INS8 MOV25 INS43 INS42 INS21 INS41 INS42 INS33 INS21 INS42 INS32 INS38 INS7 INS40 INS42 INS45 INS34 INS42 INS32 INS32 INS42 INS42 INS42 DEL45 DEL42 DEL42 DEL9 DEL32 DEL21