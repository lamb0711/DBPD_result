HADOOP-10075. addendum to fix compilation on Windows

+import java.io.IOException;
+import java.util.regex.Matcher;
-            .replaceFirst(inputDir.getCanonicalPath(), "") + ".gz");
-        outFile.getParentFile().mkdirs();
-        try (
-            GZIPOutputStream os = new GZIPOutputStream(
-                new FileOutputStream(outFile));
-            BufferedReader is = Files.newBufferedReader(path)
-        ) {
-          getLog().info("Compressing " + path + " to " + outFile);
-          IOUtils.copy(is, os);
-        } catch (Throwable t) {
-          this.throwable = t;
+            .replaceFirst(Matcher.quoteReplacement(
+                inputDir.getCanonicalPath()), "") + ".gz");
+        if (outFile.getParentFile().isDirectory() ||
+            outFile.getParentFile().mkdirs()) {
+          try (
+              GZIPOutputStream os = new GZIPOutputStream(
+                  new FileOutputStream(outFile));
+              BufferedReader is = Files.newBufferedReader(path)
+          ) {
+            getLog().info("Compressing " + path + " to " + outFile);
+            IOUtils.copy(is, os);
+          }
+        } else {
+          throw new IOException("Directory " + outFile.getParent()
+              + " does not exist or was unable to be created");

INS26 INS26 INS40 INS40 INS25 INS27 INS8 INS8 INS32 MOV32 MOV54 INS53 INS32 INS42 INS14 INS42 INS42 INS43 INS27 INS32 INS42 INS45 INS32 INS45 INS42 INS42 MOV32 INS42 INS42 DEL42 DEL43 DEL42 DEL44 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL8 DEL12 DEL21