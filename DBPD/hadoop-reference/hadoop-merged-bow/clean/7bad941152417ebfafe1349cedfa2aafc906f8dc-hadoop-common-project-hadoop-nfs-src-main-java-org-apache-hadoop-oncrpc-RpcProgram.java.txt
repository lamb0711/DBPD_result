HDFS-6281. Provide option to use the NFS Gateway without having to use the Hadoop portmapper. Contributed by Aaron T. Myers.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1589914 13f79535-47bb-0310-9956-ffa450edef68

+import java.net.DatagramSocket;
+   * If not null, this will be used as the socket to use to connect to the
+   * system portmap daemon when registering this RPC server program.
+   */
+  private final DatagramSocket registrationSocket;
+  
+  /**
-      int lowProgVersion, int highProgVersion) {
+      int lowProgVersion, int highProgVersion,
+      DatagramSocket registrationSocket) {
+    this.registrationSocket = registrationSocket;
-        mappingRequest);
+        mappingRequest, registrationSocket);
-          + ", portmap entry: " + mapEntry);
-      throw new RuntimeException(request + " failure");
+          + ", portmap entry: " + mapEntry, e);
+      throw new RuntimeException(request + " failure", e);

INS26 INS40 INS23 INS29 INS83 INS83 INS43 INS59 INS44 INS65 INS42 INS42 INS43 INS42 INS21 INS66 INS66 INS42 INS7 MOV43 INS22 INS42 INS52 INS42 MOV43 INS42 INS42 INS42