Revert "Revert "HADOOP-13226 Support async call retry and failover.""

This reverts commit 5360da8bd9f720384860f411bee081aef13b4bd4.

+  /** @return true if the underlying computation is done; false, otherwise. */
+  boolean isDone();
+
-    /**
-     * @return {@link Object#wait(long)} timeout converted
-     *         from {@link #get(long, TimeUnit)} timeout.
-     */
-    public static long asyncGetTimeout2WaitTimeout(long timeout, TimeUnit unit){
-      return timeout < 0? 0: timeout == 0? 1:unit.toMillis(timeout);
+    /** Use {@link #get(long, TimeUnit)} timeout parameters to wait. */
+    public static void wait(Object obj, long timeout, TimeUnit unit)
+        throws InterruptedException {
+      if (timeout < 0) {
+        obj.wait();
+      } else if (timeout > 0) {
+        obj.wait(unit.toMillis(timeout));
+      }

INS31 INS29 INS39 INS42 INS65 UPD39 UPD42 INS44 INS43 INS66 UPD65 INS43 INS42 INS42 INS25 UPD66 UPD66 INS42 MOV27 INS8 INS25 INS21 INS27 INS8 INS32 MOV42 MOV34 INS21 INS42 INS42 INS32 INS42 INS42 MOV32 DEL42 DEL42 DEL39 DEL69 DEL68 DEL65 DEL66 DEL66 DEL34 DEL27 DEL34 DEL16 DEL16 DEL41