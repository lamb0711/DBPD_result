YARN-3254. HealthReport should include disk full information. Contributed by Suma Shivaprasad.

+import org.apache.hadoop.classification.InterfaceStability;
+  private Map<String, DiskErrorInformation> directoryErrorInfo;
+    directoryErrorInfo = new ConcurrentHashMap<>();
-
-      return fullDirs;
+      return Collections.unmodifiableList(fullDirs);
+    } finally {
+      this.readLock.unlock();
+    }
+  }
+
+  /**
+   * @return the directories that have errors - many not have appropriate permissions
+   * or other disk validation checks might have failed in {@link DiskValidator}
+   *
+   */
+  @InterfaceStability.Evolving
+  List<String> getErroredDirs() {
+    this.readLock.lock();
+    try {
+      return Collections.unmodifiableList(errorDirs);
+   *
+   * @param dirName Absolute path of Directory for which error diagnostics are needed
+   * @return DiskErrorInformation - disk error diagnostics for the specified directory
+   *         null - the disk associated with the directory has passed disk utilization checks
+   *         /error validations in {@link DiskValidator}
+   *
+   */
+  @InterfaceStability.Evolving
+  DiskErrorInformation getDirectoryErrorInfo(String dirName) {
+    this.readLock.lock();
+    try {
+      return directoryErrorInfo.get(dirName);
+    } finally {
+      this.readLock.unlock();
+    }
+  }
+
+  /**
+   *
+   * @param dirName Absolute path of Directory for which the disk has been marked as unhealthy
+   * @return Check if disk associated with the directory is unhealthy
+   */
+  @InterfaceStability.Evolving
+  boolean isDiskUnHealthy(String dirName) {
+    this.readLock.lock();
+    try {
+      return directoryErrorInfo.containsKey(dirName);
+    } finally {
+      this.readLock.unlock();
+    }
+  }
+
+  /**
+          directoryErrorInfo.put(dir,
+              new DiskErrorInformation(DiskErrorCause.OTHER,
+                  "Cannot create directory : " + dir + ", error " + e.getMessage()));
+      directoryErrorInfo.clear();
+
+        directoryErrorInfo.put(entry.getKey(), errorInformation);
+

INS26 INS40 INS23 INS31 INS31 INS31 INS83 INS74 INS59 INS29 INS78 INS74 INS42 INS8 INS29 INS78 INS43 INS42 INS44 INS8 INS29 INS78 INS39 INS42 INS44 INS8 INS43 INS43 INS43 INS42 INS21 INS65 INS40 INS43 INS43 INS21 INS54 INS65 INS65 INS40 INS42 INS43 INS42 INS21 INS54 INS65 INS65 INS40 INS43 INS42 INS21 INS54 INS42 INS42 INS42 INS7 INS66 INS66 INS65 INS42 INS42 INS32 INS8 INS8 INS42 INS66 INS66 INS66 INS66 INS65 INS42 INS32 INS8 INS8 INS42 INS66 INS66 INS42 INS32 INS8 INS8 INS42 INS14 INS42 INS22 INS42 INS41 INS21 INS42 INS22 INS42 INS41 INS21 INS22 INS42 INS41 INS21 INS21 INS74 INS32 INS52 INS42 INS32 INS32 INS52 INS42 INS32 INS32 INS52 INS42 INS32 INS32 INS32 INS43 INS42 INS42 INS42 INS42 INS42 INS42 INS22 INS42 INS42 INS42 INS42 INS22 INS42 INS42 INS42 INS42 INS22 INS42 INS42 INS42 INS21 INS42 INS52 INS42 INS52 INS42 INS52 INS42 INS32 INS42 INS42 INS32 INS42 INS21 INS42 INS42 INS32 INS42 INS42 INS42 INS14 INS43 INS40 INS27 INS42 INS45 INS42 INS45 INS32 INS42 INS42 DEL42