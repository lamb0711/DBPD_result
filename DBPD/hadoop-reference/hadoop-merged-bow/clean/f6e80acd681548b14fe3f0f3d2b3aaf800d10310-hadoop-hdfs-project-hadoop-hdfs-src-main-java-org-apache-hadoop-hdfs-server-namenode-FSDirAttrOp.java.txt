HDFS-11258. File mtime change could not save to editlog. Contributed by Jimmy Xiang.

-    if (atime != -1) {
-      long inodeTime = inode.getAccessTime();
-      // if the last access time update was within the last precision interval, then
-      // no need to store access time
-      if (atime <= inodeTime + fsd.getAccessTimePrecision() && !force) {
-        status =  false;
-      } else {
-        inode.setAccessTime(atime, latest);
-        status = true;
-      }
+    // if the last access time update was within the last precision interval,
+    // then no need to store access time
+    if (atime != -1 && (status || force
+        || atime > inode.getAccessTime() + fsd.getAccessTimePrecision())) {
+      inode.setAccessTime(atime, latest);
+      status = true;

MOV25 INS27 MOV27 INS36 UPD27 MOV27 INS42 INS42 UPD27 MOV32 DEL42 DEL42 DEL38 DEL42 DEL9 DEL7 DEL21 DEL8 DEL39 DEL42 DEL59 DEL60 DEL8 DEL25