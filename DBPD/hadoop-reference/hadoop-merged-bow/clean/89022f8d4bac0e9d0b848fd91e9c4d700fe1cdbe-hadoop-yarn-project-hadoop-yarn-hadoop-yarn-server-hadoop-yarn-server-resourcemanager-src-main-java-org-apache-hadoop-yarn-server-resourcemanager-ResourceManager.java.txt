YARN-4438. Implement RM leader election with curator. Contributed by Jian He

+  private boolean curatorEnabled = false;
+      curatorEnabled = conf.getBoolean(YarnConfiguration.CURATOR_LEADER_ELECTOR,
+          YarnConfiguration.DEFAULT_CURATOR_LEADER_ELECTOR_ENABLED);
+      if (curatorEnabled) {
+        LeaderElectorService elector = new LeaderElectorService(rmContext);
+        addService(elector);
+        rmContext.setLeaderElectorService(elector);
+      }
-        adminService.resetLeaderElection();
+        if (curatorEnabled) {
+          rmContext.getLeaderElectorService().reJoinElection();
+        } else {
+          adminService.resetLeaderElection();
+        }
-  protected void createAndInitActiveServices() throws Exception {
+  protected void createAndInitActiveServices() {
-  void stopActiveServices() throws Exception {
+  void stopActiveServices() {
-  void reinitialize(boolean initialize) throws Exception {
+  void reinitialize(boolean initialize) {
-
-      transitionToStandby(true);
+      transitionToStandby(false);
+

INS23 INS83 INS39 INS59 INS42 INS9 INS25 MOV32 INS8 MOV21 INS21 MOV25 INS7 INS42 INS42 INS32 INS60 INS21 INS21 INS25 UPD9 INS42 INS42 INS40 INS40 INS43 INS59 INS32 INS32 INS42 INS8 INS8 INS42 INS42 INS14 INS42 INS42 INS42 INS42 INS42 INS21 MOV21 INS43 INS42 INS32 INS42 INS32 INS42 INS42 INS42 DEL42 DEL43 DEL42 DEL43 DEL42 DEL43