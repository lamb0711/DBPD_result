HDFS-7912. Erasure Coding: track BlockInfo instead of Block in UnderReplicatedBlocks and PendingReplicationBlocks. Contributed by Jing Zhao.

+import org.apache.hadoop.hdfs.server.blockmanagement.BlockInfo;
+import org.apache.hadoop.hdfs.server.blockmanagement.BlockInfoContiguous;
-      final Block[] blocks = unprotectedSetReplication(fsd, src, replication,
-                                                       blockRepls);
+      final BlockInfoContiguous[] blocks = unprotectedSetReplication(fsd, src,
+          replication, blockRepls);
-  static Block[] unprotectedSetReplication(
+  static BlockInfoContiguous[] unprotectedSetReplication(
-    return file.getBlocks();
+    return file.getContiguousBlocks();

INS26 INS26 INS40 INS40 UPD5 UPD43 UPD42 UPD42 UPD5 UPD43 UPD42