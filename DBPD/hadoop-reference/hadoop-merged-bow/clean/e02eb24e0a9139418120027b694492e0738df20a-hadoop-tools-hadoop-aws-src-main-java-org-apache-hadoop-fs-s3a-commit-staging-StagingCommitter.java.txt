HADOOP-15183. S3Guard store becomes inconsistent after partial failure of rename.

Contributed by Steve Loughran.

Change-Id: I825b0bc36be960475d2d259b1cdab45ae1bb78eb

+import org.apache.hadoop.fs.s3a.commit.CommitOperations;
-          Tasks.foreach(commits)
-              .suppressExceptions()
-              .run(commit -> getCommitOperations().abortSingleCommit(commit));
+          try(CommitOperations.CommitContext commitContext
+                  = initiateCommitOperation();
+              DurationInfo ignored = new DurationInfo(LOG,
+                  "Aborting %s uploads", commits.size())) {
+            Tasks.foreach(commits)
+                .suppressExceptions()
+                .run(commitContext::abortSingleCommit);
+          }

INS26 INS40 INS54 INS58 INS58 INS8 INS43 INS59 INS43 INS59 MOV21 INS40 INS42 INS32 INS42 INS42 INS14 INS42 INS43 INS42 INS45 INS32 INS90 INS42 INS42 INS42 INS42 INS42 DEL42 DEL59 DEL42 DEL32 DEL42 DEL42 DEL32 DEL86