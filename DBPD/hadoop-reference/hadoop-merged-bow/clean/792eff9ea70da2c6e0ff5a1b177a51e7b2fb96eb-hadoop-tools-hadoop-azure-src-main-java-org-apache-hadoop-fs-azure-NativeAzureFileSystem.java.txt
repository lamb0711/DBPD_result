HADOOP-14820 Wasb mkdirs security checks inconsistent with HDFS.
Contributed by Sivaguru Sankaridurg

-    for (Path current = f.getParent(), parent = current.getParent();
+    for (Path current = f, parent = current.getParent();
-      if (currentMetadata != null) {
+      if (currentMetadata != null && currentMetadata.isDir()) {
-
+    if (absolutePath.equals(ancestor)) {
+      return true;
+    }
+

INS25 INS32 INS8 INS42 INS42 INS42 INS41 INS42 INS27 INS9 MOV27 INS32 INS42 INS42 DEL42 DEL42 DEL32