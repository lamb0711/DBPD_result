YARN-6866. Minor clean-up and fixes in anticipation of YARN-2915 merge with trunk. (Botong Huang via Subru).

(cherry picked from commit 40453879ec860819b080ccc82454480a436c0adc)

-import java.security.PrivilegedExceptionAction;
-import org.apache.hadoop.yarn.client.ClientRMProxy;
+import org.apache.hadoop.yarn.server.federation.failover.FederationProxyProviderUtil;
-      clientRMProxy =
-          user.doAs(new PrivilegedExceptionAction<ApplicationClientProtocol>() {
-            @Override
-            public ApplicationClientProtocol run() throws Exception {
-              return ClientRMProxy.createRMProxy(getConf(),
-                  ApplicationClientProtocol.class);
-            }
-          });
+      clientRMProxy = FederationProxyProviderUtil.createRMProxy(getConf(),
+          ApplicationClientProtocol.class, subClusterId, user);

MOV26 UPD40 MOV8 INS21 INS7 INS42 MOV32 UPD42 INS42 INS42 DEL40 DEL26 DEL41 DEL42 DEL42 DEL42 DEL42 DEL43 DEL42 DEL43 DEL74 DEL42 DEL78 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL31 DEL1 DEL14 DEL32 DEL7 DEL21 DEL8