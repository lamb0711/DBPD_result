Merge changes from trunk

+import org.apache.hadoop.tracing.SpanReceiverHost;
-      "Usage: java DataNode [-regular | -rollback | -rollingupgrade rollback]\n" +
+      "Usage: java DataNode [-regular | -rollback]\n" +
-      "    -rollback                : Rollback a standard upgrade.\n" +
-      "    -rollingupgrade rollback : Rollback a rolling upgrade operation.\n" +
+      "    -rollback                : Rollback a standard or rolling upgrade.\n" +
+  private SpanReceiverHost spanReceiverHost;
+
+    this.spanReceiverHost = SpanReceiverHost.getInstance(conf);
+    if (this.spanReceiverHost != null) {
+      this.spanReceiverHost.closeReceivers();
+    }
-            + ", targests=" + Arrays.asList(targets));
+            + ", targets=" + Arrays.asList(targets));

INS26 INS40 INS23 INS83 INS43 INS59 INS42 INS42 INS21 INS25 UPD45 UPD45 INS7 INS27 INS8 INS22 INS32 INS22 INS33 INS21 INS52 INS42 INS42 INS42 INS42 INS52 INS42 INS32 INS22 INS42 INS52 INS42 UPD45 DEL45