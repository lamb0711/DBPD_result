YARN-2331. Distinguish shutdown during supervision vs. shutdown for
rolling upgrade. Contributed by Jason Lowe

+    boolean supervised = getConfig().getBoolean(
+        YarnConfiguration.NM_RECOVERY_SUPERVISED,
+        YarnConfiguration.DEFAULT_NM_RECOVERY_SUPERVISED);
-        && !context.getDecommissioned();
+        && !context.getDecommissioned() && supervised;

INS60 INS39 INS59 INS42 INS32 INS32 INS42 INS40 INS40 INS42 INS42