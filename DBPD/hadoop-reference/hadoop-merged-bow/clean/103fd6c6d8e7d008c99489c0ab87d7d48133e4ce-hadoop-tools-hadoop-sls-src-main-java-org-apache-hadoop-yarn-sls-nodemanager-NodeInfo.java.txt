Merging r1538408 through r1539244 from trunk to branch HDFS-2832

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2832@1539245 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.yarn.api.records.ResourceOption;
-    private Resource perNode;
+    private volatile ResourceOption perNode;
-        Resource perNode, String rackName, String healthReport,
+        ResourceOption perNode, String rackName, String healthReport,
+      return perNode.getResource();
+    }
+    
+    public ResourceOption getResourceOption() {
+
+    @Override
+    public void setResourceOption(ResourceOption resourceOption) {
+      perNode = resourceOption;
+    }
-                              final Resource resource, int port) {
+                              final ResourceOption resourceOption, int port) {
-        resource, rackName, "Me good",
+        resourceOption, rackName, "Me good",
-    return newNodeInfo(rackName, hostName, resource, NODE_ID++);
+    return newNodeInfo(rackName, hostName, ResourceOption.newInstance(resource,
+        RMNode.OVER_COMMIT_TIMEOUT_MILLIS_DEFAULT), NODE_ID++);

INS26 INS40 INS31 INS31 INS83 UPD43 INS8 INS83 INS43 INS42 MOV8 INS78 INS83 INS39 INS42 INS44 INS8 UPD43 UPD42 UPD42 UPD43 INS41 INS42 INS42 INS43 INS42 INS21 UPD42 UPD42 INS32 INS42 INS7 UPD42 INS32 INS42 INS42 INS42 INS42 INS42 INS42 MOV42 INS40