HDFS-11469. Ozone: SCM: Container allocation based on node report. Contributed by Xiaoyu Yao.

+import com.google.common.annotations.VisibleForTesting;
+import java.util.Map;
-   * Return a list of node stats.
-   * @return a list of individual node stats (live/stale but not dead).
+   * Return a map of node stats.
+   * @return a map of individual node stats (live/stale but not dead).
-  List<SCMNodeStat> getNodeStats();
+  Map<String, SCMNodeStat> getNodeStats();
+  /**
+   * Return the node stat of the specified datanode.
+   * @param datanodeID - datanode ID.
+   * @return node stat if it is live/stale, null if it is dead or does't exist.
+   */
+  SCMNodeStat getNodeStat(DatanodeID datanodeID);
+
+  /**
+   * Wait for the heartbeat is processed by NodeManager.
+   * @return true if heartbeat has been processed.
+   */
+  @VisibleForTesting
+  boolean waitForHeartbeatProcessed();

INS26 INS26 INS40 INS40 INS31 INS31 UPD74 INS29 MOV43 INS42 INS44 INS29 INS78 INS39 INS42 INS43 INS43 UPD43 INS65 INS65 INS65 INS43 INS42 INS65 INS65 INS42 UPD66 UPD66 INS42 INS42 UPD42 INS66 INS42 INS66 INS66 INS42 INS66 INS66