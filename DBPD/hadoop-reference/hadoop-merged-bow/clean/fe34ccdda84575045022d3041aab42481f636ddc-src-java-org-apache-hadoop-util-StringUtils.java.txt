HADOOP-6623. Add StringUtils.split for non-escaped single-character separator. Contributed by Todd Lipcon.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@941508 13f79535-47bb-0310-9956-ffa450edef68

+
+  /**
+   * Split a string using the given separator, with no escaping performed.
+   * @param str a string to be split. Note that this may not be null.
+   * @param separator a separator char
+   * @return an array of strings
+   */
+  public static String[] split(
+      String str, char separator) {
+    // String.split returns a single empty result for splitting the empty
+    // string.
+    if ("".equals(str)) {
+      return new String[]{""};
+    }
+    ArrayList<String> strList = new ArrayList<String>();
+    int startIndex = 0;
+    int nextIndex = 0;
+    while ((nextIndex = str.indexOf((int)separator, startIndex)) != -1) {
+      strList.add(str.substring(startIndex, nextIndex));
+      startIndex = nextIndex + 1;
+    }
+    strList.add(str.substring(startIndex));
+    // remove trailing empty split(s)
+    int last = strList.size(); // last split
+    while (--last>=0 && "".equals(strList.get(last))) {
+      strList.remove(last);
+    }
+    return strList.toArray(new String[strList.size()]);
+  }

INS31 INS29 INS83 INS83 INS5 INS42 INS44 INS44 INS8 INS65 INS65 INS65 INS65 INS43 INS85 INS43 INS42 INS39 INS42 INS25 INS60 INS60 INS60 INS61 INS21 INS60 INS61 INS41 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS42 INS32 INS8 INS74 INS59 INS39 INS59 INS39 INS59 INS27 INS8 INS32 INS39 INS59 INS27 INS8 INS32 INS45 INS42 INS42 INS41 INS43 INS43 INS42 INS14 INS42 INS34 INS42 INS34 INS36 INS38 INS21 INS21 INS42 INS42 INS32 INS42 INS32 INS27 INS32 INS21 INS42 INS42 INS3 INS3 INS42 INS42 INS74 INS7 INS34 INS32 INS7 INS42 INS42 INS42 INS42 INS42 INS38 INS34 INS45 INS42 INS32 INS32 INS5 INS32 INS5 INS4 INS43 INS43 INS42 INS32 INS42 INS42 INS32 INS42 INS27 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS43 INS85 INS42 INS42 INS43 INS85 INS45 INS42 INS42 INS42 INS42 INS11 INS42 INS42 INS42 INS42 INS42 INS42 INS34 INS42 INS42 INS39 INS42