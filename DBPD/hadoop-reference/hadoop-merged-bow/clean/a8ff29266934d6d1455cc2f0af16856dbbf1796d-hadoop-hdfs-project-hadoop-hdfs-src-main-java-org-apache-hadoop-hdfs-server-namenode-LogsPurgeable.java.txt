Merge trunk into HDFS-3077 branch.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-3077@1377092 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.hadoop.hdfs;
-import org.junit.Test;
+package org.apache.hadoop.hdfs.server.namenode;
-public class TestFileCreationNamenodeRestart {
-  @Test
-  public void testFileCreationNamenodeRestart() throws Exception {
-    new TestFileCreation().xxxtestFileCreationNamenodeRestart();
-  }
+import java.io.IOException;
+
+/**
+ * Interface used to abstract over classes which manage edit logs that may need
+ * to be purged.
+ */
+interface LogsPurgeable {
+  
+  /**
+   * Remove all edit logs with transaction IDs lower than the given transaction
+   * ID.
+   * 
+   * @param minTxIdToKeep the lowest transaction ID that should be retained
+   * @throws IOException in the event of error
+   */
+  public void purgeLogsOlderThan(long minTxIdToKeep) throws IOException;
+

UPD40 UPD40 INS29 UPD42 INS65 INS29 UPD42 INS44 INS43 INS66 INS66 INS65 INS65 INS65 INS39 INS42 UPD42 MOV42 INS66 INS66 INS42 INS66 INS42 INS66 DEL83 DEL42 DEL78 DEL42 DEL43 DEL43 DEL14 DEL42 DEL32 DEL21 DEL8