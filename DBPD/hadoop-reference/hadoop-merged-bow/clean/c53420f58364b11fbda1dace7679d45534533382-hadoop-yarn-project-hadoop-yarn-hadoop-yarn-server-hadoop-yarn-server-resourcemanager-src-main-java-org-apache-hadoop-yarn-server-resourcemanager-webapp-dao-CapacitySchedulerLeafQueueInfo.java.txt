YARN-2637. Fixed max-am-resource-percent calculation in CapacityScheduler when activating applications. Contributed by Craig Welch

-  protected int maxActiveApplications;
-  protected int maxActiveApplicationsPerUser;
+  protected ResourceInfo aMResourceLimit;
+  protected ResourceInfo userAMResourceLimit;
-    maxActiveApplications = q.getMaximumActiveApplications();
-    maxActiveApplicationsPerUser = q.getMaximumActiveApplicationsPerUser();
+    aMResourceLimit = new ResourceInfo(q.getAMResourceLimit());
+    userAMResourceLimit = new ResourceInfo(q.getUserAMResourceLimit());
-  public int getMaxActiveApplications() {
-    return maxActiveApplications;
-  }
-
-  public int getMaxActiveApplicationsPerUser() {
-    return maxActiveApplicationsPerUser;
-  }
-
+  
+  public ResourceInfo getAMResourceLimit() {
+    return aMResourceLimit;
+  }
+  
+  public ResourceInfo getUserAMResourceLimit() {
+    return userAMResourceLimit; 
+  }

MOV23 MOV23 MOV31 MOV31 INS43 INS43 MOV21 MOV21 INS43 UPD42 INS43 UPD42 INS42 UPD42 INS42 UPD42 INS42 INS42 UPD42 UPD42 UPD42 INS14 UPD42 INS14 INS43 INS32 INS43 INS32 INS42 MOV42 UPD42 MOV42 INS42 MOV42 UPD42 MOV42 DEL39 DEL39 DEL32 DEL32 DEL39 DEL39