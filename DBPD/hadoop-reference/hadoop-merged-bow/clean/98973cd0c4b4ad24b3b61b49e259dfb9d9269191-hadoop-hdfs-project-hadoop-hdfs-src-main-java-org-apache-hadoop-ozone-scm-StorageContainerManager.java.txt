HDFS-12966. Ozone: owner name should be set properly when the container allocation happens. Contributed by Shashikant Banerjee.

-      OzoneProtos.ReplicationFactor replicationFactor, String containerName)
-      throws IOException {
+      OzoneProtos.ReplicationFactor replicationFactor, String containerName,
+      String owner) throws IOException {
-    //TODO : FIX ME : Pass the owner argument to this function.
-    // This causes a lot of test change and cblock change to filing
-    // another JIRA to fix it.
-    final OzoneProtos.Owner owner = OzoneProtos.Owner.OZONE;
-    return scmContainerManager.allocateContainer(replicationType,
-        replicationFactor, containerName, owner).getPipeline();
+    return scmContainerManager
+        .allocateContainer(replicationType, replicationFactor, containerName,
+            owner).getPipeline();
-  public AllocatedBlock allocateBlock(long size, OzoneProtos.ReplicationType
-      type, OzoneProtos.ReplicationFactor factor) throws IOException {
-    return scmBlockManager.allocateBlock(size, type, factor);
+  public AllocatedBlock allocateBlock(long size,
+      OzoneProtos.ReplicationType type, OzoneProtos.ReplicationFactor factor,
+      String owner) throws IOException {
+    return scmBlockManager.allocateBlock(size, type, factor, owner);

INS44 INS44 INS43 INS42 INS43 INS42 INS42 INS42 INS42 DEL83 DEL40 DEL43 DEL42 DEL40 DEL59 DEL60