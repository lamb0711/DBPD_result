HADOOP-15571. Multiple FileContexts created with the same configuration object should be allowed to have different umask. Contributed by Vinod Kumar Vavilapalli.

-   *  3) umask (Obtained by FsPermission.getUMask(conf))
+   *  3) umask (explicitly set via setUMask(),
+   *      falling back to FsPermission.getUMask(conf))
+  private FsPermission umask;
-    return FsPermission.getUMask(conf);
+    return (umask != null ? umask : FsPermission.getUMask(conf));
-    FsPermission.setUMask(conf, newUmask);
+    this.umask = newUmask;
-  

INS23 INS83 INS43 INS59 INS42 INS42 INS66 UPD66 INS36 INS7 INS16 INS22 INS42 INS27 INS42 MOV32 INS52 INS42 INS42 INS33 DEL42 DEL42 DEL42 DEL42 DEL32