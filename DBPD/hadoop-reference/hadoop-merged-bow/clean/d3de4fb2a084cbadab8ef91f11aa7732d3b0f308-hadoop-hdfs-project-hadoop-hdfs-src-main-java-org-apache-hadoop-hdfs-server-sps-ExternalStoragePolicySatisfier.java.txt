HDFS-13077. [SPS]: Fix review comments of external storage policy satisfier. Contributed by Rakesh R.

+import java.net.InetSocketAddress;
+import org.apache.hadoop.hdfs.DFSConfigKeys;
+import org.apache.hadoop.net.NetUtils;
+import org.apache.hadoop.security.SecurityUtil;
+import org.apache.hadoop.security.UserGroupInformation;
-public class ExternalStoragePolicySatisfier {
+public final class ExternalStoragePolicySatisfier {
+  private ExternalStoragePolicySatisfier() {
+    // This is just a class to start and run external sps.
+  }
+
-  public static void main(String args[]) throws Exception {
+  public static void main(String[] args) throws Exception {
-      //TODO : login with SPS keytab
+      // login with SPS keytab
+      secureLogin(spsConf);
+  private static void secureLogin(Configuration conf)
+      throws IOException {
+    UserGroupInformation.setConfiguration(conf);
+    String addr = conf.get(DFSConfigKeys.DFS_SPS_ADDRESS_KEY,
+        DFSConfigKeys.DFS_SPS_ADDRESS_DEFAULT);
+    InetSocketAddress socAddr = NetUtils.createSocketAddr(addr, 0,
+        DFSConfigKeys.DFS_SPS_ADDRESS_KEY);
+    SecurityUtil.login(conf, DFSConfigKeys.DFS_SPS_KEYTAB_FILE_KEY,
+        DFSConfigKeys.DFS_SPS_KERBEROS_PRINCIPAL_KEY,
+        socAddr.getHostName());
+  }
+
-                StoragePolicySatisfier.class.getSimpleName(),
+                ExternalStoragePolicySatisfier.class.getSimpleName(),

INS26 INS26 INS26 INS26 INS26 INS40 INS40 INS40 INS40 INS40 INS83 INS31 INS31 INS83 INS42 INS8 INS83 INS83 INS39 INS42 INS44 INS43 INS8 INS5 INS43 INS42 INS42 INS21 INS60 INS60 INS21 MOV43 INS85 INS42 INS32 INS43 INS59 INS43 INS59 INS32 INS21 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS42 INS40 INS40 INS32 INS32 INS42 INS42 INS40 INS40 INS42 INS42 INS42 INS34 INS40 INS42 INS42 INS42 INS42 UPD43 UPD42 DEL85