Merge trunk into HA branch.

Resolved some semantic conflicts in TestFileAppendRestart - we now log more OP_ADDs in the HA branch than we did in trunk.
Resolved some conflicts around removal of VersionedProtocol, etc.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1295342 13f79535-47bb-0310-9956-ffa450edef68

-  public static final int DEFAULT_RM_PORT = 8040;
+  public static final int DEFAULT_RM_PORT = 8032;
-  public static final int DEFAULT_RM_RESOURCE_TRACKER_PORT = 8025;
+  public static final int DEFAULT_RM_RESOURCE_TRACKER_PORT = 8031;
-  public static final boolean DEFAULT_YARN_ACL_ENABLE = true;
+  public static final boolean DEFAULT_YARN_ACL_ENABLE = false;
-  public static final int DEFAULT_RM_ADMIN_PORT = 8141;
+  public static final int DEFAULT_RM_ADMIN_PORT = 8033;
-  public static final int DEFAULT_NM_LOCALIZER_PORT = 4344;
+  public static final int DEFAULT_NM_LOCALIZER_PORT = 8040;
-  public static final int DEFAULT_NM_WEBAPP_PORT = 9999;
+  public static final int DEFAULT_NM_WEBAPP_PORT = 8042;

UPD34 UPD34 UPD9 UPD34 UPD34 UPD34