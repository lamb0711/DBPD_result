Merge trunk into auto-HA branch


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-3042@1333291 13f79535-47bb-0310-9956-ffa450edef68

-  public class FrameworkCounter extends AbstractCounter {
+  public static class FrameworkCounter<T extends Enum<T>> extends AbstractCounter {
+    final String groupName;
-    public FrameworkCounter(T ref) {
+    public FrameworkCounter(T ref, String groupName) {
+      this.groupName = groupName;
-      return localizeCounterName(getName());
+      return ResourceBundles.getCounterName(groupName, getName(), getName());
-    private String localizeCounterName(String counterName) {
-      return ResourceBundles.getCounterName(getName(), counterName, counterName);
-    }
-
-        findCounter(((FrameworkCounter) counter).key)
+        findCounter(((FrameworkCounter) counter).key.name())

INS83 INS73 INS23 INS42 INS74 INS83 MOV43 INS59 INS44 INS43 INS43 INS42 MOV43 INS42 INS21 INS42 INS42 INS7 INS22 INS42 INS42 UPD42 INS42 MOV32 INS52 INS42 INS32 INS42 MOV32 MOV42 UPD42 DEL83 DEL42 DEL42 DEL44 DEL42 DEL42 DEL42 DEL42 DEL32 DEL41 DEL8 DEL31