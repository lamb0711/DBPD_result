HDFS-10196. Ozone : Enable better error reporting for failed commands in ozone shell. Contributed by Anu Engineer.

+  /**
+   * Main for the ozShell Command handling.
+   *
+   * @param argv - System Args Strings[]
+   * @throws Exception
+   */
+  public static void main(String[] argv) throws Exception {
+    Shell shell = new Shell();
+    Configuration conf = new Configuration();
+    conf.setQuietMode(false);
+    shell.setConf(conf);
+    int res = 0;
+    try {
+      res = ToolRunner.run(shell, argv);
+    } catch (Exception ex) {
+      System.exit(1);
+    }
+    System.exit(res);
+  }
-   * Construct an ozShell.
-   */
-  public Shell() {
-  }
-
-  /**
-
-  /**
-   * Main for the ozShell Command handling.
-   *
-   * @param argv - System Args Strings[]
-   *
-   * @throws Exception
-   */
-  public static void main(String[] argv) throws Exception {
-    Shell shell = new Shell();
-    Configuration conf = new Configuration();
-    conf.setQuietMode(false);
-    shell.setConf(conf);
-    int res = 0;
-    try {
-      res = ToolRunner.run(shell, argv);
-    } catch (Exception ex) {
-      System.exit(1);
-    }
-    System.exit(res);
-  }
-
-                "Ozone Commands",
-                opts, "Please correct your command and try again.");
+            "Ozone Commands",
+            opts, "Please correct your command and try again.");
-    } catch (IOException | OzoneException | URISyntaxException ex) {
+    } catch (IOException | URISyntaxException ex) {
-      return 1;
+    } catch (OzoneException ex) {
+      System.err.printf("Command Failed : %s%n", ex.toJsonString());
+    return 1;

MOV31 MOV41 INS12 INS44 INS8 UPD84 MOV43 INS42 INS21 INS32 INS40 INS42 INS45 INS32 INS42 INS42 DEL66 DEL65 DEL29 DEL83 DEL42 DEL8 DEL31