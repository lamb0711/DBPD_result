YARN-2315. FairScheduler: Set current capacity in addition to capacity. (Zhihai Xu via kasha)

-    // TODO: we might change these queue metrics around a little bit
-    // to match the semantics of the fair scheduler.
-    queueInfo.setCapacity((float) getFairShare().getMemory() /
-        scheduler.getClusterResource().getMemory());
-    queueInfo.setCapacity((float) getResourceUsage().getMemory() /
-        scheduler.getClusterResource().getMemory());
-    
+
+    if (scheduler.getClusterResource().getMemory() == 0) {
+      queueInfo.setCapacity(0.0f);
+    } else {
+      queueInfo.setCapacity((float) getFairShare().getMemory() /
+          scheduler.getClusterResource().getMemory());
+    }
+
+    if (getFairShare().getMemory() == 0) {
+      queueInfo.setCurrentCapacity(0.0f);
+    } else {
+      queueInfo.setCurrentCapacity((float) getResourceUsage().getMemory() /
+          getFairShare().getMemory());
+    }
+

INS25 INS25 UPD27 MOV27 INS8 INS8 INS27 INS8 INS8 INS34 MOV21 MOV21 INS32 INS34 INS21 INS21 INS32 INS42 INS32 INS32 INS34 INS42 INS42 INS42 INS34 INS42 INS42 INS27 MOV11 INS32 INS32 INS42 INS42