HDFS-6651. Deletion failure can leak inodes permanently. Contributed by Jing Zhao.

-import org.apache.hadoop.hdfs.protocol.BlockStoragePolicy;
-  public void recordModification(int latestSnapshotId)
-      throws QuotaExceededException {
+  public void recordModification(int latestSnapshotId) {
-      final INode snapshotCopy) throws QuotaExceededException {
+      final INode snapshotCopy) {
-  public boolean removeChild(INode child, int latestSnapshotId)
-      throws QuotaExceededException {
+  public boolean removeChild(INode child, int latestSnapshotId) {
-      final List<INode> removedINodes, final Map<INode, INode> excludedNodes, 
-      final boolean countDiffChange) throws QuotaExceededException {
+      final List<INode> removedINodes, final Map<INode, INode> excludedNodes) {
-            collectedBlocks, removedINodes, countDiffChange);
+            collectedBlocks, removedINodes);
-      final List<INode> removedINodes, final boolean countDiffChange)
-      throws QuotaExceededException {
+      final List<INode> removedINodes) {
-          collectedBlocks, removedINodes, countDiffChange);
+          collectedBlocks, removedINodes);
-          collectedBlocks, removedINodes, null, countDiffChange);
+          collectedBlocks, removedINodes, null);

DEL40 DEL26 DEL42 DEL43 DEL42 DEL43 DEL42 DEL43 DEL83 DEL39 DEL42 DEL44 DEL42 DEL43 DEL42 DEL83 DEL39 DEL42 DEL44 DEL42 DEL43 DEL42 DEL42