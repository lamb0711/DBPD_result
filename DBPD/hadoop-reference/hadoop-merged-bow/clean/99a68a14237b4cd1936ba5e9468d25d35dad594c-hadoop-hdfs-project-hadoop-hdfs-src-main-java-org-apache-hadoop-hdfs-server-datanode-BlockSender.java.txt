HDFS-3155. Clean up FSDataset implemenation related code.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1306582 13f79535-47bb-0310-9956-ffa450edef68

-  /** the replica to read from */
-  private final Replica replica;
-  /** The visible length of a replica. */
-  private final long replicaVisibleLength;
+      final Replica replica;
+      final long replicaVisibleLength;
-        this.replica = getReplica(block, datanode);
-        this.replicaVisibleLength = replica.getVisibleLength();
+        replica = getReplica(block, datanode);
+        replicaVisibleLength = replica.getVisibleLength();
-        long minEndOffset = startOffset + length;
-        waitForMinLength((ReplicaBeingWritten)replica, minEndOffset);
-        ReplicaInPipeline rip = (ReplicaInPipeline) replica;
-        chunkChecksum = rip.getLastChecksumAndDataLen();
+        final ReplicaBeingWritten rbw = (ReplicaBeingWritten)replica;
+        waitForMinLength(rbw, startOffset + length);
+        chunkChecksum = rbw.getLastChecksumAndDataLen();

INS60 INS60 INS83 MOV43 MOV59 INS83 INS39 MOV59 INS83 INS43 INS42 INS42 INS42 UPD42 MOV11 UPD42 MOV27 UPD42 DEL66 DEL65 DEL29 DEL83 DEL83 DEL23 DEL66 DEL65 DEL29 DEL83 DEL83 DEL39 DEL23 DEL52 DEL42 DEL22 DEL52 DEL42 DEL22 DEL39 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL11 DEL59 DEL60