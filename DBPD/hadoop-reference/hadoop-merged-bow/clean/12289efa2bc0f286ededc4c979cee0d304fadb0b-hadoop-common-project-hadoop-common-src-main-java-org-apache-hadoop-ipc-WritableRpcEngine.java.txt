HADOOP-7965. Support for protocol version and signature in PB.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1236444 13f79535-47bb-0310-9956-ffa450edef68

-import java.lang.reflect.InvocationHandler;
-import java.io.Closeable;
+import org.apache.hadoop.ipc.Client.ConnectionId;
-  private static class Invoker implements InvocationHandler, Closeable {
+  private static class Invoker implements RpcInvocationHandler {
+
+    @Override
+    public ConnectionId getConnectionId() {
+      return remoteId;
+    }
+
+  @Override
+  public ProtocolProxy<ProtocolMetaInfoPB> getProtocolMetaInfoProxy(
+      ConnectionId connId, Configuration conf, SocketFactory factory)
+      throws IOException {
+    throw new UnsupportedOperationException("This proxy is not supported");
+  }

MOV26 UPD40 INS31 UPD43 INS31 INS78 INS83 INS74 INS42 INS44 INS44 INS44 INS43 INS8 UPD42 INS78 INS83 INS43 INS42 INS8 INS42 INS43 INS43 INS43 INS42 INS43 INS42 INS43 INS42 INS42 INS53 INS42 UPD42 MOV42 INS41 INS42 INS42 INS42 INS42 INS42 INS14 INS42 INS43 INS45 INS42 DEL40 DEL26 DEL43