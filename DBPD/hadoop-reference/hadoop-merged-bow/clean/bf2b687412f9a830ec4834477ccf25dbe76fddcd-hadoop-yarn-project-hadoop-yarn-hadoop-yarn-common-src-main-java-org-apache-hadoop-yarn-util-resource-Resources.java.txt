YARN-7136. Additional Performance Improvement for Resource Profile Feature
(Contributed by Wangda Tan via Daniel Templeton)

-import org.apache.hadoop.yarn.api.records.impl.BaseResource;
-import java.util.Arrays;
-
-  static class FixedValueResource extends BaseResource {
+  @InterfaceAudience.Private
+  @Unstable
+  static class FixedValueResource extends Resource {
-    private long resourceValue;
+    private final long resourceValue;
+    public void setResourceInformation(int index,
+        ResourceInformation resourceInformation)
+        throws ResourceNotFoundException {
+      throw new RuntimeException(name + " cannot be modified!");
+    }
+
+    @Override
+    public void setResourceValue(int index, long value)
+        throws ResourceNotFoundException {
+      throw new RuntimeException(name + " cannot be modified!");
+    }
+
+    @Override
-        readOnlyResources = new ResourceInformation[types.length];
-
-          // this is a fix for getVirtualCores returning an int
-          if (resourceValue > Integer.MAX_VALUE && ResourceInformation.VCORES
-              .getName().equals(resources[index].getName())) {
-            resources[index].setValue((long) Integer.MAX_VALUE);
-          }
-      readOnlyResources = Arrays.copyOf(resources, resources.length);

INS78 INS78 UPD43 INS31 INS31 INS40 INS42 UPD42 INS83 INS78 INS83 INS39 INS42 INS44 INS44 INS43 INS8 INS78 INS83 INS39 INS42 INS44 INS44 INS43 INS8 INS42 INS39 INS42 MOV43 INS42 INS42 INS53 INS42 INS39 INS42 INS39 INS42 INS42 INS53 INS14 INS14 INS43 INS27 INS43 INS27 INS42 INS42 INS45 INS42 INS42 INS45 DEL40 DEL26 DEL40 DEL26 DEL42 DEL85 DEL5 DEL40 DEL3 DEL7 DEL21 DEL42 DEL40 DEL27 DEL40 DEL42 DEL32 DEL42 DEL42 DEL42 DEL2 DEL42 DEL32 DEL32 DEL27 DEL42 DEL42 DEL2 DEL42 DEL39 DEL40 DEL11 DEL32 DEL21 DEL8 DEL25 DEL42 DEL42 DEL42 DEL42 DEL40 DEL32 DEL7 DEL21