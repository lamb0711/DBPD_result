HDFS-8408. Revisit and refactor ErasureCodingInfo (Contributed by Vinayakumar B)

-import org.apache.hadoop.hdfs.protocol.ErasureCodingInfo;
-import org.apache.hadoop.hdfs.protocol.ErasureCodingZoneInfo;
+import org.apache.hadoop.hdfs.protocol.ErasureCodingZone;
-import org.apache.hadoop.hdfs.protocol.proto.ErasureCodingProtos.GetErasureCodingZoneInfoRequestProto;
-import org.apache.hadoop.hdfs.protocol.proto.ErasureCodingProtos.GetErasureCodingZoneInfoResponseProto;
-import org.apache.hadoop.hdfs.protocol.proto.ErasureCodingProtos.GetErasureCodingInfoRequestProto;
-import org.apache.hadoop.hdfs.protocol.proto.ErasureCodingProtos.GetErasureCodingInfoResponseProto;
+import org.apache.hadoop.hdfs.protocol.proto.ErasureCodingProtos.GetErasureCodingZoneRequestProto;
+import org.apache.hadoop.hdfs.protocol.proto.ErasureCodingProtos.GetErasureCodingZoneResponseProto;
-  public ErasureCodingInfo getErasureCodingInfo(String src) throws IOException {
-    GetErasureCodingInfoRequestProto req = GetErasureCodingInfoRequestProto.newBuilder()
-        .setSrc(src).build();
-    try {
-      GetErasureCodingInfoResponseProto res = rpcProxy.getErasureCodingInfo(null, req);
-      if (res.hasECInfo()) {
-        return PBHelper.convertECInfo(res.getECInfo());
-      }
-      return null;
-    } catch (ServiceException e) {
-      throw ProtobufHelper.getRemoteException(e);
-    }
-  }
-
-  @Override
-  public ErasureCodingZoneInfo getErasureCodingZoneInfo(String src) throws IOException {
-    GetErasureCodingZoneInfoRequestProto req = GetErasureCodingZoneInfoRequestProto.newBuilder()
+  public ErasureCodingZone getErasureCodingZone(String src) throws IOException {
+    GetErasureCodingZoneRequestProto req = GetErasureCodingZoneRequestProto.newBuilder()
-      GetErasureCodingZoneInfoResponseProto response = rpcProxy.getErasureCodingZoneInfo(
+      GetErasureCodingZoneResponseProto response = rpcProxy.getErasureCodingZone(
-      if (response.hasECZoneInfo()) {
-        return PBHelper.convertECZoneInfo(response.getECZoneInfo());
+      if (response.hasECZone()) {
+        return PBHelper.convertErasureCodingZone(response.getECZone());

UPD40 UPD40 UPD40 MOV78 UPD43 UPD42 MOV44 MOV43 UPD42 UPD43 MOV12 UPD42 MOV41 UPD43 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL32 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL42 DEL33 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL32 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL41 DEL8 DEL25 DEL8 DEL54 DEL8 DEL31 DEL42 DEL78 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL33 DEL41 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL32 DEL53 DEL8 DEL12