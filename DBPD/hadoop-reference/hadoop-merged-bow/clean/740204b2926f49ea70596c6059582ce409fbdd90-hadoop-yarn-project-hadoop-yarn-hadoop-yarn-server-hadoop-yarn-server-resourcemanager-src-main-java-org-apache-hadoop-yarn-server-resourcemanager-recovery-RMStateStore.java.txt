YARN-5006. ResourceManager quit due to ApplicationStateData exceed the limit size of znode in zk. Contributed by Bibin A Chundatt.

-import org.apache.hadoop.yarn.conf.YarnConfiguration;
-        store.notifyApplication(new RMAppEvent(appId,
-               RMAppEventType.APP_NEW_SAVED));
+        store.notifyApplication(
+            new RMAppEvent(appId, RMAppEventType.APP_NEW_SAVED));
-        isFenced = store.notifyStoreOperationFailedInternal(e);
+        if (e instanceof StoreLimitException) {
+          store.notifyApplication(new RMAppEvent(appId,
+              RMAppEventType.APP_REJECTED, e.getMessage(), false));
+        } else {
+          isFenced = store.notifyStoreOperationFailedInternal(e);
+        }
+

INS8 MOV21 INS25 INS62 INS8 MOV8 INS42 INS43 INS21 INS42 INS32 INS42 INS42 INS14 INS43 INS42 INS40 INS32 INS9 INS42 INS42 INS42 DEL40 DEL26