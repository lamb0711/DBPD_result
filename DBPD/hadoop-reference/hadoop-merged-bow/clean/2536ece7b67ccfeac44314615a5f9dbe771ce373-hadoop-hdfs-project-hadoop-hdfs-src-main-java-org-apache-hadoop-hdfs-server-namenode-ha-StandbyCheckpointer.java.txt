HDFS-9787. SNNs stop uploading FSImage to ANN once isPrimaryCheckPointer changed to false. (Contributed by Guocui Mi)

+  private long lastUploadTime;
+    lastUploadTime = monotonicNow();
+      lastUploadTime = monotonicNow();
-            boolean sendRequest = isPrimaryCheckPointer || secsSinceLast >= checkpointConf.getQuietPeriod();
+            final long secsSinceLastUpload = (now - lastUploadTime) / 1000;
+            boolean sendRequest = isPrimaryCheckPointer
+                || secsSinceLastUpload >= checkpointConf.getQuietPeriod();

INS23 INS83 INS39 INS59 INS42 INS21 INS7 INS21 INS42 INS32 INS7 INS42 INS42 INS32 INS42 INS60 INS83 INS39 INS59 INS42 INS27 INS36 INS34 INS27 UPD42 INS42 INS42