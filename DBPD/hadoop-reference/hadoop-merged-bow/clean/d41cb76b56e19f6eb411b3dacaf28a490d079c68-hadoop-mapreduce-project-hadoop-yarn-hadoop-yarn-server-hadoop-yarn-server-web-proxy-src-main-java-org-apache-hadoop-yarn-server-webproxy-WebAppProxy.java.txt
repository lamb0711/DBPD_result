MAPREDUCE-3960. Fix web-proxy to forward request to AM with configured hostname or IP. Contributed by Thomas Graves. 


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1296878 13f79535-47bb-0310-9956-ffa450edef68

+  public static final String PROXY_HOST_ATTRIBUTE = "proxyHost";
+  private String proxyHost = null;
+    String proxy = YarnConfiguration.getProxyHostAndPort(conf);
+    String[] proxyParts = proxy.split(":");
+    proxyHost = proxyParts[0];
+      proxyServer.setAttribute(PROXY_HOST_ATTRIBUTE, proxyHost);

INS23 INS23 INS83 INS83 INS83 INS43 INS59 INS83 INS43 INS59 INS42 INS42 INS45 INS42 INS42 INS33 INS60 INS60 INS21 INS43 INS59 INS5 INS59 INS7 INS42 INS42 INS32 INS43 INS85 INS42 INS32 INS42 INS2 INS21 INS42 INS42 INS42 INS42 INS42 INS42 INS45 INS42 INS34 INS32 INS42 INS42 INS42 INS42