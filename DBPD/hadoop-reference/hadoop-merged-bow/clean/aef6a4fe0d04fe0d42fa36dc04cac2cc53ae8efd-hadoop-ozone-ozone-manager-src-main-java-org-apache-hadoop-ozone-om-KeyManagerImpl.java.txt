HDDS-1950. S3 MPU part-list call fails if there are no parts

Signed-off-by: Anu Engineer <aengineer@apache.org>

-        HddsProtos.ReplicationType replicationType =
-            partKeyInfoMap.firstEntry().getValue().getPartKeyInfo().getType();
+
+        HddsProtos.ReplicationType replicationType = null;
+
+
+            //if there are parts, use replication type from one of the parts
+        if (replicationType == null) {
+          //if there are no parts, use the replicationType from the open key.
+
+          OmKeyInfo omKeyInfo =
+              metadataManager.getOpenKeyTable().get(multipartKey);
+
+          if (omKeyInfo == null) {
+            throw new IllegalStateException(
+                "Open key is missing for multipart upload " + multipartKey);
+          }
+
+          replicationType = omKeyInfo.getType();
+
+        }
+        Preconditions.checkNotNull(replicationType,
+            "Replication type can't be identified");
+

INS60 INS25 INS21 MOV43 INS59 INS27 INS8 INS32 MOV42 INS33 INS42 INS33 INS60 INS25 INS21 INS42 INS42 INS42 INS45 INS43 INS59 INS27 INS8 INS7 INS42 INS42 INS32 INS42 INS33 INS53 INS42 INS32 MOV32 UPD42 MOV42 INS42 INS14 INS42 MOV42 UPD42 UPD42 INS43 INS27 INS42 INS45 INS42 DEL32 DEL42 DEL32 DEL32 DEL59 DEL60