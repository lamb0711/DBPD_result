HDFS-12682. ECAdmin -listPolicies will always show SystemErasureCodingPolicies state as DISABLED.

-import org.apache.hadoop.hdfs.protocol.ErasureCodingPolicy;
+import org.apache.hadoop.hdfs.protocol.ErasureCodingPolicyInfo;
-      List<ErasureCodingPolicy> ecPolicies = Lists
+      List<ErasureCodingPolicyInfo> ecPolicies = Lists
-        ecPolicies.add(PBHelperClient.convertErasureCodingPolicy(
+        ecPolicies.add(PBHelperClient.convertErasureCodingPolicyInfo(
-      ErasureCodingPolicy[] ecPolicies =
+      ErasureCodingPolicyInfo[] ecPolicies =
-      for (ErasureCodingPolicy p : ecPolicies) {
+      for (ErasureCodingPolicyInfo p : ecPolicies) {

UPD40 UPD74 UPD5 UPD43 UPD43 UPD43 UPD42 UPD42 UPD42 UPD42