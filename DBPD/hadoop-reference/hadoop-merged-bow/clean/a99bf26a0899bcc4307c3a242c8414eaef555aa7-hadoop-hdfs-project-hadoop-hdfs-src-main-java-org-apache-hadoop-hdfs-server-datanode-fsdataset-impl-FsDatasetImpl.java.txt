HDFS-10830. FsDatasetImpl#removeVolumes crashes with IllegalMonitorStateException when vol being removed is in use. (Arpit Agarwal and Manoj Govindassamy)

+import java.util.concurrent.locks.Condition;
+  private final Condition datasetLockCondition;
+    this.datasetLockCondition = datasetLock.newCondition();
+
-          volumes.waitVolumeRemoved(5000, this);
+          volumes.waitVolumeRemoved(5000, datasetLockCondition);

INS26 INS40 INS23 INS83 INS83 INS43 INS59 INS42 INS42 INS21 INS7 INS22 INS32 INS52 INS42 INS42 INS42 INS42 DEL52