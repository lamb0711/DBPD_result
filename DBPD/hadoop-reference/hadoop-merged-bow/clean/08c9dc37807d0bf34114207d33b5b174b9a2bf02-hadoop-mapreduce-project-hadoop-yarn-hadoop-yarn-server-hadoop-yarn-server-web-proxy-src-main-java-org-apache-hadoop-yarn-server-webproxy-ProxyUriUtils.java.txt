Merge trunk into HA branch.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1215367 13f79535-47bb-0310-9956-ffa450edef68

-   * @param originalUri the original URI to go through the proxy
+   * @param originalUri the original URI to go through the proxy, or null if
+   * a default path "/" can be used. 
-      String path = getPath(id, originalUri.getPath());
+      String path = getPath(id, originalUri == null ? "/" : originalUri.getPath());
-          originalUri.getQuery(), originalUri.getFragment());
+          originalUri == null ? null : originalUri.getQuery(),
+          originalUri == null ? null : originalUri.getFragment());

UPD66 INS66 INS16 INS16 INS16 INS27 INS33 MOV32 INS27 INS33 MOV32 INS27 INS45 MOV32 INS42 INS33 INS42 INS33 INS42 INS33