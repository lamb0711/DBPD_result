HDFS-13115. In getNumUnderConstructionBlocks(), ignore the inodeIds for which the inodes have been deleted. Contributed by Yongjun Zhang.

-      final INodeFile cons = fsnamesystem.getFSDirectory().getInode(id).asFile();
+      INode inode = fsnamesystem.getFSDirectory().getInode(id);
+      if (inode == null) {
+        // The inode could have been deleted after getINodeIdWithLeases() is
+        // called, check here, and ignore it if so
+        LOG.warn("Failed to find inode {} in getNumUnderConstructionBlocks().",
+            id);
+        continue;
+      }
+      final INodeFile cons = inode.asFile();
-        if(!b.isComplete())
+        if(!b.isComplete()) {
+    }

INS25 INS60 INS43 INS27 INS8 INS83 MOV43 INS59 INS42 INS42 MOV32 INS42 INS33 INS21 INS18 INS42 INS32 INS32 INS42 INS42 INS8 INS42 INS42 INS45 INS42 MOV21 DEL83 DEL42 DEL42 DEL32