HDFS-13300. Ozone: Remove DatanodeID dependency from HDSL and Ozone.
Contributed by Nanda kumar.

-import org.apache.hadoop.hdfs.protocol.DatanodeID;
+import org.apache.hadoop.hdsl.protocol.DatanodeDetails;
-  private XceiverServerRatis(DatanodeID id, int port, String storageDir,
+  private XceiverServerRatis(DatanodeDetails dd, int port, String storageDir,
-    Objects.requireNonNull(id, "id == null");
+    Objects.requireNonNull(dd, "id == null");
-        .setServerId(RatisHelper.toRaftPeerId(id))
+        .setServerId(RatisHelper.toRaftPeerId(dd))
-  public static XceiverServerRatis newXceiverServerRatis(DatanodeID datanodeID,
-      Configuration ozoneConf, ContainerDispatcher dispatcher)
-      throws IOException {
+  public static XceiverServerRatis newXceiverServerRatis(
+      DatanodeDetails datanodeDetails, Configuration ozoneConf,
+      ContainerDispatcher dispatcher) throws IOException {
-            storageDir.concat(File.separator + datanodeID.getDatanodeUuid());
+            storageDir.concat(File.separator +
+                datanodeDetails.getUuidString());
-    datanodeID.setRatisPort(localPort);
-    return new XceiverServerRatis(datanodeID, localPort, storageDir,
+    datanodeDetails.setRatisPort(localPort);
+    return new XceiverServerRatis(datanodeDetails, localPort, storageDir,

UPD40 UPD43 UPD42 UPD43 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42