YARN-5309. Fix SSLFactory truststore reloader thread leak in TimelineClientImpl. Contributed by Weiwei Yang.

+  private SSLFactory sslFactory;
-    connConfigurator = newConnConfigurator(conf);
+    connConfigurator = initConnConfigurator(conf);
+    if (this.sslFactory != null) {
+      this.sslFactory.destroy();
+    }
-  private static ConnectionConfigurator newConnConfigurator(Configuration conf) {
+  private ConnectionConfigurator initConnConfigurator(Configuration conf) {
-      return newSslConnConfigurator(DEFAULT_SOCKET_TIMEOUT, conf);
+      return initSslConnConfigurator(DEFAULT_SOCKET_TIMEOUT, conf);
-  private static ConnectionConfigurator newSslConnConfigurator(final int timeout,
+  private ConnectionConfigurator initSslConnConfigurator(final int timeout,
-    final SSLFactory factory;
-    factory = new SSLFactory(SSLFactory.Mode.CLIENT, conf);
-    factory.init();
-    sf = factory.createSSLSocketFactory();
-    hv = factory.getHostnameVerifier();
+    sslFactory = new SSLFactory(SSLFactory.Mode.CLIENT, conf);
+    sslFactory.init();
+    sf = sslFactory.createSSLSocketFactory();
+    hv = sslFactory.getHostnameVerifier();

INS23 INS83 MOV43 INS59 UPD42 UPD42 INS42 INS25 INS27 INS8 INS22 INS33 INS21 UPD42 UPD42 UPD42 INS52 INS42 INS32 UPD42 UPD42 INS22 INS42 UPD42 INS52 INS42 DEL83 DEL83 DEL83 DEL42 DEL59 DEL60