YARN-6127. Add support for work preserving NM restart when AMRMProxy is enabled. (Botong Huang via asuresh).

+import java.util.Map;
+
-   * @param ctx
+   * @param ctx AMRMProxy application context
+   * Recover intercepter state when NM recovery is enabled. AMRMProxy will
+   * recover the data map into
+   * AMRMProxyApplicationContext.getRecoveredDataMap(). All intercepters should
+   * recover state from it.
+   *
+   * For example, registerRequest has to be saved by the last intercepter (i.e.
+   * the one that actually connects to RM), in order to re-register when RM
+   * fails over.
+   *
+   * @param recoveredDataMap states for all intercepters recovered from NMSS
+   */
+  void recover(Map<String, byte[]> recoveredDataMap);
+
+  /**
-   * @param nextInterceptor
+   * @param nextInterceptor the next intercepter to set

INS26 INS40 INS31 INS29 INS39 INS42 INS44 INS65 INS65 INS74 INS42 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS42 INS66 INS43 INS43 INS5 INS66 INS42 INS42 INS39 INS85