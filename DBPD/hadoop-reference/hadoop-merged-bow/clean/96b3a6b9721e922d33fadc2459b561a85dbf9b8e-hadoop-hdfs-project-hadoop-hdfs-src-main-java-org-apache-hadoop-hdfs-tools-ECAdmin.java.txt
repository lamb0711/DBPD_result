HDFS-11082. Provide replicated EC policy to replicate files. Contributed by SammiChen.

+import org.apache.hadoop.io.erasurecode.ErasureCodeConstants;
-      return "[" + getName() + " -path <path> -policy <policy>]\n";
+      return "[" + getName() +
+          " -path <path> [-policy <policy>] [-replicate]]\n";
+      listing.addRow("-replicate",
+          "force 3x replication scheme on the directory");
-          listing.toString();
+          listing.toString() + "\n" +
+          "-replicate and -policy are optional arguments. They cannot been " +
+          "used at the same time";
-      final String ecPolicyName = StringUtils.popOptionWithArgument("-policy",
+      String ecPolicyName = StringUtils.popOptionWithArgument("-policy",
+      final boolean replicate = StringUtils.popOption("-replicate", args);
+      if (replicate) {
+        if (ecPolicyName != null) {
+          System.err.println(getName() +
+              ": -replicate and -policy cannot been used at the same time");
+          return 2;
+        }
+        ecPolicyName = ErasureCodeConstants.REPLICATION_POLICY_NAME;
+      }
+
-        return 2;
+        return 3;

INS26 INS40 INS21 INS60 INS25 INS32 INS83 INS39 INS59 INS42 INS8 UPD45 INS42 INS42 INS45 INS45 INS45 INS45 INS45 INS42 INS32 INS25 INS21 INS42 INS42 INS45 INS42 INS27 INS8 INS7 INS41 INS42 INS33 INS21 MOV41 INS42 INS40 INS34 INS32 INS40 INS42 INS27 INS32 INS45 INS42 DEL83