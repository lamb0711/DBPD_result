HDFS-15010. BlockPoolSlice#addReplicaThreadPool static pool should be initialized by static method. Contributed by Surendra Singh Lilhore.

-      initializeAddReplicaPool(conf);
+      initializeAddReplicaPool(conf, (FsDatasetImpl) volume.getDataset());
-  private synchronized void initializeAddReplicaPool(Configuration conf) {
+  private synchronized static void initializeAddReplicaPool(Configuration conf,
+      FsDatasetImpl dataset) {
-      FsDatasetImpl dataset = (FsDatasetImpl) volume.getDataset();
+
+  @VisibleForTesting
+  public ForkJoinPool getAddReplicaThreadPool() {
+    return addReplicaThreadPool;
+  }
+
+  @VisibleForTesting
+  public static void reInitializeAddReplicaThreadPool() {
+    addReplicaThreadPool.shutdown();
+    addReplicaThreadPool = null;
+  }

INS31 INS31 INS83 INS44 INS78 INS83 INS43 INS42 INS8 INS78 INS83 INS83 INS39 INS42 INS8 MOV43 INS42 INS42 INS42 INS41 INS42 INS21 INS21 INS42 INS32 INS7 INS42 INS42 INS42 INS33 MOV11 DEL42 DEL59 DEL60