Merge trunk into HA branch


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1196458 13f79535-47bb-0310-9956-ffa450edef68

-        throw new IOException("block move is failed");
+        throw new IOException("block move is failed: " +
+            response.getMessage());
-      if (policy.getUtilization(datanode) > avg) {
+      if (policy.getUtilization(datanode) >= avg) {
-  /* Return true if the given datanode is above average utilized
+  /* Return true if the given datanode is above or equal to average utilized
-        && (datanode.utilization > avg);
+        && (datanode.utilization >= avg);

UPD27 UPD27 INS27 INS45 INS32 INS42 INS42 DEL45