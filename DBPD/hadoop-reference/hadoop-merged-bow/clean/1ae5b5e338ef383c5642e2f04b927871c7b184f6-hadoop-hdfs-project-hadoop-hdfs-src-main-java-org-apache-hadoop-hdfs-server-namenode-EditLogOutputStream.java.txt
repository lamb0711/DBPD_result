HDFS-2158. Add JournalSet to manage the set of journals.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1177473 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.zip.Checksum;
-import org.apache.hadoop.io.DataOutputBuffer;
-import org.apache.hadoop.io.Writable;
-abstract class EditLogOutputStream implements JournalStream {
+abstract class EditLogOutputStream {
-  EditLogOutputStream() throws IOException {
+  EditLogOutputStream() {
-   * Return the size of the current edits log.
-   * Length is used to check when it is large enough to start a checkpoint.
-   */
-  abstract long length() throws IOException;
-
-  /**
-  long getNumSync() {
+  protected long getNumSync() {
-
-  @Override // Object
-  public String toString() {
-    return getName();
-  }

INS83 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL42 DEL43 DEL42 DEL43 DEL66 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL31 DEL42 DEL78 DEL83 DEL42 DEL43 DEL42 DEL42 DEL32 DEL41 DEL8 DEL31