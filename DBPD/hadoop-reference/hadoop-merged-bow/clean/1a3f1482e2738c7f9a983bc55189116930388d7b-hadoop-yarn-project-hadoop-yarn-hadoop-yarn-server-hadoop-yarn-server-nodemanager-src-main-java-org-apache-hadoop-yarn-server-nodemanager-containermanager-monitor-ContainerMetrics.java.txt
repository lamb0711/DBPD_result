YARN-4795. ContainerMetrics drops records. (Daniel Templeton via kasha)

-  private long flushPeriodMs;
+  private final long flushPeriodMs;
+  private final long unregisterDelayMs;
-  private boolean unregister = false; // unregister
-  private long unregisterDelayMs;
-    if (unregister) {
-      return;
-    }
-
-    if (finished) {
-      this.unregister = true;
-    } else if (flushOnPeriod) {
+    if (!finished && flushOnPeriod) {
+
+

INS23 INS83 MOV83 UPD83 MOV83 MOV39 MOV59 MOV25 INS27 INS38 INS42 INS42 DEL39 DEL42 DEL9 DEL59 DEL23 DEL23 DEL42 DEL41 DEL8 DEL25 DEL42 DEL42 DEL52 DEL42 DEL22 DEL9 DEL7 DEL21 DEL8 DEL25