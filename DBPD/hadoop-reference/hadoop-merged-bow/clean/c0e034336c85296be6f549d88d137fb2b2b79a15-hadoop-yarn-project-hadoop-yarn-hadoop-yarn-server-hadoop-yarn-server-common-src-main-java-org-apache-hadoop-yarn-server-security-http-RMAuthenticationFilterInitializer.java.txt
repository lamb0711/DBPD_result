YARN-2715. Fixed ResourceManager to respect common configurations for proxy users/groups beyond just the YARN level config. Contributed by Zhijie Shen.

+import org.apache.hadoop.security.authorize.ProxyUsers;
-  String proxyPrefix;
-    this.proxyPrefix = "yarn.resourcemanager.webapp.proxyuser.";
+    // Before conf object is passed in, RM has already processed it and used RM
+    // specific configs to overwrite hadoop common ones. Hence we just need to
+    // source hadoop.proxyuser configs here.
-      } else if (propName.startsWith(proxyPrefix)) {
+      } else if (propName.startsWith(ProxyUsers.CONF_HADOOP_PROXYUSER)) {
-        String name = propName.substring("yarn.resourcemanager.webapp.".length());
+        String name = propName.substring("hadoop.".length());

INS26 INS40 INS40 UPD45 DEL42 DEL43 DEL42 DEL59 DEL23 DEL52 DEL42 DEL22 DEL45 DEL7 DEL21 DEL42