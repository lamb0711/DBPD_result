HADOOP-9451. Fault single-layer config if node group topology is enabled. (Junping Du via llu)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1464301 13f79535-47bb-0310-9956-ffa450edef68

-      if (rack != null && !(rack instanceof InnerNode)) {
+      // rack should be an innerNode and with parent.
+      // note: rack's null parent case is: node's topology only has one layer, 
+      //       so rack is recognized as "/" and no parent. 
+      // This will be recognized as a node with fault topology.
+      if (rack != null && 
+          (!(rack instanceof InnerNode) || rack.getParent() == null)) {

INS36 INS27 MOV38 INS27 INS32 INS33 INS42 INS42