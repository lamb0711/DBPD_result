Revert "HDFS-8860. Remove unused Replica copyOnWrite code (Lei (Eddy) Xu via Colin P. McCabe)"

This reverts commit a153b9601ad8628fdd608d8696310ca8c1f58ff0.

Conflicts:
	hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt
	hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/DataNodeTestUtils.java

+  private boolean unlinked;      // copy-on-write done for block
+    this.unlinked = from.isUnlinked();
+  public boolean isUnlinked() {
+    return unlinked;
+  }
+
+  @Override //ReplicaInfo
+  public void setUnlinked() {
+    unlinked = true;
+  }
+  
+  @Override //ReplicaInfo
-    return super.toString();
+    return super.toString()
+        + "\n  unlinked=" + unlinked;

INS23 INS31 INS31 INS83 INS39 INS59 INS78 INS83 INS39 INS42 INS8 INS78 INS83 INS39 INS42 INS8 INS42 INS21 INS42 INS41 INS42 INS21 INS7 INS42 INS7 INS27 INS22 INS32 INS42 INS9 MOV48 INS45 INS42 INS52 INS42 INS42 INS42