HDFS-8268. Port conflict log for data node server is not sufficient (Contributed by Mohammad Shahid Khan)

+import java.net.BindException;
+import java.net.SocketException;
-  public void start() {
+  public void start() throws IOException {
-      ChannelFuture f = httpServer.bind(DataNode.getInfoAddr(conf));
-      f.syncUninterruptibly();
+      InetSocketAddress infoAddr = DataNode.getInfoAddr(conf);
+      ChannelFuture f = httpServer.bind(infoAddr);
+      try {
+        f.syncUninterruptibly();
+      } catch (Throwable e) {
+        if (e instanceof BindException) {
+          throw NetUtils.wrapException(null, 0, infoAddr.getHostName(),
+              infoAddr.getPort(), (SocketException) e);
+        } else {
+          throw e;
+        }
+      }
-      InetSocketAddress secInfoSocAddr = NetUtils.createSocketAddr(conf.getTrimmed(
-        DFS_DATANODE_HTTPS_ADDRESS_KEY, DFS_DATANODE_HTTPS_ADDRESS_DEFAULT));
+      InetSocketAddress secInfoSocAddr =
+          NetUtils.createSocketAddr(conf.getTrimmed(
+              DFS_DATANODE_HTTPS_ADDRESS_KEY,
+              DFS_DATANODE_HTTPS_ADDRESS_DEFAULT));
-      f.syncUninterruptibly();
+
+      try {
+        f.syncUninterruptibly();
+      } catch (Throwable e) {
+        if (e instanceof BindException) {
+          throw NetUtils.wrapException(null, 0, secInfoSocAddr.getHostName(),
+              secInfoSocAddr.getPort(), (SocketException) e);
+        } else {
+          throw e;
+        }
+      }

INS26 INS26 INS40 INS40 INS43 INS42 INS60 INS54 INS54 INS43 MOV43 INS59 INS8 INS12 INS8 INS12 INS42 INS42 MOV32 INS42 INS32 MOV21 INS44 INS8 MOV21 INS44 INS8 INS42 INS42 INS42 INS43 INS42 INS25 INS43 INS42 INS25 INS42 INS62 INS8 INS8 INS42 INS62 INS8 INS8 INS42 INS43 INS53 INS53 INS42 INS43 INS53 INS53 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS42 INS33 INS34 INS32 INS32 INS11 INS42 INS42 INS33 INS34 INS32 INS32 INS11 INS42 INS42 INS42 INS42 INS43 INS42 INS42 INS42 INS42 INS42 INS43 INS42 INS42 INS42 DEL42 DEL42 DEL42 DEL32