Merge r1569890 through r1573813 from trunk.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-5535@1573821 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.hdfs.ShortCircuitShm.SlotId;
+   * @param slotId          The shared memory slot id to use, or null 
+   *                          to use no slot id.
-   *                        can understand.
+   *                          can understand.
-      int maxVersion) throws IOException;
+      SlotId slotId, int maxVersion) throws IOException;
+   * Release a pair of short-circuit FDs requested earlier.
+   *
+   * @param slotId          SlotID used by the earlier file descriptors.
+   */
+  public void releaseShortCircuitFds(final SlotId slotId) throws IOException;
+
+  /**
+   * Request a short circuit shared memory area from a DataNode.
+   * 
+   * @pram clientName       The name of the client.
+   */
+  public void requestShortCircuitShm(String clientName) throws IOException;
+  
+  /**

INS26 INS40 INS31 INS31 INS44 INS29 INS83 INS39 INS42 INS44 INS43 INS29 INS83 INS39 INS42 INS44 INS43 INS65 INS43 INS42 INS65 INS65 INS83 INS43 INS42 INS42 INS65 INS65 INS43 INS42 INS42 INS42 INS66 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS66 INS42