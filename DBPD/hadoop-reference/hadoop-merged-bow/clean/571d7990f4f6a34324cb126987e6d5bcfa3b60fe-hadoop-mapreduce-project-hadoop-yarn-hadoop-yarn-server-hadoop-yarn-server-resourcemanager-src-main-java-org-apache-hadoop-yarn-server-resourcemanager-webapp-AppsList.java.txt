Merge trunk into HA branch


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1196458 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.util.Apps;
-      String ui = trackingUrl == null || trackingUrl.isEmpty() || "N/A".equalsIgnoreCase(trackingUrl) ?
-    	  "UNASSIGNED" : (app.getFinishTime() == 0 ? "ApplicationMaster" : "JobHistory");
+      boolean trackingUrlIsNotReady = trackingUrl == null
+          || trackingUrl.isEmpty() || "N/A".equalsIgnoreCase(trackingUrl);
+      String ui = trackingUrlIsNotReady ? "UNASSIGNED"
+          : (app.getFinishTime() == 0 ? "ApplicationMaster" : "History");
-          append(app.getState().toString()).append(_SEP);
+          append(app.getState().toString()).append(_SEP).
+          append(app.getFinalApplicationStatus().toString()).append(_SEP);
-          trackingUrl == null  || trackingUrl.isEmpty() || "N/A".equalsIgnoreCase(trackingUrl) ?
+          trackingUrlIsNotReady ?

INS60 INS39 MOV43 INS59 INS32 UPD42 MOV27 INS42 MOV16 INS32 INS42 INS42 INS42 MOV32 INS42 INS32 INS32 INS42 UPD45 INS42 INS42 INS42 DEL40 DEL26 DEL42 DEL33 DEL27 DEL42 DEL42 DEL32 DEL27 DEL45 DEL42 DEL42 DEL32 DEL27