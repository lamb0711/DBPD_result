Revert "HDFS-11488. JN log segment syncing should support HA upgrade. Contributed by Hanisha Koneru."

This reverts commit 08fb82d6d1217695c1cbee14608b172fa76a5569.

-      int fileIOSamplingPercentage = conf.getInt(
-          DFSConfigKeys.DFS_DATANODE_FILEIO_PROFILING_SAMPLING_PERCENTAGE_KEY,
+      double fileIOSamplingFraction = conf.getDouble(
+          DFSConfigKeys.DFS_DATANODE_FILEIO_PROFILING_SAMPLING_FRACTION_KEY,
-              .DFS_DATANODE_FILEIO_PROFILING_SAMPLING_PERCENTAGE_DEFAULT);
-      isEnabled = Util.isDiskStatsEnabled(fileIOSamplingPercentage);
-      if (fileIOSamplingPercentage > 100) {
+              .DFS_DATANODE_FILEIO_PROFILING_SAMPLING_FRACTION_DEFAULT);
+      isEnabled = Util.isDiskStatsEnabled(fileIOSamplingFraction);
+      if (fileIOSamplingFraction > 1) {
-            .DFS_DATANODE_FILEIO_PROFILING_SAMPLING_PERCENTAGE_KEY +
-            " value cannot be more than 100. Setting value to 100");
-        fileIOSamplingPercentage = 100;
+            .DFS_DATANODE_FILEIO_PROFILING_SAMPLING_FRACTION_KEY +
+            " value cannot be more than 1. Setting value to 1");
+        fileIOSamplingFraction = 1;
-      sampleRangeMax = (int) ((double) fileIOSamplingPercentage / 100 *
-          Integer.MAX_VALUE);
+      sampleRangeMax = (int) (fileIOSamplingFraction * Integer.MAX_VALUE);

UPD39 UPD42 UPD42 UPD34 UPD42 UPD40 UPD40 UPD42 UPD42 UPD34 UPD40 UPD45 INS42 DEL39 DEL42 DEL11 DEL34 DEL27