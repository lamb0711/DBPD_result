YARN-8901. Fixed restart policy NEVER/ON_FAILURE with component dependency.
           Contributed by Suma Shivaprasad

-  @Override public boolean isReadyForDownStream(Component component) {
-    if (hasCompletedSuccessfully(component)) {
-      return true;
+  @Override public boolean isReadyForDownStream(Component dependentComponent) {
+    if (dependentComponent.getNumReadyInstances()
+        + dependentComponent.getNumSucceededInstances()
+        + dependentComponent.getNumFailedInstances()
+        < dependentComponent.getNumDesiredInstances()) {
+      return false;
-
-    return false;
+    return true;

UPD42 MOV41 INS27 INS27 INS32 MOV41 INS32 INS32 INS32 INS42 INS42 UPD42 MOV42 UPD42 MOV42 INS42 INS42 INS42 INS42 DEL32