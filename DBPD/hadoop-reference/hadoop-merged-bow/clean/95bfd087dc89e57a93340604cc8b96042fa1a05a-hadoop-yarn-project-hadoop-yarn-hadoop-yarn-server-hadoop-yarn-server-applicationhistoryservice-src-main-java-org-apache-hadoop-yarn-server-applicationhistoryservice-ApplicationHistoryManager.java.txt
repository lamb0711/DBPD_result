YARN-1809. Synchronize RM and TimeLineServer Web-UIs. Contributed by Zhijie Shen and Xuan Gong

-import org.apache.hadoop.classification.InterfaceAudience;
-import org.apache.hadoop.classification.InterfaceStability;
-import org.apache.hadoop.yarn.server.api.ApplicationContext;
+import java.io.IOException;
+import java.util.Map;
-@InterfaceAudience.Public
-@InterfaceStability.Unstable
-public interface ApplicationHistoryManager extends ApplicationContext {
+import org.apache.hadoop.classification.InterfaceAudience.Private;
+import org.apache.hadoop.classification.InterfaceAudience.Public;
+import org.apache.hadoop.classification.InterfaceStability.Unstable;
+import org.apache.hadoop.yarn.api.records.ApplicationAttemptId;
+import org.apache.hadoop.yarn.api.records.ApplicationAttemptReport;
+import org.apache.hadoop.yarn.api.records.ApplicationId;
+import org.apache.hadoop.yarn.api.records.ApplicationReport;
+import org.apache.hadoop.yarn.api.records.ContainerId;
+import org.apache.hadoop.yarn.api.records.ContainerReport;
+import org.apache.hadoop.yarn.exceptions.YarnException;
+
+@Private
+@Unstable
+public interface ApplicationHistoryManager {
+  /**
+   * This method returns Application {@link ApplicationReport} for the specified
+   * {@link ApplicationId}.
+   * 
+   * @param appId
+   * 
+   * @return {@link ApplicationReport} for the ApplicationId.
+   * @throws YarnException
+   * @throws IOException
+   */
+  @Public
+  @Unstable
+  ApplicationReport getApplication(ApplicationId appId) throws YarnException,
+      IOException;
+
+  /**
+   * This method returns all Application {@link ApplicationReport}s
+   * 
+   * @return map of {@link ApplicationId} to {@link ApplicationReport}s.
+   * @throws YarnException
+   * @throws IOException
+   */
+  @Public
+  @Unstable
+  Map<ApplicationId, ApplicationReport> getAllApplications()
+      throws YarnException, IOException;
+
+  /**
+   * Application can have multiple application attempts
+   * {@link ApplicationAttemptReport}. This method returns the all
+   * {@link ApplicationAttemptReport}s for the Application.
+   * 
+   * @param appId
+   * 
+   * @return all {@link ApplicationAttemptReport}s for the Application.
+   * @throws YarnException
+   * @throws IOException
+   */
+  @Public
+  @Unstable
+  Map<ApplicationAttemptId, ApplicationAttemptReport> getApplicationAttempts(
+      ApplicationId appId) throws YarnException, IOException;
+
+  /**
+   * This method returns {@link ApplicationAttemptReport} for specified
+   * {@link ApplicationId}.
+   * 
+   * @param appAttemptId
+   *          {@link ApplicationAttemptId}
+   * @return {@link ApplicationAttemptReport} for ApplicationAttemptId
+   * @throws YarnException
+   * @throws IOException
+   */
+  @Public
+  @Unstable
+  ApplicationAttemptReport getApplicationAttempt(
+      ApplicationAttemptId appAttemptId) throws YarnException, IOException;
+
+  /**
+   * This method returns {@link ContainerReport} for specified
+   * {@link ContainerId}.
+   * 
+   * @param containerId
+   *          {@link ContainerId}
+   * @return {@link ContainerReport} for ContainerId
+   * @throws YarnException
+   * @throws IOException
+   */
+  @Public
+  @Unstable
+  ContainerReport getContainer(ContainerId containerId) throws YarnException,
+      IOException;
+
+  /**
+   * This method returns {@link ContainerReport} for specified
+   * {@link ApplicationAttemptId}.
+   * 
+   * @param appAttemptId
+   *          {@link ApplicationAttemptId}
+   * @return {@link ContainerReport} for ApplicationAttemptId
+   * @throws YarnException
+   * @throws IOException
+   */
+  @Public
+  @Unstable
+  ContainerReport getAMContainer(ApplicationAttemptId appAttemptId)
+      throws YarnException, IOException;
+
+  /**
+   * This method returns Map of {@link ContainerId} to {@link ContainerReport}
+   * for specified {@link ApplicationAttemptId}.
+   * 
+   * @param appAttemptId
+   *          {@link ApplicationAttemptId}
+   * @return Map of {@link ContainerId} to {@link ContainerReport} for
+   *         ApplicationAttemptId
+   * @throws YarnException
+   * @throws IOException
+   */
+  @Public
+  @Unstable
+  Map<ContainerId, ContainerReport> getContainers(
+      ApplicationAttemptId appAttemptId) throws YarnException, IOException;
+

INS26 INS26 INS26 INS26 INS26 INS26 INS26 INS26 INS26 INS40 INS40 UPD40 INS40 UPD40 INS40 INS40 UPD40 INS40 INS40 INS40 INS40 INS31 INS31 INS31 INS31 INS31 INS31 INS31 INS42 INS42 INS29 INS78 INS78 INS43 INS42 INS44 INS43 INS43 INS29 INS78 INS78 INS74 INS42 INS43 INS43 INS29 INS78 INS78 INS74 INS42 INS44 INS43 INS43 INS29 INS78 INS78 INS43 INS42 INS44 INS43 INS43 INS29 INS78 INS78 INS43 INS42 INS44 INS43 INS43 INS29 INS78 INS78 INS43 INS42 INS44 INS43 INS43 INS29 INS78 INS78 INS74 INS42 INS44 INS43 INS43 INS65 INS65 INS65 INS65 INS65 INS42 INS42 INS42 INS43 INS42 INS42 INS42 INS65 INS65 INS65 INS65 INS42 INS42 INS43 INS43 INS43 INS42 INS42 INS65 INS65 INS65 INS65 INS65 INS42 INS42 INS43 INS43 INS43 INS43 INS42 INS42 INS42 INS65 INS65 INS65 INS65 INS65 INS42 INS42 INS42 INS43 INS42 INS42 INS42 INS65 INS65 INS65 INS65 INS65 INS42 INS42 INS42 INS43 INS42 INS42 INS42 INS65 INS65 INS65 INS65 INS65 INS42 INS42 INS42 INS43 INS42 INS42 INS42 INS65 INS65 INS65 INS65 INS65 INS42 INS42 INS43 INS43 INS43 INS43 INS42 INS42 INS42 INS66 INS65 INS66 INS65 INS66 INS42 INS66 INS65 INS66 INS42 INS42 UPD42 MOV42 INS66 INS65 INS66 INS66 INS65 INS66 INS65 INS66 INS42 INS42 INS42 INS42 INS42 INS66 INS65 INS66 INS65 INS66 INS42 INS66 INS65 INS66 INS42 INS42 INS42 INS42 INS42 INS42 INS66 INS65 INS66 INS65 INS66 INS42 INS65 INS66 INS65 INS66 INS42 INS42 INS42 INS66 INS65 INS66 INS65 INS66 INS42 INS65 INS66 INS65 INS66 INS42 INS42 INS42 INS66 INS65 INS66 INS65 INS66 INS42 INS65 INS66 INS65 INS66 INS42 INS42 INS42 INS66 INS65 INS66 INS65 INS66 INS65 INS66 INS42 INS65 INS66 INS65 INS66 INS65 INS66 INS66 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 DEL40 DEL40 DEL43