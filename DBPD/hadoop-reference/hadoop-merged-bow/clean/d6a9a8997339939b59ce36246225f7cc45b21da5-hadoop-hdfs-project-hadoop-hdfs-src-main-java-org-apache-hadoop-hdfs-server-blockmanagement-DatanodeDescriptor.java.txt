HDFS-12605. [READ] TestNameNodeProvidedImplementation#testProvidedDatanodeFailures fails after rebase

+        LOG.info("Adding new storage ID {} for DN {}", s.getStorageID(),
+            getXferAddr());
+        DFSTopologyNodeImpl parent = null;
+        if (getParent() instanceof DFSTopologyNodeImpl) {
+          parent = (DFSTopologyNodeImpl) getParent();
+        }
+        StorageType type = s.getStorageType();
+        if (!hasStorageType(type) && parent != null) {
+          // we are about to add a type this node currently does not have,
+          // inform the parent that a new type is added to this datanode
+          parent.childAddStorage(getName(), type);
+        }

INS25 MOV27 INS8 MOV8 INS21 INS60 MOV25 INS60 INS25 MOV21 INS32 INS43 INS59 INS62 INS43 INS59 INS27 INS8 INS42 INS42 INS45 INS32 INS32 INS42 INS42 INS33 INS32 INS43 INS21 INS42 INS42 INS32 INS38 INS27 INS21 INS42 INS42 INS42 INS42 INS42 INS7 INS42 INS42 INS32 INS42 INS33 INS32 INS42 INS11 INS42 INS42 INS42 INS42 INS32 INS42 INS43 INS32 INS42 INS42 INS42