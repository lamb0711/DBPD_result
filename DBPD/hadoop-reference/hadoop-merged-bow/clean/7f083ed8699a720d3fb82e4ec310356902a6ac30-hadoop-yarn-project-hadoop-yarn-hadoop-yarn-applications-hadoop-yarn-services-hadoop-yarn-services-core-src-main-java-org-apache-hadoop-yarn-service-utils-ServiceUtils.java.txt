YARN-8080.  Add restart policy for YARN services.
            Contributed by Suma Shivaprasad

+import org.apache.hadoop.util.ExitUtil;
+
+  /**
+   * Process termination handler - exist with specified exit code after
+   * waiting a while for ATS state to be in sync.
+   */
+  public static class ProcessTerminationHandler {
+    public void terminate(int exitCode) {
+      // Sleep for 5 seconds in hope that the state can be recorded in ATS.
+      // in case there's a client polling the comp state, it can be notified.
+      try {
+        Thread.sleep(5000);
+      } catch (InterruptedException e) {
+        log.info("Interrupted on sleep while exiting.", e);
+      }
+      ExitUtil.terminate(exitCode);
+    }
+  }

INS26 INS40 INS55 INS29 INS83 INS83 INS42 INS31 INS65 INS83 INS39 INS42 INS44 INS8 INS66 INS66 INS39 INS42 INS54 INS21 INS8 INS12 INS32 INS21 INS44 INS8 INS42 INS42 INS42 INS32 INS43 INS42 INS21 INS42 INS42 INS34 INS42 INS32 INS42 INS42 INS45 INS42