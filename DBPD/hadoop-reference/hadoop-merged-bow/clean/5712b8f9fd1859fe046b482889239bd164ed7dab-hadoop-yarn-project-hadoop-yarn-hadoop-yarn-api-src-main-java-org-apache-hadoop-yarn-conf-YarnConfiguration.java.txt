YARN-3334. NM uses timeline client to publish container metrics to new timeline service. Contributed by Junping Du.

+  
+  public static boolean systemMetricsPublisherEnabled(Configuration conf) {
+    return conf.getBoolean(YarnConfiguration.TIMELINE_SERVICE_ENABLED,
+        YarnConfiguration.DEFAULT_TIMELINE_SERVICE_ENABLED)
+        && conf.getBoolean(
+            YarnConfiguration.SYSTEM_METRICS_PUBLISHER_ENABLED,
+            YarnConfiguration.DEFAULT_SYSTEM_METRICS_PUBLISHER_ENABLED);  
+  }

INS31 INS83 INS83 INS39 INS42 INS44 INS8 INS43 INS42 INS41 INS42 INS27 INS32 INS32 INS42 INS42 INS40 INS40 INS42 INS42 INS40 INS40