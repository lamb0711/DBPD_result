HDFS-2576. Enhances the DistributedFileSystem's create API so that clients can specify favored datanodes for a file's blocks. Contributed by Devaraj Das and Pritam Damania.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1476395 13f79535-47bb-0310-9956-ffa450edef68

+  
+  /**
+   * Same as {@link #chooseTarget(String, int, DatanodeDescriptor, List, boolean, 
+   * HashMap, long)} with added parameter {@code favoredDatanodes}
+   * @param favoredNodes datanodes that should be favored as targets. This
+   *          is only a hint and due to cluster state, namenode may not be 
+   *          able to place the blocks on these datanodes.
+   */
+  DatanodeDescriptor[] chooseTarget(String src,
+      int numOfReplicas, DatanodeDescriptor writer,
+      HashMap<Node, Node> excludedNodes,
+      long blocksize, List<DatanodeDescriptor> favoredNodes) {
+    // This class does not provide the functionality of placing
+    // a block in favored datanodes. The implementations of this class
+    // are expected to provide this functionality
+    return chooseTarget(src, numOfReplicas, writer, 
+        new ArrayList<DatanodeDescriptor>(numOfReplicas), false, excludedNodes, 
+        blocksize);
+  }

INS31 INS29 INS5 INS42 INS44 INS44 INS44 INS44 INS44 INS44 INS8 INS65 INS65 INS43 INS85 INS43 INS42 INS39 INS42 INS43 INS42 INS74 INS42 INS39 INS42 INS74 INS42 INS41 INS66 INS65 INS66 INS65 INS42 INS66 INS66 INS66 INS42 INS42 INS42 INS43 INS43 INS43 INS43 INS43 INS32 INS68 INS66 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS14 INS9 INS42 INS42 INS42 INS69 INS69 INS69 INS69 INS69 INS69 INS69 INS74 INS42 INS43 INS39 INS43 INS43 INS39 INS43 INS39 INS43 INS43 INS42 INS42 INS42 INS42 INS42 INS42