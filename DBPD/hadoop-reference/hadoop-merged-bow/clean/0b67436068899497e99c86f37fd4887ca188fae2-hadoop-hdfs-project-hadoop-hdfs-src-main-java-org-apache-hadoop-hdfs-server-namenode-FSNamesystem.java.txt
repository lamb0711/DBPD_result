HDFS-12306. Add audit log for some erasure coding operations. Contributed by Huafeng Wang

-    } catch (AccessControlException ace) {
-      logAuditEvent(success, operationName, srcArg, null,
-          resultingStat);
-      throw ace;
+      logAuditEvent(success, operationName, srcArg, null, resultingStat);
-    logAuditEvent(success, operationName, srcArg, null,
-        resultingStat);
-  AddECPolicyResponse[] addECPolicies(ErasureCodingPolicy[] policies)
+  AddECPolicyResponse[] addErasureCodingPolicies(ErasureCodingPolicy[] policies)
-    final String operationName = "addECPolicies";
+    final String operationName = "addErasureCodingPolicies";
-    } catch (AccessControlException ace) {
-      logAuditEvent(success, operationName, srcArg, null,
-          resultingStat);
-      throw ace;
+      logAuditEvent(success, operationName, srcArg, null, resultingStat);
-    logAuditEvent(success, operationName, srcArg, null,
-        resultingStat);
+    final String operationName = "getErasureCodingPolicy";
+    boolean success = false;
-      return FSDirErasureCodingOp.getErasureCodingPolicy(this, src, pc);
+      final ErasureCodingPolicy ret =
+          FSDirErasureCodingOp.getErasureCodingPolicy(this, src, pc);
+      success = true;
+      return ret;
-      readUnlock("getErasureCodingPolicy");
+      readUnlock(operationName);
+      logAuditEvent(success, operationName, null);
+    final String operationName = "getErasureCodingPolicies";
+    boolean success = false;
-      return FSDirErasureCodingOp.getErasureCodingPolicies(this);
+      final ErasureCodingPolicy[] ret =
+          FSDirErasureCodingOp.getErasureCodingPolicies(this);
+      success = true;
+      return ret;
-      readUnlock("getErasureCodingPolicies");
+      readUnlock(operationName);
+      logAuditEvent(success, operationName, null);
+    final String operationName = "getErasureCodingCodecs";
+    boolean success = false;
-      return FSDirErasureCodingOp.getErasureCodingCodecs(this);
+      final HashMap<String, String> ret =
+          FSDirErasureCodingOp.getErasureCodingCodecs(this);
+      success = true;
+      return ret;
-      readUnlock("getErasureCodingCodecs");
+      readUnlock(operationName);
+      logAuditEvent(success, operationName, null);

UPD42 INS5 INS74 INS60 INS60 INS43 INS85 INS60 INS60 INS43 INS43 INS43 INS60 INS60 INS83 INS43 INS59 INS39 INS59 INS42 INS83 INS43 INS59 INS39 INS59 INS42 INS42 INS42 INS83 INS43 INS59 INS39 INS59 MOV21 UPD45 MOV21 INS42 INS42 INS45 INS42 INS9 INS60 INS21 INS21 INS42 INS42 INS45 INS42 INS9 INS60 INS21 INS21 INS42 INS42 INS45 INS42 INS9 INS60 INS21 INS21 INS83 INS43 INS59 INS7 INS42 INS32 INS83 MOV5 INS59 INS7 INS42 INS32 INS83 MOV74 INS59 INS7 INS42 INS32 INS42 INS42 MOV32 INS42 INS9 INS42 INS42 INS42 INS42 INS33 INS42 MOV32 INS42 INS9 INS42 INS42 INS42 INS42 INS33 INS42 MOV32 INS42 INS9 INS42 INS42 INS42 INS42 INS33 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL42 DEL33 DEL42 DEL32 DEL21 DEL42 DEL53 DEL8 DEL12 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL42 DEL33 DEL42 DEL32 DEL21 DEL42 DEL53 DEL8 DEL12 DEL45 DEL45 DEL45