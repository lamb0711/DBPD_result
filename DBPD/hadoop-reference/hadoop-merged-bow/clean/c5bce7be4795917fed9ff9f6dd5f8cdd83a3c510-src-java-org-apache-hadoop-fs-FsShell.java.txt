HADOOP-6293. Fix FsShell -text to work on filesystems other than the default.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@826120 13f79535-47bb-0310-9956-ffa450edef68

-      r = new SequenceFile.Reader(fs, f.getPath(), getConf());
-      key = ReflectionUtils.newInstance(r.getKeyClass().asSubclass(WritableComparable.class),
-                                        getConf());
-      val = ReflectionUtils.newInstance(r.getValueClass().asSubclass(Writable.class),
-                                        getConf());
+      final Path fpath = f.getPath();
+      final Configuration lconf = getConf();
+      r = new SequenceFile.Reader(fpath.getFileSystem(lconf), fpath, lconf);
+      key = ReflectionUtils.newInstance(
+          r.getKeyClass().asSubclass(WritableComparable.class), lconf);
+      val = ReflectionUtils.newInstance(
+          r.getValueClass().asSubclass(Writable.class), lconf);

INS60 INS60 INS83 INS43 INS59 INS83 INS43 INS59 INS42 INS42 MOV32 INS42 INS42 MOV32 INS32 INS42 INS42 UPD42 MOV42 UPD42 MOV42 INS42 INS42 INS42 DEL42 DEL32 DEL32