HDFS-6651. Deletion failure can leak inodes permanently. Contributed by Jing Zhao.

-  public void recordModification(final int latestSnapshotId)
-      throws QuotaExceededException {
+  public void recordModification(final int latestSnapshotId) {
-  public void recordModification(final int latestSnapshotId, boolean withBlocks)
-      throws QuotaExceededException {
+  public void recordModification(final int latestSnapshotId, boolean withBlocks) {
-      final List<INode> removedINodes, final boolean countDiffChange)
-      throws QuotaExceededException {
+      final List<INode> removedINodes) {
-          removedINodes, countDiffChange);
+          removedINodes);
-      List<FileDiff> diffs = fileDiffList.asList();
-        nsDelta += diffs.size();

DEL42 DEL43 DEL42 DEL43 DEL83 DEL39 DEL42 DEL44 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL43 DEL74 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL7 DEL21