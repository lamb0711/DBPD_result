Merging trunk to branch HDFS-2802

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1460410 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.File;
+import org.apache.hadoop.yarn.api.ApplicationConstants.Environment;
-    StringBuilder classPathEnv = new StringBuilder("${CLASSPATH}:./*");
+    StringBuilder classPathEnv = new StringBuilder(Environment.CLASSPATH.$())
+      .append(File.pathSeparatorChar).append("./*");
-      classPathEnv.append(':');
+      classPathEnv.append(File.pathSeparatorChar);
-    classPathEnv.append(":./log4j.properties");
+    classPathEnv.append(File.pathSeparatorChar).append("./log4j.properties");
-    vargs.add("${JAVA_HOME}" + "/bin/java");
+    vargs.add(Environment.JAVA_HOME.$() + "/bin/java");

INS26 INS26 INS40 INS40 MOV43 INS32 INS32 INS42 UPD45 INS32 INS42 INS45 MOV42 MOV42 INS40 INS32 INS14 INS42 INS40 INS40 INS40 INS42 MOV43 INS32 INS40 INS42 DEL45 DEL14 DEL13 DEL45