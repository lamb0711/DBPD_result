YARN-8002. Support NOT_SELF and ALL namespace types for allocation tag. (Weiwei Yang via wangda)

Change-Id: I63b4e4192a95bf7ded98c54e46a2871c72869700

-import org.apache.hadoop.yarn.api.records.AllocationTagNamespace;
+import org.apache.hadoop.yarn.server.resourcemanager.scheduler.constraint.AllocationTagNamespace;
-import org.apache.hadoop.yarn.exceptions.InvalidAllocationTagException;
-          if (!AllocationTagNamespaceType.SELF
+          if (AllocationTagNamespaceType.APP_LABEL
-                "As of now, the only accepted target key for targetKey of "
-                    + "allocation_tag target expression is: ["
-                    + AllocationTagNamespaceType.SELF.toString()
-                    + "]. Please make changes to placement constraints "
-                    + "accordingly. If this is null, it will be set to "
+                "As of now, allocation tag namespace ["
+                    + AllocationTagNamespaceType.APP_LABEL.toString()
+                    + "] is not supported. Please make changes to placement "
+                    + "constraints accordingly. If this is null, it will be "
+                    + "set to "
-        } catch (InvalidAllocationTagException e) {
+        } catch (InvalidAllocationTagsQueryException e) {

UPD40 MOV32 UPD43 UPD40 UPD42 UPD45 MOV45 UPD45 UPD45 INS45 UPD40 DEL40 DEL26 DEL38 DEL45 DEL27