HADOOP-12017. Hadoop archives command should use configurable replication factor when closing (Contributed by Bibin A Chundatt)

-  /**the size of the part files that will be created when archiving **/
+  /** the replication factor for the file in archiving. **/
+  static final String HAR_REPLICATION_LABEL = NAME + ".replication.factor";
+  /** the size of the part files that will be created when archiving **/
-  /** the desired replication degree; default is 10 **/
-  short repl = 10;
+  /** the desired replication degree; default is 3 **/
+  short repl = 3;
+    conf.setInt(HAR_REPLICATION_LABEL, repl);
-    //increase the replication of src files
-    jobfs.setReplication(srcFiles, repl);
+    private int replication = 3;
-
+      replication = conf.getInt(HAR_REPLICATION_LABEL, 3);
+      destFs.setReplication(tmpOutput, (short) replication);
+    private int replication = 3;
+      replication = conf.getInt(HAR_REPLICATION_LABEL, 3);
-      fs.setReplication(index, (short) 5);
-      fs.setReplication(masterIndex, (short) 5);
+      fs.setReplication(index, (short) replication);
+      fs.setReplication(masterIndex, (short) replication);

INS23 INS29 INS83 INS83 INS43 INS59 MOV21 INS23 INS23 INS65 INS42 INS42 INS27 UPD34 INS83 INS39 INS59 INS83 INS39 INS59 INS66 INS42 INS45 UPD66 INS42 INS34 INS21 INS21 INS42 INS34 INS21 UPD42 UPD42 UPD42 INS7 INS32 INS7 INS42 INS32 INS42 INS42 INS42 INS11 INS42 INS32 INS42 INS42 INS42 INS34 INS39 INS42 INS42 INS42 INS42 INS34 INS42 INS42 DEL34 DEL34