Reverting MAPREDUCE-4346 r1353757

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1354656 13f79535-47bb-0310-9956-ffa450edef68

-  private JobStatus getJobStatusUsingCluster(final JobID jobId)
-      throws IOException, InterruptedException {
-    return clientUgi.doAs(new PrivilegedExceptionAction<JobStatus>() {
-      public JobStatus run() throws IOException, InterruptedException {
-        return JobStatus.downgrade(cluster.getJobStatus(jobId));
-      }
-    });
-  }
-
-
-   * Get {@link JobStatus} of a job. Returns null if the id does not correspond
-   * to any known job.
+   * Get an {@link RunningJob} object to track an ongoing job.  Returns
+   * null if the id does not correspond to any known job.
-   * @param jobid
-   *          the jobid of the job.
-   * @return the {@link JobStatus} object to retrieve the job stats, null if the
+   * @param jobid the jobid of the job.
+   * @return the {@link RunningJob} handle to track the job, null if the 
-  public JobStatus getJobStatus(JobID jobId) throws IOException {
+  public RunningJob getJob(final JobID jobid) throws IOException {
-      return getJobStatusUsingCluster(jobId);
+      
+      Job job = getJobUsingCluster(jobid);
+      if (job != null) {
+        JobStatus status = JobStatus.downgrade(job.getStatus());
+        if (status != null) {
+          return new NetworkedJob(status, cluster);
+        } 
+      }
-  }
-
-  /**
-   * Get an {@link RunningJob} object to track an ongoing job. Returns null if
-   * the id does not correspond to any known job.
-   * 
-   * @param jobid
-   *          the jobid of the job.
-   * @return the {@link RunningJob} handle to track the job, null if the
-   *         <code>jobid</code> doesn't correspond to any known job.
-   * @throws IOException
-   */
-  public RunningJob getJob(JobID jobId) throws IOException {
-    JobStatus status = getJobStatus(jobId);
-    if (status != null) {
-      return new NetworkedJob(status, cluster);
-    }

MOV44 INS8 MOV65 UPD42 INS54 MOV41 MOV65 UPD66 UPD66 UPD66 MOV65 UPD66 INS8 MOV12 INS60 INS25 INS43 INS59 INS27 MOV8 UPD42 MOV42 INS42 INS32 INS42 INS33 INS42 INS42 UPD42 INS42 INS32 UPD42 MOV42 INS42 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL43 DEL42 DEL42 DEL42 DEL43 DEL42 DEL43 DEL74 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL41 DEL8 DEL31 DEL1 DEL14 DEL32 DEL41 DEL8 DEL31 DEL66 DEL42 DEL65 DEL66 DEL66 DEL65 DEL42 DEL66 DEL65 DEL66 DEL42 DEL65 DEL66 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL42 DEL32 DEL41 DEL8 DEL54 DEL8 DEL31 DEL42 DEL65 DEL43 DEL42 DEL44