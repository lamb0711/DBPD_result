HDFS-5120. Add command-line support for manipulating cache pools.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1521240 13f79535-47bb-0310-9956-ffa450edef68

+
+  /**
+   * From a list of command-line arguments, remove both an option and the 
+   * next argument.
+   *
+   * @param name  Name of the option to remove.  Example: -foo.
+   * @param args  List of arguments.
+   * @return      null if the option was not found; the value of the 
+   *              option otherwise.
+   */
+  public static String popOptionWithArgument(String name, List<String> args) {
+    String val = null;
+    for (Iterator<String> iter = args.iterator(); iter.hasNext(); ) {
+      String cur = iter.next();
+      if (cur.equals("--")) {
+        // stop parsing arguments when you see --
+        break;
+      } else if (cur.equals(name)) {
+        iter.remove();
+        if (!iter.hasNext()) {
+          throw new RuntimeException("option " + name + " requires 1 " +
+              "argument.");
+        }
+        val = iter.next();
+        iter.remove();
+        break;
+      }
+    }
+    return val;
+  }
+  
+  /**
+   * From a list of command-line arguments, remove an option.
+   *
+   * @param name  Name of the option to remove.  Example: -foo.
+   * @param args  List of arguments.
+   * @return      true if the option was found and removed; false otherwise.
+   */
+  public static boolean popOption(String name, List<String> args) {
+    for (Iterator<String> iter = args.iterator(); iter.hasNext(); ) {
+      String cur = iter.next();
+      if (cur.equals("--")) {
+        // stop parsing arguments when you see --
+        break;
+      } else if (cur.equals(name)) {
+        iter.remove();
+        return true;
+      }
+    }
+    return false;
+  }
+  
+  /**
+   * From a list of command-line arguments, return the first non-option
+   * argument.  Non-option arguments are those which either come after 
+   * a double dash (--) or do not start with a dash.
+   *
+   * @param args  List of arguments.
+   * @return      The first non-option argument, or null if there were none.
+   */
+  public static String popFirstNonOption(List<String> args) {
+    for (Iterator<String> iter = args.iterator(); iter.hasNext(); ) {
+      String cur = iter.next();
+      if (cur.equals("--")) {
+        if (!iter.hasNext()) {
+          return null;
+        }
+        cur = iter.next();
+        iter.remove();
+        return cur;
+      } else if (!cur.startsWith("-")) {
+        iter.remove();
+        return cur;
+      }
+    }
+    return null;
+  }

INS31 INS31 INS31 INS29 INS83 INS83 INS43 INS42 INS44 INS44 INS8 INS29 INS83 INS83 INS39 INS42 INS44 INS44 INS8 INS29 INS83 INS83 INS43 INS42 INS44 INS8 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS74 INS42 INS60 INS24 INS41 INS65 INS65 INS65 INS65 INS43 INS42 INS74 INS42 INS24 INS41 INS65 INS65 INS65 INS42 INS74 INS42 INS24 INS41 INS66 INS66 INS42 INS66 INS42 INS66 INS66 INS66 INS42 INS43 INS43 INS43 INS59 INS58 INS32 INS8 INS42 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS43 INS43 INS58 INS32 INS8 INS9 INS66 INS66 INS66 INS42 INS66 INS66 INS43 INS43 INS58 INS32 INS8 INS33 INS42 INS42 INS42 INS42 INS33 INS74 INS59 INS42 INS42 INS60 INS25 INS42 INS42 INS74 INS59 INS42 INS42 INS60 INS25 INS42 INS42 INS74 INS59 INS42 INS42 INS60 INS25 INS43 INS43 INS42 INS32 INS43 INS59 INS32 INS8 INS25 INS43 INS43 INS42 INS32 INS43 INS59 INS32 INS8 INS25 INS43 INS43 INS42 INS32 INS43 INS59 INS32 INS8 INS25 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS45 INS10 INS32 INS8 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS45 INS10 INS32 INS8 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS45 INS25 INS21 INS21 INS41 INS38 INS8 INS42 INS42 INS42 INS42 INS42 INS21 INS25 INS21 INS21 INS10 INS42 INS42 INS42 INS42 INS42 INS21 INS41 INS42 INS42 INS38 INS8 INS7 INS32 INS42 INS32 INS21 INS41 INS32 INS38 INS8 INS7 INS32 INS32 INS9 INS32 INS41 INS42 INS32 INS42 INS42 INS42 INS42 INS45 INS32 INS42 INS42 INS42 INS32 INS53 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS33 INS42 INS42 INS42 INS42 INS42 INS42 INS14 INS42 INS42 INS43 INS27 INS42 INS45 INS42 INS45 INS45