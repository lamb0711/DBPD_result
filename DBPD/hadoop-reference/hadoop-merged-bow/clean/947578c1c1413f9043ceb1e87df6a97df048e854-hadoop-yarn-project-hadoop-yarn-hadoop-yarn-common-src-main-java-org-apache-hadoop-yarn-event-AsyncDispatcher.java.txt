YARN-2991. Fixed DrainDispatcher to reuse the draining code path in AsyncDispatcher. Contributed by Rohith Sharmaks.

+import com.google.common.annotations.VisibleForTesting;
+
+
+  @VisibleForTesting
+  protected boolean isDrained() {
+    return this.drained;
+  }

INS26 INS40 INS31 INS78 INS83 INS39 INS42 INS8 INS42 INS41 INS22 INS52 INS42