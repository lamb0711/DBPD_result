Merge trunk into HA branch


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1166495 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.classification.InterfaceAudience.Private;
+import org.apache.hadoop.classification.InterfaceAudience.Public;
+import org.apache.hadoop.classification.InterfaceStability.Stable;
+import org.apache.hadoop.classification.InterfaceStability.Unstable;
+import org.apache.hadoop.yarn.api.AMRMProtocol;
+import org.apache.hadoop.yarn.api.records.Container;
+/**
+ * <p>The core request sent by the <code>ApplicationMaster</code> to the 
+ * <code>ResourceManager</code> to obtain resources in the cluster.</p> 
+ *
+ * <p>The request includes:
+ *   <ul>
+ *     <li>
+ *         {@link ApplicationAttemptId} being managed by the 
+ *         <code>ApplicationMaster</code>
+ *     </li>
+ *     <li>A response id to track duplicate responses.</li>
+ *     <li>Progress information.</li>
+ *     <li>
+ *       A list of {@link ResourceRequest} to inform the 
+ *       <code>ResourceManager</code> about the application's 
+ *       resource requirements.
+ *     </li>
+ *     <li>
+ *       A list of unused {@link Container} which are being returned. 
+ *     </li>
+ *     <li></li>
+ *   </ul>
+ * </p>
+ * 
+ * @see AMRMProtocol#allocate(AllocateRequest)
+ */
+@Public
+@Stable
+  /**
+   * Get the <code>ApplicationAttemptId</code> being managed by the 
+   * <code>ApplicationMaster</code>.
+   * @return <code>ApplicationAttemptId</code> being managed by the 
+   *         <code>ApplicationMaster</code>
+   */
+  @Public
+  @Stable
+  
+  /**
+   * Set the <code>ApplicationAttemptId</code> being managed by the 
+   * <code>ApplicationMaster</code>.
+   * @param applicationAttemptId <code>ApplicationAttemptId</code> being managed 
+   *                             by the <code>ApplicationMaster</code>
+   */
+  @Public
+  @Stable
+  /**
+   * Get the <em>response id</em>.
+   * @return <em>response id</em>
+   */
+  @Public
+  @Stable
+
+  /**
+   * Set the <em>response id</em>
+   * @param id <em>response id</em>
+   */
+  @Public
+  @Stable
+  /**
+   * Get the <em>current progress</em> of application. 
+   * @return <em>current progress</em> of application
+   */
+  @Public
+  @Stable
+  
+  /**
+   * Set the <em>current progress</em> of application
+   * @param progress <em>current progress</em> of application
+   */
+  @Public
+  @Stable
+  /**
+   * Get the list of <code>ResourceRequest</code> to upate the 
+   * <code>ResourceManager</code> about the application's resource requirements.
+   * @return the list of <code>ResourceRequest</code>
+   */
+  @Public
+  @Stable
+  
+  @Private
+  @Unstable
+  
+  @Private
+  @Unstable
+  /**
+   * Add list of <code>ResourceRequest</code> to upate the 
+   * <code>ResourceManager</code> about the application's resource requirements.
+   * @param resourceRequest list of <code>ResourceRequest</code> to upate the 
+   *                        <code>ResourceManager</code> about the application's 
+   *                        resource requirements
+   */
+  @Public
+  @Stable
+  void addAllAsks(List<ResourceRequest> resourceRequest);
+
+  @Private
+  @Unstable
+  void addAsk(ResourceRequest request);
+
+  @Private
+  @Unstable
+  void removeAsk(int index);
+
+  @Private
+  @Unstable
+  void clearAsks();
+
+  /**
+   * Get the list of <code>ContainerId</code> of unused containers being 
+   * released by the <code>ApplicationMaster</code>.
+   * @return list of <code>ContainerId</code> of unused containers being 
+   *         released by the <code>ApplicationMaster</code> 
+   */
+  @Public
+  @Stable
+  
+  @Private
+  @Unstable
+  
+  @Private
+  @Unstable
-  void addAllAsks(List<ResourceRequest> resourceRequest);
-  void addAsk(ResourceRequest request);
-  void removeAsk(int index);
-  void clearAsks();
-  
+  /**
+   * Add the list of <code>ContainerId</code> of unused containers being 
+   * released by the <code>ApplicationMaster</code>
+   * @param releaseContainers list of <code>ContainerId</code> of unused 
+   *                          containers being released by the <
+   *                          code>ApplicationMaster</code>
+   */
+  @Public
+  @Stable
+  
+  @Private
+  @Unstable
+  
+  @Private
+  @Unstable
+  
+  @Private
+  @Unstable

INS26 INS26 INS26 INS26 INS26 INS26 MOV31 INS40 INS40 INS40 INS40 INS40 INS40 INS29 INS78 INS78 INS31 INS31 INS31 INS65 INS65 INS42 INS42 INS29 INS78 INS78 INS29 INS78 INS78 INS29 INS78 INS78 INS29 INS78 INS78 INS29 INS78 INS78 INS29 INS78 INS78 INS29 INS78 INS78 INS78 INS78 INS78 INS78 INS29 INS78 INS78 MOV39 MOV42 MOV44 INS78 INS78 INS78 INS78 MOV44 INS78 INS78 INS29 INS78 INS78 MOV74 INS42 INS78 INS78 INS78 INS78 INS39 INS42 INS29 INS78 INS78 INS78 INS78 INS78 INS78 MOV44 INS78 INS78 INS66 INS66 INS66 INS66 INS66 INS65 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS65 INS66 INS66 INS66 INS66 INS66 INS66 INS65 INS66 INS66 INS66 INS66 INS66 INS68 INS65 INS65 INS42 INS42 INS65 INS65 INS42 INS42 INS65 INS65 INS42 INS42 INS65 INS65 INS42 INS42 INS65 INS65 INS42 INS42 INS65 INS65 INS42 INS42 INS65 INS65 INS42 INS42 INS42 INS42 INS42 INS42 INS65 INS65 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS65 INS65 INS42 INS42 INS42 INS42 INS42 INS42 INS65 INS65 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS69 INS66 INS66 INS66 INS66 INS66 INS66 INS42 INS66 INS66 INS66 INS66 INS66 INS42 INS66 INS66 INS66 INS66 INS42 INS66 INS66 INS66 INS66 INS66 INS66 INS42 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS42 INS66 INS66 INS66 INS43 INS42 DEL42 DEL31 DEL39 DEL42 DEL31 DEL31