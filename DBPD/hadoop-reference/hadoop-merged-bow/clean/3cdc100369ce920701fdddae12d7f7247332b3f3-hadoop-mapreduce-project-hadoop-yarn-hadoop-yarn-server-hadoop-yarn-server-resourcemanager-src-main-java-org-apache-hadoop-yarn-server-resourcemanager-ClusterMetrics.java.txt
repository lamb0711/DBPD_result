MAPREDUCE-3360. Added information about lost/rebooted/decommissioned nodes on the webapps. Contributed by Bhallamudi Venkata Siva Kamesh and Jason Lowe.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1236433 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.metrics2.lib.MutableCounterInt;
-  @Metric("# of NMs") MutableGaugeInt numNMs;
-  @Metric("# of decommissioned NMs") MutableCounterInt numDecommissionedNMs;
-  @Metric("# of lost NMs") MutableCounterInt numLostNMs;
+  @Metric("# of active NMs") MutableGaugeInt numNMs;
+  @Metric("# of decommissioned NMs") MutableGaugeInt numDecommissionedNMs;
+  @Metric("# of lost NMs") MutableGaugeInt numLostNMs;
-  //Total Nodemanagers
-  public int getNumNMs() {
+  //Active Nodemanagers
+  public int getNumActiveNMs() {
+  public void decrDecommisionedNMs() {
+    numDecommissionedNMs.decr();
+  }
+  
+  public void decrNumLostNMs() {
+    numLostNMs.decr();
+  }
+  
+  public void decrNumRebootedNMs() {
+    numRebootedNMs.decr();
+  }
+  

INS31 INS31 INS31 UPD43 UPD43 UPD42 INS83 INS39 INS42 INS8 INS83 INS39 INS42 INS8 INS83 INS39 INS42 INS8 UPD45 UPD42 UPD42 INS21 INS21 INS21 INS32 INS32 INS32 INS42 INS42 INS42 INS42 INS42 INS42 DEL40 DEL26