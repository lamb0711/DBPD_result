YARN-3122. Metrics for container's actual CPU usage. (Anubhav Dhoot via kasha)

+    int nodeCpuPercentage = getNodeCpuPercentage(conf);
+
+    return (nodeCpuPercentage * numProcessors) / 100.0f;
+  }
+
+  /**
+   * Gets the percentage of physical CPU that is configured for YARN containers
+   * This is percent > 0 and <= 100  based on
+   * YarnConfiguration.NM_RESOURCE_PERCENTAGE_PHYSICAL_CPU_LIMIT
+   * @param conf Configuration object
+   * @return percent > 0 and <= 100
+   */
+  public static int getNodeCpuPercentage(Configuration conf) {
-
-    return (nodeCpuPercentage * numProcessors) / 100.0f;
+    return nodeCpuPercentage;

INS31 MOV29 INS83 INS83 INS39 INS42 MOV44 INS44 INS8 INS29 UPD39 UPD42 INS43 INS42 MOV60 INS60 MOV41 INS65 INS65 INS65 INS41 INS42 INS39 INS59 INS66 INS66 INS66 INS42 INS66 INS66 INS42 INS42 INS32 INS42 INS42