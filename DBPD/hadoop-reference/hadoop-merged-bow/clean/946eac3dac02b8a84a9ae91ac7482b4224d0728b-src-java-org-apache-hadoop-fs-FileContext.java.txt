HADOOP-6903 Make AbstractFSileSystem methods and some FileContext methods to be public


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1034480 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Iterator;
-  protected static FileContext getFileContext(final AbstractFileSystem defFS,
+  public static FileContext getFileContext(final AbstractFileSystem defFS,
-  protected AbstractFileSystem getDefaultFileSystem() {
+  public AbstractFileSystem getDefaultFileSystem() {
-   * Set the working directory for wd-relative names (such a "foo/bar").
-   * @param newWDir
-   * @throws IOException
+   * Set the working directory for wd-relative names (such a "foo/bar"). Working
+   * directory feature is provided by simply prefixing relative names with the
+   * working dir. Note this is different from Unix where the wd is actually set
+   * to the inode. Hence setWorkingDir does not follow symlinks etc. This works
+   * better in a distributed environment that has multiple independent roots.
+   * {@link #getWorkingDirectory()} should return what setWorkingDir() set.
-   * newWdir can be one of 
-   *     - relative path:  "foo/bar";
-   *     - absolute without scheme: "/foo/bar"
-   *     - fully qualified with scheme: "xx://auth/foo/bar"
-   *  Illegal WDs:
-   *      - relative with scheme: "xx:foo/bar" 
+   * @param newWDir new working directory
+   * @throws IOException 
+   * <br>
+   *           NewWdir can be one of:
+   *           <ul>
+   *           <li>relative path: "foo/bar";</li>
+   *           <li>absolute without scheme: "/foo/bar"</li>
+   *           <li>fully qualified with scheme: "xx://auth/foo/bar"</li>
+   *           </ul>
+   * <br>
+   *           Illegal WDs:
+   *           <ul>
+   *           <li>relative with scheme: "xx:foo/bar"</li>
+   *           <li>non existent directory</li>
+   *           </ul>
-    final Path newWorkingDir = resolve(new Path(workingDir, newWDir));
+    final Path newWorkingDir = new Path(workingDir, newWDir);

UPD83 UPD83 UPD66 INS66 INS66 INS66 INS66 INS65 INS66 INS66 INS66 INS66 UPD66 INS66 UPD66 UPD66 UPD66 INS66 INS66 INS66 UPD66 INS66 INS66 INS68 MOV14 INS42 DEL40 DEL26 DEL42 DEL32