HDFS-10810. setreplication removing block from underconstrcution temporarily. Contributed by Brahma Reddy Battula

+      int pendingNum = pendingReconstruction.getNumReplicas(block);
-      if (isNeededReconstruction(block, repl.liveReplicas())) {
-        neededReconstruction.update(block, repl.liveReplicas(),
+      if (!hasEnoughEffectiveReplicas(block, repl, pendingNum,
+          curExpectedReplicas)) {
+        neededReconstruction.update(block, repl.liveReplicas() + pendingNum,
-        int oldReplicas = repl.liveReplicas()-curReplicasDelta;
+        int oldReplicas = repl.liveReplicas() + pendingNum - curReplicasDelta;

INS60 INS39 INS59 INS38 INS42 INS32 INS32 INS42 INS42 INS42 UPD42 MOV42 MOV42 MOV42 INS42 UPD42 MOV42 UPD27 MOV27 INS27 UPD42 INS27 INS42 MOV32 INS42 DEL32 DEL32