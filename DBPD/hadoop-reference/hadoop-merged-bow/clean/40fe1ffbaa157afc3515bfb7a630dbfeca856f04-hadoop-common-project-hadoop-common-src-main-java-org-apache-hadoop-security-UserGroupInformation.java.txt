Merge r1406415 through r1407703 from trunk.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1407706 13f79535-47bb-0310-9956-ffa450edef68

-    if (auth == AuthenticationMethod.SIMPLE) {
-      useKerberos = false;
-    } else if (auth == AuthenticationMethod.KERBEROS) {
-      useKerberos = true;
-    } else {
-      throw new IllegalArgumentException("Invalid attribute value for " +
-                                         HADOOP_SECURITY_AUTHENTICATION + 
-                                         " of " + auth);
+    switch (auth) {
+      case SIMPLE:
+        useKerberos = false;
+        break;
+      case KERBEROS:
+        useKerberos = true;
+        break;
+      default:
+        throw new IllegalArgumentException("Invalid attribute value for " +
+                                           HADOOP_SECURITY_AUTHENTICATION + 
+                                           " of " + auth);
+        AuthenticationMethod authenticationMethod;
+          authenticationMethod = AuthenticationMethod.KERBEROS;
+          authenticationMethod = AuthenticationMethod.SIMPLE;
-        loginUser.setAuthenticationMethod(isSecurityEnabled() ?
-                                          AuthenticationMethod.KERBEROS :
-                                          AuthenticationMethod.SIMPLE);
+        loginUser.setAuthenticationMethod(authenticationMethod);

INS50 INS42 INS49 MOV21 INS10 INS49 MOV21 INS10 INS49 MOV53 INS42 INS42 INS60 INS43 INS59 INS42 INS42 INS21 INS21 UPD42 MOV42 INS7 INS7 INS42 INS40 INS42 INS40 DEL42 DEL40 DEL27 DEL8 DEL42 DEL40 DEL27 DEL8 DEL8 DEL25 DEL25 DEL32 DEL40 DEL40 DEL16