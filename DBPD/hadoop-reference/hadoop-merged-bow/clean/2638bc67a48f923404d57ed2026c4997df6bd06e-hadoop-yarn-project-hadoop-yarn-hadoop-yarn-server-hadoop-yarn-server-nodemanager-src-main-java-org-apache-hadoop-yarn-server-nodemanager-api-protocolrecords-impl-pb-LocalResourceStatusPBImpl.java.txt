YARN-634. Modified YarnRemoteException to be not backed by PB and introduced a separate SerializedException record. Contributed by Siddharth Seth.
MAPREDUCE-5239. Updated MR App to reflect YarnRemoteException changes after YARN-634. Contributed by Siddharth Seth.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1481205 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.exceptions.YarnRemoteException;
-import org.apache.hadoop.yarn.exceptions.impl.pb.YarnRemoteExceptionPBImpl;
+import org.apache.hadoop.yarn.proto.YarnProtos.SerializedExceptionProto;
-import org.apache.hadoop.yarn.proto.YarnProtos.YarnRemoteExceptionProto;
+import org.apache.hadoop.yarn.server.api.records.SerializedException;
+import org.apache.hadoop.yarn.server.api.records.impl.pb.SerializedExceptionPBImpl;
-  private YarnRemoteException exception;
+  private SerializedException exception;
-        !((YarnRemoteExceptionPBImpl)this.exception).getProto()
+        !((SerializedExceptionPBImpl)this.exception).getProto()
-  public YarnRemoteException getException() {
+  public SerializedException getException() {
-  public void setException(YarnRemoteException exception) {
+  public void setException(SerializedException exception) {
-  private YarnRemoteExceptionPBImpl convertFromProtoFormat(YarnRemoteExceptionProto p) {
-    return new YarnRemoteExceptionPBImpl(p);
+  private SerializedExceptionPBImpl convertFromProtoFormat(SerializedExceptionProto p) {
+    return new SerializedExceptionPBImpl(p);
-  private YarnRemoteExceptionProto convertToProtoFormat(YarnRemoteException t) {
-    return ((YarnRemoteExceptionPBImpl)t).getProto();
+  private SerializedExceptionProto convertToProtoFormat(SerializedException t) {
+    return ((SerializedExceptionPBImpl)t).getProto();

MOV26 MOV26 MOV26 UPD40 UPD40 UPD40 UPD43 UPD43 UPD43 UPD43 UPD42 UPD42 UPD43 UPD42 UPD43 UPD42 UPD43 UPD42 UPD42 UPD42 UPD43 UPD42 UPD43 UPD42 UPD43 UPD42