HDDS-199. Implement ReplicationManager to handle underreplication of closed containers. Contributed by Elek Marton.

+import org.apache.hadoop.hdds.scm.container.replication.ReplicationManager;
+import org.apache.hadoop.hdds.scm.container.replication.ReplicationManager
+    .ReplicationCompleted;
+import org.apache.hadoop.hdds.scm.container.replication.ReplicationRequest;
+   * This is the command for ReplicationManager to handle under/over
+   * replication. Sent by the ContainerReportHandler after processing the
+   * heartbeat.
+   */
+  public static final TypedEvent<ReplicationRequest> REPLICATE_CONTAINER =
+      new TypedEvent<>(ReplicationRequest.class);
+
+  /**
+   * This event is sent by the ReplicaManager to the
+   * ReplicationCommandWatcher to track the in-progress replication.
+   */
+  public static final TypedEvent<ReplicationManager.ReplicationRequestToRepeat>
+      TRACK_REPLICATE_COMMAND =
+      new TypedEvent<>(ReplicationManager.ReplicationRequestToRepeat.class);
+  /**
+   * This event comes from the Heartbeat dispatcher (in fact from the
+   * datanode) to notify the scm that the replication is done. This is
+   * received by the replicate command watcher to mark in-progress task as
+   * finished.
+    <p>
+   * TODO: Temporary event, should be replaced by specific Heartbeat
+   * ActionRequred event.
+   */
+  public static final TypedEvent<ReplicationCompleted> REPLICATION_COMPLETE =
+      new TypedEvent<>(ReplicationCompleted.class);
+
+  /**

INS26 INS26 INS26 INS40 INS40 INS40 INS23 INS23 INS23 INS29 INS83 INS83 INS83 INS74 INS59 INS29 INS83 INS83 INS83 INS74 INS59 INS29 INS83 INS83 INS83 INS74 INS59 INS65 INS43 INS43 INS42 INS14 INS65 INS43 INS43 INS42 INS14 INS65 INS43 INS43 INS42 INS14 INS66 INS66 INS66 INS42 INS42 INS74 INS57 INS66 INS66 INS42 INS40 INS74 INS57 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS42 INS42 INS74 INS57 INS43 INS43 INS43 INS43 INS43 INS43 INS42 INS42 INS42 INS40 INS42 INS42