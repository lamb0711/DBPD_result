YARN-6363. Extending SLS: Synthetic Load Generator. (Carlo Curino via wangda)

-import org.apache.hadoop.util.ShutdownHookManager;
-import org.apache.hadoop.yarn.sls.utils.SLSUtils;
-
-      ShutdownHookManager.get().addShutdownHook(new Runnable() {
-        @Override public void run() {
-          try {
-            schedulerMetrics.tearDown();
-          } catch (Exception e) {
-            e.printStackTrace();
-          }
-        }
-      }, SLSUtils.SHUTDOWN_HOOK_PRIORITY);
+
+  @Override
+  public void serviceStop() throws Exception {
+    try {
+      schedulerMetrics.tearDown();
+    } catch (Exception e) {
+      e.printStackTrace();
+    }
+    super.serviceStop();
+  }

MOV31 INS42 INS43 INS42 INS21 INS48 INS42 DEL40 DEL26 DEL40 DEL26 DEL42 DEL42 DEL32 DEL42 DEL42 DEL43 DEL1 DEL14 DEL40 DEL32 DEL21 DEL42