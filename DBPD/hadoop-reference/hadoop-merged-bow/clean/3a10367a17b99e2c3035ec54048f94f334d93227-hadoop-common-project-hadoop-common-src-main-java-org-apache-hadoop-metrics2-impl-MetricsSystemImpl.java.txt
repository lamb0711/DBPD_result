HADOOP-14892. MetricsSystemImpl should use Time.monotonicNow for measuring durations. Contributed by Chetna Chaudhari.

-    long startTime = Time.now();
+    long startTime = Time.monotonicNow();
-    snapshotStat.add(Time.now() - startTime);
+    snapshotStat.add(Time.monotonicNow() - startTime);
-      long startTime = Time.now();
+      long startTime = Time.monotonicNow();
-      publishStat.add(Time.now() - startTime);
+      publishStat.add(Time.monotonicNow() - startTime);

UPD42 UPD42 UPD42 UPD42