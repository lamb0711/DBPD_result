HDDS-1898. GrpcReplicationService#download cannot replicate the container. (#1326)



-import org.apache.hadoop.ozone.container.common.interfaces.ContainerPacker;
-  private ContainerPacker packer = new TarContainerPacker();
+  private TarContainerPacker packer = new TarContainerPacker();
-    Preconditions
-        .checkNotNull(container, "Container is not found " + containerId);
+    Preconditions.checkNotNull(
+        container, "Container is not found " + containerId);
-    switch (container.getContainerType()) {
-    case KeyValueContainer:
-      packer.pack(container,
-          destination);
-      break;
-    default:
-      LOG.warn("Container type " + container.getContainerType()
-          + " is not replicable as no compression algorithm for that.");
-    }
+    controller.exportContainer(
+        container.getContainerType(), containerId, destination, packer);

UPD43 UPD42 INS21 MOV32 UPD42 UPD42 MOV32 UPD42 INS42 DEL40 DEL26 DEL42 DEL42 DEL32 DEL42 DEL49 DEL21 DEL10 DEL49 DEL42 DEL42 DEL45 DEL45 DEL27 DEL32 DEL21 DEL50