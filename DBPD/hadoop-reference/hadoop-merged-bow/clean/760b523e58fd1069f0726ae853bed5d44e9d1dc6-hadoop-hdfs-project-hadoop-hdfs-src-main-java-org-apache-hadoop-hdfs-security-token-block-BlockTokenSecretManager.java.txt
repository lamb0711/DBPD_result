Revert "HDFS-14305. Fix serial number calculation in BlockTokenSecretManager to avoid token key ID overlap between NameNodes. Contributed by He Xiaoqiao."

This reverts commit 0feba4396f6e96c332743a39f965de7995b67bde.

-  /**
-   * In order to prevent serial No. of different NameNode from overlapping,
-   * Using 6 bits (identify 64=2^6 namenodes, and presuppose that no scenario
-   * where deploy more than 64 namenodes (include ANN, SBN, Observers, etc.)
-   * in one namespace) to identify index of NameNode, and the remainder 26 bits
-   * auto-incr to change the serial No.
-   */
-  @VisibleForTesting
-  public static final int NUM_VALID_BITS = 26;
-  private static final int LOW_MASK = (1 << NUM_VALID_BITS) - 1;
-
-  private final int nnIndex;
-
+  private final int intRange;
+  private final int nnRangeStart;
-    this.nnIndex = nnIndex;
+    this.intRange = Integer.MAX_VALUE / numNNs;
+    this.nnRangeStart = intRange * nnIndex;
-    this.serialNo = (serialNo & LOW_MASK) | (nnIndex << NUM_VALID_BITS);
+    // we mod the serial number by the range and then add that times the index
+    this.serialNo = (serialNo % intRange) + (nnRangeStart);

MOV23 UPD42 UPD42 INS21 INS7 INS22 INS27 INS27 UPD27 INS52 INS42 INS40 INS42 UPD42 INS42 INS42 UPD27 INS42 UPD42 DEL66 DEL66 DEL66 DEL66 DEL66 DEL65 DEL29 DEL42 DEL78 DEL83 DEL83 DEL83 DEL39 DEL42 DEL34 DEL59 DEL23 DEL83 DEL34 DEL42 DEL27 DEL36 DEL34 DEL27 DEL42 DEL42 DEL42 DEL27