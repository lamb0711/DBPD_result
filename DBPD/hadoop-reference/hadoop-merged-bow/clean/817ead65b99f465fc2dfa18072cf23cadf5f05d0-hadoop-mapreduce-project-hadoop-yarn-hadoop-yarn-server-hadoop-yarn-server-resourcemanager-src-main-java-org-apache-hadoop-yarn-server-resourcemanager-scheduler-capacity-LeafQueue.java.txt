MAPREDUCE-2933. Change allocate call to return ContainerStatus for completed containers rather than Container.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1169484 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.yarn.api.records.ContainerStatus;
+import org.apache.hadoop.yarn.server.resourcemanager.scheduler.SchedulerUtils;
-          rmContainer, RMContainerEventType.RELEASED);
+          rmContainer, 
+          SchedulerUtils.createAbnormalContainerStatus(
+              container.getId(), 
+              SchedulerUtils.UNRESERVED_CONTAINER), 
+          RMContainerEventType.RELEASED);
-      RMContainerEventType event) {
+      ContainerStatus containerStatus, RMContainerEventType event) {
-          application.containerCompleted(rmContainer, event);
+          application.containerCompleted(rmContainer, containerStatus, event);
-          node, rmContainer, event);
+          node, rmContainer, null, event);

INS26 INS26 INS40 INS40 INS44 INS43 INS42 INS42 INS32 INS33 INS42 INS42 INS32 INS40 INS42 INS42 INS42