HDFS-14401. Refine the implementation for HDFS cache on SCM. Contributed by Feilong He.

+   * @param key           The ExtendedBlockId for a block.
+   *
-  abstract long reserve(long bytesCount);
+  abstract long reserve(ExtendedBlockId key, long bytesCount);
+   * @param key           The ExtendedBlockId for a block.
+   *
-  abstract long release(long bytesCount);
-
-  /**
-   * Get the config key of cache capacity.
-   */
-  abstract String getCacheCapacityConfigKey();
+  abstract long release(ExtendedBlockId key, long bytesCount);
-   * Get a cache file path if applicable. Otherwise return null.
+   * Clean up cache, can be used during DataNode shutdown.
-  abstract String getCachedPath(ExtendedBlockId key);
+  void shutdown() {
+    // Do nothing.
+  }

MOV31 INS44 MOV44 INS39 INS42 INS8 INS65 INS43 INS42 INS65 INS42 INS66 INS42 INS42 INS66 UPD66 DEL83 DEL42 DEL43 DEL42 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL31