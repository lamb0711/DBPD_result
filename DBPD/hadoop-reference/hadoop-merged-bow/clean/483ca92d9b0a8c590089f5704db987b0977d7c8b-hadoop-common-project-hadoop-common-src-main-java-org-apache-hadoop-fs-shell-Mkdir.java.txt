HADOOP-8175. Add -p option to mkdir in FsShell.  Contributed by Daryn Sharp


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1301303 13f79535-47bb-0310-9956-ffa450edef68

-  public static final String USAGE = "<path> ...";
+  public static final String USAGE = "[-p] <path> ...";
-    "Create a directory in specified location.";
+    "Create a directory in specified location.\n" +
+    "  -p  Do not fail if the directory already exists";
+  private boolean createParents;
+  
-    CommandFormat cf = new CommandFormat(1, Integer.MAX_VALUE);
+    CommandFormat cf = new CommandFormat(1, Integer.MAX_VALUE, "p");
+    createParents = cf.getOpt("p");
-      throw new PathExistsException(item.toString());
+      if (!createParents) {
+        throw new PathExistsException(item.toString());
+      }
+    // TODO: should use createParents to control intermediate dir creation 

INS23 INS83 INS39 INS59 UPD45 INS27 INS42 INS21 INS45 INS45 MOV43 INS7 INS8 INS42 INS32 INS25 MOV43 INS45 INS42 INS42 INS45 INS38 MOV8 INS42 DEL45