HDFS-7515. Fix new findbugs warnings in hadoop-hdfs. Contributed by Haohui Mai.

-import java.io.File;
-import java.io.PrintWriter;
+import java.io.PrintStream;
-import org.apache.hadoop.io.IOUtils;
-    PrintWriter out = outputFile.equals("-") ?
-        new PrintWriter(System.out) : new PrintWriter(new File(outputFile));
-
-    try {
-      if (processor.equals("FileDistribution")) {
-        long maxSize = Long.parseLong(cmd.getOptionValue("maxSize", "0"));
-        int step = Integer.parseInt(cmd.getOptionValue("step", "0"));
-        new FileDistributionCalculator(conf, maxSize, step, out)
-            .visit(new RandomAccessFile(inputFile, "r"));
-      } else if (processor.equals("XML")) {
-        new PBImageXmlWriter(conf, out).visit(new RandomAccessFile(inputFile,
-            "r"));
-      } else if (processor.equals("Web")) {
-        String addr = cmd.getOptionValue("addr", "localhost:5978");
-        WebImageViewer viewer = new WebImageViewer(NetUtils.createSocketAddr
-                (addr));
-        try {
-          viewer.start(inputFile);
-        } finally {
-          viewer.close();
-        }
+    try (PrintStream out = outputFile.equals("-") ?
+        System.out : new PrintStream(outputFile, "UTF-8")) {
+      switch (processor) {
+        case "FileDistribution":
+          long maxSize = Long.parseLong(cmd.getOptionValue("maxSize", "0"));
+          int step = Integer.parseInt(cmd.getOptionValue("step", "0"));
+          new FileDistributionCalculator(conf, maxSize, step, out).visit(
+              new RandomAccessFile(inputFile, "r"));
+          break;
+        case "XML":
+          new PBImageXmlWriter(conf, out).visit(
+              new RandomAccessFile(inputFile, "r"));
+          break;
+        case "Web":
+          String addr = cmd.getOptionValue("addr", "localhost:5978");
+          try (WebImageViewer viewer = new WebImageViewer(
+              NetUtils.createSocketAddr(addr))) {
+            viewer.start(inputFile);
+          }
+          break;
-    } finally {
-      IOUtils.cleanup(null, out);

UPD40 MOV8 MOV60 MOV25 MOV60 MOV60 MOV54 MOV25 MOV60 MOV60 MOV60 MOV60 INS54 INS58 MOV8 MOV12 MOV12 MOV38 INS43 INS59 INS50 INS41 UPD42 MOV42 INS42 INS16 INS42 INS49 MOV60 MOV60 MOV21 INS10 INS49 MOV21 INS10 INS49 MOV60 INS54 INS10 MOV34 MOV21 MOV32 INS40 INS14 INS45 INS45 INS45 INS58 MOV8 UPD42 MOV42 MOV32 UPD43 MOV43 UPD42 MOV42 UPD45 MOV45 INS42 MOV43 MOV59 INS21 UPD42 MOV42 UPD42 INS43 INS42 INS45 INS42 INS45 INS42 INS32 INS42 INS42 INS42 INS42 INS42 UPD42 MOV42 UPD42 MOV42 DEL40 DEL26 DEL40 DEL26 DEL42 DEL42 DEL45 DEL32 DEL42 DEL42 DEL45 DEL32 DEL8 DEL42 DEL42 DEL45 DEL32 DEL60 DEL42 DEL42 DEL32 DEL21 DEL8 DEL54 DEL8 DEL25 DEL25 DEL25 DEL42 DEL43 DEL42 DEL42 DEL43 DEL40 DEL14 DEL42 DEL43 DEL42 DEL43 DEL42 DEL14 DEL14 DEL16 DEL59 DEL60 DEL42 DEL42 DEL33 DEL42 DEL32 DEL21 DEL8 DEL54 DEL8