HDFS-8248. Store INodeId instead of the INodeFile object in BlockInfoContiguous. Contributed by Haohui Mai.

+import static org.apache.hadoop.hdfs.server.namenode.INodeId.INVALID_INODE_ID;
+
-   * Replication factor
+   * Replication factor.
-  private BlockCollection bc;
+  /**
+   * Block collection ID.
+   */
+  private long bcId;
-    this.bc = null;
+    this.bcId = INVALID_INODE_ID;
-    this.bc = null;
+    this.bcId = INVALID_INODE_ID;
-    this.bc = from.bc;
+    this.bcId = from.bcId;
-  public BlockCollection getBlockCollection() {
-    return bc;
+  public long getBlockCollectionId() {
+    return bcId;
-  public void setBlockCollection(BlockCollection bc) {
-    this.bc = bc;
+  public void setBlockCollectionId(long id) {
+    this.bcId = id;
-    return (bc == null);
+    return bcId == INVALID_INODE_ID;

INS26 INS40 INS29 INS39 INS39 UPD42 UPD42 INS65 UPD42 INS39 INS42 UPD66 INS66 UPD42 INS27 INS42 INS42 UPD40 UPD42 UPD42 MOV42 INS42 UPD42 UPD42 UPD42 UPD42 DEL42 DEL43 DEL33 DEL33 DEL42 DEL43 DEL42 DEL43 DEL42 DEL33 DEL27 DEL36