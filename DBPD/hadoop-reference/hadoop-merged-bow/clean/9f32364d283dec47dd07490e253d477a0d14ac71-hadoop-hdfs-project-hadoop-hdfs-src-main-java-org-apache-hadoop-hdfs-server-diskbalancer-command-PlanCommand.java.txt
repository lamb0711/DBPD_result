HDFS-11038. DiskBalancer: support running multiple commands in single test. Contributed by Xiaobing Zhou.

+import org.apache.hadoop.fs.Path;
-        outputLine = String.format("Writing plan to: %s", getOutputPath());
+        outputLine = String.format("Writing plan to:");
-        try (FSDataOutputStream planStream = create(String.format(
+
+        final String planFileName = String.format(
-            cmd.getOptionValue(DiskBalancerCLI.PLAN)))) {
+            cmd.getOptionValue(DiskBalancerCLI.PLAN));
+        final String planFileFullName =
+            new Path(getOutputPath(), planFileName).toString();
+        recordOutput(result, planFileFullName);
+
+        try (FSDataOutputStream planStream = create(planFileName)) {
-    getPrintStream().println(result.toString());
+    getPrintStream().print(result.toString());

INS26 INS40 UPD42 INS60 INS60 INS21 INS83 INS43 MOV59 INS83 INS43 INS59 INS32 INS42 UPD42 MOV32 INS42 INS42 INS32 INS42 INS42 INS42 INS59 UPD45 INS14 INS42 INS42 INS32 INS43 MOV32 INS42 INS42 INS42 INS42 DEL42 DEL32