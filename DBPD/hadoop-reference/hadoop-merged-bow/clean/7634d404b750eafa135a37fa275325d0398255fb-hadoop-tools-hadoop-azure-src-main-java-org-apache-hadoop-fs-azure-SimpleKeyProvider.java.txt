HADOOP-12846. Credential Provider Recursive Dependencies. Contributed by Larry McCay.

+import org.apache.hadoop.security.ProviderUtils;
-      char[] keyChars = conf.getPassword(getStorageAccountKeyName(accountName));
+      Configuration c = ProviderUtils.excludeIncompatibleCredentialProviders(
+          conf, NativeAzureFileSystem.class);
+      char[] keyChars = c.getPassword(getStorageAccountKeyName(accountName));

INS26 INS40 INS60 INS43 INS59 INS42 INS42 INS32 INS42 INS42 INS42 INS57 UPD42 INS43 INS42