HDDS-1101. SCM CA: Write Certificate information to SCM Metadata. Contributed by Anu Engineer.

-   * Get Certificate location.
-   *
-   * @return Path
-   */
-  public Path getLocation() {
-    return location;
-  }
-
-  /**
+      return getPEMEncodedString(getX509Certificate(x509CertHolder));
+    } catch (CertificateException exp) {
+      throw new SCMSecurityException(exp);
+    }
+  }
+
+  /**
+   * Returns the Certificate as a PEM encoded String.
+   *
+   * @param certificate - X.509 Certificate.
+   * @return PEM Encoded Certificate String.
+   * @throws SCMSecurityException - On failure to create a PEM String.
+   */
+  public static String getPEMEncodedString(X509Certificate certificate)
+      throws SCMSecurityException {
+    try {
-        pemWriter.writeObject(getX509Certificate(x509CertHolder));
+        pemWriter.writeObject(certificate);
-    } catch (CertificateException | IOException e) {
-      LOG.error("Error in encoding certificate." + x509CertHolder
-          .getSubject().toString(), e);
+    } catch (IOException e) {
+      LOG.error("Error in encoding certificate." + certificate
+          .getSubjectDN().toString(), e);
-          x509CertHolder.getSubject().toString(), e);
+          certificate.getSubjectDN().toString(), e);
-  public X509Certificate getX509Certificate(String pemEncodedString)
+  public static X509Certificate getX509Certificate(String pemEncodedString)
+   * Get Certificate location.
+   *
+   * @return Path
+   */
+  public Path getLocation() {
+    return location;
+  }
+
+  /**

MOV31 INS31 MOV29 INS83 INS83 MOV43 INS42 MOV44 MOV43 INS8 INS29 INS43 INS44 INS43 INS83 INS54 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS42 MOV8 INS12 INS66 INS42 INS66 INS66 INS42 INS66 INS42 INS41 INS44 INS8 MOV32 MOV43 INS42 INS53 INS8 MOV43 UPD42 INS14 INS21 INS43 INS42 INS32 INS42 INS42 INS42 INS42 UPD42 UPD42 UPD42 UPD42 DEL42 DEL21 DEL84