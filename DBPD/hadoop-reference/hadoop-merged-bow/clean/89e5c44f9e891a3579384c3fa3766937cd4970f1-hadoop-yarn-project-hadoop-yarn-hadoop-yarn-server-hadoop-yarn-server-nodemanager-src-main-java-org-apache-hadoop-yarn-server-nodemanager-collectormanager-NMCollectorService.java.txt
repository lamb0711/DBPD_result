YARN-4356. Ensure the timeline service v.2 is disabled cleanly and has no
impact when it's turned off. Contributed by Sangjin Lee.

+/**
+ * Service that handles collector information. It is used only if the timeline
+ * service v.2 is enabled.
+ */
-        if (YarnConfiguration.systemMetricsPublisherEnabled(context.getConf())) {
-          TimelineClient client = 
-              context.getApplications().get(appId).getTimelineClient();
+        TimelineClient client =
+            context.getApplications().get(appId).getTimelineClient();
+        if (client != null) {

INS29 INS65 MOV8 INS66 INS66 MOV60 INS25 MOV41 MOV27 MOV8 MOV60 INS70 MOV21 UPD42 MOV42 UPD42 MOV42 MOV44 INS42 MOV8 MOV60 MOV60 MOV21 INS25 UPD42 MOV42 INS42 INS27 INS8 INS42 INS33 MOV21 DEL42 DEL42 DEL42 DEL32 DEL32 DEL25 DEL42 DEL70 DEL25 DEL8