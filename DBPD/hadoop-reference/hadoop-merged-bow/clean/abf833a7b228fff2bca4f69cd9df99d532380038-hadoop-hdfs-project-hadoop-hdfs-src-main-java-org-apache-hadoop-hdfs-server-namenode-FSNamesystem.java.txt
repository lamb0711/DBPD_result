HDFS-7907. Erasure Coding: track invalid, corrupt, and under-recovery striped blocks in NameNode. Contributed by Jing Zhao.

-          if (blockManager.checkMinStorage(b, b.numNodes())) {
+          if (blockManager.hasMinStorage(b, b.numNodes())) {
-      assert blockManager.checkMinStorage(curBlock) :
+      assert blockManager.hasMinStorage(curBlock) :
-        blockManager.checkMinStorage(penultimateBlock);
+        blockManager.hasMinStorage(penultimateBlock);
-          blockManager.checkMinStorage(lastBlock)) {
+          blockManager.hasMinStorage(lastBlock)) {

UPD42 UPD42 UPD42 UPD42