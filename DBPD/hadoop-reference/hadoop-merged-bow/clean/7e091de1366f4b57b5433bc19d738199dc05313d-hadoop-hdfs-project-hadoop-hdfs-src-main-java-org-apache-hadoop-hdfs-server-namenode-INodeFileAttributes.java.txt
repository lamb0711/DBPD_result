HDFS-8058. Erasure coding: use BlockInfo[] for both striped and contiguous blocks in INodeFile. Contributed by Zhe Zhang and Yi Liu.

+  /** @return whether the file is striped (instead of contiguous) */
+  public boolean isStriped();
+
-        byte storagePolicyID, XAttrFeature xAttrsFeature) {
+        byte storagePolicyID, XAttrFeature xAttrsFeature, boolean isStriped) {
-      header = HeaderFormat.toLong(preferredBlockSize, replication,
+      header = HeaderFormat.toLong(preferredBlockSize, replication, isStriped,
+    public boolean isStriped() {
+      return HeaderFormat.isStriped(header);
+    }
+
+    @Override

INS31 INS29 INS83 INS39 INS42 INS31 INS65 INS44 INS78 INS83 INS39 INS42 INS8 INS66 INS39 INS42 INS42 INS41 INS32 INS42 INS42 INS42 INS42