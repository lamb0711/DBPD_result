YARN-3124. Fixed CS LeafQueue/ParentQueue to use QueueCapacities to track capacities-by-label. Contributed by Wangda Tan

+    super.reinitialize(newlyParsedQueue, clusterResource);
-    super.reinitialize(newlyParsedQueue, clusterResource);
-  // used by the super constructor, we initialize to zero
-  protected float getCapacityFromConf() {
-    return 0f;
+  @Override
+  protected void setupConfigurableCapacities() {
+    CSQueueUtils.updateAndCheckCapacitiesByLabel(getQueuePath(),
+        queueCapacities, parent == null ? null : parent.getQueueCapacities());
-

MOV21 INS78 UPD39 UPD42 INS42 INS21 INS32 INS42 INS42 INS32 INS42 INS16 INS42 INS27 INS33 INS32 INS42 INS33 INS42 INS42 DEL34 DEL41