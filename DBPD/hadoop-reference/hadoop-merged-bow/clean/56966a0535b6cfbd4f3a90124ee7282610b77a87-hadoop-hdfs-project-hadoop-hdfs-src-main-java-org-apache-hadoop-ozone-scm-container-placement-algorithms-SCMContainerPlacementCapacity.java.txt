HDFS-11860. Ozone: SCM: SCMContainerPlacementCapacity#chooseNode sometimes does not remove chosen node from healthy list. Contributed by Xiaoyu Yao.

+    DatanodeID chosenID;
-      return healthyNodes.get(firstNodeNdx);
+      chosenID = healthyNodes.get(firstNodeNdx);
+    } else {
+      DatanodeID firstNodeID = healthyNodes.get(firstNodeNdx);
+      DatanodeID secondNodeID = healthyNodes.get(secondNodeNdx);
+      SCMNodeMetric firstNodeMetric =
+          getNodeManager().getNodeStat(firstNodeID);
+      SCMNodeMetric secondNodeMetric =
+          getNodeManager().getNodeStat(secondNodeID);
+      chosenID = firstNodeMetric.isGreater(secondNodeMetric.get())
+          ? firstNodeID : secondNodeID;
-
-    DatanodeID firstNodeID = healthyNodes.get(firstNodeNdx);
-    DatanodeID secondNodeID = healthyNodes.get(secondNodeNdx);
-    SCMNodeMetric firstNodeMetric = getNodeManager().getNodeStat(firstNodeID);
-    SCMNodeMetric secondNodeMetric = getNodeManager().getNodeStat(secondNodeID);
-
-    DatanodeID chosenID = firstNodeMetric.isGreater(secondNodeMetric.get())
-        ? firstNodeID : secondNodeID;
-
-

INS25 MOV27 MOV8 INS8 INS21 MOV60 MOV60 MOV60 MOV60 INS21 INS7 INS7 INS42 MOV32 INS42 MOV16 DEL25 DEL41