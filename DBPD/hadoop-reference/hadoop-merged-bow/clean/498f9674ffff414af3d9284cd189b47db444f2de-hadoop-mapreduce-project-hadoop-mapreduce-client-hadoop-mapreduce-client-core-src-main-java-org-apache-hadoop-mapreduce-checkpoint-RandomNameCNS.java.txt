Merge r1550130 through r1555020 from trunk.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-5535@1555021 13f79535-47bb-0310-9956-ffa450edef68

+package org.apache.hadoop.mapreduce.checkpoint;
-package org.apache.hadoop.yarn.exceptions;
-
-import org.apache.hadoop.classification.InterfaceAudience;
-import org.apache.hadoop.classification.InterfaceStability;
+import org.apache.commons.lang.RandomStringUtils;
- * Exception to be thrown when an Active-Only operation is attempted on a
- * ResourceManager that is not Active.
+ * Simple naming service that generates a random checkpoint name.
-@InterfaceAudience.Private
-@InterfaceStability.Evolving
-public class RMNotYetActiveException extends YarnException {
-  private static final long serialVersionUID = 1L;
+public class RandomNameCNS implements CheckpointNamingService {
-  public RMNotYetActiveException() {
-    super("ResourceManager is not yet Active!");
+  @Override
+  public String getNewName() {
+    return "checkpoint_" + RandomStringUtils.randomAlphanumeric(8);
+

UPD40 UPD40 UPD42 UPD43 INS31 UPD42 INS78 MOV83 INS43 INS42 MOV8 UPD66 INS42 INS42 INS41 INS27 INS45 INS32 INS42 INS42 INS34 DEL40 DEL26 DEL66 DEL40 DEL78 DEL40 DEL78 DEL45 DEL46 DEL83 DEL83 DEL83 DEL39 DEL42 DEL34 DEL59 DEL23 DEL42 DEL31