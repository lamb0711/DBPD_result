HDFS-11424. Block Storage: add container representation to meta data. Contributed Chen Liang.

-import org.apache.hadoop.cblock.meta.ContainerDescriptor;
-import org.apache.hadoop.cblock.storage.IStorageClient;
+import org.apache.hadoop.scm.client.ScmClient;
+import org.apache.hadoop.scm.container.common.helpers.Pipeline;
-public class MockStorageClient implements IStorageClient {
+public class MockStorageClient implements ScmClient {
-  public ContainerDescriptor createContainer() throws IOException {
+  @Override
+  public Pipeline createContainer(String containerId)
+      throws IOException {
-    return ContainerLookUpService.lookUp(Long.toString(currentContainerId));
+    return ContainerLookUpService.lookUp(Long.toString(currentContainerId))
+        .getPipeline();
-   * @param containerId
-  public void deleteContainer(String containerId) throws IOException {
+  public void deleteContainer(Pipeline pipeline) throws IOException {
-  public ContainerDescriptor getContainer(String containerId)
+  public Pipeline getContainer(String containerId)
-    return ContainerLookUpService.lookUp(containerId);
+    return ContainerLookUpService.lookUp(containerId).getPipeline();
-  public long getContainerSize() throws IOException {
+  public long getContainerSize(Pipeline pipeline) throws IOException {

UPD40 UPD40 UPD43 UPD42 INS78 UPD43 INS44 UPD43 INS44 INS42 UPD42 INS43 INS42 UPD43 UPD42 UPD42 INS43 INS42 INS42 INS32 UPD42 INS32 INS42 MOV32 INS42 MOV32 INS42 DEL42 DEL65