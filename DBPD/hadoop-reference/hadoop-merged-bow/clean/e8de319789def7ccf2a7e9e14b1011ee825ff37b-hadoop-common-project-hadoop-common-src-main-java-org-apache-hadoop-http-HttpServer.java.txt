HDFS-5690. DataNode fails to start in secure mode when dfs.http.policy equals to HTTP_ONLY. Contributed by Haohui Mai.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1553167 13f79535-47bb-0310-9956-ffa450edef68

-      if (endpoints.size() == 0) {
+      if (endpoints.size() == 0 && connector == null) {
-        hostName = endpoints.get(0).getHost();
+        hostName = endpoints.size() == 0 ? connector.getHost() : endpoints.get(
+            0).getHost();

INS27 MOV27 INS27 INS42 INS33 INS16 INS27 INS32 MOV32 INS32 INS34 INS42 INS42 INS42 INS42