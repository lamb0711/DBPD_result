Merging trunk to HDFS-1623 branch.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1177117 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.mapreduce.MRJobConfig;
-
+  
+  public static String getMRv2LogDir() {
+    return System.getProperty(MRJobConfig.TASK_LOG_DIR);
+  }
+  
-    return new File(getAttemptDir(taskid, isCleanup), filter.toString());
+    if (getMRv2LogDir() != null) {
+      return new File(getMRv2LogDir(), filter.toString());
+    } else {
+      return new File(getAttemptDir(taskid, isCleanup), filter.toString());
+    }

INS26 INS40 INS31 INS83 INS83 INS43 INS42 INS8 INS8 INS42 INS41 INS25 INS32 INS27 INS8 MOV8 INS42 INS42 INS40 INS32 INS33 INS41 INS42 INS14 INS43 INS32 INS32 INS42 INS42 INS42 INS42