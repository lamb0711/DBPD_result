HADOOP-17068. Client fails forever when namenode ipaddr changed. Contributed by Sean Chow.

+      LOG.debug("Setup connection to " + server.toString());
+            try {
+              // HADOOP-17068: when server changed, ignore the exception.
+              handleConnectionFailure(ioFailures++, ie);
+            } catch (IOException ioe) {
+              LOG.warn("Exception when handle ConnectionFailure: "
+                  + ioe.getMessage());
+            }
+          } else {
+            handleConnectionFailure(ioFailures++, ie);
-          handleConnectionFailure(ioFailures++, ie);
-        // log the info
+        // Log the newest server information if update address.

INS21 INS32 INS42 INS42 INS27 INS45 INS32 INS42 INS42 INS8 INS25 MOV32 INS8 INS8 MOV21 INS54 INS21 MOV8 INS12 INS32 INS44 INS8 INS42 INS37 INS42 INS43 INS42 INS21 INS42 INS42 INS32 INS42 INS42 INS27 INS45 INS32 INS42 INS42 DEL8 DEL25