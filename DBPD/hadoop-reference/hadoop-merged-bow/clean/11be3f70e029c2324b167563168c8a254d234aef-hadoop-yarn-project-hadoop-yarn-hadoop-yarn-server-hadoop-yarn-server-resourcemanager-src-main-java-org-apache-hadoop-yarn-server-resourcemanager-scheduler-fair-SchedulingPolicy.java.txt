YARN-4212. FairScheduler: Can't create a DRF queue under a FAIR policy queue. (Yufei Gu via kasha)

-  public static final byte DEPTH_LEAF = (byte) 1;
-  public static final byte DEPTH_INTERMEDIATE = (byte) 2;
-  public static final byte DEPTH_ROOT = (byte) 4;
-  public static final byte DEPTH_PARENT = (byte) 6; // Root and Intermediate
-  public static final byte DEPTH_ANY = (byte) 7;
-
-   * Specifies the depths in the hierarchy, this {@link SchedulingPolicy}
-   * applies to
-   * 
-   * @return depth equal to one of fields {@link SchedulingPolicy}#DEPTH_*
-   */
-  public abstract byte getApplicableDepth();
-
-  /**
-   * Checks if the specified {@link SchedulingPolicy} can be used for a queue at
-   * the specified depth in the hierarchy
-   * 
-   * @param policy {@link SchedulingPolicy} we are checking the
-   *          depth-applicability for
-   * @param depth queue's depth in the hierarchy
-   * @return true if policy is applicable to passed depth, false otherwise
-   */
-  public static boolean isApplicableTo(SchedulingPolicy policy, byte depth) {
-    return ((policy.getApplicableDepth() & depth) == depth) ? true : false;
-  }
-
-  /**
+  /**
+   * Check whether the policy of a child queue is allowed.
+   *
+   * @param childPolicy the policy of child queue
+   * @return true if the child policy is allowed; false otherwise
+   */
+  public boolean isChildPolicyAllowed(SchedulingPolicy childPolicy) {
+    return true;
+  }

MOV31 UPD42 UPD42 UPD66 UPD42 UPD66 UPD66 INS9 DEL83 DEL83 DEL83 DEL39 DEL42 DEL39 DEL34 DEL11 DEL59 DEL23 DEL83 DEL83 DEL83 DEL39 DEL42 DEL39 DEL34 DEL11 DEL59 DEL23 DEL83 DEL83 DEL83 DEL39 DEL42 DEL39 DEL34 DEL11 DEL59 DEL23 DEL83 DEL83 DEL83 DEL39 DEL42 DEL39 DEL34 DEL11 DEL59 DEL23 DEL83 DEL83 DEL83 DEL39 DEL42 DEL39 DEL34 DEL11 DEL59 DEL23 DEL66 DEL42 DEL65 DEL66 DEL65 DEL66 DEL42 DEL65 DEL66 DEL65 DEL29 DEL83 DEL83 DEL39 DEL42 DEL31 DEL42 DEL65 DEL66 DEL66 DEL66 DEL42 DEL65 DEL66 DEL42 DEL66 DEL65 DEL83 DEL39 DEL42 DEL44 DEL42 DEL42 DEL32 DEL42 DEL27 DEL36 DEL42 DEL27 DEL36 DEL9 DEL9 DEL16