HDFS-5191. Revisit zero-copy API in FSDataInputStream to make it more intuitive (Contributed by Colin Patrick McCabe)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1526020 13f79535-47bb-0310-9956-ffa450edef68

-
-import java.io.IOException;
-
- * Supports zero-copy reads.
+ * Options that can be used when reading from a FileSystem.
-@InterfaceAudience.Private
-@InterfaceStability.Evolving
-public interface SupportsZeroCopy {
+@InterfaceAudience.Public
+@InterfaceStability.Stable
+public enum ReadOption {
-   * Get a zero-copy cursor to use for zero-copy reads.
-   *
-   * @throws IOException
-   *     If there was an error creating the ZeroCopyCursor
-   * @throws UnsupportedOperationException
-   *     If this stream does not support zero-copy reads.
-   *     This is used, for example, when one stream wraps another
-   *     which may or may not support ZCR.
+   * Skip checksums when reading.  This option may be useful when reading a file
+   * format that has built-in checksums, or for testing purposes.
-  public ZeroCopyCursor createZeroCopyCursor()
-      throws IOException, ZeroCopyUnavailableException;
-}
+  SKIP_CHECKSUMS,
+}

INS71 INS29 INS78 INS78 INS83 INS42 INS72 MOV65 UPD40 MOV40 UPD40 MOV40 INS29 INS42 UPD66 UPD65 MOV65 UPD66 UPD66 DEL40 DEL26 DEL42 DEL66 DEL29 DEL78 DEL78 DEL83 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL43 DEL31 DEL55