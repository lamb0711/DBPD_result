YARN-5359. FileSystemTimelineReader/Writer uses unix-specific default storage path (Sangjin Lee via Varun Saxena)

+import com.google.common.annotations.VisibleForTesting;
+
-  /** default value for storage location on local disk. */
-  public static final String DEFAULT_TIMELINE_SERVICE_STORAGE_DIR_ROOT
-      = "/tmp/timeline_service_data";
-
+  /** default value for storage location on local disk. */
+  private static final String STORAGE_DIR_ROOT = "timeline_service_data";
+
-  public String getOutputRoot() {
+  @VisibleForTesting
+  String getOutputRoot() {
-        DEFAULT_TIMELINE_SERVICE_STORAGE_DIR_ROOT);
+        conf.get("hadoop.tmp.dir") + File.separator + STORAGE_DIR_ROOT);
-      path.append(dirStr).append('/');
+      path.append(dirStr).append(File.separatorChar);

INS26 MOV23 INS40 UPD83 INS78 UPD42 UPD45 INS42 INS27 INS32 INS40 INS42 INS40 INS42 INS42 INS45 DEL83 DEL42 DEL13