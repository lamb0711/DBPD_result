Merge HDFS-8394 from trunk: Move getAdditionalBlock() and related functionalities into a separate class.

+    if (success) {
+      NameNode.stateChangeLog.info("DIR* completeFile: " + src
+          + " is closed by " + holder);
+    }
-  Block createNewBlock() throws IOException {
+  Block createNewBlock(boolean isStriped) throws IOException {

INS44 INS25 INS39 INS42 INS42 INS8 INS21 INS32 INS40 INS42 INS27 INS45 INS42 INS45 INS42