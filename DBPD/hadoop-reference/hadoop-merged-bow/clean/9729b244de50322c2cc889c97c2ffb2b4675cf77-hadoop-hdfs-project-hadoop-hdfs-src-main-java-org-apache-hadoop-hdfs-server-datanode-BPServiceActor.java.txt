HDFS-7604. Track and display failed DataNode storage locations in NameNode. Contributed by Chris Nauroth.

+import org.apache.hadoop.hdfs.server.protocol.VolumeFailureSummary;
-
+    
+    VolumeFailureSummary volumeFailureSummary = dn.getFSDataset()
+        .getVolumeFailureSummary();
+    int numFailedVolumes = volumeFailureSummary != null ?
+        volumeFailureSummary.getFailedStorageLocations().length : 0;
-        dn.getFSDataset().getNumFailedVolumes());
+        numFailedVolumes,
+        volumeFailureSummary);
-}
+}

INS26 INS40 INS60 INS60 INS43 INS59 INS39 INS59 INS42 INS42 MOV32 INS42 INS16 INS42 INS42 UPD42 INS27 INS22 INS34 INS42 INS33 INS32 INS42 INS42 INS42