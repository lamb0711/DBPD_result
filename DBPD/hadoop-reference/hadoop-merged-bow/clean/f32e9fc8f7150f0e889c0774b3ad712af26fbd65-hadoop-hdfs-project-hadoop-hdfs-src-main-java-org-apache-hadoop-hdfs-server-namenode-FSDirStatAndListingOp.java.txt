HDFS-10939. Reduce performance penalty of encryption zones. Contributed by Daryn sharp.

-        fsd.checkUnreadableBySuperuser(pc, inode, iip.getPathSnapshotId());
+        fsd.checkUnreadableBySuperuser(pc, iip);
-      final FileEncryptionInfo feInfo = iip.isRaw() ? null
-          : FSDirEncryptionZoneOp.getFileEncryptionInfo(fsd, inode,
-          iip.getPathSnapshotId(), iip);
+      final FileEncryptionInfo feInfo =
+          FSDirEncryptionZoneOp.getFileEncryptionInfo(fsd, iip);
-    final boolean isEncrypted;
-    final boolean isRawPath = iip.isRaw();
-    final FileEncryptionInfo feInfo = isRawPath ? null : FSDirEncryptionZoneOp
-        .getFileEncryptionInfo(fsd, node, snapshot, iip);
+    final boolean isEncrypted = FSDirEncryptionZoneOp.isInAnEZ(fsd, iip);
+    FileEncryptionInfo feInfo = null;
-      isEncrypted = (feInfo != null)
-          || (isRawPath && FSDirEncryptionZoneOp.isInAnEZ(fsd, iip));
+      if (isEncrypted) {
+        feInfo = FSDirEncryptionZoneOp.getFileEncryptionInfo(fsd, iip);
+      }
-    } else {
-      isEncrypted = FSDirEncryptionZoneOp.isInAnEZ(fsd, iip);

MOV60 MOV32 INS33 INS25 INS42 INS8 INS32 MOV21 MOV42 MOV42 MOV42 MOV42 MOV42 INS42 INS32 INS42 INS42 INS42 INS42 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL33 DEL42 DEL42 DEL32 DEL42 DEL32 DEL16 DEL83 DEL39 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL83 DEL42 DEL33 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL16 DEL42 DEL42 DEL33 DEL27 DEL36 DEL42 DEL27 DEL36 DEL27 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL7 DEL21 DEL8