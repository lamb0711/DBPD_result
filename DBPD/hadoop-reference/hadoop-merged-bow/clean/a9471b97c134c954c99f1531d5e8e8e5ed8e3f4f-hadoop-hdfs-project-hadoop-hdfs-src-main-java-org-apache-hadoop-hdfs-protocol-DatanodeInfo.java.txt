Merge trunk into HDFS-3042 branch


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-3042@1306587 13f79535-47bb-0310-9956-ffa450edef68

- * DatanodeInfo represents the status of a DataNode.
- * This object is used for communication in the
- * Datanode Protocol and the Client Protocol.
+ * This class extends the primary identifier of a Datanode with ephemeral
+ * state, eg usage information, current administrative state, and the
+ * network location that is communicated to clients.
-  /** HostName as supplied by the datanode during registration as its 
-   * name. Namenode uses datanode IP address as the name.
-   */
+  // The FQDN of the IP associated with the Datanode's hostname
-  // administrative states of a datanode
+  // Datanode administrative states
-    String hostName = NetUtils.getHostNameOfIP(name);
+    String lookupName = NetUtils.getHostNameOfIP(name);
-    if(hostName != null)
-      buffer.append(" (" + hostName + ")");
+    if (lookupName != null) {
+      buffer.append(" (" + lookupName + ")");
+    }
+    buffer.append("Hostname: " + getHostName() + "\n");

UPD66 UPD66 UPD66 INS21 INS8 INS32 UPD42 UPD42 INS21 INS42 INS42 INS27 MOV32 INS45 INS32 INS45 INS42 UPD42 DEL66 DEL66 DEL65 DEL29 DEL21