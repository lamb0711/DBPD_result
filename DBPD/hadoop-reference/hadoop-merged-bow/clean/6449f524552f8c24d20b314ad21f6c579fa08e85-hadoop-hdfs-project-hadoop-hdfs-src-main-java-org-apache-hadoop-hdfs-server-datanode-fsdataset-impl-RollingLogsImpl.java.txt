HDFS-4032. Specify the charset explicitly rather than rely on the default. Contributed by Eli Collins


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1431179 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.FileInputStream;
-import java.io.FileReader;
-import java.io.PrintStream;
+import java.io.InputStreamReader;
+import java.io.OutputStreamWriter;
+import java.io.PrintWriter;
+import com.google.common.base.Charsets;
+
-  private PrintStream out; //require synchronized access
+  private PrintWriter out; //require synchronized access
-    out = new PrintStream(new FileOutputStream(curr, true));
+    out = new PrintWriter(new OutputStreamWriter(new FileOutputStream(
+        curr, true), Charsets.UTF_8));
-      out = new PrintStream(new FileOutputStream(curr, true));
+      out = new PrintWriter(new OutputStreamWriter(new FileOutputStream(
+          curr, true), Charsets.UTF_8));
-      reader = new BufferedReader(new FileReader(file));
+      reader = new BufferedReader(new InputStreamReader(new FileInputStream(
+          file), Charsets.UTF_8));

MOV26 INS26 INS26 INS26 INS40 UPD40 INS40 UPD40 INS40 UPD43 UPD42 INS14 INS43 MOV14 INS42 UPD43 INS40 INS14 UPD42 INS43 MOV14 UPD43 INS14 INS40 INS42 UPD43 INS40 UPD42 INS43 MOV42 UPD42 INS42