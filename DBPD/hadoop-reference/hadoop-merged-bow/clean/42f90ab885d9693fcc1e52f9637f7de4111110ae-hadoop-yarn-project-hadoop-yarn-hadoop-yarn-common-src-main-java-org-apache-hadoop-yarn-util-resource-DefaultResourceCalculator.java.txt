YARN-4844. Add getMemorySize/getVirtualCoresSize to o.a.h.y.api.records.Resource. Contributed by Wangda Tan.

-    return lhs.getMemory() - rhs.getMemory();
+    return Long.compare(lhs.getMemorySize(), rhs.getMemorySize());
-  public int computeAvailableContainers(Resource available, Resource required) {
+  public long computeAvailableContainers(Resource available, Resource required) {
-    return available.getMemory() / required.getMemory();
+    return available.getMemorySize() / required.getMemorySize();
-    if (r.getMemory() == 0.0f) {
+    if (r.getMemorySize() == 0.0f) {
-    return (float)a.getMemory() / b.getMemory();
+    return (float)a.getMemorySize() / b.getMemorySize();
-  public Resource divideAndCeil(Resource numerator, int denominator) {
+  public Resource divideAndCeil(Resource numerator, long denominator) {
-        divideAndCeil(numerator.getMemory(), denominator));
+        divideAndCeil(numerator.getMemorySize(), denominator));
-    int normalizedMemory = Math.min(
+    long normalizedMemory = Math.min(
-            Math.max(r.getMemory(), minimumResource.getMemory()),
-            stepFactor.getMemory()),
-            maximumResource.getMemory());
+            Math.max(r.getMemorySize(), minimumResource.getMemorySize()),
+            stepFactor.getMemorySize()),
+            maximumResource.getMemorySize());
-        roundUp(r.getMemory(), stepFactor.getMemory())
+        roundUp(r.getMemorySize(), stepFactor.getMemorySize())
-        roundDown(r.getMemory(), stepFactor.getMemory()));
+        roundDown(r.getMemorySize(), stepFactor.getMemorySize()));
-        roundUp((int)(r.getMemory() * by + 0.5), stepFactor.getMemory())
-        );
+        roundUp((long) (r.getMemorySize() * by + 0.5),
+            stepFactor.getMemorySize()));
-            (int)(r.getMemory() * by), 
-            stepFactor.getMemory()
+            (long)(r.getMemorySize() * by),
+            stepFactor.getMemorySize()
-    return smaller.getMemory() <= bigger.getMemory();
+    return smaller.getMemorySize() <= bigger.getMemorySize();

UPD39 UPD39 INS32 UPD39 INS42 INS42 INS32 INS32 MOV42 UPD42 MOV42 MOV42 UPD42 MOV42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD39 UPD42 UPD39 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 DEL32 DEL32 DEL27