HDFS-8854. Erasure coding: add ECPolicy to replace schema+cellSize in hadoop-hdfs. Contributed by Walter Su.

-import org.apache.hadoop.io.erasurecode.ECSchema;
-
-  private ECSchema schema;
-  private int cellSize;
+  private ErasureCodingPolicy ecPolicy;
-  public ErasureCodingZone(String dir, ECSchema schema, int cellSize) {
+  public ErasureCodingZone(String dir, ErasureCodingPolicy ecPolicy) {
-    this.schema = schema;
-    this.cellSize = cellSize;
+    this.ecPolicy = ecPolicy;
-   * Get the schema for the EC Zone
+   * Get the erasure coding policy for the EC Zone
-  public ECSchema getSchema() {
-    return schema;
-  }
-
-  /**
-   * Get cellSize for the EC Zone
-   */
-  public int getCellSize() {
-    return cellSize;
+  public ErasureCodingPolicy getErasureCodingPolicy() {
+    return ecPolicy;
-    return "Dir: " + getDir() + ", Schema: " + schema + ", cellSize: "
-        + cellSize;
+    return "Dir: " + getDir() + ", Policy: " + ecPolicy;

UPD43 UPD43 UPD42 UPD42 UPD42 UPD43 UPD42 UPD42 UPD42 UPD66 UPD42 UPD42 UPD45 UPD42 UPD42 DEL40 DEL26 DEL83 DEL39 DEL42 DEL59 DEL23 DEL39 DEL42 DEL44 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL41 DEL8 DEL31 DEL45 DEL42