HDFS-5673. Implement logic for modification of ACLs. Contributed by Chris Nauroth.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4685@1556090 13f79535-47bb-0310-9956-ffa450edef68

-import static org.apache.hadoop.fs.permission.AclEntryType.*;
-import com.google.common.collect.ComparisonChain;
-import com.google.common.collect.Ordering;
- * (access or default).  The natural ordering for entries within an ACL is:
- * <ol>
- * <li>owner entry (unnamed user)</li>
- * <li>all named user entries (internal ordering undefined)</li>
- * <li>owning group entry (unnamed group)</li>
- * <li>all named group entries (internal ordering undefined)</li>
- * <li>other entry</li>
- * </ol>
- * All access ACL entries sort ahead of all default ACL entries.  AclEntry
- * instances are immutable.  Use a {@link Builder} to create a new instance.
+ * (access or default).  AclEntry instances are immutable.  Use a {@link Builder}
+ * to create a new instance.
-public class AclEntry implements Comparable<AclEntry> {
+public class AclEntry {
-  public int compareTo(AclEntry other) {
-    return ComparisonChain.start()
-      .compare(scope, other.scope, Ordering.explicit(ACCESS, DEFAULT))
-      .compare(type, other.type, Ordering.explicit(USER, GROUP, MASK, OTHER))
-      .compare(name, other.name, Ordering.natural().nullsFirst())
-      .result();
-  }
-
-  @Override

UPD66 UPD66 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL66 DEL66 DEL66 DEL66 DEL66 DEL66 DEL66 DEL66 DEL66 DEL42 DEL43 DEL42 DEL43 DEL74 DEL42 DEL78 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL32 DEL42 DEL42 DEL40 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL42 DEL42 DEL40 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL42 DEL42 DEL40 DEL42 DEL42 DEL32 DEL42 DEL32 DEL32 DEL42 DEL32 DEL41 DEL8 DEL31