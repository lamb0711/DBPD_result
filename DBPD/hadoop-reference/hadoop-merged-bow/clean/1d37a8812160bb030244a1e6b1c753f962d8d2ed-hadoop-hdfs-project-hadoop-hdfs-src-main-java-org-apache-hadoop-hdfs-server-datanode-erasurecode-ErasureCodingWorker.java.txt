HDFS-8854. Erasure coding: add ECPolicy to replace schema+cellSize in hadoop-hdfs. Contributed by Walter Su.

-import org.apache.hadoop.io.erasurecode.ECSchema;
-import org.apache.hadoop.io.erasurecode.rawcoder.RSRawDecoder;
+import org.apache.hadoop.hdfs.protocol.ErasureCodingPolicy;
-      ECSchema schema = recoveryInfo.getECSchema();
-      dataBlkNum = schema.getNumDataUnits();
-      parityBlkNum = schema.getNumParityUnits();
-      cellSize = recoveryInfo.getCellSize();
+      ErasureCodingPolicy ecPolicy = recoveryInfo.getErasureCodingPolicy();
+      dataBlkNum = ecPolicy.getNumDataUnits();
+      parityBlkNum = ecPolicy.getNumParityUnits();
+      cellSize = ecPolicy.getCellSize();

UPD40 UPD43 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 DEL40 DEL26