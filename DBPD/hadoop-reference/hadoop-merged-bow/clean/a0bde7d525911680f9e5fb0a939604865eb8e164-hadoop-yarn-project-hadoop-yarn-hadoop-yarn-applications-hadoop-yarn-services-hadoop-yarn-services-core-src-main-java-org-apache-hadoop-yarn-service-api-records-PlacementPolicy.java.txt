YARN-7142. Support placement policy in yarn native services. (Gour Saha via wangda)

Change-Id: I166c67a7a34430627c17365f60bac75b6da1b434

-import io.swagger.annotations.ApiModel;
-import io.swagger.annotations.ApiModelProperty;
-
+import java.util.ArrayList;
+import java.util.List;
-import com.fasterxml.jackson.annotation.JsonProperty;
+import com.fasterxml.jackson.annotation.JsonProperty;
+
+import io.swagger.annotations.ApiModel;
+import io.swagger.annotations.ApiModelProperty;
+
- * Placement policy of an instance of an service. This feature is in the
- * works in YARN-4902.
+ * Advanced placement policy of the components of a service.
-@ApiModel(description = "Placement policy of an instance of an service. This feature is in the works in YARN-4902.")
-@javax.annotation.Generated(value = "class io.swagger.codegen.languages.JavaClientCodegen", date = "2016-06-02T08:15:05.615-07:00")
+@ApiModel(description = "Advanced placement policy of the components of a "
+    + "service.")
+@javax.annotation.Generated(
+    value = "class io.swagger.codegen.languages.JavaClientCodegen",
+    date = "2018-02-16T10:20:12.927-07:00")
-  private String label = null;
+  private List<PlacementConstraint> constraints = new ArrayList<>();
-   * Assigns a service to a named partition of the cluster where the service
-   * desires to run (optional). If not specified all services are submitted to
-   * a default label of the service owner. One or more labels can be setup for
-   * each service owner account with required constraints like no-preemption,
-   * sla-99999, preemption-ok, etc.
+   * Placement constraint details.
-  public PlacementPolicy label(String label) {
-    this.label = label;
+  public PlacementPolicy constraints(List<PlacementConstraint> constraints) {
+    this.constraints = constraints;
-  @ApiModelProperty(example = "null", value = "Assigns a service to a named partition of the cluster where the service desires to run (optional). If not specified all services are submitted to a default label of the service owner. One or more labels can be setup for each service owner account with required constraints like no-preemption, sla-99999, preemption-ok, etc.")
-  @JsonProperty("label")
-  public String getLabel() {
-    return label;
+  @ApiModelProperty(example = "null", required = true)
+  @JsonProperty("constraints")
+  public List<PlacementConstraint> getConstraints() {
+    return constraints;
-  public void setLabel(String label) {
-    this.label = label;
+  public void setConstraints(List<PlacementConstraint> constraints) {
+    this.constraints = constraints;
-    return Objects.equals(this.label, placementPolicy.label);
+    return Objects.equals(this.constraints, placementPolicy.constraints);
-    return Objects.hash(label);
+    return Objects.hash(constraints);
-    sb.append("    label: ").append(toIndentedString(label)).append("\n");
+    sb.append("    constraints: ").append(toIndentedString(constraints))
+        .append("\n");

MOV26 MOV26 MOV26 INS26 INS26 INS40 INS40 INS74 UPD42 INS74 UPD42 UPD42 UPD66 INS27 UPD45 INS43 INS43 UPD42 INS14 INS74 INS42 UPD45 INS43 INS43 INS74 INS42 INS45 INS45 UPD42 MOV42 INS42 INS74 UPD66 INS43 INS43 UPD42 INS9 UPD42 MOV42 INS42 UPD42 INS43 INS43 INS43 UPD42 MOV42 INS42 UPD42 UPD42 MOV42 INS42 UPD42 UPD40 UPD42 INS42 UPD42 UPD42 UPD42 UPD45 UPD42 DEL66 DEL45 DEL43 DEL33 DEL66 DEL66 DEL66 DEL66 DEL43 DEL42 DEL45 DEL43 DEL43 DEL42