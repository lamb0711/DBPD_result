YARN-9644. First RMContext object is always leaked during switch over. Contributed by Bibin A Chundatt.

+import javax.management.ObjectName;
+  private ObjectName mbeanObjectName;
-        bean = new StandardMBean(this,RMNMInfoBeans.class);
-        MBeans.register("ResourceManager", "RMNMInfo", bean);
+      bean = new StandardMBean(this, RMNMInfoBeans.class);
+      mbeanObjectName = MBeans.register("ResourceManager", "RMNMInfo", bean);
-        LOG.warn("Error registering RMNMInfo MBean", e);
+      LOG.warn("Error registering RMNMInfo MBean", e);
+  public void unregister() {
+    MBeans.unregister(mbeanObjectName);
+  }

INS26 INS40 INS23 INS31 INS83 INS43 INS59 INS83 INS39 INS42 INS8 INS42 INS42 INS21 INS32 INS42 INS42 INS42 INS7 INS42 MOV32