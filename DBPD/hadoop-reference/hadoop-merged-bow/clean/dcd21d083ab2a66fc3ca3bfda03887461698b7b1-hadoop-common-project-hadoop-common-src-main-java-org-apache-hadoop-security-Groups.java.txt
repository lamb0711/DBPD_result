HADOOP-13375. o.a.h.security.TestGroupsCaching.testBackgroundRefreshCounters seems flaky. (Contributed by Weiwei Yang)

+import com.google.common.util.concurrent.FutureCallback;
+import com.google.common.util.concurrent.Futures;
-              boolean success = false;
-              try {
-                backgroundRefreshQueued.decrementAndGet();
-                backgroundRefreshRunning.incrementAndGet();
-                List<String> results = load(key);
-                success = true;
-                return results;
-              } finally {
-                backgroundRefreshRunning.decrementAndGet();
-                if (success) {
-                  backgroundRefreshSuccess.incrementAndGet();
-                } else {
-                  backgroundRefreshException.incrementAndGet();
-                }
-              }
+              backgroundRefreshQueued.decrementAndGet();
+              backgroundRefreshRunning.incrementAndGet();
+              List<String> results = load(key);
+              return results;
+      Futures.addCallback(listenableFuture, new FutureCallback<List<String>>() {
+        @Override
+        public void onSuccess(List<String> result) {
+          backgroundRefreshSuccess.incrementAndGet();
+          backgroundRefreshRunning.decrementAndGet();
+        }
+        @Override
+        public void onFailure(Throwable t) {
+          backgroundRefreshException.incrementAndGet();
+          backgroundRefreshRunning.decrementAndGet();
+        }
+      });

INS26 INS26 INS40 INS40 INS21 INS32 INS42 INS42 INS42 INS14 INS74 INS1 INS43 INS74 INS31 INS31 INS42 INS43 INS43 INS78 INS83 INS39 INS42 INS44 MOV8 INS78 INS83 INS39 INS42 INS44 MOV8 MOV8 INS42 INS42 INS42 INS74 INS42 MOV21 INS42 INS43 INS42 INS21 INS43 INS43 INS42 INS32 INS42 INS42 INS42 INS42 DEL42 DEL9 DEL7 DEL21 DEL39 DEL42 DEL9 DEL59 DEL60 DEL42 DEL25 DEL8 DEL54 DEL8