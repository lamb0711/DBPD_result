HDFS-5542. Fix TODO and clean up the code in HDFS-2832. (Contributed by szetszwo)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2832@1544664 13f79535-47bb-0310-9956-ffa450edef68

-import com.google.common.annotations.VisibleForTesting;
-
-  /**
-   * Head of the list of blocks on the datanode
-   */
-  private volatile BlockInfo blockList = null;
-  /**
-   * Number of blocks on the datanode
-   */
-  private int numBlocks = 0;
-
-  @VisibleForTesting
-  public DatanodeStorageInfo updateStorage(DatanodeStorage s) {
+  DatanodeStorageInfo updateStorage(DatanodeStorage s) {
-      } else {
-        storage.setState(s.getState());

DEL40 DEL26 DEL66 DEL65 DEL29 DEL83 DEL83 DEL42 DEL43 DEL42 DEL33 DEL59 DEL23 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL34 DEL59 DEL23 DEL42 DEL78 DEL83 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL8