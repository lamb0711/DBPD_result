HDDS-1488. Scm cli command to start/stop replication manager.

Signed-off-by: Anu Engineer <aengineer@apache.org>

-   * ReplicationMonitor thread is the one which wakes up at configured
-   * interval and processes all the containers.
-   */
-  private final Thread replicationMonitor;
-
-  /**
+   * ReplicationMonitor thread is the one which wakes up at configured
+   * interval and processes all the containers.
+   */
+  private Thread replicationMonitor;
+
+  /**
-      final EventPublisher eventPublisher,
-      final LockManager lockManager) {
+                            final EventPublisher eventPublisher,
+                            final LockManager<ContainerID> lockManager) {
-    this.inflightReplication = new HashMap<>();
-    this.inflightDeletion = new HashMap<>();
-    this.replicationMonitor = new Thread(this::run);
-    this.replicationMonitor.setName("ReplicationMonitor");
-    this.replicationMonitor.setDaemon(true);
+    this.inflightReplication = new HashMap<>();
+    this.inflightDeletion = new HashMap<>();
-    if (!running) {
+    if (!isRunning()) {
+      replicationMonitor = new Thread(this::run);
+      replicationMonitor.setName("ReplicationMonitor");
+      replicationMonitor.setDaemon(true);
-    return replicationMonitor.isAlive();
+    if (!running) {
+      synchronized (this) {
+        return replicationMonitor != null
+            && replicationMonitor.isAlive();
+      }
+    }
+    return true;
+      inflightReplication.clear();
+      inflightDeletion.clear();

MOV23 MOV21 MOV21 INS8 INS74 INS25 INS41 MOV43 INS43 INS38 MOV38 INS8 INS9 INS42 INS32 MOV21 INS21 INS21 INS51 INS21 INS21 INS42 INS32 INS32 INS52 MOV8 INS32 INS32 INS42 INS42 INS42 INS45 INS42 INS42 INS9 INS42 INS42 INS42 INS42 INS27 INS27 MOV32 INS42 INS33 DEL83 DEL52 DEL42 DEL22 DEL42 DEL45 DEL32 DEL21 DEL52 DEL42 DEL22 DEL42 DEL9 DEL32 DEL21 DEL52 DEL42 DEL22