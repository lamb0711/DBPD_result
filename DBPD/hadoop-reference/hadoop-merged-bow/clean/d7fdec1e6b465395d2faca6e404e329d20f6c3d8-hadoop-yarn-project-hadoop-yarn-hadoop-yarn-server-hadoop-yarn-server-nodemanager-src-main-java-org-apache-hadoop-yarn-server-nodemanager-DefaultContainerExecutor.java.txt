YARN-4579. Allow DefaultContainerExecutor container log directory permissions to be configurable (rchiang via rkanter)

+  private String logDirPermissions = null;
+
-  /** Permissions for user log dir.
-   * $logdir/$user/$appId */
-  static final short LOGDIR_PERM = (short)0710;
-    FsPermission appLogDirPerms = new FsPermission(LOGDIR_PERM);
+    FsPermission appLogDirPerms = new
+        FsPermission(getLogDirPermissions());
-    FsPermission containerLogDirPerms = new FsPermission(LOGDIR_PERM);
+    FsPermission containerLogDirPerms = new
+        FsPermission(getLogDirPermissions());
+   * Return default container log directory permissions.
+   */
+  @VisibleForTesting
+  public String getLogDirPermissions() {
+    if (this.logDirPermissions==null) {
+      this.logDirPermissions = getConf().get(
+          YarnConfiguration.NM_DEFAULT_CONTAINER_EXECUTOR_LOG_DIRS_PERMISSIONS,
+          YarnConfiguration.NM_DEFAULT_CONTAINER_EXECUTOR_LOG_DIRS_PERMISSIONS_DEFAULT);
+    }
+    return this.logDirPermissions;
+  }
+
+  /**
+   * Clear the internal variable for repeatable testing.
+   */
+  @VisibleForTesting
+  public void clearLogDirPermissions() {
+    this.logDirPermissions = null;
+  }
+
+  /**

INS23 INS31 INS31 INS83 INS43 INS59 INS29 INS78 INS83 INS43 INS42 INS8 INS29 INS78 INS83 INS39 INS42 INS8 INS42 INS42 INS33 MOV65 INS42 INS42 INS25 INS41 INS65 INS42 INS21 MOV43 MOV43 UPD66 INS27 INS8 INS22 INS66 INS7 INS22 INS33 INS21 INS52 INS42 INS22 INS33 MOV43 INS32 MOV43 INS32 INS52 INS42 INS7 INS52 INS42 INS42 INS42 INS22 INS32 INS52 INS42 INS32 INS42 INS40 INS40 INS42 DEL29 DEL83 DEL83 DEL39 DEL42 DEL39 DEL34 DEL11 DEL59 DEL23 DEL42 DEL42 DEL66