YARN-1658. Modified web-app framework to let standby RMs redirect web-service calls to the active RM. Contributed by Cindy Li.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1577408 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.webapp.Dispatcher;
+import com.sun.jersey.guice.spi.container.servlet.GuiceContainer;
+
+    bind(RMWebApp.class).toInstance(this);
+
-  public void configureServlets() {
-    setup();
-
-    serve("/").with(RMDispatcher.class);
-    serve("/__stop").with(Dispatcher.class);
-
-    for (String path : super.getServePathSpecs()) {
-      serve(path).with(RMDispatcher.class);
-    }
-
-    configureRSServlets();
+  protected Class<? extends GuiceContainer> getWebAppFilterClass() {
+    return RMWebAppFilter.class;

MOV26 UPD40 UPD83 INS74 INS42 INS8 INS21 INS43 INS76 INS41 INS32 UPD42 MOV42 INS43 INS57 INS32 INS42 INS52 UPD42 MOV42 UPD43 MOV43 INS42 INS57 UPD42 INS43 INS42 DEL39 DEL42 DEL42 DEL32 DEL21 DEL42 DEL45 DEL32 DEL42 DEL43 DEL57 DEL32 DEL21 DEL42 DEL45 DEL32 DEL42 DEL43 DEL57 DEL32 DEL21 DEL42 DEL43 DEL42 DEL44 DEL42 DEL48 DEL42 DEL42 DEL32 DEL42 DEL57 DEL32 DEL21 DEL8 DEL70 DEL42 DEL32 DEL21 DEL8