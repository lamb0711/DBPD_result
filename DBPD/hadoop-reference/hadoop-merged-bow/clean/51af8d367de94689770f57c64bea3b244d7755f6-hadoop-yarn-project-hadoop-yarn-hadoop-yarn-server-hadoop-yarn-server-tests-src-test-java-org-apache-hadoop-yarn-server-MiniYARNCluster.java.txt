YARN-2890. MiniYARNCluster should start the timeline server based on the configuration. Contributed by Mit Desai.

-import org.apache.hadoop.yarn.server.applicationhistoryservice.webapp.AHSWebApp;
-  private boolean enableAHS;
-   * @param enableAHS enable ApplicationHistoryServer or not
-      int numLocalDirs, int numLogDirs, boolean enableAHS) {
+      int numLocalDirs, int numLogDirs) {
-    this.enableAHS = enableAHS;
-   * @param numResourceManagers the number of resource managers in the cluster
-   * @param numNodeManagers the number of node managers in the cluster
-   * @param numLocalDirs the number of nm-local-dirs per nodemanager
-   * @param numLogDirs the number of nm-log-dirs per nodemanager
-   */
-  public MiniYARNCluster(
-      String testName, int numResourceManagers, int numNodeManagers,
-      int numLocalDirs, int numLogDirs) {
-    this(testName, numResourceManagers, numNodeManagers, numLocalDirs,
-        numLogDirs, false);
-  }
-
-  /**
-   * @param testName name of the test
-    if (enableAHS) {
-      addService(new ApplicationHistoryServerWrapper());
+    if(conf.getBoolean(YarnConfiguration.TIMELINE_SERVICE_ENABLED, false)) {
+        addService(new ApplicationHistoryServerWrapper());

MOV65 MOV65 MOV65 MOV42 MOV42 MOV66 MOV66 MOV42 MOV66 INS32 INS42 INS42 INS40 INS9 DEL40 DEL26 DEL83 DEL39 DEL42 DEL59 DEL23 DEL42 DEL66 DEL65 DEL39 DEL42 DEL44 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL83 DEL42 DEL42 DEL43 DEL42 DEL44 DEL39 DEL42 DEL44 DEL39 DEL42 DEL44 DEL39 DEL42 DEL44 DEL39 DEL42 DEL44 DEL42 DEL42 DEL42 DEL42 DEL42 DEL9 DEL17 DEL8 DEL31 DEL42