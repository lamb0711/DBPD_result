Merge from trunk to branch

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/fs-encryption@1610853 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.HashMap;
+import java.util.Map;
+    final Map<String, String> attributes = new HashMap<String, String>();
+      } else if ("--attr".equals(args[i]) && moreTokens) {
+        final String attrval[] = args[++i].split("=", 2);
+        final String attr = attrval[0].trim();
+        final String val = attrval[1].trim();
+        if (attr.isEmpty() || val.isEmpty()) {
+          out.println("\nAttributes must be in attribute=value form, " +
+                  "or quoted\nlike \"attribute = value\"\n");
+          printKeyShellUsage();
+          return -1;
+        }
+        if (attributes.containsKey(attr)) {
+          out.println("\nEach attribute must correspond to only one value:\n" +
+                  "atttribute \"" + attr + "\" was repeated\n" );
+          printKeyShellUsage();
+          return -1;
+        }
+        attributes.put(attr, val);
+    if (!attributes.isEmpty()) {
+      options.setAttributes(attributes);
+    }
+
+      "                     [--attr <attribute=value>]\n" +
-      "length using the --size argument.\n";
+      "length using the --size argument. Arbitrary attribute=value\n" +
+      "style attributes may be specified using the --attr argument.\n" +
+      "--attr may be specified multiple times, once per attribute.\n";

INS26 INS26 INS40 INS40 INS60 INS25 MOV43 MOV43 INS83 INS74 INS59 INS38 INS8 INS43 INS43 INS43 INS42 INS14 INS32 INS21 INS45 UPD45 INS45 INS45 INS42 INS42 INS42 INS74 INS42 INS42 INS32 INS43 INS43 INS43 INS42 INS42 INS42 INS42 INS42 INS42 INS25 INS27 INS8 MOV25 INS32 INS42 INS60 INS60 INS60 INS25 INS25 INS21 INS45 INS42 INS2 INS83 INS43 INS59 INS83 INS43 INS59 INS83 INS43 INS59 INS27 INS8 INS32 INS8 INS32 INS42 INS42 INS42 INS42 INS85 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS32 INS32 INS21 INS21 INS41 INS42 INS42 INS42 INS21 INS21 INS41 INS42 INS42 INS42 INS42 INS2 INS42 INS45 INS34 INS2 INS42 INS2 INS42 INS42 INS42 INS42 INS42 INS32 INS32 INS38 INS32 INS32 INS38 INS42 INS38 INS42 INS34 INS42 INS34 INS42 INS42 INS27 INS42 INS34 INS42 INS42 INS27 INS42 INS34 INS42 INS45 INS45 INS27 INS42 INS45 INS45 INS45