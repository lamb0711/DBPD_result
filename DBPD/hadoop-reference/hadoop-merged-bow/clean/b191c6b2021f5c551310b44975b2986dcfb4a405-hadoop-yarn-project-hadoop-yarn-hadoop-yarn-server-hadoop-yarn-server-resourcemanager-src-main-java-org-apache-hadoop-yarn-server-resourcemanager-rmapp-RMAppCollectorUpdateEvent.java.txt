YARN-2928: YARN Timeline Service v.2: alpha 1 (sjlee)

For a list of commits and contributors, see the merge branch history.

-package org.apache.hadoop.yarn.server.resourcemanager.metrics;
+package org.apache.hadoop.yarn.server.resourcemanager.rmapp;
+/**
+ * Event used for updating collector address in RMApp on node heartbeat.
+ */
+public class RMAppCollectorUpdateEvent extends RMAppEvent {
-public class ApplicationACLsUpdatedEvent extends SystemMetricsEvent {
+  private final String appCollectorAddr;
-  private ApplicationId appId;
-  private String viewAppACLs;
-
-  public ApplicationACLsUpdatedEvent(ApplicationId appId,
-      String viewAppACLs,
-      long updatedTime) {
-    super(SystemMetricsEventType.APP_ACLS_UPDATED, updatedTime);
-    this.appId = appId;
-    this.viewAppACLs = viewAppACLs;
+  public RMAppCollectorUpdateEvent(ApplicationId appId,
+      String appCollectorAddr) {
+    super(appId, RMAppEventType.COLLECTOR_UPDATE);
+    this.appCollectorAddr = appCollectorAddr;
-  public ApplicationId getApplicationId() {
-    return appId;
-  }
-
-  public String getViewAppACLs() {
-    return viewAppACLs;
+  public String getAppCollectorAddr(){
+    return this.appCollectorAddr;

UPD40 INS29 UPD42 UPD43 INS65 UPD42 INS83 MOV43 UPD42 MOV43 UPD42 INS66 UPD42 UPD42 INS42 UPD40 INS22 UPD42 INS52 INS42 UPD42 DEL42 DEL43 DEL83 DEL42 DEL59 DEL23 DEL39 DEL42 DEL44 DEL42 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL42 DEL43 DEL42 DEL83 DEL42 DEL42 DEL41 DEL8 DEL31