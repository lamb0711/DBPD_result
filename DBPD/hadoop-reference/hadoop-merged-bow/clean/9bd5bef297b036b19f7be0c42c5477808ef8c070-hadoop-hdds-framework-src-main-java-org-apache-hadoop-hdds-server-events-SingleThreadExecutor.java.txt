Merge remote-tracking branch 'apache/trunk' into HDDS-48

-import java.util.concurrent.atomic.AtomicLong;
+
+import org.apache.hadoop.metrics2.annotation.Metric;
+import org.apache.hadoop.metrics2.annotation.Metrics;
+import org.apache.hadoop.metrics2.lib.DefaultMetricsSystem;
+import org.apache.hadoop.metrics2.lib.MutableCounterLong;
+@Metrics(context = "EventQueue")
-  private final AtomicLong queuedCount = new AtomicLong(0);
+  @Metric
+  private MutableCounterLong queued;
-  private final AtomicLong successfulCount = new AtomicLong(0);
+  @Metric
+  private MutableCounterLong done;
-  private final AtomicLong failedCount = new AtomicLong(0);
+  @Metric
+  private MutableCounterLong failed;
+  /**
+   * Create SingleThreadExecutor.
+   *
+   * @param name Unique name used in monitoring and metrics.
+   */
+    DefaultMetricsSystem.instance()
+        .register("EventQueue" + name, "Event Executor metrics ", this);
-    queuedCount.incrementAndGet();
+    queued.incr();
-        successfulCount.incrementAndGet();
+        done.incr();
-        failedCount.incrementAndGet();
+        failed.incr();
-    return failedCount.get();
+    return failed.value();
-    return successfulCount.get();
+    return done.value();
-    return queuedCount.get();
+    return queued.value();

INS26 INS26 INS26 INS40 INS40 INS40 UPD40 INS77 INS42 INS80 INS78 UPD43 INS78 UPD43 INS78 UPD43 INS29 MOV78 MOV78 INS42 INS45 INS42 UPD42 UPD42 INS42 UPD42 UPD42 INS42 UPD42 UPD42 INS65 INS65 INS21 INS66 INS42 INS66 INS32 INS32 INS42 INS27 INS45 INS52 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 INS42 INS42 INS45 INS42 UPD42 UPD42 UPD42 UPD42 DEL83 DEL42 DEL43 DEL34 DEL14 DEL83 DEL42 DEL43 DEL34 DEL14 DEL83 DEL42 DEL43 DEL34 DEL14