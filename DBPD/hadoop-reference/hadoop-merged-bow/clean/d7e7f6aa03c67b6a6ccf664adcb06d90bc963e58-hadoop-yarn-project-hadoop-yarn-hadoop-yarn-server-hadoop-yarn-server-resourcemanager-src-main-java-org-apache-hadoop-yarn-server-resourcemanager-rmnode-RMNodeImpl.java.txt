YARN-41. The RM should handle the graceful shutdown of the NM. Contributed by Devaraj K.

+     .addTransition(NodeState.RUNNING, NodeState.SHUTDOWN,
+         RMNodeEventType.SHUTDOWN,
+         new DeactivateNodeTransition(NodeState.SHUTDOWN))
+     .addTransition(NodeState.UNHEALTHY, NodeState.SHUTDOWN,
+         RMNodeEventType.SHUTDOWN,
+         new DeactivateNodeTransition(NodeState.SHUTDOWN))
+
+     //Transitions from SHUTDOWN state
+     .addTransition(NodeState.SHUTDOWN, NodeState.SHUTDOWN,
+         RMNodeEventType.RESOURCE_UPDATE,
+         new UpdateNodeResourceWhenUnusableTransition())
+     .addTransition(NodeState.SHUTDOWN, NodeState.SHUTDOWN,
+         RMNodeEventType.FINISHED_CONTAINERS_PULLED_BY_AM,
+         new AddContainersToBeRemovedFromNMTransition())
+    case SHUTDOWN:
+      metrics.decrNumShutdownNMs();
+      break;
+    case SHUTDOWN:
+      metrics.incrNumShutdownNMs();
+      break;

INS32 INS32 INS42 INS21 INS10 INS49 INS21 INS10 INS49 INS32 INS42 INS40 INS40 INS40 INS14 INS42 INS32 INS42 INS32 MOV32 INS42 INS40 INS40 INS40 INS14 INS43 INS42 INS42 INS42 INS42 UPD42 INS40 INS40 INS40 INS14 INS43 INS42 INS43 INS40 INS42 INS42 INS32 INS42 MOV32 MOV42 INS40 INS40 INS40 MOV14 UPD40 MOV14 UPD40 UPD40 UPD40 MOV14 UPD40 MOV14 UPD40 UPD40 MOV14 UPD40 UPD40 UPD40 INS14 INS43 INS40 INS42