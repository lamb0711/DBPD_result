MAPREDUCE-5466. Changed MR AM to not promote history files of intermediate AMs in case they are exiting because of errors and thus help history-server pick up the right history file for the last successful AM. Contributed by Jian He.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1516238 13f79535-47bb-0310-9956-ffa450edef68

+    } else if ("ERROR".equals(getStatus())) {
+      return EventType.JOB_ERROR;

INS25 INS32 INS8 MOV41 INS45 INS42 INS32 INS41 INS42 INS40