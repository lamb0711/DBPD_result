HDFS-12130. Optimizing permission check for getContentSummary.  Contributed by  Chen Liang

+import org.apache.hadoop.fs.permission.FsAction;
+import org.apache.hadoop.security.AccessControlException;
-      ContentSummaryComputationContext summary) {
+      ContentSummaryComputationContext summary) throws AccessControlException {
-      ContentSummaryComputationContext summary, int snapshotId) {
+      ContentSummaryComputationContext summary, int snapshotId)
+      throws AccessControlException{
+    // throws exception if failing the permission check
+    summary.checkPermission(this, snapshotId, FsAction.READ_EXECUTE);

INS26 INS26 INS40 INS40 INS43 INS43 INS42 INS42 INS21 INS32 INS42 INS42 INS52 INS42 INS40