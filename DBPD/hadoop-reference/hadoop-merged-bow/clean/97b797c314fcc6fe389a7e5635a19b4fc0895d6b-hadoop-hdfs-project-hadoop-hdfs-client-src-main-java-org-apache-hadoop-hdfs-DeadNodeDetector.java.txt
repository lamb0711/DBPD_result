HDFS-15149. TestDeadNodeDetection test cases time-out. Contributed by Lisheng Sun.

-    while (true) {
+    while (!Thread.currentThread().isInterrupted()) {
+          LOG.debug("Got interrupted while DeadNodeDetector is error.", e);
+          Thread.currentThread().interrupt();
-  static void disabledProbeThreadForTest() {
-    disabledProbeThreadForTest = true;
+  static void setDisabledProbeThreadForTest(
+      boolean disabledProbeThreadForTest) {
+    DeadNodeDetector.disabledProbeThreadForTest = disabledProbeThreadForTest;
-
+      LOG.debug("Got interrupted while DeadNodeDetector is idle.", e);
+      Thread.currentThread().interrupt();
+      LOG.debug("Got interrupted while probe is scheduling.", e);
+      return;
-      while (true) {
+      while (!Thread.currentThread().isInterrupted()) {

INS42 INS44 INS39 INS42 INS38 INS32 INS40 INS38 INS32 INS42 INS21 INS21 INS21 INS41 INS32 INS42 INS42 INS32 INS32 INS32 INS32 INS42 INS42 INS42 INS45 INS42 INS32 INS42 INS42 INS42 INS45 INS42 INS42 INS42 INS21 INS21 INS42 INS42 INS32 INS32 INS42 INS42 INS45 INS42 INS32 INS42 INS42 INS42 DEL9 DEL42 DEL9 DEL9