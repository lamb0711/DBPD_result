HDFS-13300. Ozone: Remove DatanodeID dependency from HDSL and Ozone.
Contributed by Nanda kumar.

-import org.apache.hadoop.hdfs.protocol.DatanodeID;
+import org.apache.hadoop.hdsl.protocol.DatanodeDetails;
-import org.apache.hadoop.hdfs.protocol.proto.HdfsProtos;
-          "ipAddr TEXT, " +
-          "xferPort INTEGER," +
+          "ipAddress TEXT, " +
-          "ipcPort INTEGER," +
-      "INSERT INTO datanodeInfo (hostname, datanodeUUid, ipAddr, xferPort, " +
-          "infoPort, ipcPort, infoSecurePort, containerPort) " +
+      "INSERT INTO datanodeInfo (hostname, datanodeUUid, ipAddress, " +
+          "infoPort, infoSecurePort, containerPort) " +
-    for (HdfsProtos.DatanodeIDProto dnID :
+    for (HdslProtos.DatanodeDetailsProto dd :
-      String uuid = dnID.getDatanodeUuid();
+      String uuid = dd.getUuid();
-        String ipAddr = dnID.getIpAddr();
-        String hostName = dnID.getHostName();
-        int xferPort = dnID.hasXferPort() ? dnID.getXferPort() : 0;
-        int infoPort = dnID.hasInfoPort() ? dnID.getInfoPort() : 0;
+        String ipAddr = dd.getIpAddress();
+        String hostName = dd.getHostName();
+        int infoPort = dd.hasInfoPort() ? dd.getInfoPort() : 0;
-            dnID.hasInfoSecurePort() ? dnID.getInfoSecurePort() : 0;
-        int ipcPort = dnID.hasIpcPort() ? dnID.getIpcPort() : 0;
-        int containerPort = dnID.getContainerPort();
+            dd.hasInfoSecurePort() ? dd.getInfoSecurePort() : 0;
+        int containerPort = dd.getContainerPort();
-            INSERT_DATANODE_INFO, hostName, uuid, ipAddr, xferPort, infoPort,
-            ipcPort, securePort, containerPort);
+            INSERT_DATANODE_INFO, hostName, uuid, ipAddr, infoPort,
+            securePort, containerPort);
-        DatanodeID nodeId = DatanodeID
-            .getFromProtoBuf(HdfsProtos.DatanodeIDProto.PARSER.parseFrom(key));
+        DatanodeDetails nodeId = DatanodeDetails
+            .getFromProtoBuf(HdslProtos.DatanodeDetailsProto
+                .PARSER.parseFrom(key));
-      DatanodeID datanodeID) throws SQLException {
+      DatanodeDetails datanodeDetails) throws SQLException {
-        datanodeID.getDatanodeUuid(), blockPool);
+        datanodeDetails.getUuidString(), blockPool);
-    String insertDatanodeID = String.format(INSERT_DATANODE_INFO,
-        datanodeID.getHostName(), datanodeID.getDatanodeUuid(),
-        datanodeID.getIpAddr(), datanodeID.getXferPort(),
-        datanodeID.getInfoPort(), datanodeID.getIpcPort(),
-        datanodeID.getInfoSecurePort(), datanodeID.getContainerPort());
-    executeSQL(conn, insertDatanodeID);
+    String insertDatanodeDetails = String.format(INSERT_DATANODE_INFO,
+        datanodeDetails.getHostName(), datanodeDetails.getUuid(),
+        datanodeDetails.getIpAddress(), datanodeDetails.getInfoPort(),
+        datanodeDetails.getInfoSecurePort(),
+        datanodeDetails.getContainerPort());
+    executeSQL(conn, insertDatanodeDetails);

MOV26 UPD40 UPD43 UPD42 UPD45 UPD45 UPD45 UPD42 MOV43 MOV43 UPD43 UPD42 UPD42 UPD42 UPD40 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD43 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD40 DEL40 DEL26 DEL45 DEL45 DEL39 DEL42 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL34 DEL16 DEL59 DEL60 DEL39 DEL42 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL34 DEL16 DEL59 DEL60 DEL42 DEL42 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32