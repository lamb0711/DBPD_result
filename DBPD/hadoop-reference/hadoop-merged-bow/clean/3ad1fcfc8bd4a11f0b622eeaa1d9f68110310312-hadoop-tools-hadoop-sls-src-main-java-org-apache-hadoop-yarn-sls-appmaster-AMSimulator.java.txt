YARN-9752. Add support for allocation id in SLS. Contributed by Abhishek Modi

-      ExecutionType executionType, String host, int priority, int
-      numContainers) {
+      ExecutionType executionType, String host, int priority, long
+      allocationId, int numContainers) {
+    request.setAllocationRequestId(allocationId);
-    Map<String, ResourceRequest> rackLocalRequestMap = new HashMap<String, ResourceRequest>();
-    Map<String, ResourceRequest> nodeLocalRequestMap = new HashMap<String, ResourceRequest>();
-    ResourceRequest anyRequest = null;
+    Map<Long, Map<String, ResourceRequest>> rackLocalRequests =
+        new HashMap<>();
+    Map<Long, Map<String, ResourceRequest>> nodeLocalRequests =
+        new HashMap<>();
+    Map<Long, ResourceRequest> anyRequests = new HashMap<>();
+      long allocationId = cs.getAllocationId();
+      ResourceRequest anyRequest = anyRequests.get(allocationId);
+        Map<String, ResourceRequest> rackLocalRequestMap;
+        if (rackLocalRequests.containsKey(allocationId)) {
+          rackLocalRequestMap = rackLocalRequests.get(allocationId);
+        } else {
+          rackLocalRequestMap = new HashMap<>();
+          rackLocalRequests.put(allocationId, rackLocalRequestMap);
+        }
-              cs.getExecutionType(), rackname, priority, 1);
+              cs.getExecutionType(), rackname, priority,
+              cs.getAllocationId(), 1);
+        Map<String, ResourceRequest> nodeLocalRequestMap;
+        if (nodeLocalRequests.containsKey(allocationId)) {
+          nodeLocalRequestMap = nodeLocalRequests.get(allocationId);
+        } else {
+          nodeLocalRequestMap = new HashMap<>();
+          nodeLocalRequests.put(allocationId, nodeLocalRequestMap);
+        }
-              cs.getExecutionType(), hostname, priority, 1);
+              cs.getExecutionType(), hostname, priority,
+              cs.getAllocationId(), 1);
-            cs.getExecutionType(), ResourceRequest.ANY, priority, 1);
+            cs.getExecutionType(), ResourceRequest.ANY, priority,
+            cs.getAllocationId(), 1);
+        anyRequests.put(allocationId, anyRequest);
-    ask.addAll(nodeLocalRequestMap.values());
-    ask.addAll(rackLocalRequestMap.values());
-    if (anyRequest != null) {
-      ask.add(anyRequest);
+    for (Map<String, ResourceRequest> nodeLocalRequestMap :
+        nodeLocalRequests.values()) {
+      ask.addAll(nodeLocalRequestMap.values());
+    for (Map<String, ResourceRequest> rackLocalRequestMap :
+        rackLocalRequests.values()) {
+      ask.addAll(rackLocalRequestMap.values());
+    }
+    ask.addAll(anyRequests.values());

INS44 INS39 INS42 INS21 INS60 INS60 INS70 INS70 MOV21 INS32 INS74 MOV59 INS74 MOV59 INS74 INS44 INS32 INS8 INS44 INS32 INS8 INS42 INS42 INS42 INS43 INS43 INS74 UPD42 INS43 INS43 INS74 UPD42 INS43 INS43 MOV43 UPD42 INS14 INS60 INS60 INS25 INS74 INS42 INS42 INS42 MOV21 INS74 INS42 INS42 INS42 MOV21 UPD42 INS32 INS42 INS42 INS43 INS43 INS43 UPD74 INS42 INS42 INS43 INS43 INS43 UPD74 INS42 INS42 INS74 INS39 INS59 MOV43 INS59 MOV27 INS8 MOV8 INS43 INS43 INS43 INS43 INS43 INS43 UPD42 MOV42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS43 INS42 INS32 INS42 INS32 MOV60 INS25 MOV60 INS25 INS21 INS21 INS42 INS42 INS42 INS42 INS42 INS42 INS42 MOV42 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 INS42 INS59 INS32 INS8 INS8 INS59 INS32 INS8 INS8 INS7 INS32 INS42 INS42 INS42 INS42 INS21 INS21 INS21 INS42 INS42 INS42 INS42 INS21 INS21 INS21 INS42 MOV32 INS42 UPD42 MOV42 INS42 INS42 INS7 INS7 INS32 MOV43 INS7 INS7 INS32 MOV43 INS40 INS32 INS42 INS32 INS42 INS14 INS42 INS42 INS42 INS42 INS32 INS42 INS32 INS42 INS14 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS74 INS42 MOV32 MOV32 INS42 INS42 INS32 INS34 INS42 INS42 INS42 INS74 INS32 INS43 INS42 INS42 INS42 INS42 INS42 INS42 INS43 INS42 INS42 INS42 INS42 DEL42 DEL43 DEL42 DEL43 DEL42 DEL43 DEL33 DEL42 DEL42 DEL42 DEL40 DEL34 DEL32 DEL7 DEL21 DEL8 DEL25 DEL42 DEL33 DEL27 DEL8 DEL25