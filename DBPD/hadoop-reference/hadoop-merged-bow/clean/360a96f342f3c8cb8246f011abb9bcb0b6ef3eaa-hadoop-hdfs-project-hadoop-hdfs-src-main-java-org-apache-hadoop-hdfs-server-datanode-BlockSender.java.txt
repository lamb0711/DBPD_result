HDFS-13709. Report bad block to NN when transfer block encounter EIO exception. Contributed by Chen Zhang.

+
+  private static final String EIO_ERROR = "Input/output error";
-      ris.readDataFully(buf, dataOff, dataLen);
+      try {
+        ris.readDataFully(buf, dataOff, dataLen);
+      } catch (IOException ioe) {
+        if (ioe.getMessage().startsWith(EIO_ERROR)) {
+          throw new DiskFileCorruptException("A disk IO error occurred", ioe);
+        }
+        throw ioe;
+      }
+        /*
+         * If we got an EIO when reading files or transferTo the client socket,
+         * it's very likely caused by bad disk track or other file corruptions.
+         */
+        if (ioem.startsWith(EIO_ERROR)) {
+          throw new DiskFileCorruptException("A disk IO error occurred", e);
+        }

INS23 INS83 INS83 INS83 INS43 INS59 INS42 INS42 INS45 INS54 INS8 INS12 MOV21 INS44 INS8 INS43 INS42 INS25 INS53 INS25 INS42 INS32 INS8 INS42 INS32 INS8 INS32 INS42 INS42 INS53 INS42 INS42 INS42 INS53 INS42 INS42 INS14 INS14 INS43 INS45 INS42 INS43 INS45 INS42 INS42 INS42