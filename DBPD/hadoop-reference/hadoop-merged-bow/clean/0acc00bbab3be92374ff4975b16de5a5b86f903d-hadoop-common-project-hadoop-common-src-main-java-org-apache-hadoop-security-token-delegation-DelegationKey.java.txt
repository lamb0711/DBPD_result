HADOOP-7876. Provided access to encoded key in DelegationKey for use in protobuf based RPCs. Contributed by Suresh Srinivas.



git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1210320 13f79535-47bb-0310-9956-ffa450edef68

+  /** Default constructore required for Writable */
-    this(0, 0L, null);
+    this(0, 0L, (SecretKey)null);
+    this(keyId, expiryDate, key != null ? key.getEncoded() : null);
+  }
+  
+  public DelegationKey(int keyId, long expiryDate, byte[] encodedKey) {
-    if (key!=null) {
-      this.keyBytes = key.getEncoded();
+    if (encodedKey != null) {
+      this.keyBytes = encodedKey;
+  
+  public byte[] getEncodedKey() {
+    return keyBytes;
+  }

INS31 INS31 INS29 INS83 INS42 INS44 INS44 MOV44 INS8 INS44 INS83 INS5 INS42 INS8 INS65 INS39 INS42 INS39 INS42 INS17 INS5 INS42 INS39 INS85 INS41 INS66 INS11 INS42 INS42 INS16 INS39 INS85 INS27 INS42 INS43 INS33 MOV27 MOV32 INS33 INS42 INS33 INS42 INS42 DEL33