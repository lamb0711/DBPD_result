YARN-4711. NM is going down with NPE's due to single thread processing of events by Timeline client (Naganarasimha G R via sjlee)

-import org.apache.hadoop.yarn.client.api.TimelineClient;
+import org.apache.hadoop.yarn.server.nodemanager.timelineservice.NMTimelinePublisher;
-        TimelineClient client =
-            context.getApplications().get(appId).getTimelineClient();
-        if (client != null) {
-          client.setTimelineServiceAddress(collectorAddr);
+        NMTimelinePublisher nmTimelinePublisher =
+            context.getNMTimelinePublisher();
+        if (nmTimelinePublisher != null) {
+          nmTimelinePublisher.setTimelineServiceAddress(appId, collectorAddr);

MOV26 UPD40 UPD43 UPD42 UPD42 UPD42 MOV42 UPD42 UPD42 INS42 DEL42 DEL32 DEL42 DEL42 DEL32