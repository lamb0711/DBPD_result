HDFS-14581. Appending to EC files crashes NameNode. Contributed by Surendra Singh Lilhore.

Signed-off-by: Wei-Chiu Chuang <weichiu@apache.org>

+import org.apache.hadoop.fs.CreateFlag;
+      if (file.isStriped() && !newBlock) {
+        throw new UnsupportedOperationException(
+            "Append on EC file without new block is not supported. Use "
+                + CreateFlag.NEW_BLOCK + " create flag while appending file.");
+      }
+
-      if (file.isStriped()) {
-        throw new UnsupportedOperationException(
-            "Append on EC file without new block is not supported.");
-      }

INS26 INS40 INS25 INS27 INS8 MOV32 INS38 INS53 INS42 INS14 MOV43 INS27 INS45 INS40 INS45 DEL45 DEL14 DEL53 DEL8 DEL25