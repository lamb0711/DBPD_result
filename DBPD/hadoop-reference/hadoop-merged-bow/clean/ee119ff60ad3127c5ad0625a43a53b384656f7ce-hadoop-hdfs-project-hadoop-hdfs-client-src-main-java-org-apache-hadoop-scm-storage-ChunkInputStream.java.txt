HDFS-11004. Ozone : move Chunk IO and container protocol calls to hdfs-client. Contributed by Chen Liang.

-package org.apache.hadoop.ozone.web.storage;
+package org.apache.hadoop.scm.storage;
-import static org.apache.hadoop.ozone.web.storage.ContainerProtocolCalls.*;
+import static org.apache.hadoop.scm.storage.ContainerProtocolCalls.*;
-import org.apache.hadoop.ozone.web.exceptions.OzoneException;
-import org.apache.hadoop.ozone.web.handlers.UserArgs;
- * {@link DistributedStorageHandler} to read the value of a key from a sequence
+ * SCMClient to read the value of a key from a sequence
-class ChunkInputStream extends InputStream {
+public class ChunkInputStream extends InputStream {
-  private final UserArgs args;
+  private final String traceID;
-   * @param args container protocol call args
+   * @param traceID container protocol call traceID
-      XceiverClient xceiverClient, List<ChunkInfo> chunks, UserArgs args) {
+      XceiverClient xceiverClient, List<ChunkInfo> chunks, String traceID) {
-    this.args = args;
+    this.traceID = traceID;
-          key, args);
-    } catch (OzoneException e) {
+          key, traceID);
+    } catch (IOException e) {

UPD40 UPD40 INS83 UPD43 UPD66 UPD42 UPD42 UPD43 UPD42 UPD42 UPD66 UPD42 UPD42 UPD42 UPD43 UPD42 UPD42 DEL40 DEL26 DEL40 DEL26 DEL42 DEL65