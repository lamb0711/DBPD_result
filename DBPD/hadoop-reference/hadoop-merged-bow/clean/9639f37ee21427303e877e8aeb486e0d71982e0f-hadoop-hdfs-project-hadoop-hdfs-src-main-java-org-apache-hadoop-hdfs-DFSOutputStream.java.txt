HDFS-4259. Improve pipeline DN replacement failure message. Contributed by Harsh J. (harsh)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1439126 13f79535-47bb-0310-9956-ffa450edef68

-        throw new IOException("Failed to add a datanode.  "
-            + "User may turn off this feature by setting "
-            + DFSConfigKeys.DFS_CLIENT_WRITE_REPLACE_DATANODE_ON_FAILURE_POLICY_KEY
-            + " in configuration, where the current policy is "
-            + dfsClient.dtpReplaceDatanodeOnFailure
-            + ".  (Nodes: current=" + Arrays.asList(nodes)
-            + ", original=" + Arrays.asList(original) + ")");
+        throw new IOException(
+            new StringBuilder()
+            .append("Failed to replace a bad datanode on the existing pipeline ")
+            .append("due to no more good datanodes being available to try. ")
+            .append("(Nodes: current=").append(Arrays.asList(nodes))
+            .append(", original=").append(Arrays.asList(original)).append("). ")
+            .append("The current failed datanode replacement policy is ")
+            .append(dfsClient.dtpReplaceDatanodeOnFailure).append(", and ")
+            .append("a client may configure this via '")
+            .append(DFSConfigKeys.DFS_CLIENT_WRITE_REPLACE_DATANODE_ON_FAILURE_POLICY_KEY)
+            .append("' in its configuration.")
+            .toString());

INS32 INS32 INS42 INS32 INS42 INS45 INS32 INS42 INS40 INS32 INS42 INS45 INS32 INS42 INS45 INS32 INS42 INS40 INS32 INS42 INS45 INS32 INS42 INS45 INS32 INS42 MOV32 INS32 INS42 INS45 INS32 INS42 MOV32 INS32 INS42 INS45 INS32 INS42 INS45 INS14 INS42 INS45 INS43 INS42 DEL45 DEL45 DEL27 DEL40 DEL45 DEL40 DEL45 DEL45 DEL45 DEL27