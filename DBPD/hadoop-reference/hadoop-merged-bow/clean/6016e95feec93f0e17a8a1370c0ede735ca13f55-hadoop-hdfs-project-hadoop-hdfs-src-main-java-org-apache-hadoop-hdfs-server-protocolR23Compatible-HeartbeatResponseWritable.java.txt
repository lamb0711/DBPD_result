HDFS-2627. Determine DN's view of which NN is active based on heartbeat responses. Contributed by Todd Lipcon.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1211735 13f79535-47bb-0310-9956-ffa450edef68

+  private NNHAStatusHeartbeatWritable haStatus;
-    return new HeartbeatResponse(DatanodeCommandWritable.convert(commands));
+    return new HeartbeatResponse(DatanodeCommandWritable.convert(commands),
+        NNHAStatusHeartbeatWritable.convert(haStatus));
+    haStatus.write(out);
+    haStatus = new NNHAStatusHeartbeatWritable();
+    haStatus.readFields(in);
-}
+}

INS23 INS83 INS43 INS59 INS42 INS42 INS21 INS21 INS21 INS32 INS7 INS32 INS32 INS42 INS42 INS42 INS42 INS14 INS42 INS42 INS42 INS42 INS42 INS42 INS43 INS42