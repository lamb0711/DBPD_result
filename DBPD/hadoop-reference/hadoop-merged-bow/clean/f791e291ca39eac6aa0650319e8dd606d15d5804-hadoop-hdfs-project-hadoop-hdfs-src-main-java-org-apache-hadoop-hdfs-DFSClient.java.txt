HDFS-5555. CacheAdmin commands fail when first listed NameNode is in Standby (jxiang via cmccabe)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1547895 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.hdfs.protocol.CacheDirectiveIterator;
+import org.apache.hadoop.hdfs.protocol.CachePoolIterator;
-    checkOpen();
-    try {
-      return namenode.listCacheDirectives(0, filter);
-    } catch (RemoteException re) {
-      throw re.unwrapRemoteException();
-    }
+    return new CacheDirectiveIterator(namenode, filter);
-    checkOpen();
-    try {
-      return namenode.listCachePools("");
-    } catch (RemoteException re) {
-      throw re.unwrapRemoteException();
-    }
+    return new CachePoolIterator(namenode);

INS26 INS26 INS40 INS40 INS41 INS41 INS14 INS14 INS43 INS42 INS42 INS43 INS42 INS42 UPD42 MOV42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL34 DEL42 DEL32 DEL41 DEL8 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL32 DEL53 DEL8 DEL12 DEL54 DEL42 DEL32 DEL21 DEL42 DEL42 DEL45 DEL32 DEL41 DEL8 DEL43 DEL42 DEL44 DEL42 DEL42 DEL32 DEL53 DEL8 DEL12 DEL54