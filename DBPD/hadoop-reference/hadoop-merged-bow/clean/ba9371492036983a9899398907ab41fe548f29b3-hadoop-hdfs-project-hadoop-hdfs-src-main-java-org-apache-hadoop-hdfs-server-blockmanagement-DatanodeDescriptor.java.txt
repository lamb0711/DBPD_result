HDFS-7716. Erasure Coding: extend BlockInfo to handle EC info. Contributed by Jing Zhao.

-  boolean removeBlock(BlockInfoContiguous b) {
+  boolean removeBlock(BlockInfo b) {
-  boolean removeBlock(String storageID, BlockInfoContiguous b) {
+  boolean removeBlock(String storageID, BlockInfo b) {
-    if (s != null) {
-      return s.removeBlock(b);
-    }
-    return false;
+    return s != null && s.removeBlock(b);
-  private static class BlockIterator implements Iterator<BlockInfoContiguous> {
+  private static class BlockIterator implements Iterator<BlockInfo> {
-    private final List<Iterator<BlockInfoContiguous>> iterators;
+    private final List<Iterator<BlockInfo>> iterators;
-      List<Iterator<BlockInfoContiguous>> iterators = new ArrayList<Iterator<BlockInfoContiguous>>();
+      List<Iterator<BlockInfo>> iterators = new ArrayList<>();
-    public BlockInfoContiguous next() {
+    public BlockInfo next() {
-  Iterator<BlockInfoContiguous> getBlockIterator() {
+  Iterator<BlockInfo> getBlockIterator() {
-  Iterator<BlockInfoContiguous> getBlockIterator(final String storageID) {
+
+  Iterator<BlockInfo> getBlockIterator(final String storageID) {

UPD74 INS74 UPD74 MOV74 UPD43 UPD43 MOV41 UPD43 UPD74 UPD43 MOV43 INS43 UPD43 UPD42 UPD42 INS27 UPD42 UPD74 UPD42 INS42 UPD42 MOV27 MOV32 UPD43 UPD74 UPD42 UPD74 UPD43 UPD74 UPD42 DEL8 DEL25 DEL9 DEL41 DEL42 DEL43 DEL42 DEL43 DEL74 DEL42 DEL43 DEL74