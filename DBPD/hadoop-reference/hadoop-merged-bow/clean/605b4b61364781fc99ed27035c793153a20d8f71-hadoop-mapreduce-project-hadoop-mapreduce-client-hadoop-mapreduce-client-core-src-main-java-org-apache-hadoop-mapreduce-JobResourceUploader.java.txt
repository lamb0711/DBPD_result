MAPREDUCE-6719. The list of -libjars archives should be replaced with a wildcard in the distributed cache to reduce the application footprint in the state store (Daniel Templeton via sjlee)

-import java.net.InetAddress;
-import java.net.UnknownHostException;
-  private FileSystem jtFs;
+  private final boolean useWildcard;
+  private final FileSystem jtFs;
-  JobResourceUploader(FileSystem submitFs) {
+  JobResourceUploader(FileSystem submitFs, boolean useWildcard) {
+    this.useWildcard = useWildcard;
+
+        // Add each file to the classpath
-            new Path(newPath.toUri().getPath()), conf, jtFs);
+            new Path(newPath.toUri().getPath()), conf, jtFs, !useWildcard);
+      }
+
+      if (useWildcard) {
+        // Add the whole directory to the cache
+        Path libJarsDirWildcard =
+            jtFs.makeQualified(new Path(libjarsDir, DistributedCache.WILDCARD));
+
+        DistributedCache.addCacheFile(libJarsDirWildcard.toUri(), conf);

INS23 INS83 INS83 INS39 INS59 INS83 INS44 INS42 INS39 INS42 INS21 INS7 INS22 INS42 INS25 INS52 INS42 INS42 INS8 INS60 INS21 INS43 INS59 INS32 INS38 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS14 INS42 INS42 INS43 INS42 INS40 INS42 DEL40 DEL26 DEL40 DEL26