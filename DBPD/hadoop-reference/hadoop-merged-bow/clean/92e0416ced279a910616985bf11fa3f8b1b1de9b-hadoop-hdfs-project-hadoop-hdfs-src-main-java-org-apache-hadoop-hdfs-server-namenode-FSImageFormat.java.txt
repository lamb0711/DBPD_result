HDFS-4727. Update inodeMap after deleting files/directories/snapshots.  Contributed by Jing Zhao


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1470756 13f79535-47bb-0310-9956-ffa450edef68

-      return loadINode(localName, isSnapshotINode, in);
+      INode inode = loadINode(localName, isSnapshotINode, in);
+      if (LayoutVersion.supports(Feature.ADD_INODE_ID, getLayoutVersion())) {
+        namesystem.dir.addToInodeMapUnprotected(inode);
+      }
+      return inode;

INS60 INS25 INS43 INS59 INS32 INS8 INS42 INS42 INS42 MOV32 INS42 INS42 INS40 INS32 INS21 INS42 INS32 INS40 INS42 INS42