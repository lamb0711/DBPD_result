HADOOP-15250. Split-DNS MultiHomed Server Network Cluster Network IPC Client Bind Addr Wrong
Contributed by Ajay Kumar

+  private final boolean bindToWildCardAddress;
-                if (LOG.isDebugEnabled()) {
-                  LOG.debug("Binding " + principal + " to " + localAddr);
-                }
-                bindAddr = new InetSocketAddress(localAddr, 0);
+                localAddr = NetUtils.bindToLocalAddress(localAddr,
+                    bindToWildCardAddress);
+                LOG.debug("Binding {} to {}", principal, localAddr);
+                this.socket.bind(new InetSocketAddress(localAddr, 0));
+    this.bindToWildCardAddress = conf
+        .getBoolean(CommonConfigurationKeys.IPC_CLIENT_BIND_WILDCARD_ADDR_KEY,
+            CommonConfigurationKeys.IPC_CLIENT_BIND_WILDCARD_ADDR_DEFAULT);
+    LOG.debug("{} set to true. Will bind client sockets to wildcard "
+            + "address.",
+        CommonConfigurationKeys.IPC_CLIENT_BIND_WILDCARD_ADDR_KEY);
+

INS23 INS83 INS83 INS39 INS59 INS42 INS21 INS21 INS7 INS32 INS22 INS32 INS42 INS42 INS27 INS40 INS52 INS42 INS42 INS42 INS40 INS40 INS45 INS45 INS21 MOV21 INS7 INS32 INS42 INS32 INS45 INS42 INS42 INS22 INS42 MOV14 UPD42 MOV42 UPD42 MOV42 INS42 INS42 INS52 INS42 DEL45 DEL42 DEL45 DEL42 DEL27 DEL32 DEL8 DEL25 DEL42 DEL7