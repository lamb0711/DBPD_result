YARN-8223.  Improved yarn auxiliary service to load jar file from HDFS.
            Contributed by Zian Chen

+              LocalResourceType srcType = null;
+              String lowerDst = StringUtils.toLowerCase(src.toString());
+              if (lowerDst.endsWith(".jar")) {
+                srcType = LocalResourceType.FILE;
+              } else if (lowerDst.endsWith(".zip") ||
+                  lowerDst.endsWith(".tar.gz") || lowerDst.endsWith(".tgz")
+                  || lowerDst.endsWith(".tar")) {
+                srcType = LocalResourceType.ARCHIVE;
+              } else {
+                throw new YarnRuntimeException(
+                    "Can not unpack file from remote-file-path:" + src
+                        + "for aux-service:" + ".\n");
+              }
-                  LocalResourceType.ARCHIVE, LocalResourceVisibility.PRIVATE,
+                  srcType, LocalResourceVisibility.PRIVATE,
-                dest = new Path(downloaded + Path.SEPARATOR + "*");
+                // don't need to convert downloaded path into a dir
+                // since its already a jar path.
+                dest = downloaded;

INS60 INS60 INS25 INS43 INS59 INS43 INS59 INS32 INS8 INS25 INS42 INS42 INS33 INS42 INS42 INS32 INS42 INS42 INS45 INS21 INS27 INS8 INS8 INS42 INS42 INS32 INS7 INS32 INS32 INS32 INS32 INS21 INS53 INS42 INS42 INS42 INS42 INS40 INS42 INS42 INS45 INS42 INS42 INS45 INS42 INS42 INS45 INS42 INS42 INS45 INS7 INS14 INS42 INS42 INS40 INS43 INS27 INS42 INS45 INS42 INS45 INS45 DEL40 DEL42 DEL43 DEL42 DEL40 DEL45 DEL27 DEL14