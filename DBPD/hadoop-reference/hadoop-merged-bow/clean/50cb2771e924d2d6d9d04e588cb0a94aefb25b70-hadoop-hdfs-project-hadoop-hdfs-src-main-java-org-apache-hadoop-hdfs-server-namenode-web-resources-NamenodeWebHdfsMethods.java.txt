HDFS-2439. Fix NullPointerException in webhdfs when opening a non-existing file or creating a file without specifying the replication parameter.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1183554 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.conf.Configuration;
+      if (status == null) {
+        throw new FileNotFoundException("File " + path + " not found.");
+      }
+    final Configuration conf = (Configuration)context.getAttribute(JspHelper.CURRENT_CONF);
-        @SuppressWarnings("deprecation")
-      final boolean b = np.setReplication(fullpath, replication.getValue());
+      final boolean b = np.setReplication(fullpath, replication.getValue(conf));

INS26 INS40 INS25 INS27 INS8 INS42 INS33 INS53 INS14 INS43 INS27 INS42 INS45 INS42 INS45 INS60 INS83 INS43 INS59 INS42 INS42 INS11 INS43 INS32 INS42 INS42 INS42 INS40 INS42 DEL42 DEL45 DEL79