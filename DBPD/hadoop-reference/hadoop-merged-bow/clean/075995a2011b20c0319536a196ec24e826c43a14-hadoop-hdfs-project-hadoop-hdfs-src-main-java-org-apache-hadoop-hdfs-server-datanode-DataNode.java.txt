Merge all changes from trunk to branch HDFS-2832

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2832@1516230 13f79535-47bb-0310-9956-ffa450edef68

-       ? new HttpServer("datanode", infoHost, tmpInfoPort, tmpInfoPort == 0, 
-           conf, new AccessControlList(conf.get(DFS_ADMIN, " ")))
-       : new HttpServer("datanode", infoHost, tmpInfoPort, tmpInfoPort == 0,
-           conf, new AccessControlList(conf.get(DFS_ADMIN, " ")),
-           secureResources.getListener());
+        ? new HttpServer.Builder().setName("datanode")
+            .setBindAddress(infoHost).setPort(tmpInfoPort)
+            .setFindPort(tmpInfoPort == 0).setConf(conf)
+            .setACL(new AccessControlList(conf.get(DFS_ADMIN, " "))).build()
+        : new HttpServer.Builder().setName("datanode")
+            .setBindAddress(infoHost).setPort(tmpInfoPort)
+            .setFindPort(tmpInfoPort == 0).setConf(conf)
+            .setACL(new AccessControlList(conf.get(DFS_ADMIN, " ")))
+            .setConnector(secureResources.getListener()).build();

INS32 INS32 INS32 INS42 INS32 INS42 INS32 INS42 MOV14 INS32 INS42 MOV32 INS32 INS42 INS42 INS32 INS42 MOV14 INS32 INS42 MOV27 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 MOV27 INS32 INS42 INS42 INS32 INS42 INS42 INS14 INS42 INS45 INS32 INS42 INS42 UPD43 MOV43 INS14 INS42 INS45 INS40 UPD43 MOV43 INS40 DEL42 DEL42 DEL45 DEL42 DEL42 DEL42 DEL14 DEL45 DEL42 DEL42 DEL42 DEL14