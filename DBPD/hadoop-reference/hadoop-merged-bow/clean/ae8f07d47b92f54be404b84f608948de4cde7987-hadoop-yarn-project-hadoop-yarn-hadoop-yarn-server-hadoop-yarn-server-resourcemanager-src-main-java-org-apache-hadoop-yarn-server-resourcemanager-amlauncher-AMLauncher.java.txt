YARN-960. Fixed ResourceManager to propagate client-submitted credentials irrespective of security. Contributed by Daryn Sharp.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1507700 13f79535-47bb-0310-9956-ffa450edef68

-    
-    if (UserGroupInformation.isSecurityEnabled()) {
-      // TODO: Security enabled/disabled info should come from RM.
-
-      DataInputByteBuffer dibb = new DataInputByteBuffer();
-      if (container.getTokens() != null) {
-        // TODO: Don't do this kind of checks everywhere.
-        dibb.reset(container.getTokens());
-        credentials.readTokenStorageStream(dibb);
-      }
+    DataInputByteBuffer dibb = new DataInputByteBuffer();
+    if (container.getTokens() != null) {
+      // TODO: Don't do this kind of checks everywhere.
+      dibb.reset(container.getTokens());
+      credentials.readTokenStorageStream(dibb);

MOV60 MOV25 DEL42 DEL42 DEL32 DEL8 DEL25