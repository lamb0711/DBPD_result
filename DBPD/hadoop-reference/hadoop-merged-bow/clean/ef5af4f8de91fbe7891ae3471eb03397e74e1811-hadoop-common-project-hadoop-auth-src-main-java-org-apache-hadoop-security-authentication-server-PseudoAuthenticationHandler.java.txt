HADOOP-11187 NameNode - KMS communication fails after a long period of inactivity. Contributed by Arun Suresh.

-
+
+
+  private static final String PSEUDO_AUTH = "PseudoAuth";
+
-        throw new AuthenticationException("Anonymous requests are disallowed");
+        response.setStatus(HttpServletResponse.SC_FORBIDDEN);
+        response.setHeader(WWW_AUTHENTICATE, PSEUDO_AUTH);
+        token = null;

INS23 INS83 INS83 INS83 INS43 INS59 INS42 INS42 INS45 INS21 INS21 INS21 INS32 INS32 INS7 INS42 INS42 INS40 INS42 INS42 INS42 INS42 INS42 INS33 DEL42 DEL43 DEL45 DEL14 DEL53