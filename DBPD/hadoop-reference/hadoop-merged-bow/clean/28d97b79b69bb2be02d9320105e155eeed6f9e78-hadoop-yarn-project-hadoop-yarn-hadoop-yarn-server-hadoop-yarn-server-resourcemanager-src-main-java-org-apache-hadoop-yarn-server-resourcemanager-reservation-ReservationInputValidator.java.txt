YARN-6687. Validate that the duration of the periodic reservation is less than the periodicity. (subru via curino)

-    if (contract.getDeadline() - contract.getArrival() < minDuration
+    long duration = contract.getDeadline() - contract.getArrival();
+    if (duration < minDuration
-              + (contract.getDeadline() - contract.getArrival())
+              + (duration)
-      Long recurrence = Long.parseLong(recurrenceExpression);
+      long recurrence = Long.parseLong(recurrenceExpression);
-            + " again with a non-negative long value as period";
+            + " again with a non-negative long value as period.";
+        throw RPCUtil.getRemoteException(message);
+      }
+      // verify duration is less than recurrence for periodic reservations
+      if (recurrence > 0 && duration > recurrence) {
+        message = "Duration of the requested reservation: " + duration
+            + " is greater than the recurrence: " + recurrence
+            + ". Please try again with a smaller duration.";
-          + " again with a non-negative long value as period";
+          + " again with a non-negative long value as period.";

INS60 INS39 INS59 INS42 MOV27 INS25 INS42 INS39 INS27 INS8 INS27 INS27 INS21 INS53 INS42 INS34 INS42 INS42 INS7 INS32 INS42 INS42 INS27 INS42 INS42 INS42 UPD45 UPD45 INS45 INS42 INS45 INS42 INS45 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL27 DEL42 DEL43