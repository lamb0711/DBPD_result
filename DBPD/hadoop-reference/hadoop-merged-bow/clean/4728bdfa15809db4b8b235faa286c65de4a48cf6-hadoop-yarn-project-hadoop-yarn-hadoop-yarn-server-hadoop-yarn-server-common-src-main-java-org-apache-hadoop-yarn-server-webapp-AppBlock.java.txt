YARN-3248. Display count of nodes blacklisted by apps in the web UI.
Contributed by Varun Vasudev

-    ApplicationReport appReport = null;
+    ApplicationReport appReport;
-      ._("YarnApplicationState:",
+      ._(
+        "YarnApplicationState:",
-      ._("Tracking URL:",
-        app.getTrackingUrl() == null || app.getTrackingUrl() == UNAVAILABLE
-            ? null : root_url(app.getTrackingUrl()),
-        app.getTrackingUrl() == null || app.getTrackingUrl() == UNAVAILABLE
-            ? "Unassigned" : app.getAppState() == YarnApplicationState.FINISHED
-                || app.getAppState() == YarnApplicationState.FAILED
-                || app.getAppState() == YarnApplicationState.KILLED ? "History"
-                : "ApplicationMaster")
+      ._(
+        "Tracking URL:",
+        app.getTrackingUrl() == null
+            || app.getTrackingUrl().equals(UNAVAILABLE) ? null : root_url(app
+          .getTrackingUrl()),
+        app.getTrackingUrl() == null
+            || app.getTrackingUrl().equals(UNAVAILABLE) ? "Unassigned" : app
+          .getAppState() == YarnApplicationState.FINISHED
+            || app.getAppState() == YarnApplicationState.FAILED
+            || app.getAppState() == YarnApplicationState.KILLED ? "History"
+            : "ApplicationMaster")
-          app.getDiagnosticsInfo() == null ? "" : app.getDiagnosticsInfo());
+        app.getDiagnosticsInfo() == null ? "" : app.getDiagnosticsInfo());
+    generateApplicationTable(html, callerUGI, attempts);
+
+  }
+
+  protected void generateApplicationTable(Block html,
+      UserGroupInformation callerUGI,
+      Collection<ApplicationAttemptReport> attempts) {
-      ContainerReport containerReport = null;
+      ContainerReport containerReport;
-              new PrivilegedExceptionAction<ContainerReport> () {
+              new PrivilegedExceptionAction<ContainerReport>() {

INS31 INS83 INS39 INS42 INS44 INS44 INS44 INS8 INS21 INS43 INS42 INS43 INS42 INS74 INS42 MOV60 MOV60 MOV70 MOV25 MOV21 MOV21 MOV21 INS32 INS42 INS42 INS43 INS43 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS32 MOV32 INS42 INS42 MOV32 INS42 INS42 DEL33 DEL42 DEL27 DEL42 DEL27 DEL33