	HDFS-2481 Unknown protocol: org.apache.hadoop.hdfs.protocol.ClientProtocol (sanjay)


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1188300 13f79535-47bb-0310-9956-ffa450edef68

-    RPC.stopProxy(namenode);
+    if (namenode != null) {
+      RPC.stopProxy(namenode);
+    }
-      this.server.addProtocol(JournalWireProtocol.class,
+      this.clientRpcServer.addProtocol(JournalWireProtocol.class,
-            + nnReg.getAddress() + " expecting " + rpcAddress);
+            + nnReg.getAddress() + " expecting " + clientRpcAddress);

INS25 INS27 INS8 INS42 INS33 MOV21 UPD42 UPD42