YARN-7740. Fix logging for destroy yarn service cli when app does not exist and some minor bugs. Contributed by Jian He

+    boolean destroySucceed = true;
+    } else {
+      LOG.info("Service '" + serviceName + "' doesn't exist at hdfs path: "
+          + appDir);
+      destroySucceed = false;
-    String registryPath = ServiceRegistryUtils.registryPathForInstance(serviceName);
+    String registryPath =
+        ServiceRegistryUtils.registryPathForInstance(serviceName);
-      getRegistryClient().delete(registryPath, true);
+      if (getRegistryClient().exists(registryPath)) {
+        getRegistryClient().delete(registryPath, true);
+      } else {
+        LOG.info(
+            "Service '" + serviceName + "' doesn't exist at ZK registry path: "
+                + registryPath);
+        destroySucceed = false;
+      }
-    LOG.info("Destroyed cluster {}", serviceName);
-    return EXIT_SUCCESS;
+    if (destroySucceed) {
+      LOG.info("Successfully destroyed service {}", serviceName);
+      return EXIT_SUCCESS;
+    } else {
+      LOG.error("Error on destroy '" + serviceName + "': not found.");
+      return -1;
+    }
-  private void deleteZKNode(String clusterName) throws Exception {
+  private boolean deleteZKNode(String clusterName) throws Exception {
-    String zkPath = ServiceRegistryUtils.mkClusterPath(user, clusterName);
+    String zkPath = ServiceRegistryUtils.mkServiceHomePath(user, clusterName);
+      return true;
+    } else {
+      LOG.info(
+          "Service '" + clusterName + "' doesn't exist at ZK path: " + zkPath);
+      return false;
-      return status.toString();
+      return ServiceApiUtil.jsonSerDeser.toJson(status);

UPD39 INS60 INS25 INS39 INS59 INS8 INS8 INS42 INS8 INS8 INS8 INS42 INS9 INS21 INS21 INS25 MOV21 MOV41 INS21 INS41 INS41 INS21 INS41 INS32 INS7 INS32 MOV8 INS8 INS32 INS38 UPD42 INS9 INS32 INS9 INS42 INS42 INS27 INS42 INS9 INS32 INS42 INS42 INS21 INS21 UPD45 INS42 INS42 INS27 INS34 INS42 INS42 INS27 INS45 INS42 INS45 INS42 INS42 INS32 INS7 INS45 INS42 INS45 INS45 INS42 INS45 INS42 INS40 INS42 INS42 INS42 INS27 INS42 INS9 INS45 INS42 INS45 INS42 DEL42