HDFS-11424. Block Storage: add container representation to meta data. Contributed Chen Liang.

+import org.apache.hadoop.cblock.util.KeyUtil;
+import org.apache.hadoop.ozone.OzoneConfiguration;
+import org.apache.hadoop.scm.client.ScmClient;
+import org.apache.hadoop.scm.container.common.helpers.Pipeline;
-  private final IStorageClient storageClient;
+  private final ScmClient storageClient;
-  public StorageManager(IStorageClient storageClient) throws IOException {
+  public StorageManager(ScmClient storageClient,
+      OzoneConfiguration ozoneConfig) throws IOException {
-    this.containerSizeB = storageClient.getContainerSize();
+    this.containerSizeB = storageClient.getContainerSize(null);
+        Pipeline pipeline = storageClient.getContainer(containerId);
-            storageClient.getContainer(containerId);
+            new ContainerDescriptor(containerId);
+        containerDescriptor.setPipeline(pipeline);
-        ContainerDescriptor container = storageClient.createContainer();
+        Pipeline pipeline = storageClient.createContainer(
+            KeyUtil.getContainerName(userName, volumeName, containerIdx));
+        ContainerDescriptor container =
+            new ContainerDescriptor(pipeline.getContainerName());
+        container.setPipeline(pipeline);
-        + userName + ":" + volumeName);
+          + userName + ":" + volumeName);
-        storageClient.deleteContainer(containerID);
+        Pipeline pipeline = storageClient.getContainer(containerID);
+        storageClient.deleteContainer(pipeline);
-      return new MountVolumeResponse(false, null, null, 0, 0, null);
+      return new MountVolumeResponse(false, null, null, 0, 0, null, null);
-        volume.getContainerIDsList());
+        volume.getContainerPipelines(), volume.getPipelines());

INS26 INS26 INS26 INS26 INS40 INS40 INS40 INS40 UPD43 INS44 UPD42 UPD43 INS43 INS42 UPD42 INS42 INS32 INS33 UPD42 INS42 INS42 INS60 INS21 INS60 INS21 INS60 INS33 INS43 MOV43 INS59 INS32 INS43 MOV43 INS59 INS32 INS43 INS59 INS42 UPD42 INS42 INS14 INS42 INS42 INS42 INS42 UPD42 INS42 INS14 INS42 INS42 INS42 INS42 INS42 INS32 UPD42 INS43 INS42 INS32 INS43 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42