YARN-6202. Configuration item Dispatcher.DISPATCHER_EXIT_ON_ERROR_KEY is disregarded
(Contributed by Yufei Gu via Daniel Templeton)

+import com.google.common.annotations.VisibleForTesting;
-import org.apache.hadoop.conf.Configuration;
-  private boolean shouldExitOnError = false;
+  private boolean shouldExitOnError = true;
-  protected void serviceInit(Configuration conf) throws Exception {
-    this.shouldExitOnError =
-        conf.getBoolean(Dispatcher.DISPATCHER_EXIT_ON_ERROR_KEY,
-            Dispatcher.DEFAULT_DISPATCHER_EXIT_ON_ERROR);
-    super.serviceInit(conf);
-  }
-
-  @Override
+
+  @VisibleForTesting
+  public void disableExitOnError() {
+    shouldExitOnError = false;
+  }

MOV26 MOV31 UPD40 UPD83 UPD42 UPD9 UPD42 INS42 INS9 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL52 DEL42 DEL22 DEL42 DEL42 DEL40 DEL40 DEL32 DEL42 DEL42 DEL48 DEL21