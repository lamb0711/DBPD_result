HDFS-7866. Erasure coding: NameNode manages multiple erasure coding policies. Contributed by Rui Li.

-        /**
-         * TODO: lookup {@link ErasureCodingPolicyManager#getSystemPolices()}
-         */
-          return inode.asFile().getErasureCodingPolicyID() == 0 ?
-              null : ErasureCodingPolicyManager.getSystemDefaultPolicy();
+          byte id = inode.asFile().getErasureCodingPolicyID();
+          return id < 0 ? null : fsd.getFSNamesystem().
+              getErasureCodingPolicyManager().getPolicyByID(id);
-                getPolicy(ecPolicyName);
+                getPolicyByName(ecPolicyName);

INS60 INS39 INS59 INS42 MOV32 UPD27 INS42 INS32 UPD42 INS42 INS32 UPD42 MOV42 UPD42 INS42 INS42