HDFS-8999. Allow a file to be closed with COMMITTED but not yet COMPLETE blocks.

+  synchronized void removeLease(long inodeId) {
+    final Lease lease = leasesById.get(inodeId);
+    if (lease != null) {
+      removeLease(lease, inodeId);
+    }
+  }
+
-  @VisibleForTesting
-  synchronized void removeLeases(Collection<Long> inodes) {
-    for (long inode : inodes) {
-      Lease lease = leasesById.get(inode);
-      if (lease != null) {
-        removeLease(lease, inode);
-      }
-    }
-  }
-

MOV31 UPD42 INS44 INS8 MOV39 UPD42 MOV42 MOV60 MOV25 INS83 UPD42 UPD42 DEL42 DEL78 DEL42 DEL43 DEL42 DEL43 DEL74 DEL42 DEL44 DEL44 DEL42 DEL8 DEL70 DEL8