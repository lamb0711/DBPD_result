MAPREDUCE-5466. Changed MR AM to not promote history files of intermediate AMs in case they are exiting because of errors and thus help history-server pick up the right history file for the last successful AM. Contributed by Jian He.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1516238 13f79535-47bb-0310-9956-ffa450edef68

+    case JOB_ERROR:
+      result = new JobUnsuccessfulCompletionEvent(); break;

MOV10 MOV10 MOV10 MOV10 MOV10 MOV10 MOV10 MOV49 MOV21 MOV49 MOV10 MOV10 MOV49 MOV21 MOV49 MOV10 MOV10 MOV49 MOV21 MOV49 MOV10 MOV10 MOV49 MOV21 MOV49 MOV10 INS49 INS21 INS10 INS42 INS7 INS42 INS14 INS43 INS42