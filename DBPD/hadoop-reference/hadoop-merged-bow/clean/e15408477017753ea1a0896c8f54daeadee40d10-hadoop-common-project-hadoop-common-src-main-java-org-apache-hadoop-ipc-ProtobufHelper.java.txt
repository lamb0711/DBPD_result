HADOOP-17046. Support downstreams' existing Hadoop-rpc implementations using non-shaded protobuf classes (#2026)


+  /**
+   * Kept for backward compatible.
+   * Return the IOException thrown by the remote server wrapped in
+   * ServiceException as cause.
+   * @param se ServiceException that wraps IO exception thrown by the server
+   * @return Exception wrapped in ServiceException or
+   *         a new IOException that wraps the unexpected ServiceException.
+   */
+  @Deprecated
+  public static IOException getRemoteException(
+      com.google.protobuf.ServiceException se) {
+    Throwable e = se.getCause();
+    if (e == null) {
+      return new IOException(se);
+    }
+    return e instanceof IOException ? (IOException) e : new IOException(se);
+  }

INS31 INS29 INS78 INS83 INS83 INS43 INS42 INS44 INS8 INS65 INS65 INS65 INS42 INS42 INS43 INS42 INS60 INS25 INS41 INS66 INS66 INS66 INS42 INS66 INS66 INS66 INS40 INS43 INS59 INS27 INS8 INS16 INS42 INS42 INS32 INS42 INS33 INS41 INS62 INS11 INS14 INS42 INS42 INS14 INS42 INS43 INS43 INS42 INS43 INS42 INS43 INS42 INS42 INS42 INS42 INS42