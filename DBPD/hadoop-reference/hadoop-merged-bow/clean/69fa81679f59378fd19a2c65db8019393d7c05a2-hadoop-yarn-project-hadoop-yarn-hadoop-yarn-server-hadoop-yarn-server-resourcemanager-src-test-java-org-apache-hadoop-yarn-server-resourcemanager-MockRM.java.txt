YARN-5910. Support for multi-cluster delegation tokens. Contributed by Jian He

+import java.security.PrivilegedExceptionAction;
-        false, null, 0, null, true, priority, amLabel, null);
+        false, null, 0, null, true, priority, amLabel, null, null);
-        logAggregationContext, cancelTokensWhenComplete, priority, "", null);
+        logAggregationContext, cancelTokensWhenComplete, priority, "", null,
+        null);
+  }
+
+  public RMApp submitApp(Credentials cred, ByteBuffer tokensConf)
+      throws Exception {
+    return submitApp(Resource.newInstance(200, 1), "app1", "user", null, false,
+        null, super.getConfig().getInt(YarnConfiguration.RM_AM_MAX_ATTEMPTS,
+            YarnConfiguration.DEFAULT_RM_AM_MAX_ATTEMPTS), cred, null, true,
+        false, false, null, 0, null, true, Priority.newInstance(0), null, null,
+        tokensConf);
-      Map<ApplicationTimeoutType, Long> applicationTimeouts)
+      Map<ApplicationTimeoutType, Long> applicationTimeouts,
+      ByteBuffer tokensConf)
+      clc.setTokensConf(tokensConf);
-    PrivilegedAction<SubmitApplicationResponse> action =
-      new PrivilegedAction<SubmitApplicationResponse>() {
+    PrivilegedExceptionAction<SubmitApplicationResponse> action =
+      new PrivilegedExceptionAction<SubmitApplicationResponse>() {
-      public SubmitApplicationResponse run() {
+      public SubmitApplicationResponse run() throws IOException, YarnException {
-        } catch (YarnException e) {
+        } catch (YarnException | IOException e) {
-        } catch (IOException e) {
-          e.printStackTrace();
+          throw  e;
-        return null;
-      PrivilegedAction<SubmitApplicationResponse> setClientReq(
+      PrivilegedExceptionAction<SubmitApplicationResponse> setClientReq(
-        false, false, null, 0, null, true, priority, null, applicationTimeouts);
+        false, false, null, 0, null, true, priority, null, applicationTimeouts,
+        null);

INS26 INS40 INS31 INS83 INS43 INS42 INS44 INS44 INS43 INS8 INS44 INS42 INS43 INS42 INS43 INS42 INS42 INS41 INS43 INS42 INS42 INS42 INS32 INS42 UPD74 MOV74 INS33 INS33 INS42 INS32 INS45 INS45 INS33 INS9 INS33 INS32 INS42 INS33 INS9 INS9 INS9 INS33 INS34 INS33 INS9 INS32 INS33 INS33 INS42 INS21 UPD43 INS33 INS42 INS42 INS34 INS34 INS48 INS42 INS40 INS40 INS42 INS42 INS34 INS32 UPD42 INS42 INS42 INS42 INS42 UPD74 UPD43 UPD42 INS43 INS43 UPD74 MOV74 INS42 INS42 UPD43 UPD42 INS84 INS53 MOV43 MOV43 INS42 DEL42 DEL44 DEL42 DEL42 DEL32 DEL21 DEL8 DEL12 DEL33 DEL41