HADOOP-15563. S3Guard to support creating on-demand DDB tables.

Contributed by Steve Loughran

Change-Id: I2262b5b9f52e42ded8ed6f50fd39756f96e77087

-  @InterfaceStability.Unstable
-  @InterfaceStability.Unstable
-  @InterfaceStability.Unstable
-   * Test table name to use during DynamoDB integration test.
-   *
-   * The table will be modified, and deleted in the end of the tests.
-   * If this value is not set, the integration tests that would be destructive
-   * won't run.
-   */
-  @InterfaceStability.Unstable
-  public static final String S3GUARD_DDB_TEST_TABLE_NAME_KEY =
-      "fs.s3a.s3guard.ddb.test.table";
-
-  /**
+   * Value: {@value}.
-  @InterfaceStability.Unstable
-  @InterfaceStability.Unstable
+  /**
+   * Read capacity when creating a table.
+   * When it and the write capacity are both "0", a per-request table is
+   * created.
+   * Value: {@value}.
+   */
-  public static final long S3GUARD_DDB_TABLE_CAPACITY_READ_DEFAULT = 500;
-  @InterfaceStability.Unstable
+
+  /**
+   * Default read capacity when creating a table.
+   * Value: {@value}.
+   */
+  public static final long S3GUARD_DDB_TABLE_CAPACITY_READ_DEFAULT = 0;
+
+  /**
+   * Write capacity when creating a table.
+   * When it and the read capacity are both "0", a per-request table is
+   * created.
+   * Value: {@value}.
+   */
-  public static final long S3GUARD_DDB_TABLE_CAPACITY_WRITE_DEFAULT = 100;
+
+  /**
+   * Default write capacity when creating a table.
+   * Value: {@value}.
+   */
+  public static final long S3GUARD_DDB_TABLE_CAPACITY_WRITE_DEFAULT = 0;
-  @InterfaceStability.Unstable
-  @InterfaceStability.Unstable
-  @InterfaceStability.Unstable
-  @InterfaceStability.Unstable

MOV43 MOV59 MOV43 MOV59 INS29 INS29 INS29 INS65 UPD34 INS65 INS65 UPD34 UPD66 UPD66 INS65 UPD66 INS66 UPD66 INS66 INS66 INS65 INS66 INS66 INS66 INS65 INS66 INS66 INS66 INS66 INS66 INS65 INS66 INS66 INS66 INS65 INS66 DEL40 DEL78 DEL40 DEL78 DEL40 DEL78 DEL66 DEL40 DEL78 DEL42 DEL43 DEL42 DEL45 DEL59 DEL40 DEL78 DEL40 DEL78 DEL83 DEL83 DEL83 DEL23 DEL40 DEL78 DEL40 DEL78 DEL40 DEL78 DEL40 DEL78 DEL40 DEL78