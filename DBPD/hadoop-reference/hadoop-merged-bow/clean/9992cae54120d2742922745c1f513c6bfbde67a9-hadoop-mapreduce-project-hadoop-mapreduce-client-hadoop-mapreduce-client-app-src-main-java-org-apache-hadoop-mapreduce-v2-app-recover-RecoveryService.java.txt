Reverting the previous trunk merge since it added other unintended changes in addition


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1177127 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.api.records.ApplicationAttemptId;
+import org.apache.hadoop.yarn.api.records.ApplicationId;
-  private final ApplicationAttemptId applicationAttemptId;
+  private final ApplicationId appID;
+  private final int startCount;
-  public RecoveryService(ApplicationAttemptId applicationAttemptId, 
-      Clock clock) {
+  public RecoveryService(ApplicationId appID, Clock clock, int startCount) {
-    this.applicationAttemptId = applicationAttemptId;
+    this.appID = appID;
+    this.startCount = startCount;
-    String jobName = 
-        TypeConverter.fromYarn(applicationAttemptId.getApplicationId()).toString();
+    String jobName = TypeConverter.fromYarn(appID).toString();
-    //read the previous history file
-        histDirPath, jobName, (applicationAttemptId.getAttemptId() - 1)));          
+        histDirPath, jobName, startCount - 1));          //read the previous history file

UPD40 INS23 UPD43 INS83 INS83 INS39 INS59 INS44 UPD42 UPD42 INS42 UPD43 UPD42 INS39 INS42 INS21 UPD42 INS7 UPD42 INS22 INS42 UPD42 INS52 INS42 UPD42 MOV42 INS27 INS42 MOV34 DEL42 DEL32 DEL42 DEL42 DEL32 DEL27 DEL36