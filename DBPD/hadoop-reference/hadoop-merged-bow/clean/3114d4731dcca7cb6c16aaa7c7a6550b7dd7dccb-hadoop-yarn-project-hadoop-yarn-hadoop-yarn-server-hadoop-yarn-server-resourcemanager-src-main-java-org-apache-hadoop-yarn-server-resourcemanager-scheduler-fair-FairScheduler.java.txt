YARN-2604. Scheduler should consider max-allocation-* in conjunction with the largest node. (Robert Kanter via kasha)

-    nodes.put(node.getNodeID(), new FSSchedulerNode(node, usePortForNodeName));
+    FSSchedulerNode schedulerNode = new FSSchedulerNode(node, usePortForNodeName);
+    nodes.put(node.getNodeID(), schedulerNode);
+    updateMaximumAllocation(schedulerNode, true);
+    updateMaximumAllocation(node, false);
-        clusterResource, minimumAllocation, maximumAllocation, incrAllocation);
+        clusterResource, minimumAllocation, getMaximumResourceCapability(),
+        incrAllocation);
-      maximumAllocation = this.conf.getMaximumAllocation();
+      initMaximumResourceCapability(this.conf.getMaximumAllocation());

INS60 INS21 INS21 INS43 INS59 INS32 INS32 INS42 INS42 MOV14 INS42 INS42 INS42 INS9 INS42 INS42 INS9 INS32 UPD42 MOV42 INS32 INS42 MOV32 DEL42 DEL7