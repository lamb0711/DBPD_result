HDFS-7960. The full block report should prune zombie storages even if they're not empty. Contributed by Colin McCabe and Eddy Xu.

-import org.apache.hadoop.hdfs.protocol.BlockListAsLongs;
-   *     
+   * @param reports report of blocks per storage
+   * @param context Context information for this block report.
+   *
-      String poolId, StorageBlockReport[] reports) throws IOException;
+            String poolId, StorageBlockReport[] reports,
+            BlockReportContext context) throws IOException;
-   * {@link #blockReport(DatanodeRegistration, String, StorageBlockReport[])},
+   * {@link #blockReport(DatanodeRegistration, String, StorageBlockReport[], BlockReportContext)},

INS44 INS65 INS65 INS43 INS42 INS42 INS66 INS42 INS66 INS42 INS69 INS43 INS42 DEL40 DEL26