HDDS-399. Persist open pipeline information across SCM restart. Contributed by Mukul Kumar Singh.

-import org.apache.hadoop.hdds.scm.container.common.helpers.PipelineID;
-      Mapping containerMapping) {
+      Mapping containerMapping, PipelineSelector pipelineSelector) {
-    loadExistingContainers(containerMapping);
+    loadExistingContainers(containerMapping, pipelineSelector);
-  private void loadExistingContainers(Mapping containerMapping) {
+  private void loadExistingContainers(Mapping containerMapping,
+                                      PipelineSelector pipelineSelector) {
+        pipelineSelector.addContainerToPipeline(
+                container.getPipelineID(), container.getContainerID());
+    long containerID = containerCount.incrementAndGet();
-        .setContainerID(containerCount.incrementAndGet())
+        .setContainerID(containerID)
+    selector.addContainerToPipeline(pipeline.getId(), containerID);
-   * Returns a set of open ContainerIDs that reside on a pipeline.
-   *
-   * @param pipelineID PipelineID of the Containers.
-   * @return Set of containers that match the specific query parameters.
-   */
-  public NavigableSet<ContainerID> getMatchingContainerIDsByPipeline(PipelineID
-      pipelineID) {
-    return containers.getOpenContainerIDsByPipeline(pipelineID);
-  }
-
-  /**

INS44 INS44 INS43 INS42 INS43 INS42 INS60 INS21 INS42 INS42 INS39 INS59 INS32 INS42 INS42 MOV32 INS42 INS42 INS32 INS42 INS42 INS42 INS21 INS32 INS42 INS42 INS32 INS32 INS42 INS42 INS42 INS42 INS42 DEL40 DEL26 DEL66 DEL65 DEL42 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL43 DEL74 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL32 DEL41 DEL8 DEL31