MAPREDUCE-3696. MR job via oozie does not work on hadoop 23. (John George via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1239310 13f79535-47bb-0310-9956-ffa450edef68

+    boolean userClassesTakesPrecedence = 
+      conf.getBoolean(MRJobConfig.MAPREDUCE_JOB_USER_CLASSPATH_FIRST, false);
+
+    if (!userClassesTakesPrecedence) {
+      MRApps.setMRFrameworkClasspath(environment, conf);
+    }
-        environment, 
-        Environment.CLASSPATH.name(), 
+        environment,
+        Environment.CLASSPATH.name(),
-        environment, 
+        environment,
-    MRApps.setMRFrameworkClasspath(environment, conf);
+    if (userClassesTakesPrecedence) {
+      MRApps.setMRFrameworkClasspath(environment, conf);
+    }

INS60 INS25 INS25 INS39 INS59 INS38 INS8 INS42 INS8 INS42 INS32 INS42 MOV21 INS21 INS42 INS42 INS40 INS9 INS32 INS42 INS42 INS42 INS42