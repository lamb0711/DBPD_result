HDFS-7749. Erasure Coding: Add striped block support in INodeFile. Contributed by Jing Zhao.

+
+      // TODO currently we do not support concatenating EC files
+      if (srcINodeFile.isStriped()) {
+        throw new HadoopIllegalArgumentException("concat: the src file " + src
+            + " is with striped blocks");
+      }
-        nodeToRemove.setBlocks(null);
+        nodeToRemove.setContiguousBlocks(null);

INS25 INS32 INS8 INS42 INS42 INS53 INS14 INS43 INS27 UPD42 INS42 INS45 INS42 INS45