HDFS-11643. Add shouldReplicate option to create builder. Contributed by SammiChen.

+    boolean shouldReplicate = flag.contains(CreateFlag.SHOULD_REPLICATE);
+    if (shouldReplicate &&
+        (!org.apache.commons.lang.StringUtils.isEmpty(ecPolicyName))) {
+      throw new HadoopIllegalArgumentException("SHOULD_REPLICATE flag and " +
+          "ecPolicyName are exclusive parameters. Set both is not allowed!");
+    }
+
-      if (!FSDirErasureCodingOp.hasErasureCodingPolicy(this, iip)) {
+      if (shouldReplicate ||
+          (org.apache.commons.lang.StringUtils.isEmpty(ecPolicyName) &&
+          !FSDirErasureCodingOp.hasErasureCodingPolicy(this, iip))) {
-            toRemoveBlocks, ecPolicyName, logRetryCache);
+            toRemoveBlocks, shouldReplicate, ecPolicyName, logRetryCache);

INS60 INS25 INS39 INS59 INS27 INS8 INS42 INS32 INS42 INS36 INS53 INS42 INS42 INS40 INS38 INS14 INS27 INS32 INS43 INS27 INS42 INS36 INS40 INS42 INS42 INS42 INS45 INS45 INS27 INS32 MOV38 INS40 INS42 INS42 INS42