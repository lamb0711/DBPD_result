HDFS-6434. Default permission for creating file should be 644 for WebHdfs/HttpFS. Contributed by Wellington Chevreuil.

-  private static final short DEFAULT_PERMISSION = 0755;
+  private static final short DEFAULT_DIR_PERMISSION = 0755;
-  /** @return the default FsPermission. */
-  public static FsPermission getDefaultFsPermission() {
-    return new FsPermission(DEFAULT_PERMISSION);
+  private static final short DEFAULT_FILE_PERMISSION = 0644;
+
+  private static final short DEFAULT_SYMLINK_PERMISSION = 0777;
+
+  /** @return the default FsPermission for directory. */
+  public static FsPermission getDefaultDirFsPermission() {
+    return new FsPermission(DEFAULT_DIR_PERMISSION);
+  }
+
+  /** @return the default FsPermission for file. */
+  public static FsPermission getDefaultFileFsPermission() {
+    return new FsPermission(DEFAULT_FILE_PERMISSION);
+  }
+
+  /** @return the default FsPermission for symlink. */
+  public static FsPermission getDefaultSymLinkFsPermission() {
+    return new FsPermission(DEFAULT_SYMLINK_PERMISSION);
-  public FsPermission getFsPermission() {
-    final Short v = getValue();
-    return new FsPermission(v != null? v: DEFAULT_PERMISSION);
+  public FsPermission getFileFsPermission() {
+    return this.getFsPermission(DEFAULT_FILE_PERMISSION);
+
+  /** @return the represented FsPermission. */
+  public FsPermission getDirFsPermission() {
+    return this.getFsPermission(DEFAULT_DIR_PERMISSION);
+  }
+
+  private FsPermission getFsPermission(short defaultPermission){
+    final Short v = getValue();
+    return new FsPermission(v != null? v: defaultPermission);
+  }
+

INS23 INS23 INS31 INS31 INS31 INS31 INS83 INS83 INS83 INS39 INS59 INS83 INS83 INS83 INS39 INS59 UPD42 INS29 INS83 INS83 INS43 INS42 INS8 INS29 INS83 INS83 INS43 INS42 INS8 MOV29 INS83 INS43 INS42 INS8 INS29 INS83 INS43 INS42 INS8 UPD83 INS44 UPD42 INS42 INS34 INS42 INS34 INS65 INS42 INS41 INS65 INS42 INS41 INS42 INS41 INS65 INS42 INS41 INS39 INS42 UPD66 INS66 INS14 INS66 INS14 INS32 INS66 INS32 UPD42 INS43 INS42 INS43 INS42 INS52 INS42 INS42 INS52 INS42 INS42 INS42 INS42 UPD42