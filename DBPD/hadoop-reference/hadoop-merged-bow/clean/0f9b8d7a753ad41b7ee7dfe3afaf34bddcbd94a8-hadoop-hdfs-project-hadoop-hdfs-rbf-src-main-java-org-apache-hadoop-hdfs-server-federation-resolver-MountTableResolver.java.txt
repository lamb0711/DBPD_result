HDFS-14369. RBF: Fix trailing / for webhdfs. Contributed by Akira Ajisaka.

+import org.apache.hadoop.hdfs.tools.federation.RouterAdmin;
-   * @param path Path to check/insert.
+   * @param str Path to check/insert.
-  public PathLocation lookupLocation(final String path) throws IOException {
+  public PathLocation lookupLocation(final String str) throws IOException {
+    final String path = RouterAdmin.normalizeFileSystemPath(str);
-    return findDeepest(path);
+    return findDeepest(RouterAdmin.normalizeFileSystemPath(path));
-  public List<String> getMountPoints(final String path) throws IOException {
+  public List<String> getMountPoints(final String str) throws IOException {
+    final String path = RouterAdmin.normalizeFileSystemPath(str);
-
-    return getTreeValues(path, false);
+    return getTreeValues(RouterAdmin.normalizeFileSystemPath(path), false);

INS26 INS40 UPD42 INS60 UPD42 INS60 UPD42 INS83 INS43 INS59 INS83 INS43 INS59 INS42 INS42 INS32 INS32 INS42 INS42 INS32 INS32 INS42 INS42 INS42 INS42 INS42 MOV42 INS42 INS42 INS42 INS42 INS42 MOV42