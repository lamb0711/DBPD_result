YARN-2604. Scheduler should consider max-allocation-* in conjunction with the largest node. (Robert Kanter via kasha)

-import java.util.Set;
-    this.maximumAllocation = this.conf.getMaximumAllocation();
+    initMaximumResourceCapability(this.conf.getMaximumAllocation());
-    initScheduler(configuration);
+    initScheduler(configuration);
-        getMinimumResourceCapability(), maximumAllocation);
+        getMinimumResourceCapability(), getMaximumResourceCapability());
-    
-    this.nodes.put(nodeManager.getNodeID(), new FiCaSchedulerNode(nodeManager,
-        usePortForNodeName));
+    FiCaSchedulerNode schedulerNode = new FiCaSchedulerNode(nodeManager,
+        usePortForNodeName);
+    this.nodes.put(nodeManager.getNodeID(), schedulerNode);
+    updateMaximumAllocation(schedulerNode, true);
+    updateMaximumAllocation(node, false);

MOV21 INS60 INS21 INS21 INS32 INS43 INS59 INS32 INS32 INS42 MOV32 INS32 INS42 INS42 MOV14 INS42 INS42 INS42 INS9 INS42 INS42 INS9 UPD42 MOV42 DEL40 DEL26 DEL52 DEL42 DEL22 DEL7