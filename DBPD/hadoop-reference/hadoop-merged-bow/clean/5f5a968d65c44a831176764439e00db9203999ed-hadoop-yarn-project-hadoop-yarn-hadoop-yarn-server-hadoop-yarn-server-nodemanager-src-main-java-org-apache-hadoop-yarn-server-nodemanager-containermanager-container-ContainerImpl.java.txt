YARN-3867. ContainerImpl changes to support container resizing. Contributed by Meng Ding

+import org.apache.hadoop.yarn.util.resource.Resources;
-  private final Resource resource;
+  private volatile Resource resource;
-        new KilledExternallyTransition()) 
+        new KilledExternallyTransition())
-        getCurrentState(), diagnostics.toString(), exitCode);
+        getCurrentState(), diagnostics.toString(), exitCode, getResource());
-    return this.resource;
+    return Resources.clone(this.resource);
+  }
+
+  @Override
+  public void setResource(Resource targetResource) {
+    Resource currentResource = getResource();
+    this.resource = Resources.clone(targetResource);
+    this.metrics.changeContainer(currentResource, targetResource);

INS26 INS40 INS31 UPD83 INS78 INS83 INS39 INS42 INS44 INS8 INS42 INS43 INS42 INS60 INS21 INS21 INS32 INS42 INS43 INS59 INS7 INS32 INS42 INS42 INS22 INS42 INS42 INS32 MOV22 INS32 INS22 INS42 INS42 INS42 INS52 INS42 INS42 INS42 INS42 INS42 INS52 INS42 INS32 INS42