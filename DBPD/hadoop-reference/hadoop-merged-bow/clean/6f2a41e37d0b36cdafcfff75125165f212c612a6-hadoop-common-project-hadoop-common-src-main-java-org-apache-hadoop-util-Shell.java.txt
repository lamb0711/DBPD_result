YARN-3768. ArrayIndexOutOfBoundsException with empty environment variables. (Zhihai Xu via gera)

+  public static final String ENV_NAME_REGEX = "[A-Za-z_][A-Za-z0-9_]*";
-    return (WINDOWS) ? "%([A-Za-z_][A-Za-z0-9_]*?)%" :
-      "\\$([A-Za-z_][A-Za-z0-9_]*)";
+    return (WINDOWS)
+        ? "%(" + ENV_NAME_REGEX + "?)%"
+        : "\\$(" + ENV_NAME_REGEX + ")";

INS23 INS83 INS83 INS83 INS43 INS59 INS42 INS42 INS45 INS27 INS27 INS45 INS42 INS45 INS45 INS42 INS45 DEL45 DEL45