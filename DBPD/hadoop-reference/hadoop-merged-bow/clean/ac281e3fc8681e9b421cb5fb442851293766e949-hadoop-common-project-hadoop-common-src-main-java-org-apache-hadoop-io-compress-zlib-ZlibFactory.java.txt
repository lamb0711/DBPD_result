HADOOP-11627. Remove io.native.lib.available. Contributed by Brahma Reddy Battula.

-import org.apache.hadoop.fs.CommonConfigurationKeys;
+
+import com.google.common.annotations.VisibleForTesting;
+    loadNativeZLib();
+  }
+
+  /**
+   * Load native library and set the flag whether to use native library. The
+   * method is also used for reset the flag modified by setNativeZlibLoaded
+   */
+  @VisibleForTesting
+  public static void loadNativeZLib() {
+   * Set the flag whether to use native library. Used for testing non-native
+   * libraries
+   *
+   */
+  @VisibleForTesting
+  public static void setNativeZlibLoaded(final boolean isLoaded) {
+    ZlibFactory.nativeZlibLoaded = isLoaded;
+  }
+  /**
-    return nativeZlibLoaded && conf.getBoolean(
-                          CommonConfigurationKeys.IO_NATIVE_LIB_AVAILABLE_KEY, 
-                          CommonConfigurationKeys.IO_NATIVE_LIB_AVAILABLE_DEFAULT);
+    return nativeZlibLoaded;

UPD40 INS31 INS31 INS8 INS29 INS78 INS83 INS83 INS39 INS42 MOV8 INS29 INS78 INS83 INS83 INS39 INS42 INS44 INS8 INS21 INS65 INS42 INS65 INS42 INS83 INS39 INS42 INS21 INS32 INS66 INS66 INS66 INS66 INS7 INS42 INS42 INS40 INS42 DEL42 DEL42 DEL42 DEL40 DEL40 DEL32 DEL27