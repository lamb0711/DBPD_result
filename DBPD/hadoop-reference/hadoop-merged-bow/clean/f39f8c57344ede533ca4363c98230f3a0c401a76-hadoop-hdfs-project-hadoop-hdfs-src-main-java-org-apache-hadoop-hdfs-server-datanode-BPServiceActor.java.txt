HDFS-5401. Fix NPE in Directory Scanner.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2832@1535158 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.hdfs.StorageType;
-  void reportBadBlocks(ExtendedBlock block) {
+  void reportBadBlocks(ExtendedBlock block,
+      String storageUuid, StorageType storageType) {
-    LocatedBlock[] blocks = { new LocatedBlock(block, dnArr) }; 
+    String[] uuids = { storageUuid };
+    StorageType[] types = { storageType };
+    // TODO: Corrupt flag is set to false for compatibility. We can probably
+    // set it to true here.
+    LocatedBlock[] blocks = {
+        new LocatedBlock(block, dnArr, uuids, types, -1, false) };

INS26 INS40 INS44 INS44 INS43 INS42 INS43 INS42 INS60 INS60 INS42 INS42 INS5 INS59 INS5 INS59 INS43 INS85 INS42 INS4 INS43 INS85 INS42 INS4 INS42 INS42 INS42 INS42 INS42 INS42 INS38 INS9 INS34