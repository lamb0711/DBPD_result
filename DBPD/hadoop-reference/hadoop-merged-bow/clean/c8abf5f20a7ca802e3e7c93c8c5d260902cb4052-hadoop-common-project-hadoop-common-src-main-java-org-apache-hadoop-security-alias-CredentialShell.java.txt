HADOOP-10927. Fix CredentialShell help behavior and error codes. Contributed by Josh Elser.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1615827 13f79535-47bb-0310-9956-ffa450edef68

-        exitCode = -1;
+        exitCode = 1;
-      return -1;
+      return 1;
-   * % hadoop alias create alias [-provider providerPath]
-   * % hadoop alias list [-provider providerPath]
-   * % hadoop alias delete alias [-provider providerPath] [-i]
+   * % hadoop credential create alias [-provider providerPath]
+   * % hadoop credential list [-provider providerPath]
+   * % hadoop credential delete alias [-provider providerPath] [-i]
-   * @return
+   * @return 0 if the argument(s) were recognized, 1 otherwise
-  private int init(String[] args) throws IOException {
+  protected int init(String[] args) throws IOException {
+    // no args should print the help message
+    if (0 == args.length) {
+      printCredShellUsage();
+      ToolRunner.printGenericCommandUsage(System.err);
+      return 1;
+    }
+
-          return -1;
+          return 0;
-          return -1;
+          return 0;
-        return -1;
+        return 0;
-        return -1;
+        return 1;

UPD83 INS25 UPD66 UPD66 UPD66 INS66 INS27 INS8 INS34 INS40 INS21 INS21 INS41 INS32 INS32 INS34 INS34 INS42 INS42 INS42 INS40 INS34 INS34 INS34 MOV21 MOV21 INS34 INS34 DEL34 DEL38 DEL34 DEL38 DEL34 DEL38 DEL34 DEL38 DEL34 DEL38 DEL34 DEL38