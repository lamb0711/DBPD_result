HADOOP-16685: FileSystem#listStatusIterator does not check if given path exists (#1695)


-    DirListingIterator(Path path) {
+    DirListingIterator(Path path) throws IOException {
+      this.entries = listStatusBatch(path, null);
-      if (entries == null) {
-        fetchMore();
-      }
-      byte[] token = null;
-      if (entries != null) {
-        token = entries.getToken();
-      }
+      byte[] token = entries.getToken();

INS43 INS42 INS21 INS7 INS22 INS32 MOV32 INS52 INS42 INS42 INS42 INS33 DEL42 DEL33 DEL27 DEL42 DEL32 DEL21 DEL8 DEL25 DEL33 DEL42 DEL33 DEL27 DEL42 DEL7 DEL21 DEL8 DEL25