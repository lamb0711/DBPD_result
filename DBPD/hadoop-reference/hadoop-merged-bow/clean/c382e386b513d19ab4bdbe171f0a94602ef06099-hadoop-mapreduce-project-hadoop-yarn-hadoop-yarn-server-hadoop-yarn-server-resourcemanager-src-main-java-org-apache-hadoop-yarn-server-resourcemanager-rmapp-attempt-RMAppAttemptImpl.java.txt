Merge trunk into HA branch


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1173012 13f79535-47bb-0310-9956-ffa450edef68

+  
+  @Override
+  public String getAMFinalState() {
+    this.readLock.lock();
+    try {
+      return this.finalState;
+    } finally {
+      this.readLock.unlock();
+    }
+  }
-    @Override
+    @SuppressWarnings("unchecked")
+	@Override

INS31 INS78 INS83 INS43 INS42 INS8 INS42 INS42 INS21 INS54 INS79 INS32 INS8 INS8 INS42 INS45 INS22 INS42 INS41 INS21 INS52 INS42 INS22 INS32 INS52 INS42 INS22 INS42 INS52 INS42