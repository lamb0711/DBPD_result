YARN-7652. Handle AM register requests asynchronously in FederationInterceptor. Contributed by Botong Huang.

-  private static Object syncObj = new Object();
+  private static Object registerSyncObj = new Object();
+  private static Object allocateSyncObj = new Object();
-  public static Object getSyncObj() {
-    return syncObj;
+  public static Object getRegisterSyncObj() {
+    return registerSyncObj;
+  }
+
+  public static Object getAllocateSyncObj() {
+    return allocateSyncObj;
-    synchronized (syncObj) {
-      syncObj.notifyAll();
+    synchronized (registerSyncObj) {
+      registerSyncObj.notifyAll();
-          syncObj.wait();
+          registerSyncObj.wait();
-    synchronized (syncObj) {
+    synchronized (allocateSyncObj) {
-          syncObj.wait();
+          allocateSyncObj.wait();
-              + " being released is not valid for application: "
-              + conf.get("AMRMTOKEN"), found);
+              + " being released is not valid for application: " + attemptId,
+              found);
-        + " for application attempt: " + conf.get("AMRMTOKEN"));
+        + " for application attempt: " + attemptId);
-    synchronized (syncObj) {
+    synchronized (allocateSyncObj) {

INS23 INS31 INS83 INS83 MOV43 INS59 INS43 UPD42 INS83 INS83 INS43 INS42 INS8 UPD42 INS42 INS14 INS42 INS42 INS41 INS43 UPD42 INS42 UPD42 UPD42 UPD42 INS42 INS42 UPD42 UPD42 UPD42 INS42 DEL42 DEL42 DEL45 DEL32 DEL42 DEL42 DEL45 DEL32