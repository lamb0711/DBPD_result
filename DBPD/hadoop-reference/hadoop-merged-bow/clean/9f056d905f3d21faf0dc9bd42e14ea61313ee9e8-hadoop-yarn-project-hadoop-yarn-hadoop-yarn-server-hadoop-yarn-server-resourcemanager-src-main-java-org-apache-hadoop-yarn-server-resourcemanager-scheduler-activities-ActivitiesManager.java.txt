YARN-9497. Support grouping by diagnostics for query results of scheduler and app activities. Contributed by Tao Yang.

+import org.apache.hadoop.yarn.server.resourcemanager.webapp.RMWSConsts;
-  public static final String DIAGNOSTICS_DETAILS_SEPARATOR = "\n";
+  public static final char DIAGNOSTICS_DETAILS_SEPARATOR = '\n';
-      Set<String> requestPriorities, Set<String> allocationRequestIds) {
+      Set<String> requestPriorities, Set<String> allocationRequestIds,
+      RMWSConsts.ActivitiesGroupBy groupBy) {
-      return new AppActivitiesInfo(allocations, applicationId);
+      return new AppActivitiesInfo(allocations, applicationId, groupBy);
-  public ActivitiesInfo getActivitiesInfo(String nodeId) {
+  public ActivitiesInfo getActivitiesInfo(String nodeId,
+      RMWSConsts.ActivitiesGroupBy groupBy) {
-    return new ActivitiesInfo(allocations, nodeId);
+    return new ActivitiesInfo(allocations, nodeId, groupBy);

INS26 INS40 INS39 INS44 INS44 INS13 INS43 INS42 INS43 INS42 INS40 INS40 INS42 INS42 DEL42 DEL43 DEL45