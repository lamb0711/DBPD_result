MAPREDUCE-2925. Fixed Yarn+MR client code to behave saner with completed jobs. Contributed by Devaraj K.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1172587 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.commons.lang.StringUtils;
-	final String serviceAddr = conf.get(JHAdminConfig.MR_HISTORY_ADDRESS,
-	          JHAdminConfig.DEFAULT_MR_HISTORY_ADDRESS);
+    final String serviceAddr = conf.get(JHAdminConfig.MR_HISTORY_ADDRESS);
+    if (StringUtils.isEmpty(serviceAddr)) {
+      LOG.info("HistoryServer is not configured.");
+      return null;
+    }

INS26 INS40 INS25 INS32 INS8 INS42 INS42 INS42 INS21 INS41 INS32 INS33 INS42 INS42 INS45 DEL40