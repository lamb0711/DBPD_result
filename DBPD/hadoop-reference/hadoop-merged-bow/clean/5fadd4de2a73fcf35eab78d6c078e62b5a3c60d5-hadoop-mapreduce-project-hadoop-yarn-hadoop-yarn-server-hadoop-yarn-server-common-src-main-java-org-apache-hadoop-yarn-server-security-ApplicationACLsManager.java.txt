MAPREDUCE-3175. Add authorization to admin web-pages such as /stacks, /jmx etc. Contributed by Jonathan Eagles.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1189619 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.conf.YarnConfiguration;
+import org.apache.hadoop.yarn.security.AdminACLsManager;
-  private final AccessControlList adminAcl;
+  private final AdminACLsManager adminAclsManager;
-    this.adminAcl = new AccessControlList(conf.get(
-        YarnConfiguration.YARN_ADMIN_ACL,
-        YarnConfiguration.DEFAULT_YARN_ADMIN_ACL));
+    this.adminAclsManager = new AdminACLsManager(conf);
-    return conf.getBoolean(YarnConfiguration.YARN_ACL_ENABLE,
-        YarnConfiguration.DEFAULT_YARN_ACL_ENABLE);
+    return adminAclsManager.areACLsEnabled();
-    if (this.adminAcl.isUserAllowed(callerUGI)
+    if (this.adminAclsManager.isAdmin(callerUGI)

UPD40 UPD43 UPD42 UPD42 UPD42 UPD42 UPD42 UPD43 INS42 UPD42 UPD42 UPD42 DEL42 DEL42 DEL40 DEL40 DEL32 DEL40 DEL40