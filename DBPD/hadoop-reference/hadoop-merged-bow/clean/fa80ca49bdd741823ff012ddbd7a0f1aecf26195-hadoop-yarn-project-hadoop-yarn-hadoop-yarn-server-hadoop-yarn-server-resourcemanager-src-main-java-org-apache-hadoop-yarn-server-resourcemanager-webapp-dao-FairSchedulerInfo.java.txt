YARN-2405. NPE in FairSchedulerAppsBlock. (Tsuyoshi Ozawa via kasha)

+import org.apache.hadoop.yarn.server.resourcemanager.scheduler.fair.FSAppAttempt;
+  public static final int INVALID_FAIR_SHARE = -1;
-  
+
+  /**
+   * Get the fair share assigned to the appAttemptId.
+   * @param appAttemptId
+   * @return The fair share assigned to the appAttemptId,
+   * <code>FairSchedulerInfo#INVALID_FAIR_SHARE</code> if the scheduler does
+   * not know about this application attempt.
+   */
-    return scheduler.getSchedulerApp(appAttemptId).getFairShare().getMemory();
+    FSAppAttempt fsAppAttempt = scheduler.getSchedulerApp(appAttemptId);
+    return fsAppAttempt == null ?
+        INVALID_FAIR_SHARE :  fsAppAttempt.getFairShare().getMemory();

INS26 INS40 INS23 INS83 INS83 INS83 INS39 INS59 INS29 INS42 INS38 INS65 INS65 INS65 INS60 INS34 INS66 INS42 INS66 INS66 INS66 INS43 INS59 INS16 INS42 INS42 MOV32 INS27 INS42 INS32 INS42 INS33 MOV32 MOV42 INS42 DEL32