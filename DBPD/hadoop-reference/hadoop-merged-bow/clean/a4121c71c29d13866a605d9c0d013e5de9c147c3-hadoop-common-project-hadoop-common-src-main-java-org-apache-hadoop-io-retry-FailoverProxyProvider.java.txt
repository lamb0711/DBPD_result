HDFS-13848. Refactor NameNode failover proxy providers. Contributed by Konstantin Shvachko.
-  public static final class ProxyInfo<T> {
-    public final T proxy;
+  static class ProxyInfo<T> {
+    public T proxy;
-    public final String proxyInfo;
+    public String proxyInfo;
+    private String proxyName() {
+      return proxy != null ? proxy.getClass().getSimpleName() : "UnknownProxy";
+    }
+
-      return proxy.getClass().getSimpleName() + "." + methodName
-          + " over " + proxyInfo;
+      return proxyName() + "." + methodName + " over " + proxyInfo;
-      return proxy.getClass().getSimpleName() + " over " + proxyInfo;
+      return proxyName() + " over " + proxyInfo;

INS42 INS31 INS83 INS43 INS42 MOV8 INS8 INS42 INS41 INS16 INS27 INS27 MOV32 INS45 INS32 INS45 INS42 INS45 INS42 INS32 UPD42 MOV42 INS33 INS42 UPD42 MOV42 DEL83 DEL83 DEL42 DEL83 DEL83 DEL45 DEL42 DEL45 DEL27 DEL42 DEL32 DEL42 DEL32