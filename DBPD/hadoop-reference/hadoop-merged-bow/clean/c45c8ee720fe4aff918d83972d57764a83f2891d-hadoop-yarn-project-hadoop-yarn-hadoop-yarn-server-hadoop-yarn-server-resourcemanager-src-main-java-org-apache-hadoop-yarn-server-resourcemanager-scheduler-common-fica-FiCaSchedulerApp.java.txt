Complete commit of prior merge.

The previous merge accidentally only committed the hdfs project instead of common and MR
as well.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-347@1463203 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.server.resourcemanager.rmnode.RMNode;
+
+  private boolean isStopped = false;
+
-    this.appSchedulingInfo.updateResourceRequests(requests);
+    if (!isStopped) {
+      this.appSchedulingInfo.updateResourceRequests(requests);
+    }
-    return getResourceRequest(priority, RMNode.ANY).getNumContainers();
+    return getResourceRequest(priority, ResourceRequest.ANY).getNumContainers();
+  public synchronized boolean isStopped() {
+    return this.isStopped;
+  }
+
+    this.isStopped = true;
+
+    if (isStopped) {
+      return null;
+    }

INS23 INS31 INS83 INS39 INS59 INS8 INS83 INS83 INS39 INS42 INS8 INS42 INS9 INS25 INS41 INS21 INS25 INS38 MOV8 INS22 INS7 INS42 INS8 INS42 INS52 INS42 INS22 INS9 INS41 UPD40 INS52 INS42 INS33 DEL40 DEL26