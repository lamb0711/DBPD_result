HDFS-11447. Ozone: SCM: Send node report to SCM with heartbeat.Contributed by Xiaoyu Yao.

+import org.apache.hadoop.ozone.protocol.proto
+    .StorageContainerDatanodeProtocolProtos.SCMNodeReport;
+import org.apache.hadoop.ozone.protocol.proto
+    .StorageContainerDatanodeProtocolProtos.SCMStorageReport;
-          new ContainerLocationManagerImpl(containerDirs, dataDirs);
+          new ContainerLocationManagerImpl(containerDirs, dataDirs, config);
-  public void shutdown() {
+  public void shutdown() throws IOException {
+    this.locationManager.shutdown();
+   * Get the node report.
+   * @return node report.
+   */
+  @Override
+  public SCMNodeReport getNodeReport() throws IOException {
+    StorageLocationReport[] reports = locationManager.getLocationReport();
+    SCMNodeReport.Builder nrb = SCMNodeReport.newBuilder();
+    for (int i = 0; i < reports.length; i++) {
+      SCMStorageReport.Builder srb = SCMStorageReport.newBuilder();
+      nrb.addStorageReport(i, srb.setStorageUuid(reports[i].getId())
+          .setCapacity(reports[i].getCapacity())
+          .setScmUsed(reports[i].getScmUsed())
+          .setRemaining(reports[i].getRemaining())
+          .build());
+    }
+    return nrb.build();
+  }
+
+  /**

INS26 INS26 INS40 INS40 INS31 INS43 INS29 INS78 INS83 INS43 INS42 INS43 INS8 INS42 INS21 INS65 INS65 INS42 INS42 INS42 INS60 INS60 INS24 INS41 INS32 INS66 INS66 INS5 INS59 INS43 INS59 INS58 INS27 INS37 INS8 INS32 INS22 INS42 INS43 INS85 INS42 INS32 INS40 INS42 INS32 INS39 INS59 INS42 INS40 INS42 INS60 INS21 INS42 INS42 INS52 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS34 INS43 INS59 INS32 INS40 INS42 INS32 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS32 INS42 INS32 INS42 INS32 INS32 INS42 INS32 INS2 INS42 INS32 INS42 INS32 INS2 INS42 INS42 INS42 INS42 INS42 INS32 INS2 INS42 INS42 INS42 INS2 INS42 INS42 INS42 INS42 INS42