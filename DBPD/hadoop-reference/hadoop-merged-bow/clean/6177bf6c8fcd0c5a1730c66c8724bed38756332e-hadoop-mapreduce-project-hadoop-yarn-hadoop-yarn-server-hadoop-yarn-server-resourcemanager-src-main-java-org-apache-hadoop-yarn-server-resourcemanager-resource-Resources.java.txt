Merge trunk into HA branch.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1233105 13f79535-47bb-0310-9956-ffa450edef68

+  
-  private static final Resource NONE = createResource(0);
+  private static final Resource NONE = new Resource() {
+
+    @Override
+    public int getMemory() {
+      return 0;
+    }
+
+    @Override
+    public void setMemory(int memory) {
+      throw new RuntimeException("NONE cannot be modified!");
+    }
+
+    @Override
+    public int compareTo(Resource o) {
+      return (0 - o.getMemory());
+    }
+    
+  };
-    assert NONE.getMemory() == 0 : "NONE should be empty";

INS23 INS31 MOV83 MOV83 MOV83 MOV43 INS59 INS83 INS83 MOV43 INS42 INS8 MOV42 INS14 MOV41 INS43 INS1 INS42 INS31 INS31 INS31 INS78 INS83 INS39 INS42 INS8 INS78 MOV83 INS39 INS42 INS44 INS8 INS78 UPD83 MOV83 INS39 INS42 INS44 MOV8 INS42 INS41 INS42 INS39 INS42 INS53 INS42 INS43 INS42 INS41 INS34 INS14 INS42 INS36 INS43 INS45 INS27 INS42 INS34 MOV32 UPD42 DEL34 DEL27 DEL45 DEL6 DEL42 DEL34 DEL32 DEL59 DEL23 DEL42 DEL31