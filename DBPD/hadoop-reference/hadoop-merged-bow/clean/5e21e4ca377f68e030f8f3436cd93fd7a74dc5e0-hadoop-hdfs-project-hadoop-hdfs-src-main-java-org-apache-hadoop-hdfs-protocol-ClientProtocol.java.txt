HDFS-6353. Check and make checkpoint before stopping the NameNode. Contributed by Jing Zhao.

-   * 
-   * @throws AccessControlException if the superuser privilege is violated.
+   *
+   * @param timeWindow NameNode does a checkpoint if the latest checkpoint was
+   *                   done beyond the given time period (in seconds).
+   * @param txGap NameNode does a checkpoint if the gap between the latest
+   *              checkpoint and the latest transaction id is greater this gap.
+   * @return whether an extra checkpoint has been done
+   *
-  public void saveNamespace() throws AccessControlException, IOException;
+  public boolean saveNamespace(long timeWindow, long txGap) throws IOException;

UPD39 INS44 INS44 UPD65 INS65 INS65 INS39 INS42 INS39 INS42 UPD42 UPD66 INS66 INS42 INS66 INS66 INS66 DEL42 DEL43