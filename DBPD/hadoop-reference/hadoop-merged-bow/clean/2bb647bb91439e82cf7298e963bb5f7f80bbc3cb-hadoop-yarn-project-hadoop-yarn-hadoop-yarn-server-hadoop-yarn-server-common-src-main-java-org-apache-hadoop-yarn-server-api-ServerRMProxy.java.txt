YARN-8278. DistributedScheduling is not working in HA. Contributed by Bibin A Chundatt.

+  private interface ServerRMProtocols
+      extends DistributedSchedulingAMProtocol, ResourceTracker {
+    //Add nothing
+  }
+
-    Preconditions.checkArgument(
-        protocol.isAssignableFrom(ResourceTracker.class),
-        "ResourceManager does not support this protocol");
+    Preconditions
+        .checkArgument(protocol.isAssignableFrom(ServerRMProtocols.class),
+            "ResourceManager does not support this protocol");

INS55 INS83 INS42 INS43 MOV43 INS42 INS43 INS42