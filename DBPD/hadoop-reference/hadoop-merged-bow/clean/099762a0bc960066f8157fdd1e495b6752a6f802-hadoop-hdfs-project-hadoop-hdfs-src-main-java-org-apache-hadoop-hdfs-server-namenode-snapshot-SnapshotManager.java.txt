HDFS-4177. Add a snapshot parameter to INodeDirectory.getChildrenList() for selecting particular snapshot children list views.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1408923 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.hdfs.util.ReadOnlyList;
-      final List<INode> children = srcDir.getChildren();
-      if (children != null) {
+      final ReadOnlyList<INode> children = srcDir.getChildrenList(null);
+      if (!children.isEmpty()) {
-        for(final INode c : new ArrayList<INode>(children)) {
+        for(final INode c : new ArrayList<INode>(ReadOnlyList.Util.asList(children))) {

INS26 INS40 UPD74 INS38 UPD43 INS32 UPD42 UPD42 INS33 INS42 INS42 INS32 INS40 INS42 INS42 DEL42 DEL33 DEL27 DEL42