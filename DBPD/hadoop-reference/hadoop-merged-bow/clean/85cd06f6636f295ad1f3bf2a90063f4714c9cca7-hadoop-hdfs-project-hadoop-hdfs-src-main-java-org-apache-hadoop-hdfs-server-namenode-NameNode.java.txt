HDFS-10789. Route webhdfs through the RPC call queue. Contributed by Daryn Sharp and Rushabh S Shah.

+import org.apache.hadoop.ipc.ExternalCall;
+import org.apache.hadoop.ipc.RetriableException;
-  
+
+  public void queueExternalCall(ExternalCall<?> extCall)
+      throws IOException, InterruptedException {
+    if (rpcServer == null) {
+      throw new RetriableException("Namenode is in startup mode");
+    }
+    rpcServer.getClientRpcServer().queueCall(extCall);
+  }
+

INS26 INS26 INS40 INS40 INS31 INS83 INS39 INS42 INS44 INS43 INS43 INS8 INS74 INS42 INS42 INS42 INS25 INS21 INS43 INS76 INS27 INS8 INS32 INS42 INS42 INS33 INS53 INS32 INS42 INS42 INS14 INS42 INS42 INS43 INS45 INS42