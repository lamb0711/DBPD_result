HDFS-8854. Erasure coding: add ECPolicy to replace schema+cellSize in hadoop-hdfs. Contributed by Walter Su.

-import org.apache.hadoop.io.erasurecode.ECSchema;
+import org.apache.hadoop.hdfs.protocol.ErasureCodingPolicy;
-   * @param schema ECSchema for the zone. If not specified default will be used.
-   * @param cellSize Cellsize for the striped erasure coding
+   * @param ecPolicy erasure coding policy for the zone. If not specified default will be used.
-  public void createErasureCodingZone(final Path path, final ECSchema schema,
-      final int cellSize) throws IOException {
+  public void createErasureCodingZone(final Path path, final ErasureCodingPolicy ecPolicy)
+      throws IOException {
-        dfs.createErasureCodingZone(getPathName(p), schema, cellSize);
+        dfs.createErasureCodingZone(getPathName(p), ecPolicy);
-          myDfs.createErasureCodingZone(p, schema, cellSize);
+          myDfs.createErasureCodingZone(p, ecPolicy);

UPD40 UPD43 UPD42 UPD42 UPD66 UPD42 UPD42 UPD42 DEL42 DEL66 DEL65 DEL83 DEL39 DEL42 DEL44 DEL42 DEL42