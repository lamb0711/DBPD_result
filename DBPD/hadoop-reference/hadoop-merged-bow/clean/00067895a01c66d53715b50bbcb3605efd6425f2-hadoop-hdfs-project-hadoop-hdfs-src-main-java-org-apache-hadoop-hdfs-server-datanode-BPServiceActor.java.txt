HDFS-5754. Split LayoutVerion into NameNodeLayoutVersion and DataNodeLayoutVersion. Contributed by Brandon Li


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-5535@1563041 13f79535-47bb-0310-9956-ffa450edef68

-
-    if (HdfsConstants.LAYOUT_VERSION != nsInfo.getLayoutVersion()) {
-      LOG.warn("DataNode and NameNode layout versions must be the same." +
-        " Expected: "+ HdfsConstants.LAYOUT_VERSION +
-        " actual "+ nsInfo.getLayoutVersion());
-      throw new IncorrectVersionException(
-          nsInfo.getLayoutVersion(), "namenode");
+    
+    if (HdfsConstants.DATANODE_LAYOUT_VERSION != nsInfo.getLayoutVersion()) {
+      LOG.info("DataNode and NameNode layout versions are different:" +
+        " DataNode version: "+ HdfsConstants.DATANODE_LAYOUT_VERSION +
+        " NameNode version: "+ nsInfo.getLayoutVersion());

UPD40 UPD42 UPD40 UPD45 UPD45 UPD45 DEL42 DEL43 DEL42 DEL42 DEL32 DEL45 DEL14 DEL53