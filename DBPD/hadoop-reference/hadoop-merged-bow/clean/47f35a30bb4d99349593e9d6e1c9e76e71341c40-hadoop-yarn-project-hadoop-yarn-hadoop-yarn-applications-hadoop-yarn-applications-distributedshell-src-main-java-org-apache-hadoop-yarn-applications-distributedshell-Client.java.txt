YARN-3391. Clearly define flow ID/ flow run / flow version in API and storage. Contributed by Zhijie Shen

(cherry picked from commit 68c6232f8423e55b4d152ef3d1d66aeb2d6a555e)

-  private String flowId = null;
-  private String flowRunId = null;
+  private String flowName = null;
+  private String flowVersion = null;
+  private long flowRunId = 0L;
-    opts.addOption("flow", true, "ID of the flow which the distributed shell "
+    opts.addOption("flow_name", true, "Flow name which the distributed shell "
-    opts.addOption("flow_run", true, "ID of the flowrun which the distributed "
+    opts.addOption("flow_version", true, "Flow version which the distributed "
+        + "shell app belongs to");
+    opts.addOption("flow_run_id", true, "Flow run ID which the distributed "
-    if (cliParser.hasOption("flow")) {
-      flowId = cliParser.getOptionValue("flow");
+    if (cliParser.hasOption("flow_name")) {
+      flowName = cliParser.getOptionValue("flow_name");
-    if (cliParser.hasOption("flow_run")) {
-      flowRunId = cliParser.getOptionValue("flow_run");
+    if (cliParser.hasOption("flow_version")) {
+      flowVersion = cliParser.getOptionValue("flow_version");
+    }
+    if (cliParser.hasOption("flow_run_id")) {
+      try {
+        flowRunId = Long.valueOf(cliParser.getOptionValue("flow_run_id"));
+      } catch (NumberFormatException e) {
+        throw new IllegalArgumentException(
+            "Flow run is not a valid long value", e);
+      }
-    if (flowId != null) {
-      tags.add(TimelineUtils.generateFlowIdTag(flowId));
+    if (flowName != null) {
+      tags.add(TimelineUtils.generateFlowNameTag(flowName));
-    if (flowRunId != null) {
+    if (flowVersion != null) {
+      tags.add(TimelineUtils.generateFlowVersionTag(flowVersion));
+    }
+    if (flowRunId != 0) {

INS23 INS83 INS39 INS59 UPD42 UPD42 INS42 INS34 INS21 INS25 INS25 INS32 INS32 INS8 INS8 INS27 INS8 UPD45 INS42 INS42 INS45 INS9 INS27 UPD45 UPD45 INS42 INS42 INS45 INS21 UPD45 INS54 UPD42 INS42 INS33 INS21 INS34 UPD45 INS45 INS45 UPD45 INS7 INS8 INS12 INS32 UPD42 INS42 INS32 MOV21 INS44 INS8 INS42 INS42 INS32 UPD45 INS42 INS42 INS45 INS43 INS42 INS53 UPD42 UPD42 INS42 INS42 INS42 INS32 INS42 INS14 INS42 INS42 INS32 INS43 INS45 INS42 MOV42 MOV42 UPD45 MOV45 INS42 DEL32 DEL8 DEL33