HDFS-11197. Listing encryption zones fails when deleting a EZ that is on a snapshotted directory. Contributed by Wellington Chevreuil.

-      INodesInPath iip = dir.getINodesInPath(pathName, DirOp.READ_LINK);
-      INode lastINode = iip.getLastINode();
+      INode inode = dir.getInode(ezi.getINodeId());
+      INode lastINode = null;
+      if (inode.getParent() != null || inode.isRoot()) {
+        INodesInPath iip = dir.getINodesInPath(pathName, DirOp.READ_LINK);
+        lastINode = iip.getLastINode();
+      }

INS60 INS25 INS43 INS59 INS27 INS8 INS42 INS42 INS32 INS33 INS27 INS32 MOV60 INS21 INS42 INS42 INS32 INS32 INS33 INS42 INS42 INS7 INS42 INS42 INS42 INS42 INS42 MOV32