HDDS-253. SCMBlockDeletingService should publish events for delete blocks to EventQueue. Contributed by Lokesh Jain.

+import org.apache.hadoop.hdds.scm.events.SCMEvents;
+import org.apache.hadoop.hdds.server.events.EventPublisher;
+import org.apache.hadoop.ozone.protocol.commands.CommandForDatanode;
+  private final EventPublisher eventPublisher;
-      Mapping mapper, NodeManager nodeManager,
-      long  interval, long serviceTimeout, Configuration conf) {
+      Mapping mapper, NodeManager nodeManager, EventPublisher eventPublisher,
+      long interval, long serviceTimeout, Configuration conf) {
+    this.eventPublisher = eventPublisher;
-            nodeManager.addDatanodeCommand(dnId,
-                new DeleteBlocksCommand(dnTXs));
+            eventPublisher.fireEvent(SCMEvents.DATANODE_COMMAND,
+                new CommandForDatanode<>(dnId, new DeleteBlocksCommand(dnTXs)));

INS26 INS26 INS26 INS40 INS40 INS40 INS23 INS83 INS83 INS43 INS59 INS44 INS42 INS42 INS43 INS42 INS21 INS42 INS7 INS22 INS42 INS52 INS42 UPD42 INS42 INS40 INS14 INS74 INS42 MOV14 INS43 INS42 DEL42 DEL42