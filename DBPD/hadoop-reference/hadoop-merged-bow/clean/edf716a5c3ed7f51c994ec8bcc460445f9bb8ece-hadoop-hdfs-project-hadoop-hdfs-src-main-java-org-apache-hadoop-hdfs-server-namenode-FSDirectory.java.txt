Revert "HDFS-15372. Files in snapshots no longer see attribute provider permissions. Contributed by Stephen O'Donnell."

This reverts commit 730a39d1388548f22f76132a6734d61c24c3eb72.

+import java.lang.reflect.Method;
-      // Due to HDFS-15372 the attribute provider should received the resolved
-      // snapshot path. Ie, rather than seeing /d/.snapshot/sn/data it should
-      // see /d/data. However, for the path /d/.snapshot/sn it should see this
-      // full path. Node.getPathComponents always resolves the path to the
-      // original location, so we need to check if ".snapshot/sn" is the last
-      // path to ensure the provider receives the correct components.
-      byte[][] components;
-      if (iip.isSnapshot() && !iip.isDotSnapshotDirPrefix()) {
-        // For snapshot paths, node.getPathComponents unless the last component
-        // is like ".snapshot/sn"
-        components = node.getPathComponents();
-      } else {
-        components = iip.getPathComponents();
-      }
+      byte[][] components = iip.getPathComponents();

INS26 INS40 MOV32 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32 DEL38 DEL27 DEL42 DEL42 DEL42 DEL32 DEL7 DEL21 DEL8 DEL42 DEL7 DEL21 DEL8 DEL25