YARN-8776. Implement Container Exec feature in LinuxContainerExecutor. Contributed by Eric Yang

-import java.io.ByteArrayInputStream;
-import java.io.ByteArrayOutputStream;
-import java.io.InputStream;
-import java.io.OutputStream;
-import java.nio.charset.Charset;
-    // TODO: calls PrivilegedOperationExecutor and return IOStream pairs
-    InputStream in = null;
-    OutputStream out = null;
-    int byteSize = 4000;
+    IOStreamPair res;
-      in = new ByteArrayInputStream(
-          "This is input command".getBytes(Charset.forName("UTF-8")));
-      out = new ByteArrayOutputStream(byteSize);
-    } catch (IllegalArgumentException e) {
-      LOG.error("Failed to execute command to container runtime", e);
+      res = linuxContainerRuntime.execContainer(ctx);
+    } catch (ContainerExecutionException e) {
+      int retCode = e.getExitCode();
+      if (retCode != 0) {
+        return new IOStreamPair(null, null);
+      }
+      LOG.warn("Error in executing container interactive shell"
+          + ctx + " exit = " + retCode, e);
+      logOutput(e.getOutput());
+      throw new ContainerExecutionException(
+          "Error in executing container interactive shel" + ctx.getContainer()
+          .getContainerId().toString() + " exit = " + retCode);
-    IOStreamPair pair = new IOStreamPair(in, out);
-    System.out.println(pair);
-    return new IOStreamPair(in, out);
+    return res;

INS54 INS41 MOV43 MOV8 INS12 INS42 UPD42 MOV44 INS8 UPD43 INS60 INS25 MOV21 INS21 INS53 UPD42 INS32 UPD42 INS39 INS59 INS27 INS8 INS32 INS14 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 INS42 INS32 INS42 INS34 INS41 UPD42 INS27 INS42 INS32 INS43 INS27 INS42 INS42 INS14 INS45 INS42 INS45 INS42 INS42 INS42 INS42 INS45 INS32 INS45 INS42 MOV43 INS33 INS33 INS32 INS42 INS32 INS42 UPD42 MOV42 UPD42 MOV42 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL42 DEL43 DEL33 DEL42 DEL43 DEL45 DEL45 DEL32 DEL32 DEL14 DEL42 DEL42 DEL43 DEL42 DEL14 DEL7 DEL21 DEL45 DEL42 DEL43 DEL42 DEL33 DEL59 DEL60 DEL39 DEL42 DEL34 DEL59 DEL60 DEL8 DEL12 DEL54 DEL42 DEL42 DEL42 DEL14 DEL59 DEL60 DEL40 DEL32 DEL21 DEL42 DEL43 DEL42 DEL42 DEL14 DEL41