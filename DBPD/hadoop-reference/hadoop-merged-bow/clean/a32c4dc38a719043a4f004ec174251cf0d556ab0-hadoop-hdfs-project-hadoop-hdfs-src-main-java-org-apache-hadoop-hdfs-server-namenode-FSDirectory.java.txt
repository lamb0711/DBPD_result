HDFS-8122. Erasure Coding: Support specifying ECSchema during creation of ECZone. Contributed by Vinayakumar B.

+import org.apache.hadoop.io.erasurecode.ECSchema;
-
+  
-  XAttr createErasureCodingZone(String src)
+  XAttr createErasureCodingZone(String src, ECSchema schema)
-      return ecZoneManager.createErasureCodingZone(src);
+      return ecZoneManager.createErasureCodingZone(src, schema);
-  public boolean getECPolicy(INodesInPath iip) {
+  public boolean getECPolicy(INodesInPath iip) throws IOException {
+    return getECSchema(iip) != null;
+  }
+
+  ECSchema getECSchema(INodesInPath iip) throws IOException {
-      return ecZoneManager.getECPolicy(iip);
+      return ecZoneManager.getECSchema(iip);

INS26 INS40 INS31 INS44 INS83 INS39 INS42 INS44 INS43 INS8 INS43 UPD42 INS43 INS43 INS42 INS43 INS42 INS42 INS41 INS42 INS42 INS42 INS42 INS27 INS32 INS33 INS42 INS42 INS42 UPD42 DEL83 DEL39