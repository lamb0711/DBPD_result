MAPREDUCE-5208. Modified ShuffleHandler to use SecureIOUtils for reading local files. Contributed by Omkar Vinit Joshi.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1481657 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.File;
+import org.apache.hadoop.io.SecureIOUtils;
-    final FSDataInputStream in = rfs.open(indexFileName);
+    final FSDataInputStream in =
+        SecureIOUtils.openFSDataInputStream(new File(indexFileName.toUri()
+            .getRawPath()), expectedIndexOwner, null);
-
+        

INS26 INS26 INS40 INS40 UPD42 UPD42 INS14 INS42 INS33 INS43 INS32 INS42 INS32 INS42 MOV42 INS42