YARN-2392. Add more diags about app retry limits on AM failures. Contributed by Steve Loughran

-      msg = "Application " + this.getApplicationId() + " failed "
-              + this.maxAppAttempts + " times due to "
-              + failedEvent.getDiagnostics() + ". Failing the application.";
+      int globalLimit = conf.getInt(YarnConfiguration.RM_AM_MAX_ATTEMPTS,
+          YarnConfiguration.DEFAULT_RM_AM_MAX_ATTEMPTS);
+      msg = String.format(
+        "Application %s failed %d times%s%s due to %s. Failing the application.",
+          getApplicationId(),
+          maxAppAttempts,
+          (attemptFailuresValidityInterval <= 0 ? ""
+               : (" in previous " + attemptFailuresValidityInterval
+                  + " milliseconds")),
+          (globalLimit == maxAppAttempts) ? ""
+              : (" (global limit =" + globalLimit
+                 + "; local limit is =" + maxAppAttempts + ")"),
+          failedEvent.getDiagnostics());

INS60 INS39 INS59 INS42 INS32 INS32 INS42 INS42 INS40 INS40 INS42 INS42 INS45 INS32 INS42 INS36 INS16 MOV32 MOV42 INS16 INS36 INS45 INS36 INS27 INS45 INS36 INS27 INS27 INS42 INS34 INS27 INS42 INS42 INS45 INS42 INS45 INS42 UPD45 MOV45 UPD45 MOV45 INS42 INS45 DEL45 DEL52 DEL32 DEL52 DEL42 DEL22 DEL45 DEL27