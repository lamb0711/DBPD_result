HDFS-8367 BlockInfoStriped uses EC schema. Contributed by Kai Sasaki

+import org.apache.hadoop.io.erasurecode.ECSchema;
+    // TODO: ECSchema can be restored from persisted file (HDFS-7859).
+    final ECSchema schema = isStriped ?
+        ErasureCodingSchemaManager.getSystemDefaultSchema() : null;
-          blocks[j] = new BlockInfoStriped(new Block(),
-              HdfsConstants.NUM_DATA_BLOCKS, HdfsConstants.NUM_PARITY_BLOCKS);
+          blocks[j] = new BlockInfoStriped(new Block(), schema);
-                                lastStripedBlk.getDataBlockNum(),
-                                lastStripedBlk.getParityBlockNum());
+                                lastStripedBlk.getSchema());

INS26 INS40 INS60 INS83 INS43 INS59 INS42 INS42 INS16 INS42 INS32 INS33 INS42 INS42 INS42 UPD42 DEL40 DEL40 DEL42 DEL42 DEL32