HDFS-2108. Move datanode heartbeat handling from namenode package to blockmanagement package.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1154042 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.util.CyclicIteration;
-  private final BlockManager blockManager;
-  DecommissionManager(FSNamesystem namesystem) {
+  DecommissionManager(final FSNamesystem namesystem) {
-    this.blockManager = fsnamesystem.getBlockManager();
+      final DatanodeManager dm = fsnamesystem.getBlockManager().getDatanodeManager();
-          : blockManager.getDatanodeManager().getDatanodeCyclicIteration(
-              firstkey)) {
+          : dm.getDatanodeCyclicIteration(firstkey)) {
-            blockManager.checkDecommissionStateInternal(d);
+            dm.checkDecommissionState(d);

INS83 INS60 INS83 INS43 INS59 INS42 INS42 INS32 UPD42 MOV42 MOV32 INS42 UPD42 UPD42 DEL40 DEL26 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL52 DEL42 DEL22 DEL7 DEL21 DEL42 DEL32