MAPREDUCE-5270. Migrated MR app from using BuilderUtil factory methods to individual record factory methods. Contributed by Jian He.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1486271 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.util.BuilderUtils;
-import com.google.common.base.Charsets;
-
-        localResources.put(
-            linkName,
-            BuilderUtils.newLocalResource(
-                p.toUri(), type, 
-                visibilities[i]
-                  ? LocalResourceVisibility.PUBLIC
-                  : LocalResourceVisibility.PRIVATE,
-                sizes[i], timestamps[i])
-        );
+        localResources.put(linkName, LocalResource.newInstance(ConverterUtils
+          .getYarnUrlFromURI(p.toUri()), type, visibilities[i]
+            ? LocalResourceVisibility.PUBLIC : LocalResourceVisibility.PRIVATE,
+          sizes[i], timestamps[i]));

INS42 INS42 INS32 UPD42 MOV42 UPD42 MOV42 MOV32 DEL40 DEL26 DEL40 DEL26