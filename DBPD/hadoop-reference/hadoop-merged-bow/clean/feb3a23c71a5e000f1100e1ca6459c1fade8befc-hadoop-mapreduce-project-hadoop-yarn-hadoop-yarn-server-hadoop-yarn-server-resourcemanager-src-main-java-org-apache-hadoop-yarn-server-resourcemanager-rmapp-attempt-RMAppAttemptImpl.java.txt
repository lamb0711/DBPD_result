MAPREDUCE-3387. Fixed AM's tracking URL to always go through the proxy, even before the job started, so that it works properly with oozie throughout the job execution. Contributed by Robert Joseph Evans.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1215345 13f79535-47bb-0310-9956-ffa450edef68

+    this.proxiedTrackingUrl = generateProxyUriWithoutScheme();
+    
+  private String generateProxyUriWithoutScheme() {
+    return generateProxyUriWithoutScheme(null);
+  }
+  
-      URI trackingUri = ProxyUriUtils.getUriFromAMUrl(trackingUriWithoutScheme);
+      URI trackingUri = trackingUriWithoutScheme == null ? null : 
+        ProxyUriUtils.getUriFromAMUrl(trackingUriWithoutScheme);

INS31 INS83 INS43 INS42 INS8 INS21 INS42 INS41 INS7 INS32 INS22 INS32 INS42 INS33 INS52 INS42 INS42 INS16 INS27 INS33 MOV32 INS42 INS33