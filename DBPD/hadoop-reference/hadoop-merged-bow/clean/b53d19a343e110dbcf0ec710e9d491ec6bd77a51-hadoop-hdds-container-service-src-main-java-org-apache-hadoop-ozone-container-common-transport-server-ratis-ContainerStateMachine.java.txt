HDDS-1783 : Latency metric for applyTransaction in ContainerStateMachine (#1363).



-      ContainerCommandRequestProto requestProto, long entryIndex, long term) {
+      ContainerCommandRequestProto requestProto, long entryIndex, long term,
+      long startTime) {
+        metrics.recordWriteStateMachineCompletion(
+            Time.monotonicNowNanos() - startTime);
+      long writeStateMachineStartTime = Time.monotonicNowNanos();
-            entry.getTerm());
+            entry.getTerm(), writeStateMachineStartTime);
+    long applyTxnStartTime = Time.monotonicNowNanos();
-      }).whenComplete((r, t) -> applyTransactionSemaphore.release());
+      }).whenComplete((r, t) ->  {
+        applyTransactionSemaphore.release();
+        metrics.recordApplyTransactionCompletion(
+            Time.monotonicNowNanos() - applyTxnStartTime);
+      });

INS44 INS39 INS42 INS60 INS39 INS59 INS60 INS42 INS32 INS39 INS59 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS8 INS21 INS21 INS21 INS32 MOV32 INS32 INS42 INS42 INS27 INS42 INS42 INS27 INS32 INS42 INS32 INS42 INS42 INS42 INS42 INS42