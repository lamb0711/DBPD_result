YARN-6115. Few additional paths in Slider client still uses get all Applications without tags/states filter. Contributed by Gour Saha

+import java.util.EnumSet;
-   * Find an instance of a application belong to the current user
+   * Find an instance of a application belong to the current user.
-    List<ApplicationReport> instances = listInstances(null, appname);
+    return findInstance(appname, null);
+  }
+
+  /**
+   * Find an instance of a application belong to the current user in specific
+   * app states.
+   * @param appname application name
+   * @param appStates list of states in which application should be in
+   * @return the app report or null if none is found
+   * @throws YarnException YARN issues
+   * @throws IOException IO problems
+   */
+  public ApplicationReport findInstance(String appname,
+      EnumSet<YarnApplicationState> appStates)
+      throws YarnException, IOException {
+    List<ApplicationReport> instances = listInstances(null, appname, appStates);
-   * List all instances belonging to a specific user and a specific appname.
+   * List all instances belonging to a specific user with a specific app name.
-   * @param appname
+   * @param appName
-  public List<ApplicationReport> listInstances(String user, String appname)
+  public List<ApplicationReport> listInstances(String user, String appName)
+    return listInstances(user, appName, null);
+  }
+
+  /**
+   * List all instances belonging to a specific user, with a specific app name
+   * and in specific app states.
+   *
+   * @param user
+   *          user if not the default. null means default, "" means all users,
+   *          otherwise it is the name of a user
+   * @param appName
+   *          application name set as an application tag
+   * @param appStates
+   *          a set of application states within which the app should be in
+   * @return a possibly empty list of AMs
+   * @throws YarnException
+   * @throws IOException
+   */
+  public List<ApplicationReport> listInstances(String user, String appName,
+      EnumSet<YarnApplicationState> appStates)
+      throws YarnException, IOException {
+    log.debug("listInstances called with user: {}, appName: {}, appStates: {}",
+        user, appName, appStates);
-    return yarnClient.listDeployedInstances(listUser, null, appname);
+    return yarnClient.listDeployedInstances(listUser, appStates, appName);

INS26 INS40 INS31 INS31 MOV29 INS83 INS43 INS42 MOV44 INS43 INS43 INS8 INS29 INS44 MOV29 INS83 INS74 INS42 INS44 INS44 INS43 INS43 INS8 INS29 INS44 INS44 INS42 INS42 INS42 INS41 INS65 INS65 INS65 INS65 INS65 INS65 INS74 INS42 INS43 INS43 INS43 INS42 INS43 INS42 INS42 INS42 INS41 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS43 INS42 INS74 INS42 INS21 UPD66 INS32 INS66 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS42 INS66 INS43 INS43 UPD66 UPD42 INS42 INS42 INS42 INS42 INS32 INS66 INS66 INS42 INS66 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS42 INS42 INS43 INS43 INS32 INS42 INS42 INS33 INS42 INS42 INS42 INS42 INS42 INS33 INS42 INS42 INS42 INS42 INS45 INS42 INS42 INS42 INS42 UPD42 INS42 DEL33