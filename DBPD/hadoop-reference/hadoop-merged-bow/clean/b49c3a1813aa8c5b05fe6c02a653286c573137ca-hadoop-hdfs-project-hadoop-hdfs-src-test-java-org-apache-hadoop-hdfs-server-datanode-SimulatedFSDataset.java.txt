HDFS-7722. DataNode#checkDiskError should also remove Storage when error is found. (Lei Xu via Colin P. McCabe)

+import java.util.Set;
-  public void checkDataDir() throws DiskErrorException {
+  public Set<File> checkDataDir() {
+    return null;
-  public synchronized void removeVolumes(Collection<StorageLocation> volumes) {
+  public synchronized void removeVolumes(Set<File> volumes, boolean clearFailure) {

INS26 INS40 INS74 INS42 INS44 INS43 INS43 INS41 UPD74 INS39 INS42 INS42 UPD42 MOV42 INS33 UPD43 UPD43 UPD42 UPD42 DEL39 DEL42 DEL43