HDFS-5141. Add cache status information to datanode heartbeat. (Contributed by Andrew Wang)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1519101 13f79535-47bb-0310-9956-ffa450edef68

-    this(nodeID, 0L, 0L, 0L, 0L, 0, 0);
+    this(nodeID, 0L, 0L, 0L, 0L, 0L, 0L, 0, 0);
-    this(nodeID, networkLocation, 0L, 0L, 0L, 0L, 0, 0);
+    this(nodeID, networkLocation, 0L, 0L, 0L, 0L, 0L, 0L, 0, 0);
+   * @param cacheCapacity cache capacity of the data node
+   * @param cacheUsed cache used on the data node
+                            long cacheCapacity,
+                            long cacheUsed,
-    updateHeartbeat(capacity, dfsUsed, remaining, bpused, xceiverCount, 
-        failedVolumes);
+    updateHeartbeat(capacity, dfsUsed, remaining, bpused, cacheCapacity,
+        cacheUsed, xceiverCount, failedVolumes);
+   * @param cacheCapacity cache capacity of the data node
+   * @param cacheUsed cache used on the data node
+                            long cacheCapacity,
+                            long cacheUsed,
-    updateHeartbeat(capacity, dfsUsed, remaining, bpused, xceiverCount, 
-        failedVolumes);
+    updateHeartbeat(capacity, dfsUsed, remaining, bpused, cacheCapacity,
+        cacheUsed, xceiverCount, failedVolumes);
-      long blockPoolUsed, int xceiverCount, int volFailures) {
+      long blockPoolUsed, long cacheCapacity, long cacheUsed, int xceiverCount,
+      int volFailures) {
+    setCacheCapacity(cacheCapacity);
+    setCacheUsed(cacheUsed);

INS44 INS44 INS44 INS44 INS44 INS44 INS65 INS65 INS39 INS42 INS39 INS42 INS65 INS65 INS39 INS42 INS39 INS42 INS39 INS42 INS39 INS42 INS21 INS21 INS34 INS34 INS34 INS34 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS32 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42