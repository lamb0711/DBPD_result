HADOOP-16531. Log more timing information for slow RPCs. Contributed by Chen Zhang.

-   * @param processingTime - Processing Time.
+   * @param details - Processing Detail.
-  void logSlowRpcCalls(String methodName, Call call, long processingTime) {
+  void logSlowRpcCalls(String methodName, Call call,
+      ProcessingDetails details) {
+    long processingTime =
+            details.get(Timing.PROCESSING, RpcMetrics.TIMEUNIT);
-      LOG.warn("Slow RPC : {} took {} {} to process from client {}",
-          methodName, processingTime, RpcMetrics.TIMEUNIT, call);
+      LOG.warn(
+          "Slow RPC : {} took {} {} to process from client {},"
+              + " the processing detail is {}",
+          methodName, processingTime, RpcMetrics.TIMEUNIT, call,
+          details.toString());
-      logSlowRpcCalls(name, call, processingTime);
+      logSlowRpcCalls(name, call, details);

INS43 INS42 INS60 UPD42 UPD66 INS42 INS39 INS59 INS42 INS32 INS42 INS42 INS40 INS40 INS27 INS32 UPD42 INS45 INS45 INS42 INS42 DEL39 DEL42 DEL45