HDFS-7944. Minor cleanup of BlockPoolManager#getAllNamenodeThreads. (Arpit Agarwal)

-  BPOfferService[] getAllBpOs() {
+  List<BPOfferService> getAllBpOs() {
-    return blockPoolManager.getAllNamenodeThreads().length;
+    return blockPoolManager.getAllNamenodeThreads().size();
-    // We need to make a copy of the original blockPoolManager#offerServices to
-    // make sure blockPoolManager#shutDownAll() can still access all the 
-    // BPOfferServices, since after setting DataNode#shouldRun to false the 
-    // offerServices may be modified.
-    BPOfferService[] bposArray = this.blockPoolManager == null ? null
+    List<BPOfferService> bposArray = (this.blockPoolManager == null)
+        ? new ArrayList<BPOfferService>()
-        if (blockPoolManager.getAllNamenodeThreads() != null
-            && blockPoolManager.getAllNamenodeThreads().length == 0) {
+        if (blockPoolManager.getAllNamenodeThreads().size() == 0) {

INS74 INS43 MOV43 INS42 INS32 INS74 MOV32 INS42 INS43 MOV43 INS42 INS36 INS14 MOV27 INS74 INS43 INS43 MOV27 INS42 INS42 INS32 MOV32 INS42 DEL85 DEL5 DEL42 DEL22 DEL85 DEL5 DEL33 DEL42 DEL22 DEL42 DEL42 DEL32 DEL33 DEL27 DEL27