HDFS-15016. RBF: getDatanodeReport() should return the latest update. Contributed by Inigo Goiri.

-        if (!datanodesMap.containsKey(nodeId)) {
+        DatanodeInfo dn = datanodesMap.get(nodeId);
+        if (dn == null || node.getLastUpdate() > dn.getLastUpdate()) {

INS60 INS43 INS59 INS27 INS42 INS42 INS32 INS27 INS27 INS42 INS42 INS42 INS42 INS33 INS32 INS32 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 INS42 DEL32 DEL38