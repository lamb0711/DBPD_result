Revert "HDFS-10923. Make InstrumentedLock require ReentrantLock."

This reverts commit c7ce6fdc20fe053f0bb3bcf900ffc0e1db6feee5.

- * whether a specific lock is being held for too long and periodically
+ * whether a specifc lock is being held for too long and periodically
-public class InstrumentedReentrantLock implements Lock {
+public class InstrumentedLock implements Lock {
-  @VisibleForTesting
-  final ReentrantLock lock;
+  private final Lock lock;
-  public InstrumentedReentrantLock(
-      String name, Log logger, long minLoggingGapMs,
+  public InstrumentedLock(String name, Log logger, long minLoggingGapMs,
-  public InstrumentedReentrantLock(
-      String name, Log logger, ReentrantLock lock,
+  public InstrumentedLock(String name, Log logger, Lock lock,
-  InstrumentedReentrantLock(
-      String name, Log logger, ReentrantLock lock,
+  InstrumentedLock(String name, Log logger, Lock lock,
-    if (lock.getHoldCount() == 1) {
-      lockAcquireTimestamp = clock.monotonicNow();
-    }
+    lockAcquireTimestamp = clock.monotonicNow();
-    if (lock.getHoldCount() == 1) {
-      lockAcquireTimestamp = clock.monotonicNow();
-    }
+    lockAcquireTimestamp = clock.monotonicNow();
-    if (lock.tryLock() && lock.getHoldCount() == 1) {
+    if (lock.tryLock()) {
-    if (lock.tryLock(time, unit) && lock.getHoldCount() == 1) {
+    if (lock.tryLock(time, unit)) {
-    final boolean needReport = (lock.getHoldCount() == 1);
-    if (needReport) {
-      check(localLockAcquireTime, localLockReleaseTime);
-    }
+    check(localLockAcquireTime, localLockReleaseTime);
+

UPD42 INS83 UPD43 UPD42 UPD42 UPD42 MOV8 MOV8 UPD66 UPD42 UPD43 UPD43 MOV21 MOV21 MOV21 UPD42 UPD42 MOV32 MOV32 DEL42 DEL78 DEL42 DEL42 DEL32 DEL34 DEL27 DEL25 DEL8 DEL42 DEL42 DEL32 DEL34 DEL27 DEL25 DEL8 DEL42 DEL42 DEL32 DEL34 DEL27 DEL27 DEL42 DEL42 DEL32 DEL34 DEL27 DEL27 DEL83 DEL39 DEL42 DEL42 DEL42 DEL32 DEL34 DEL27 DEL36 DEL59 DEL60 DEL42 DEL8 DEL25