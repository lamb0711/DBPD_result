HDFS-7128. Decommission slows way down when it gets towards the end. Contributed by Ming Ma.

+  // The number of replication work pending before targets are determined
+  private int PendingReplicationWithoutTargets = 0;
+
+  void incrementPendingReplicationWithoutTargets() {
+    PendingReplicationWithoutTargets++;
+  }
+
+  void decrementPendingReplicationWithoutTargets() {
+    PendingReplicationWithoutTargets--;
+  }
+
-  
+
-    return replicateBlocks.size();
+    return PendingReplicationWithoutTargets + replicateBlocks.size();

INS23 INS31 INS31 INS83 INS39 INS59 INS39 INS42 INS8 INS39 INS42 INS8 INS42 INS34 INS21 INS21 INS37 INS37 INS27 INS42 INS42 INS42 MOV32