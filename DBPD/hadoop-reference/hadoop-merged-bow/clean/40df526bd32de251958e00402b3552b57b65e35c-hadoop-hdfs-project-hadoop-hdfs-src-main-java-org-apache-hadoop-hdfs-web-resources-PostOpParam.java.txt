Merge r1440222 through r1441205 from trunk.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1441206 13f79535-47bb-0310-9956-ffa450edef68

-    APPEND(HttpURLConnection.HTTP_OK),
+    APPEND(true, HttpURLConnection.HTTP_OK),
-    NULL(HttpURLConnection.HTTP_NOT_IMPLEMENTED);
+    CONCAT(false, HttpURLConnection.HTTP_OK),
+    NULL(false, HttpURLConnection.HTTP_NOT_IMPLEMENTED);
+
+    final boolean doOutputAndRedirect;
-    Op(final int expectedHttpResponseCode) {
+    Op(final boolean doOutputAndRedirect, final int expectedHttpResponseCode) {
+      this.doOutputAndRedirect = doOutputAndRedirect;
-      return true;
+      return doOutputAndRedirect;
-      return true;
+      return doOutputAndRedirect;

INS72 INS23 INS9 INS42 INS9 INS40 INS9 INS83 INS39 INS59 INS44 MOV78 MOV78 INS42 INS83 INS39 INS42 INS21 INS7 INS42 INS42 INS22 INS42 INS52 INS42 DEL9 DEL9