HDFS-11424. Block Storage: add container representation to meta data. Contributed Chen Liang.

-import org.apache.hadoop.cblock.storage.IStorageClient;
+import org.apache.hadoop.scm.client.ScmClient;
+import org.apache.hadoop.ozone.OzoneConfiguration;
-  public CBlockManager(CBlockConfiguration conf, IStorageClient storageClient
-  ) throws IOException {
-    storageManager = new StorageManager(storageClient);
+  public CBlockManager(OzoneConfiguration conf,
+      ScmClient storageClient) throws IOException {
+    storageManager = new StorageManager(storageClient, conf);
-  private static RPC.Server startRpcServer(CBlockConfiguration conf,
+  private static RPC.Server startRpcServer(OzoneConfiguration conf,
-        "volumeSize: {} blockSize: {}", userName, volumeName,
+            "volumeSize: {} blockSize: {}", userName, volumeName,
+  public synchronized List<VolumeDescriptor> getAllVolumes(String userName) {
+    return storageManager.getAllVolume(userName);
+  }
+

INS26 UPD40 INS40 INS31 INS83 INS83 INS74 INS42 INS44 INS8 UPD43 UPD43 UPD43 INS43 INS43 INS43 INS42 INS41 UPD42 UPD42 UPD42 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS42