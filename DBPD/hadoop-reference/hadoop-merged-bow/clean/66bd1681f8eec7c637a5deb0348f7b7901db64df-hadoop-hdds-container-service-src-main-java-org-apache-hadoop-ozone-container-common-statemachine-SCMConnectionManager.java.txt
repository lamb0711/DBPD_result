HDDS-2107. Datanodes should retry forever to connect to SCM in an unsecure environment (#1424)


+import org.apache.hadoop.io.retry.RetryPolicies;
+import org.apache.hadoop.io.retry.RetryPolicy;
+import java.util.concurrent.TimeUnit;
-      StorageContainerDatanodeProtocolPB rpcProxy = RPC.getProxy(
+      RetryPolicy retryPolicy =
+          RetryPolicies.retryForeverWithFixedSleep(
+              1000, TimeUnit.MILLISECONDS);
+      StorageContainerDatanodeProtocolPB rpcProxy = RPC.getProtocolProxy(
-          NetUtils.getDefaultSocketFactory(conf), getRpcTimeout());
+          NetUtils.getDefaultSocketFactory(conf), getRpcTimeout(),
+          retryPolicy).getProxy();

INS26 INS26 INS26 INS40 INS40 INS40 INS60 INS43 INS59 INS42 INS42 INS32 INS32 INS42 INS42 INS34 INS40 MOV32 INS42 UPD42 INS42