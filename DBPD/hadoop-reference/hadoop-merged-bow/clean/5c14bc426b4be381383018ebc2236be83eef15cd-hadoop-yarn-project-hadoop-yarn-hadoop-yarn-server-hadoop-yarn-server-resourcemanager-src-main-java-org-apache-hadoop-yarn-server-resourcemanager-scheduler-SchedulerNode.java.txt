YARN-1506. Changed RMNode/SchedulerNode to update resource with event notification. Contributed by Junping Du

+   * Set total resources on the node.
+   * @param resource total resources on the node.
+   */
+  public synchronized void setTotalResource(Resource resource){
+    this.totalResourceCapability = resource;
+    this.availableResource = Resources.subtract(totalResourceCapability,
+      this.usedResource);
+  }
+  
+  /**
-  public Resource getTotalResource() {
+  public synchronized Resource getTotalResource() {
-  /**
-   * Apply delta resource on node's available resource.
-   * 
-   * @param deltaResource
-   *          the delta of resource need to apply to node
-   */
-  public synchronized void
-      applyDeltaOnAvailableResource(Resource deltaResource) {
-    // we can only adjust available resource if total resource is changed.
-    Resources.addTo(this.availableResource, deltaResource);
-  }
-
-

MOV31 UPD42 INS83 UPD42 INS21 UPD66 UPD42 UPD66 INS7 INS7 INS22 INS42 MOV22 INS32 INS52 INS42 MOV42 UPD42 MOV42 INS42 INS22 INS52 INS42 DEL42 DEL32