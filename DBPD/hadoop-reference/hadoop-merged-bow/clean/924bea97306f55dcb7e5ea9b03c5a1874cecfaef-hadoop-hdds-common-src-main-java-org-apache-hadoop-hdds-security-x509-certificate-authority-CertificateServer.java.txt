HDDS-102. SCM CA: SCM CA server signs certificate for approved CSR. Contributed by Anu Engineer.

-import org.apache.hadoop.hdds.security.x509.certificates.utils.CertificateSignRequest;
+import org.bouncycastle.pkcs.PKCS10CertificationRequest;
-   * @throws IOException - on Error.
+   * @throws IOException          - on Error.
-   * @param csr - Certificate Signing Request.
-   * @param approver - An Enum which says what kind of approval process to
-   * follow.
+   * @param csr  - Certificate Signing Request.
+   * @param type - An Enum which says what kind of approval process to follow.
-  Future<X509CertificateHolder> requestCertificate(CertificateSignRequest csr,
-      CertificateApprover approver) throws SCMSecurityException;
+  Future<X509CertificateHolder>
+      requestCertificate(PKCS10CertificationRequest csr, CertificateApprover.ApprovalType type)
+      throws SCMSecurityException;
+
+
+  /**
+   * Request a Certificate based on Certificate Signing Request.
+   *
+   * @param csr - Certificate Signing Request as a PEM encoded String.
+   * @param type - An Enum which says what kind of approval process to follow.
+   * @return A future that will have this certificate when this request is
+   * approved.
+   * @throws SCMSecurityException - on Error.
+   */
+  Future<X509CertificateHolder>
+      requestCertificate(String csr, CertificateApprover.ApprovalType type)
+      throws IOException;
+
+
-      CertificateApprover approver) throws SCMSecurityException;
+      CertificateApprover.ApprovalType approver) throws SCMSecurityException;
-  /**
-   * Approval Types for a certificate request.
-   */
-  enum CertificateApprover {
-    KERBEROS_TRUSTED, /* The Request came from a DN using Kerberos Identity*/
-    MANUAL, /* Wait for a Human being to approve this certificate */
-    TESTING_AUTOMATIC /* For testing purpose, Automatic Approval. */
-  }

MOV26 UPD40 INS31 INS29 INS74 INS42 INS44 INS44 INS43 UPD43 UPD43 UPD42 MOV65 INS65 INS65 INS65 INS65 INS43 INS43 INS43 INS42 INS43 INS42 INS42 UPD43 UPD66 UPD66 UPD42 UPD66 UPD42 INS40 UPD66 INS42 INS66 INS42 INS66 INS66 INS66 INS42 INS66 INS42 INS42 INS42 INS40 INS40 DEL66 DEL42 DEL42 DEL29 DEL42 DEL42 DEL72 DEL42 DEL72 DEL42 DEL72 DEL71