HDDS-440. Datanode loops forever if it cannot create directories.
Contributed by Bharat Viswanadham.

-  private void persistContainerDatanodeDetails() throws IOException {
+  private void persistContainerDatanodeDetails() {
-      ContainerUtils.writeDatanodeDetailsTo(datanodeDetails, idPath);
+      try {
+        ContainerUtils.writeDatanodeDetailsTo(datanodeDetails, idPath);
+      } catch (IOException ex) {
+        // As writing DatanodeDetails in to datanodeid file failed, which is
+        // a critical thing, so shutting down the state machine.
+        LOG.error("Writing to {} failed {}", dataNodeIDPath, ex.getMessage());
+        this.context.setState(DatanodeStateMachine.DatanodeStates.SHUTDOWN);
+        return;
+      }

INS8 INS54 MOV21 MOV8 INS12 INS44 INS8 MOV43 INS42 INS21 INS21 INS41 INS32 INS32 INS42 INS42 INS45 INS42 INS32 INS22 INS42 INS40 INS42 INS42 INS52 INS42