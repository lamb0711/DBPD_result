Merge trunk into auto-HA branch


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-3042@1337645 13f79535-47bb-0310-9956-ffa450edef68

-    argv_ = argv;
+    argv_ = Arrays.copyOf(argv, argv.length);
-      this.argv_ = args;
+      this.argv_ = Arrays.copyOf(args, args.length);
-        String fileList = null;
+        StringBuffer fileList = new StringBuffer();
-            fileList = fileList == null ? finalPath : fileList + "," + finalPath;
+            if(fileList.length() > 0) {
+              fileList.append(',');
+            }
+            fileList.append(finalPath);
-        config_.set("tmpfiles", config_.get("tmpfiles", "") +
-                                  (fileList == null ? "" : fileList));
+        config_.set("tmpfiles", config_.get("tmpfiles", "") + fileList);

INS32 INS42 INS42 INS42 INS40 INS32 INS42 INS42 INS42 INS40 UPD43 UPD42 INS14 INS43 MOV42 INS42 INS25 INS21 INS27 INS8 INS32 INS32 INS34 INS21 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS13 DEL42 DEL42 DEL33 DEL42 DEL42 DEL33 DEL27 DEL42 DEL42 DEL45 DEL42 DEL27 DEL16 DEL7 DEL21 DEL33 DEL27 DEL45 DEL42 DEL16 DEL36