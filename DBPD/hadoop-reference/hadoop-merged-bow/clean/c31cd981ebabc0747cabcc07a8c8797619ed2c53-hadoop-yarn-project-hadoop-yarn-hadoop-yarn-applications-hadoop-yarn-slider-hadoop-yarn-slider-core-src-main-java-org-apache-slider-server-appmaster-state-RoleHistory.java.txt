YARN-6255. Refactor yarn-native-services framework. Contributed by Jian He

-  /**
-   * Register all metrics with the metrics infra
-   * @param metrics metrics
-   */
-  public void register(MetricsAndMonitoring metrics) {
-    metrics.register(RoleHistory.class, dirty, "dirty");
-    metrics.register(RoleHistory.class, nodesUpdatedTime, "nodes-updated.time");
-    metrics.register(RoleHistory.class, nodeUpdateReceived, "nodes-updated.flag");
-    metrics.register(RoleHistory.class, thawedDataTime, "thawed.time");
-    metrics.register(RoleHistory.class, saveTime, "saved.time");
-  }
-    long pending = role.getPendingAntiAffineRequests();
+    long pending = role.getAAPending();
-      role.setPendingAntiAffineRequests(pending - pendingToCancel);
+      role.setAAPending(pending - pendingToCancel);

UPD42 UPD42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL43 DEL57 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL43 DEL57 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL43 DEL57 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL43 DEL57 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL43 DEL57 DEL42 DEL45 DEL32 DEL21 DEL8 DEL31