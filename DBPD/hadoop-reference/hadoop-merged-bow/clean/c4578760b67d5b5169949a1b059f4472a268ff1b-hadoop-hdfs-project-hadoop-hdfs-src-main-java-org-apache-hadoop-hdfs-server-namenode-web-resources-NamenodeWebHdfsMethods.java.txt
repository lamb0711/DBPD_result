HDFS-8290. WebHDFS calls before namesystem initialization can cause NullPointerException. Contributed by Chris Nauroth.

+import org.apache.hadoop.hdfs.server.namenode.FSNamesystem;
-    final BlockManager bm = namenode.getNamesystem().getBlockManager();
+    FSNamesystem fsn = namenode.getNamesystem();
+    if (fsn == null) {
+      throw new IOException("Namesystem has not been intialized yet.");
+    }
+    final BlockManager bm = fsn.getBlockManager();

INS26 INS40 INS25 INS60 INS43 INS27 INS8 INS83 MOV43 INS59 INS42 UPD42 MOV32 INS42 INS33 INS53 INS42 INS32 INS14 INS42 INS42 INS43 INS45 INS42 DEL83 DEL42 DEL32