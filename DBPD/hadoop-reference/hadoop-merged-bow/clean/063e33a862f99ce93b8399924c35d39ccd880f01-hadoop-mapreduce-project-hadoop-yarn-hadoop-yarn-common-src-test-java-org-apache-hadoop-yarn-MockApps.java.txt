MAPREDUCE-3098. Fixed RM and MR AM to report YarnApplicationState and application's FinalStatus separately. Contributed by Hitesh Shah.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1177633 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.api.records.ApplicationState;
+import org.apache.hadoop.yarn.api.records.FinalApplicationStatus;
+import org.apache.hadoop.yarn.api.records.YarnApplicationState;
-  static final Iterator<ApplicationState> STATES = Iterators.cycle(
-      ApplicationState.values());
+  static final Iterator<YarnApplicationState> STATES = Iterators.cycle(
+      YarnApplicationState.values());
-    final ApplicationState state = newAppState();
+    final YarnApplicationState state = newAppState();
+    final FinalApplicationStatus finishState = FinalApplicationStatus.UNDEFINED;
-      @Override public ApplicationState getState() { return state; }
+      @Override public YarnApplicationState getYarnApplicationState() { return state; }
-      @Override
+      @Override public FinalApplicationStatus getFinalApplicationStatus() { return finishState; }
-        
+
-        
+
-        
+
-        
+
-      public void setState(ApplicationState state) {
+      public void setYarnApplicationState(YarnApplicationState state) {
-        
+
-        
+
-        
+
-        
+
-        
+
-        
+
-      
-        
+
+      }
+      @Override
+      public void setFinalApplicationStatus(FinalApplicationStatus finishState) {
+		// TODO Auto-generated method stub
-  public static ApplicationState newAppState() {
+  public static YarnApplicationState newAppState() {
+

INS26 INS40 UPD40 UPD74 UPD43 UPD43 INS60 UPD42 UPD42 UPD43 INS83 INS43 INS59 UPD42 UPD42 INS42 INS42 INS40 INS31 INS31 UPD43 UPD42 MOV78 INS83 INS43 INS42 INS8 UPD42 INS78 INS83 INS39 INS42 INS44 INS8 UPD42 INS42 INS41 UPD43 INS42 INS43 INS42 INS42 UPD42 INS42