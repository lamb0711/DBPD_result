HDFS-7210. Avoid two separate RPC's namenode.append() and namenode.getFileInfo() for an append call from DFSClient. (Vinayakumar B via umamahesh)

+import org.apache.hadoop.hdfs.protocol.LastBlockWithStatus;
-  LocatedBlock appendFile(
+  LastBlockWithStatus appendFile(
-  private LocatedBlock appendFileInt(final String srcArg, String holder,
+  private LastBlockWithStatus appendFileInt(final String srcArg, String holder,
+    HdfsFileStatus stat = null;
+      stat = dir.getFileInfo(src, false, FSDirectory.isReservedRawName(srcArg),
+          true);
-    return lb;
+    return new LastBlockWithStatus(lb, stat);

INS26 INS40 UPD43 UPD43 UPD42 UPD42 INS60 INS43 INS59 INS14 INS42 INS42 INS33 INS21 INS43 INS42 INS42 INS7 INS42 INS42 INS32 INS42 INS42 INS42 INS9 INS32 INS9 INS42 INS42 INS42 DEL42