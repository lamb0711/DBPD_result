Merge branch 'trunk' into HDFS-6584

-import java.util.concurrent.atomic.AtomicInteger;
+import java.util.concurrent.atomic.AtomicLong;
-  private final AtomicInteger containerIdCounter;
-  private final int EPOCH_BIT_MASK = 0x3ff;
-  private final int EPOCH_BIT_SHIFT = 22;
+  private final AtomicLong containerIdCounter;
+  private final int EPOCH_BIT_SHIFT = 40;
-      int epoch) {
+      long epoch) {
-    this.containerIdCounter = new AtomicInteger(
-        (epoch & EPOCH_BIT_MASK) << EPOCH_BIT_SHIFT);
+    this.containerIdCounter = new AtomicLong(epoch << EPOCH_BIT_SHIFT);
-  public int getNewContainerId() {
+  public long getNewContainerId() {

UPD40 UPD43 UPD39 UPD42 UPD34 UPD39 UPD43 UPD42 MOV42 DEL83 DEL83 DEL39 DEL42 DEL34 DEL59 DEL23 DEL42 DEL27 DEL36