HDFS-10458. getFileEncryptionInfo should return quickly for non-encrypted cluster.

-  private final TreeMap<Long, EncryptionZoneInt> encryptionZones;
+  private TreeMap<Long, EncryptionZoneInt> encryptionZones = null;
-    encryptionZones = new TreeMap<Long, EncryptionZoneInt>();
+    if (encryptionZones == null) {
+      encryptionZones = new TreeMap<>();
+    }
-    encryptionZones.remove(inodeId);
+    if (hasCreatedEncryptionZone()) {
+      encryptionZones.remove(inodeId);
+    }
+    if (!hasCreatedEncryptionZone()) {
+      return null;
+    }
-    if (encryptionZones.get(srcINode.getId()) != null) {
+    if (hasCreatedEncryptionZone() && encryptionZones.
+        get(srcINode.getId()) != null) {
+    if (!hasCreatedEncryptionZone()) {
+      return new BatchedListEntries<EncryptionZone>(Lists.newArrayList(), false);
+    }
-    return encryptionZones.size();
+    return hasCreatedEncryptionZone() ?
+        encryptionZones.size() : 0;
+  }
+
+  /**
+   * @return Whether there has been any attempt to create an encryption zone in
+   * the cluster at all. If not, it is safe to quickly return null when
+   * checking the encryption information of any file or directory in the
+   * cluster.
+   */
+  public boolean hasCreatedEncryptionZone() {
+    return encryptionZones != null;
+    if (!hasCreatedEncryptionZone()) {
+      return new String[0];
+    }

INS31 INS29 INS83 INS39 INS42 INS8 INS33 INS25 INS25 INS25 INS25 INS65 INS41 INS25 INS27 INS8 INS32 INS8 INS38 INS8 INS27 INS38 INS8 INS16 INS66 INS66 INS66 INS66 INS27 INS38 INS8 INS42 INS33 INS21 INS42 MOV21 INS32 INS41 INS32 MOV27 INS32 INS41 INS32 MOV32 INS34 INS42 INS33 INS32 INS41 INS7 INS42 INS33 INS42 INS42 INS14 INS42 INS42 INS3 INS42 INS14 INS74 INS32 INS9 INS5 INS34 INS74 INS43 INS43 INS42 INS42 INS43 INS85 INS43 INS42 INS42 INS42 INS42 DEL83 DEL42 DEL42 DEL43 DEL42 DEL43 DEL42 DEL43 DEL74 DEL14 DEL7 DEL21