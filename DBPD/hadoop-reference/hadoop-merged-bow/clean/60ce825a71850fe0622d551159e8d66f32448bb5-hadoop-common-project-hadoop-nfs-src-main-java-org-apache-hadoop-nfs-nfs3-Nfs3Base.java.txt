HADOOP-11757. NFS gateway should shutdown when it can't start UDP or TCP server. Contributed by Brandon Li

- * Currently Mountd program is also started inside this class.
-        LOG.fatal("Failed to start the server. Cause:", e);
+        LOG.fatal("Failed to register the NFSv3 service.", e);
-    tcpServer.run();
+    try {
+      tcpServer.run();
+    } catch (Throwable e) {
+      LOG.fatal("Failed to start the TCP server.", e);
+      if (tcpServer.getBoundPort() > 0) {
+        rpcProgram.unregister(PortmapMapping.TRANSPORT_TCP,
+            tcpServer.getBoundPort());
+      }
+      tcpServer.shutdown();
+      terminate(1, e);
+    }

INS54 INS8 INS12 MOV21 INS44 INS8 INS43 INS42 INS21 INS25 INS21 INS21 INS42 INS32 INS27 INS8 INS32 INS32 INS42 INS42 INS45 INS42 INS32 INS34 INS21 INS42 INS42 INS42 INS34 INS42 INS42 INS42 INS32 UPD45 INS42 INS42 INS40 INS32 INS42 INS42 DEL66