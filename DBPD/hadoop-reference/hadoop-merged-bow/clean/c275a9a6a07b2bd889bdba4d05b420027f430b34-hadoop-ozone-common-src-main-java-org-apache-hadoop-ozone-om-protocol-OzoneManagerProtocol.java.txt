Merge trunk into HDDS-48

-package org.apache.hadoop.ozone.ksm.protocol;
+package org.apache.hadoop.ozone.om.protocol;
-import org.apache.hadoop.ozone.ksm.helpers.KsmBucketArgs;
-import org.apache.hadoop.ozone.ksm.helpers.KsmBucketInfo;
-import org.apache.hadoop.ozone.ksm.helpers.KsmKeyArgs;
-import org.apache.hadoop.ozone.ksm.helpers.KsmKeyInfo;
-import org.apache.hadoop.ozone.ksm.helpers.KsmKeyLocationInfo;
-import org.apache.hadoop.ozone.ksm.helpers.KsmVolumeArgs;
-import org.apache.hadoop.ozone.ksm.helpers.OpenKeySession;
-import org.apache.hadoop.ozone.ksm.helpers.ServiceInfo;
+import org.apache.hadoop.ozone.om.helpers.OmBucketArgs;
+import org.apache.hadoop.ozone.om.helpers.OmBucketInfo;
+import org.apache.hadoop.ozone.om.helpers.OmKeyArgs;
+import org.apache.hadoop.ozone.om.helpers.OmKeyInfo;
+import org.apache.hadoop.ozone.om.helpers.OmKeyLocationInfo;
+import org.apache.hadoop.ozone.om.helpers.OmVolumeArgs;
+import org.apache.hadoop.ozone.om.helpers.OpenKeySession;
+import org.apache.hadoop.ozone.om.helpers.ServiceInfo;
-    .KeySpaceManagerProtocolProtos.OzoneAclInfo;
+    .OzoneManagerProtocolProtos.OzoneAclInfo;
- * Protocol to talk to KSM.
+ * Protocol to talk to OM.
-public interface KeySpaceManagerProtocol {
+public interface OzoneManagerProtocol {
-  void createVolume(KsmVolumeArgs args) throws IOException;
+  void createVolume(OmVolumeArgs args) throws IOException;
-  KsmVolumeArgs getVolumeInfo(String volume) throws IOException;
+  OmVolumeArgs getVolumeInfo(String volume) throws IOException;
-  List<KsmVolumeArgs> listVolumeByUser(String userName, String prefix, String
+  List<OmVolumeArgs> listVolumeByUser(String userName, String prefix, String
-  List<KsmVolumeArgs> listAllVolumes(String prefix, String
+  List<OmVolumeArgs> listAllVolumes(String prefix, String
-  void createBucket(KsmBucketInfo bucketInfo) throws IOException;
+  void createBucket(OmBucketInfo bucketInfo) throws IOException;
-   * @return KsmBucketInfo or exception is thrown.
+   * @return OmBucketInfo or exception is thrown.
-  KsmBucketInfo getBucketInfo(String volumeName, String bucketName)
+  OmBucketInfo getBucketInfo(String volumeName, String bucketName)
-  void setBucketProperty(KsmBucketArgs args) throws IOException;
+  void setBucketProperty(OmBucketArgs args) throws IOException;
-  OpenKeySession openKey(KsmKeyArgs args) throws IOException;
+  OpenKeySession openKey(OmKeyArgs args) throws IOException;
-  void commitKey(KsmKeyArgs args, int clientID) throws IOException;
+  void commitKey(OmKeyArgs args, int clientID) throws IOException;
-  KsmKeyLocationInfo allocateBlock(KsmKeyArgs args, int clientID)
+  OmKeyLocationInfo allocateBlock(OmKeyArgs args, int clientID)
-   * @return KsmKeyInfo instance that client uses to talk to container.
+   * @return OmKeyInfo instance that client uses to talk to container.
-  KsmKeyInfo lookupKey(KsmKeyArgs args) throws IOException;
+  OmKeyInfo lookupKey(OmKeyArgs args) throws IOException;
-  void renameKey(KsmKeyArgs args, String toKeyName) throws IOException;
+  void renameKey(OmKeyArgs args, String toKeyName) throws IOException;
-  void deleteKey(KsmKeyArgs args) throws IOException;
+  void deleteKey(OmKeyArgs args) throws IOException;
-   * Returns a list of buckets represented by {@link KsmBucketInfo}
+   * Returns a list of buckets represented by {@link OmBucketInfo}
-  List<KsmBucketInfo> listBuckets(String volumeName,
-      String startBucketName, String bucketPrefix, int maxNumOfBuckets)
+  List<OmBucketInfo> listBuckets(String volumeName,
+                                 String startBucketName, String bucketPrefix, int maxNumOfBuckets)
-   * Returns a list of keys represented by {@link KsmKeyInfo}
+   * Returns a list of keys represented by {@link OmKeyInfo}
-  List<KsmKeyInfo> listKeys(String volumeName,
-      String bucketName, String startKeyName, String keyPrefix, int maxKeys)
+  List<OmKeyInfo> listKeys(String volumeName,
+                           String bucketName, String startKeyName, String keyPrefix, int maxKeys)

UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD42 UPD43 UPD74 UPD74 UPD43 UPD43 UPD43 UPD74 UPD74 UPD66 UPD43 UPD42 UPD43 UPD43 UPD43 UPD42 UPD43 UPD43 UPD43 UPD42 UPD43 UPD42 UPD43 UPD43 UPD43 UPD43 UPD43 UPD42 UPD42 UPD42 UPD42 UPD66 UPD42 UPD42 UPD42 UPD42 UPD66 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42