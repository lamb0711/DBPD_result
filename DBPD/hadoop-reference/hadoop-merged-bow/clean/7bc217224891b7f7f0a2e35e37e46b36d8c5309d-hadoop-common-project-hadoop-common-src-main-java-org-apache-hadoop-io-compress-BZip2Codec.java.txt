HADOOP-14376. Memory leak when reading a compressed file using the native library. Contributed by Eli Acherkan

-      if (needsReset) {
-        // In the case that nothing is written to this stream, we still need to
-        // write out the header before closing, otherwise the stream won't be
-        // recognized by BZip2CompressionInputStream.
-        internalReset();
+      try {
+        super.close();
+      } finally {
+        output.close();
-      this.output.flush();
-      this.output.close();
-      needsReset = true;
-        input.close();
-        needsReset = true;
+        try {
+          input.close();
+          needsReset = true;
+        } finally {
+          super.close();
+        }

INS54 INS8 INS8 INS8 MOV21 MOV21 INS54 INS48 MOV8 INS8 INS42 INS42 INS21 INS48 INS42 DEL42 DEL32 DEL52 DEL42 DEL22 DEL42 DEL8 DEL25 DEL52 DEL42 DEL22 DEL42 DEL32 DEL21 DEL42 DEL9 DEL7 DEL21