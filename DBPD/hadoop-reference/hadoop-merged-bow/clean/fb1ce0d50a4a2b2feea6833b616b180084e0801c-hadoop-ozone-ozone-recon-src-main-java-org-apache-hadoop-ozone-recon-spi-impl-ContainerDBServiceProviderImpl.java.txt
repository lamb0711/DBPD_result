HDDS-1670. Add limit support to /api/containers and /api/containers/{id} endpoints (#954)



-import java.util.HashMap;
-    Map<ContainerKeyPrefix, Integer> prefixes = new HashMap<>();
+    Map<ContainerKeyPrefix, Integer> prefixes = new LinkedHashMap<>();
-   * Iterate the DB to construct a Map of containerID -> containerMetadata.
+   * Get all the containers.
+    // Set a negative limit to get all the containers.
+    return getContainers(-1);
+  }
+
+  /**
+   * Iterate the DB to construct a Map of containerID -> containerMetadata
+   * only for the given limit.
+   *
+   * Return all the containers if limit < 0.
+   *
+   * @return Map of containerID -> containerMetadata.
+   * @throws IOException
+   */
+  @Override
+  public Map<Long, ContainerMetadata> getContainers(int limit)
+      throws IOException {
+      // break the loop if limit has been reached
+      // and one more new entity needs to be added to the containers map
+      if (containers.size() == limit && !containers.containsKey(containerID)) {
+        break;
+      }
+

INS31 MOV29 INS78 INS83 INS74 INS42 INS43 INS8 INS29 INS44 INS42 INS43 INS43 INS43 INS42 INS41 INS65 INS65 INS65 INS39 INS42 UPD66 INS42 INS42 INS42 INS32 INS66 INS66 INS66 INS66 INS42 INS42 INS38 INS25 UPD74 INS34 INS27 INS8 UPD43 INS27 INS38 INS10 UPD42 INS32 INS42 INS32 INS42 INS42 INS42 INS42 INS42 DEL40 DEL26