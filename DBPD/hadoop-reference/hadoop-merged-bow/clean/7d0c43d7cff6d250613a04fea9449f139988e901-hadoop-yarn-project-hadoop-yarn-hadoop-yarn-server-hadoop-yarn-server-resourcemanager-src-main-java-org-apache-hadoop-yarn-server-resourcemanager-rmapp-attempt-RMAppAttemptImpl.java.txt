YARN-822. Renamed ApplicationToken to be AMRMToken, and similarly the corresponding TokenSelector and SecretManager. Contributed by Omkar Vinit Joshi.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1493889 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.security.ApplicationTokenIdentifier;
-import org.apache.hadoop.yarn.security.ApplicationTokenSelector;
+import org.apache.hadoop.yarn.security.AMRMTokenIdentifier;
+import org.apache.hadoop.yarn.security.AMRMTokenSelector;
-  private Token<ApplicationTokenIdentifier> applicationToken = null;
+  private Token<AMRMTokenIdentifier> amrmToken = null;
-  public Token<ApplicationTokenIdentifier> getApplicationToken() {
-    return this.applicationToken;
+  public Token<AMRMTokenIdentifier> getAMRMToken() {
+    return this.amrmToken;
-      ApplicationTokenSelector appTokenSelector = new ApplicationTokenSelector();
-      this.applicationToken =
+      AMRMTokenSelector appTokenSelector = new AMRMTokenSelector();
+      this.amrmToken =
-      // ApplicationTokenSecretManager, because running attempts are rebooted
+      // AMRMTokenSecretManager, because running attempts are rebooted
-        ApplicationTokenIdentifier id =
-            new ApplicationTokenIdentifier(appAttempt.applicationAttemptId);
-        Token<ApplicationTokenIdentifier> applicationToken =
-            new Token<ApplicationTokenIdentifier>(id,
-              appAttempt.rmContext.getApplicationTokenSecretManager());
+        AMRMTokenIdentifier id =
+            new AMRMTokenIdentifier(appAttempt.applicationAttemptId);
+        Token<AMRMTokenIdentifier> amRmToken =
+            new Token<AMRMTokenIdentifier>(id,
+              appAttempt.rmContext.getAMRMTokenSecretManager());
-        SecurityUtil.setTokenService(applicationToken, serviceAddr);
+        SecurityUtil.setTokenService(amRmToken, serviceAddr);
-        appAttempt.applicationToken = applicationToken;
+        appAttempt.amrmToken = amRmToken;
-      // Remove the AppAttempt from the ApplicationTokenSecretManager
-      appAttempt.rmContext.getApplicationTokenSecretManager()
+      // Remove the AppAttempt from the AMRMTokenSecretManager
+      appAttempt.rmContext.getAMRMTokenSecretManager()
-      // Remove the AppAttempt from the ApplicationTokenSecretManager
-      appAttempt.rmContext.getApplicationTokenSecretManager()
+      // Remove the AppAttempt from the AMRMTokenSecretManager
+      appAttempt.rmContext.getAMRMTokenSecretManager()

UPD40 UPD40 UPD74 UPD74 UPD42 UPD43 UPD42 UPD43 UPD42 UPD42 UPD42 UPD43 UPD42 UPD43 UPD74 UPD42 UPD42 UPD43 UPD42 UPD42 UPD43 UPD42 UPD42 UPD40 UPD42 UPD42 UPD43 UPD42 UPD74 UPD42 UPD43 UPD42 UPD42