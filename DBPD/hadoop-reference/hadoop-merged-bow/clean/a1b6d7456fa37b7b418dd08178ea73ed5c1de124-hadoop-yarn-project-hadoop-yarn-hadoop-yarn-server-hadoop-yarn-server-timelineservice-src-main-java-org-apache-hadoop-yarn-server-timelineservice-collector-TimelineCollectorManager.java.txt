YARN-5018. Online aggregation logic should not run immediately after collectors got started (Li Lu via sjlee)

-  protected void postPut(ApplicationId appId, TimelineCollector collector) {
+  /**
+   * Callback handler for the timeline collector manager when a collector has
+   * been added into the collector map.
+   * @param appId Application id of the collector.
+   * @param collector The actual timeline collector that has been added.
+   */
+  public void postPut(ApplicationId appId, TimelineCollector collector) {
+    doPostPut(appId, collector);
+    collector.setReadyToAggregate();
+  }
+  /**
+   * A template method that will be called by
+   * {@link  #postPut(ApplicationId, TimelineCollector)}.
+   * @param appId Application id of the collector.
+   * @param collector The actual timeline collector that has been added.
+   */
+  protected void doPostPut(ApplicationId appId, TimelineCollector collector) {

INS31 INS29 INS83 INS39 INS42 MOV44 MOV44 INS8 INS29 UPD42 INS44 INS44 INS65 INS65 INS65 INS21 INS21 INS65 INS65 INS65 INS43 INS42 INS43 INS42 INS66 INS66 INS42 INS66 INS42 INS66 INS32 INS32 INS66 INS65 INS66 INS42 INS66 INS42 INS66 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS68 INS42 INS69 INS69 INS43 INS43 INS42 INS42