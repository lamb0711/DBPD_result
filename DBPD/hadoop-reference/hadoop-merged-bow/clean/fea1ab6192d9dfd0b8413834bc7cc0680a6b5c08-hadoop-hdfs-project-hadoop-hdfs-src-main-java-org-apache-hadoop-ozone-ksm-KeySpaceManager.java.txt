HDFS-12007. Ozone: Enable HttpServer2 for SCM and KSM. Contributed by Elek, Marton.

+  private final KeySpaceManagerHttpServer httpServer;
-    ksmRpcAddress = OzoneClientUtils.updateListenAddress(conf,
+    ksmRpcAddress = OzoneClientUtils.updateRPCListenAddress(conf,
+    httpServer = new KeySpaceManagerHttpServer(conf);
-  public void start() {
+  public void start() throws IOException {
+    httpServer.start();
-    } catch (IOException e) {
-      LOG.info("Key Space Manager stop failed.", e);
+      httpServer.stop();
+    } catch (Exception e) {
+      LOG.error("Key Space Manager stop failed.", e);

INS23 INS83 INS83 INS43 INS59 INS43 INS42 INS42 INS21 INS42 INS21 INS7 INS32 INS42 INS14 INS42 INS42 INS21 UPD42 INS43 INS42 INS32 UPD43 INS42 INS42 INS42 UPD42 UPD42