HADOOP-12352. Delay in checkpointing Trash can leave trash for 2 intervals before deleting. Contributed by Casey Brotherton.

+    createCheckpoint(new Date());
+  }
+
+  @SuppressWarnings("deprecation")
+  public void createCheckpoint(Date date) throws IOException {
+
-      checkpointBase = new Path(trash, CHECKPOINT.format(new Date()));
+      checkpointBase = new Path(trash, CHECKPOINT.format(date));
+
-                trash.createCheckpoint();
+                trash.createCheckpoint(new Date(now));

INS31 INS79 MOV78 INS83 INS39 INS42 INS43 MOV8 INS44 INS42 INS45 INS42 INS43 INS42 MOV32 INS42 INS8 UPD42 INS21 INS7 INS42 INS14 MOV43 INS42 INS32 INS42 INS42 INS42 INS14 INS43 INS42 INS42 DEL42 DEL42 DEL42 DEL14 DEL7