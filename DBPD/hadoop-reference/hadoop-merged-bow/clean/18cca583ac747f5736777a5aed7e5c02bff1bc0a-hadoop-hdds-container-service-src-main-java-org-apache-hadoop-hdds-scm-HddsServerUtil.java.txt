HDDS-1474. ozone.scm.datanode.id config should take path for a dir  (#792)



+import org.apache.hadoop.ozone.OzoneConsts;
-    String dataNodeIDPath = conf.get(ScmConfigKeys.OZONE_SCM_DATANODE_ID);
-    if (dataNodeIDPath == null) {
+    String dataNodeIDDirPath =
+        conf.get(ScmConfigKeys.OZONE_SCM_DATANODE_ID_DIR);
+    if (dataNodeIDDirPath == null) {
-      dataNodeIDPath = new File(metaDirPath,
-          ScmConfigKeys.OZONE_SCM_DATANODE_ID_PATH_DEFAULT).toString();
+      dataNodeIDDirPath = metaDirPath.toString();
-    return dataNodeIDPath;
+    // Use default datanode id file name for file path
+    return new File(dataNodeIDDirPath,
+        OzoneConsts.OZONE_SCM_DATANODE_ID_FILE_DEFAULT).toString();

INS26 INS40 MOV32 UPD42 UPD42 UPD40 UPD42 UPD40 UPD42 INS32 INS42 INS42 DEL42