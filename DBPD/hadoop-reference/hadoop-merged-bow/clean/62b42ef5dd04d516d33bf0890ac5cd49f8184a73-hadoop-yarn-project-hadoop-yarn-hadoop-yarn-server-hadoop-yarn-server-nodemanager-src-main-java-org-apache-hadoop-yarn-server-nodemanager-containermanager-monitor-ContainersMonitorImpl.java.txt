YARN-5725. Test uncaught exception in TestContainersMonitorResourceChange.testContainersResourceChange
when setting IP and host (Contributed by Miklos Szegedi via Daniel Templeton)

-          String[] ipAndHost = containerExecutor.getIpAndHost(container);
-          if (ipAndHost != null && ipAndHost[0] != null
-                  && ipAndHost[1] != null) {
-            container.setIpAndHost(ipAndHost);
-            LOG.info(containerId + "'s ip = " + ipAndHost[0]
-                    + ", and hostname = " + ipAndHost[1]);
+
+          if (container != null) {
+            String[] ipAndHost = containerExecutor.getIpAndHost(container);
+
+            if ((ipAndHost != null) && (ipAndHost[0] != null) &&
+                (ipAndHost[1] != null)) {
+              container.setIpAndHost(ipAndHost);
+              LOG.info(containerId + "'s ip = " + ipAndHost[0]
+                  + ", and hostname = " + ipAndHost[1]);
+            } else {
+              LOG.info("Can not get both ip and hostname: "
+                  + Arrays.toString(ipAndHost));
+            }
-            LOG.info("Can not get both ip and hostname: " + Arrays
-                    .toString(ipAndHost));
+            LOG.info(containerId + " is missing. Not setting ip and hostname");
-      NMTimelinePublisher nmMetricsPublisher =
-              container.getNMTimelinePublisher();
-      if (nmMetricsPublisher != null) {
-        nmMetricsPublisher.reportContainerResourceUsage(container,
-                currentPmemUsage, cpuUsagePercentPerCore);
+      if (container != null) {
+        NMTimelinePublisher nmMetricsPublisher =
+                container.getNMTimelinePublisher();
+        if (nmMetricsPublisher != null) {
+          nmMetricsPublisher.reportContainerResourceUsage(container,
+                  currentPmemUsage, cpuUsagePercentPerCore);
+        }
+      } else {
+        LOG.info(containerId + " does not exist to report");

INS25 INS27 INS8 INS8 INS42 INS33 MOV60 MOV25 INS21 INS32 INS25 INS42 INS42 INS27 INS27 INS8 INS8 INS42 INS45 INS42 INS33 MOV60 MOV25 INS21 MOV27 INS32 INS36 INS36 INS36 INS42 INS42 INS27 MOV27 MOV27 MOV27 INS42 INS45 DEL27