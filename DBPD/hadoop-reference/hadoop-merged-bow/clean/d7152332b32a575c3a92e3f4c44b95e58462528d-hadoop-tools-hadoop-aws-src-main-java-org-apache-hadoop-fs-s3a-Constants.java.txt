HADOOP-14556. S3A to support Delegation Tokens.

Contributed by Steve Loughran.

-  // aws credentials provider
+  // aws credentials providers
-  // session token for when using TemporaryAWSCredentialsProvider
+  /**
+   * session token for when using TemporaryAWSCredentialsProvider: : {@value}.
+   */
-   * AWS Role to request.
+   * ARN of AWS Role to request: {@value}.
-   * to the AWS APIs.
+   * to the AWS APIs: {@value}.
-  /** Security Token Service Endpoint. If unset, uses the default endpoint. */
+  /**
+   * Security Token Service Endpoint: {@value}.
+   * If unset, uses the default endpoint.
+   */
-   * Region for the STS endpoint; only relevant if the endpoint
-   * is set.
+   * Default endpoint for session tokens: {@value}.
+   * This is the central STS endpoint which, for v3 signing, can
+   * issue STS tokens for any region.
+   */
+  public static final String DEFAULT_ASSUMED_ROLE_STS_ENDPOINT = "";
+
+  /**
+   * Region for the STS endpoint; needed if the endpoint
+   * is set to anything other then the central one.: {@value}.
-   * v4 signing.
+   * v4 signing: {@value}.
-  public static final String ASSUMED_ROLE_STS_ENDPOINT_REGION_DEFAULT =
-      "us-west-1";
+  public static final String ASSUMED_ROLE_STS_ENDPOINT_REGION_DEFAULT = "";
-   * Default duration of an assumed role.
+   * Default duration of an assumed role: {@value}.
-  public static final String ASSUMED_ROLE_SESSION_DURATION_DEFAULT = "30m";
+  public static final String ASSUMED_ROLE_SESSION_DURATION_DEFAULT = "1h";
-  /** list of providers to authenticate for the assumed role. */
+  /**
+   * List of providers to authenticate for the assumed role: {@value}.
+   */
-  /** JSON policy containing the policy to apply to the role. */
+  /**
+   * JSON policy containing the policy to apply to the role: {@value}.
+   * This is not used for delegation tokens, which generate the policy
+   * automatically, and restrict it to the S3, KMS and S3Guard services
+   * needed.
+   */
-  public static final int S3A_DEFAULT_PORT = -1;
+  /**
+   * Default port for this is 443: HTTPS.
+   */
+  public static final int S3A_DEFAULT_PORT = 443;

INS23 INS29 INS29 INS83 INS83 INS83 MOV43 INS59 MOV43 INS43 INS29 INS65 INS65 INS42 INS45 UPD45 INS42 UPD45 INS65 INS34 INS66 INS65 INS66 UPD66 INS65 INS66 UPD66 INS65 INS66 INS66 INS65 INS66 UPD66 INS66 INS65 INS66 INS66 INS66 UPD66 UPD66 INS65 INS66 UPD66 INS65 INS66 UPD66 INS65 INS66 UPD66 INS65 INS66 UPD66 INS65 INS66 INS66 INS66 INS66 INS66 DEL34 DEL38