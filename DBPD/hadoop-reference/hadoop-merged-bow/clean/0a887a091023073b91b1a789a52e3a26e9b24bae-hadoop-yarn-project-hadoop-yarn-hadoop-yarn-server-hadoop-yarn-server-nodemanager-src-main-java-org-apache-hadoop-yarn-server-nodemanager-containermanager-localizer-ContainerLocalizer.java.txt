YARN-1254. Fixed NodeManager to not pollute container's credentials. Contributed by Omkar Vinit Joshi.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1529382 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.yarn.server.utils.YarnServerBuilderUtils;
-      credFile = lfs.open(
-          new Path(String.format(TOKEN_FILE_NAME_FMT, localizerId)));
+      Path tokenPath =
+          new Path(String.format(TOKEN_FILE_NAME_FMT, localizerId));
+      credFile = lfs.open(tokenPath);
+      // Explicitly deleting token file.
+      lfs.delete(tokenPath, false);      

INS60 INS21 INS43 INS59 INS32 INS42 INS42 MOV14 INS42 INS42 INS42 INS9 INS42 DEL40 DEL26