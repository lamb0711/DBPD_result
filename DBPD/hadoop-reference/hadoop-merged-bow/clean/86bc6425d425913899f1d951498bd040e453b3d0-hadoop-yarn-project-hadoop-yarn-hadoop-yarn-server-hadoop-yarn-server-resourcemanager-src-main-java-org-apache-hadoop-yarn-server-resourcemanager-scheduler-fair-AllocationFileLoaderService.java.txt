YARN-8191. Fair scheduler: queue deletion without RM restart. (Gergo Repas via Haibo Chen)

-  private Listener reloadListener;
+  private final Listener reloadListener;
-  public AllocationFileLoaderService() {
-    this(SystemClock.getInstance());
+  public AllocationFileLoaderService(Listener reloadListener) {
+    this(reloadListener, SystemClock.getInstance());
-  public AllocationFileLoaderService(Clock clock) {
+  public AllocationFileLoaderService(Listener reloadListener, Clock clock) {
+    this.reloadListener = reloadListener;
+            reloadListener.onCheck();
-  public synchronized void setReloadListener(Listener reloadListener) {
-    this.reloadListener = reloadListener;
-  }
-
+
+    void onCheck();

INS83 INS44 MOV44 INS31 INS43 INS42 MOV21 INS39 INS42 INS42 INS42 INS21 INS32 INS42 INS42 DEL83 DEL83 DEL39 DEL42 DEL8 DEL31