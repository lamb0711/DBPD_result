HDFS-5845. SecondaryNameNode dies when checkpointing with cache pools.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1562644 13f79535-47bb-0310-9956-ffa450edef68

+  /**
+   * Resets all tracked directives and pools. Called during 2NN checkpointing to
+   * reset FSNamesystem state. See {FSNamesystem{@link #clear()}.
+   */
+  void clear() {
+    directivesById.clear();
+    directivesByPath.clear();
+    cachePools.clear();
+    nextDirectiveId = 1;
+  }
+

INS31 INS29 INS39 INS42 INS8 INS65 INS21 INS21 INS21 INS21 INS66 INS66 INS65 INS66 INS32 INS32 INS32 INS7 INS68 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS34 INS42