YARN-8522. Application fails with InvalidResourceRequestException. (Zian Chen via wangda)

Change-Id: I34dd7fa49bd4d10580c4a78051033b1068d28f1e

-  public ApplicationSubmissionContextProto getProto() {
+  public synchronized ApplicationSubmissionContextProto getProto() {
-  public Priority getPriority() {
+  public synchronized Priority getPriority() {
-  public void setPriority(Priority priority) {
+  public synchronized void setPriority(Priority priority) {
-  public ApplicationId getApplicationId() {
+  public synchronized ApplicationId getApplicationId() {
-  public void setApplicationId(ApplicationId applicationId) {
+  public synchronized void setApplicationId(ApplicationId applicationId) {
-  public String getApplicationName() {
+  public synchronized String getApplicationName() {
-  public void setApplicationName(String applicationName) {
+  public synchronized void setApplicationName(String applicationName) {
-  public String getQueue() {
+  public synchronized String getQueue() {
-  public String getApplicationType() {
+  public synchronized String getApplicationType() {
-  public Set<String> getApplicationTags() {
+  public synchronized Set<String> getApplicationTags() {
-  public void setQueue(String queue) {
+  public synchronized void setQueue(String queue) {
-  public void setApplicationType(String applicationType) {
+  public synchronized void setApplicationType(String applicationType) {
-  public void setApplicationTags(Set<String> tags) {
+  public synchronized void setApplicationTags(Set<String> tags) {
-  public ContainerLaunchContext getAMContainerSpec() {
+  public synchronized ContainerLaunchContext getAMContainerSpec() {
-  public void setAMContainerSpec(ContainerLaunchContext amContainer) {
+  public synchronized void
+      setAMContainerSpec(ContainerLaunchContext amContainer) {
-  public boolean getUnmanagedAM() {
+  public synchronized boolean getUnmanagedAM() {
-  public void setUnmanagedAM(boolean value) {
+  public synchronized void setUnmanagedAM(boolean value) {
-  public boolean getCancelTokensWhenComplete() {
+  public synchronized boolean getCancelTokensWhenComplete() {
-  public void setCancelTokensWhenComplete(boolean cancel) {
+  public synchronized void setCancelTokensWhenComplete(boolean cancel) {
-  public int getMaxAppAttempts() {
+  public synchronized int getMaxAppAttempts() {
-  public void setMaxAppAttempts(int maxAppAttempts) {
+  public synchronized void setMaxAppAttempts(int maxAppAttempts) {
-  public Resource getResource() {
+  public synchronized Resource getResource() {
-  public void setResource(Resource resource) {
+  public synchronized void setResource(Resource resource) {
-  public ReservationId getReservationID() {
+  public synchronized ReservationId getReservationID() {
-  public void setReservationID(ReservationId reservationID) {
+  public synchronized void setReservationID(ReservationId reservationID) {
-  public void
+  public synchronized void
-  public boolean getKeepContainersAcrossApplicationAttempts() {
+  public synchronized boolean getKeepContainersAcrossApplicationAttempts() {
-  public String getNodeLabelExpression() {
+  public synchronized String getNodeLabelExpression() {
-  public void setNodeLabelExpression(String labelExpression) {
+  public synchronized void setNodeLabelExpression(String labelExpression) {
-  public ResourceRequest getAMContainerResourceRequest() {
+  public synchronized ResourceRequest getAMContainerResourceRequest() {
-  public List<ResourceRequest> getAMContainerResourceRequests() {
+  public synchronized List<ResourceRequest> getAMContainerResourceRequests() {
-  public void setAMContainerResourceRequest(ResourceRequest request) {
+  public synchronized void setAMContainerResourceRequest(
+      ResourceRequest request) {
-  public void setAMContainerResourceRequests(List<ResourceRequest> requests) {
+  public synchronized void setAMContainerResourceRequests(
+      List<ResourceRequest> requests) {
-  public long getAttemptFailuresValidityInterval() {
+  public synchronized long getAttemptFailuresValidityInterval() {
-  public void setAttemptFailuresValidityInterval(
+  public synchronized void setAttemptFailuresValidityInterval(
-  public LogAggregationContext getLogAggregationContext() {
+  public synchronized LogAggregationContext getLogAggregationContext() {
-  public void setLogAggregationContext(
+  public synchronized void setLogAggregationContext(
-  public Map<ApplicationTimeoutType, Long> getApplicationTimeouts() {
+  public synchronized
+      Map<ApplicationTimeoutType, Long> getApplicationTimeouts() {
-  public void setApplicationTimeouts(
+  public synchronized void setApplicationTimeouts(
-  public Map<String, String> getApplicationSchedulingPropertiesMap() {
+  public synchronized
+      Map<String, String> getApplicationSchedulingPropertiesMap() {
-  public void setApplicationSchedulingPropertiesMap(
+  public synchronized void setApplicationSchedulingPropertiesMap(

INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83 INS83