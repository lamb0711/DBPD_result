YARN-9179. Fix NPE in AbstractYarnScheduler#updateNewContainerInfo.

-      String strExposedPorts = c.getValue().getExposedPorts();
-      Map<String, List<Map<String, String>>> exposedPorts = null;
-      if (null != strExposedPorts && !strExposedPorts.isEmpty()) {
-        Gson gson = new Gson();
-        exposedPorts = gson.fromJson(strExposedPorts,
-            new TypeToken<Map<String, List<Map<String, String>>>>()
-            {}.getType());
+      if (app == null || app.getCurrentAppAttempt() == null) {
+        continue;
-
-      if (null != rmContainer &&
-          (null == rmContainer.getExposedPorts()
-              || rmContainer.getExposedPorts().size() == 0)) {
+      if (rmContainer == null) {
+        continue;
+      }
+      // exposed ports are already set for the container, skip
+      if (rmContainer.getExposedPorts() != null &&
+          rmContainer.getExposedPorts().size() > 0) {
+        continue;
+      }
+
+      String strExposedPorts = c.getValue().getExposedPorts();
+      if (null != strExposedPorts && !strExposedPorts.isEmpty()) {
+        Gson gson = new Gson();
+        Map<String, List<Map<String, String>>> exposedPorts =
+            gson.fromJson(strExposedPorts,
+            new TypeToken<Map<String, List<Map<String, String>>>>()
+                {}.getType());

MOV60 MOV25 INS25 INS25 INS27 INS8 INS27 INS8 UPD27 MOV27 INS27 INS27 INS18 INS42 INS33 INS18 UPD27 MOV33 UPD27 INS18 MOV60 MOV21 MOV21 INS42 INS33 INS32 INS33 INS42 INS42 MOV32 INS42 INS42 DEL33 DEL42 DEL27 DEL36 DEL27 DEL33 DEL42 DEL7 DEL21