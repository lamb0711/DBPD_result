HDFS-6708. StorageType should be encoded in the block token. Contributed by Ewan Higgs

+import org.apache.hadoop.fs.StorageType;
-  public Token<BlockTokenIdentifier> getAccessToken(ExtendedBlock eb
-      ) throws IOException {
+  public Token<BlockTokenIdentifier> getAccessToken(ExtendedBlock eb,
+      StorageType[] storageTypes) throws IOException {
-          EnumSet.of(BlockTokenIdentifier.AccessMode.REPLACE, BlockTokenIdentifier.AccessMode.COPY));
+          EnumSet.of(BlockTokenIdentifier.AccessMode.REPLACE,
+              BlockTokenIdentifier.AccessMode.COPY), storageTypes);

INS26 INS40 INS44 INS5 INS42 INS43 INS85 INS42 INS42