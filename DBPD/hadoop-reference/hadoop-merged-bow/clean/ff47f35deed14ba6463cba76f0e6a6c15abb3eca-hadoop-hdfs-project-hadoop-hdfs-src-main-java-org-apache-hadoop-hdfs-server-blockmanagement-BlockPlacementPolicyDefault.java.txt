HDFS-4937. ReplicationMonitor can infinite-loop in BlockPlacementPolicyDefault#chooseRandom(). Contributed by Kihwal Lee.

+    int refreshCounter = numOfAvailableNodes;
+      // Refresh the node count. If the live node count became smaller,
+      // but it is not reflected in this loop, it may loop forever in case
+      // the replicas/rack cannot be satisfied.
+      if (--refreshCounter == 0) {
+        numOfAvailableNodes = clusterMap.countNumOfAvailableNodes(scope,
+            excludedNodes);
+        refreshCounter = numOfAvailableNodes;
+      }

INS60 INS39 INS59 INS42 INS42 INS25 INS27 INS8 INS38 INS34 INS21 INS21 INS42 INS7 INS7 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS42