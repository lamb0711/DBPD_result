HDDS-211. Add a create container Lock. Contributed by Bharat Viswanadham

+import org.apache.hadoop.util.AutoCloseableLock;
+import java.util.concurrent.locks.ReentrantLock;
+  private final AutoCloseableLock handlerLock;
+    // this handler lock is used for synchronizing createContainer Requests,
+    // so using a fair lock here.
+    handlerLock = new AutoCloseableLock(new ReentrantLock(true));
-
-      newContainer.create(volumeSet, volumeChoosingPolicy, scmID);
-      containerSet.addContainer(newContainer);
+      handlerLock.acquire();
+      if (containerSet.getContainer(containerID) == null) {
+        newContainer.create(volumeSet, volumeChoosingPolicy, scmID);
+        containerSet.addContainer(newContainer);
+      } else {
+        throw new StorageContainerException("Container already exists with " +
+            "container Id " + containerID, ContainerProtos.Result
+            .CONTAINER_EXISTS);
+      }
+    } finally {
+      handlerLock.release();

INS26 INS26 INS40 INS40 INS23 INS83 INS83 INS43 INS59 INS42 INS42 INS21 INS7 INS8 INS8 INS42 INS14 INS21 INS25 INS21 INS43 INS14 INS32 INS27 MOV8 INS8 INS32 INS42 INS43 INS9 INS42 INS42 INS32 INS33 INS53 INS42 INS42 INS42 INS42 INS42 INS42 INS14 INS43 INS27 INS40 INS42 INS45 INS45 INS42