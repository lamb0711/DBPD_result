HDFS-3170. Add more useful metrics for write latency. Contributed by Matthew Jacobs.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1357970 13f79535-47bb-0310-9956-ffa450edef68

-   * Constructor
+   * Constructor assuming no next DN in pipeline
+    this(seqno, replies, 0L);
+  }
+
+  /**
+   * Constructor
+   * @param seqno sequence number
+   * @param replies an array of replies
+   * @param downstreamAckTimeNanos ack RTT in nanoseconds, 0 if no next DN in pipeline
+   */
+  public PipelineAck(long seqno, Status[] replies, long downstreamAckTimeNanos) {
+      .setDownstreamAckTimeNanos(downstreamAckTimeNanos)
-  
+
+  /**
+   * Get the time elapsed for downstream ack RTT in nanoseconds
+   * @return time elapsed for downstream ack in nanoseconds, 0 if no next DN in pipeline
+   */
+  public long getDownstreamAckTimeNanos() {
+    return proto.getDownstreamAckTimeNanos();
+  }
+

INS31 INS31 INS29 INS83 INS42 INS44 INS44 INS8 INS44 INS29 INS83 INS39 INS42 INS8 INS65 INS65 INS65 INS39 INS42 INS5 INS42 INS17 INS65 INS39 INS42 INS65 INS65 INS41 INS66 INS42 INS66 INS42 INS66 INS43 INS85 INS42 INS42 INS34 INS42 INS66 INS66 INS66 INS32 INS42 INS32 INS42 INS42 MOV32 INS42 UPD42 INS42