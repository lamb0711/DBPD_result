YARN-4206. Add Application timeouts in Application report and CLI. Contributed by Rohith Sharma K S.

+import java.util.Collections;
+import org.apache.hadoop.yarn.api.protocolrecords.UpdateApplicationTimeoutsRequest;
+import org.apache.hadoop.yarn.api.records.ApplicationTimeout;
+import org.apache.hadoop.yarn.api.records.ApplicationTimeoutType;
-import org.apache.hadoop.yarn.util.ConverterUtils;
+  public static final String UPDATE_LIFETIME = "updateLifetime";
+      opts.addOption(UPDATE_LIFETIME, true,
+          "update timeout of an application from NOW. ApplicationId can be"
+              + " passed using 'appId' option. Timeout value is in seconds.");
+      opts.getOption(UPDATE_LIFETIME).setArgName("Timeout");
+    } else if (cliParser.hasOption(UPDATE_LIFETIME)) {
+      if (!cliParser.hasOption(APP_ID)) {
+        printUsage(title, opts);
+        return exitCode;
+      }
+
+      long timeoutInSec =
+          Long.parseLong(cliParser.getOptionValue(UPDATE_LIFETIME));
+
+      updateApplicationTimeout(cliParser.getOptionValue(APP_ID),
+          ApplicationTimeoutType.LIFETIME, timeoutInSec);
+  private void updateApplicationTimeout(String applicationId,
+      ApplicationTimeoutType timeoutType, long timeoutInSec)
+      throws YarnException, IOException {
+    ApplicationId appId = ApplicationId.fromString(applicationId);
+    String newTimeout =
+        Times.formatISO8601(System.currentTimeMillis() + timeoutInSec * 1000);
+    sysout.println("Updating timeout for given timeoutType: "
+        + timeoutType.toString() + " of an application " + applicationId);
+    UpdateApplicationTimeoutsRequest request = UpdateApplicationTimeoutsRequest
+        .newInstance(appId, Collections.singletonMap(timeoutType, newTimeout));
+    client.updateApplicationTimeouts(request);
+    sysout.println(
+        "Successfully updated " + timeoutType.toString() + " of an application "
+            + applicationId + ". New expiry time is " + newTimeout);
+  }
+
-      appReportStr.print(appReport.getAmNodeLabelExpression());
+      appReportStr.println(appReport.getAmNodeLabelExpression());
+      for (ApplicationTimeout timeout : appReport.getApplicationTimeouts()) {
+        appReportStr.print("\tTimeoutType : " + timeout.getTimeoutType());
+        appReportStr.print("\tExpiryTime : " + timeout.getExpiryTime());
+        appReportStr.println(
+            "\tRemainingTime : " + timeout.getRemainingTime() + "seconds");
+      }

MOV26 INS26 INS26 INS26 INS40 INS40 UPD40 INS40 INS23 INS31 INS83 INS83 INS83 INS43 INS59 INS83 INS39 INS42 INS44 INS44 INS44 INS43 INS43 INS8 INS42 INS42 INS45 INS43 INS42 INS43 INS42 INS39 INS42 INS42 INS42 INS60 INS60 INS21 INS60 INS21 INS21 INS42 INS42 INS43 INS59 INS43 INS59 INS32 INS43 INS59 INS32 INS32 INS21 INS21 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS27 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS27 INS70 INS32 INS32 INS42 INS42 INS42 INS42 INS42 INS27 INS45 INS32 INS45 INS42 INS42 INS42 INS42 INS32 INS45 INS32 INS45 INS42 INS45 INS42 INS44 INS32 INS8 INS42 INS42 INS42 INS9 INS27 INS32 INS42 INS45 INS32 INS27 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 UPD42 INS43 INS42 INS42 INS42 INS21 INS21 INS21 INS45 INS45 INS42 INS42 INS42 INS42 INS42 INS42 INS34 INS42 INS32 INS32 INS32 INS42 INS42 INS27 INS42 INS42 INS27 INS42 INS42 INS27 INS25 INS45 INS32 INS45 INS32 INS45 INS32 INS45 INS32 INS8 MOV25 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS25 INS60 INS21 INS38 INS8 INS39 INS59 INS32 INS32 INS21 INS41 INS42 INS32 INS42 INS32 INS40 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42