HADOOP-11920. Refactor some codes for erasure coders. Contributed by Kai Zheng.

-    assert(erasedIndexes.length == outputs.length);
-    assert(erasedIndexes.length <= 1);
+    resetBuffer(outputs[0]);
-    int bufSize = inputs[0].remaining();
+    int bufSize = getChunkSize();
-    // Set the output to zeros.
-    for (int j = 0; j < bufSize; j++) {
-      outputs[0].put(j, (byte) 0);
-    }
-
-  protected void doDecode(byte[][] inputs, int[] erasedIndexes,
-                          byte[][] outputs) {
-    assert(erasedIndexes.length == outputs.length);
-    assert(erasedIndexes.length <= 1);
+  protected void doDecode(byte[][] inputs,
+                          int[] erasedIndexes, byte[][] outputs) {
+    resetBuffer(outputs[0]);
-    int bufSize = inputs[0].length;
+    int bufSize = getChunkSize();
-    // Set the output to zeros.
-    for (int j = 0; j < bufSize; j++) {
-      outputs[0][j] = 0;
-    }
-

MOV21 MOV21 MOV2 INS32 UPD42 INS42 MOV2 INS32 INS42 INS42 DEL42 DEL39 DEL34 DEL11 DEL40 DEL40 DEL27 DEL36 DEL6 DEL40 DEL34 DEL27 DEL36 DEL6 DEL42 DEL34 DEL2 DEL42 DEL39 DEL42 DEL34 DEL59 DEL58 DEL42 DEL42 DEL27 DEL42 DEL37 DEL8 DEL24 DEL42 DEL2 DEL34 DEL7 DEL40 DEL40 DEL27 DEL36 DEL6 DEL40 DEL34 DEL27 DEL36 DEL6 DEL42 DEL34 DEL2 DEL42 DEL22 DEL39 DEL42 DEL34 DEL59 DEL58 DEL42 DEL42 DEL27 DEL42 DEL37 DEL8 DEL24