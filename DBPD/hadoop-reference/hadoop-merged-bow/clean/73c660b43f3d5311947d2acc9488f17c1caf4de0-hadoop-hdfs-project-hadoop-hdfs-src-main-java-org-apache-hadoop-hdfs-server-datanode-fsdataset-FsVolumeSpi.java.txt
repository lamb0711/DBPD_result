HDFS-13958. Miscellaneous Improvements for FsVolumeSpi. Contributed by BELUGA BEHR.

-import java.util.LinkedList;
+import java.util.Collection;
-import org.apache.hadoop.hdfs.server.datanode.FileIoProvider;
+import org.apache.hadoop.hdfs.server.datanode.FileIoProvider;
-      } else if (blockSuffix == null) {
-        return new File(new File(volume.getBaseURI()).getAbsolutePath(),
-            metaSuffix);
-      } else {
-        return new File(new File(volume.getBaseURI()).getAbsolutePath(),
-            blockSuffix + metaSuffix);
+      String fileSuffix = metaSuffix;
+      if (blockSuffix != null) {
+        fileSuffix = blockSuffix + metaSuffix;
+      }
+      return new File(new File(volume.getBaseURI()).getAbsolutePath(),
+          fileSuffix);
-    @Override // Comparable
+    @Override
-      if (blockId < b.blockId) {
-        return -1;
-      } else if (blockId == b.blockId) {
-        return 0;
-      } else {
-        return 1;
-      }
+      return Long.compare(this.blockId, b.blockId);
-    @Override // Object
+    @Override
-    @Override // Object
+    @Override
-      return (int)(blockId^(blockId>>>32));
+      return Long.hashCode(this.blockId);
-  LinkedList<ScanInfo> compileReport(String bpid,
-      LinkedList<ScanInfo> report, ReportCompiler reportCompiler)
+  void compileReport(String bpid,
+      Collection<ScanInfo> report, ReportCompiler reportCompiler)

MOV26 UPD40 INS39 MOV8 UPD74 MOV74 INS25 INS60 INS25 INS41 UPD43 MOV27 MOV8 INS43 INS59 INS27 INS8 INS32 INS32 UPD42 INS42 INS42 INS42 INS42 INS33 INS21 INS42 INS42 INS42 INS22 INS40 INS42 INS42 INS22 INS7 INS52 INS42 INS52 INS42 INS42 MOV27 DEL42 DEL33 DEL27 DEL42 DEL43 DEL42 DEL43 DEL42 DEL42 DEL32 DEL14 DEL42 DEL32 DEL42 DEL14 DEL41 DEL8 DEL25 DEL25 DEL8 DEL42 DEL40 DEL27 DEL34 DEL38 DEL41 DEL8 DEL42 DEL40 DEL27 DEL34 DEL41 DEL8 DEL34 DEL41 DEL8 DEL25 DEL25 DEL39 DEL42 DEL42 DEL34 DEL27 DEL36 DEL27 DEL36 DEL11 DEL42 DEL43 DEL42 DEL43 DEL74