Merge trunk to branch.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/fs-encryption@1608603 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.yarn.api.records.ContainerExitStatus;
+import org.apache.hadoop.yarn.proto.YarnServerResourceManagerServiceProtos;
+  protected static final String EPOCH_NODE = "EpochNode";
+    int exitStatus = ContainerExitStatus.INVALID;
-        null, "", null);
+        null, "", null, ContainerExitStatus.INVALID);
-        String diagnostics, FinalApplicationStatus amUnregisteredFinalStatus) {
+        String diagnostics, FinalApplicationStatus amUnregisteredFinalStatus,
+        int exitStatus) {
+      this.exitStatus = exitStatus;
+    public int getAMContainerExitStatus(){
+      return this.exitStatus;
+    }
+
+  /**
+   * Get the current epoch of RM and increment the value.
+   */
+  public abstract int getAndIncrementEpoch() throws Exception;
+  

INS26 INS26 INS40 INS40 INS23 INS31 INS83 INS83 INS83 INS43 INS59 INS23 INS31 INS29 INS83 INS83 INS39 INS42 INS43 INS42 INS42 INS45 INS39 INS59 INS44 INS83 INS39 INS42 INS8 INS65 INS42 INS42 INS40 INS39 INS42 INS21 INS41 INS66 INS40 INS7 INS22 INS22 INS42 INS52 INS42 INS52 INS42