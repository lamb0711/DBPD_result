HDFS-2716. Configuration needs to allow different dfs.http.addresses for each HA NN. Contributed by Todd Lipcon.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1226020 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.hdfs.HAUtil;
-      NameNode.initializeGenericKeys(conf,
-          DFSUtil.getSecondaryNameServiceId(conf));
+      String nsId = DFSUtil.getSecondaryNameServiceId(conf);
+      if (HAUtil.isHAEnabled(conf, nsId)) {
+        LOG.fatal("Cannot use SecondaryNameNode in an HA cluster." +
+            " The Standby Namenode will perform checkpointing.");
+        shutdown();
+        return;
+      }
+      NameNode.initializeGenericKeys(conf, nsId, null);

INS26 INS40 INS60 INS25 INS43 INS59 INS32 INS8 INS42 INS42 MOV32 INS42 INS42 INS42 INS42 INS21 INS21 INS41 INS42 INS33 INS32 INS32 INS42 INS42 INS27 INS42 INS45 INS45