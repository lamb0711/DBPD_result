HDFS-13377. The owner of folder can set quota for his sub folder. Contributed by Yang Yun.

+  private final boolean allowOwnerSetQuota;
+
-
+      this.allowOwnerSetQuota = conf.getBoolean(
+          DFSConfigKeys.DFS_PERMISSIONS_ALLOW_OWNER_SET_QUOTA_KEY,
+          DFSConfigKeys.DFS_PERMISSIONS_ALLOW_OWNER_SET_QUOTA_DEFAULT);
-      checkSuperuserPrivilege(pc);
+      if(!allowOwnerSetQuota) {
+        checkSuperuserPrivilege(pc);
+      }
-        FSDirAttrOp.setQuota(dir, pc, src, nsQuota, ssQuota, type);
+        FSDirAttrOp.setQuota(dir, pc, src, nsQuota, ssQuota, type,
+            allowOwnerSetQuota);

INS23 INS83 INS83 INS39 INS59 INS42 INS21 INS25 INS7 INS38 INS8 INS22 INS32 INS42 MOV21 INS52 INS42 INS42 INS42 INS40 INS40 INS42