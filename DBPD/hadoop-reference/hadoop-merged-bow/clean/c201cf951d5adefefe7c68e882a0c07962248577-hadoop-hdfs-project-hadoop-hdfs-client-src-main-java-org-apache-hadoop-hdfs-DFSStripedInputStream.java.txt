HADOOP-12040. Adjust inputs order for the decode API in raw erasure coder. (Kai Zheng via yliu)

-      final int decodeIndex = StripedBlockUtil.convertIndex4Decode(index,
-          dataBlkNum, parityBlkNum);
-      alignedStripe.chunks[index] = new StripingChunk(decodeInputs[decodeIndex]);
+      alignedStripe.chunks[index] = new StripingChunk(decodeInputs[index]);
-      StripedBlockUtil.finalizeDecodeInputs(decodeInputs, dataBlkNum,
-          parityBlkNum, alignedStripe);
+      StripedBlockUtil.finalizeDecodeInputs(decodeInputs, alignedStripe);
-          final int decodeIndex = StripedBlockUtil.convertIndex4Decode(i,
-              dataBlkNum, parityBlkNum);
-          decodeInputs[decodeIndex] = cur.slice();
+          decodeInputs[i] = cur.slice();
-            alignedStripe.chunks[i] = new StripingChunk(
-                decodeInputs[decodeIndex]);
+            alignedStripe.chunks[i] = new StripingChunk(decodeInputs[i]);
-      final int decodeIndex = StripedBlockUtil.convertIndex4Decode(index,
-          dataBlkNum, parityBlkNum);
+      final int parityIndex = index - dataBlkNum;
-      buf.position(cellSize * decodeIndex);
-      buf.limit(cellSize * decodeIndex + (int) alignedStripe.range.spanInBlock);
-      decodeInputs[decodeIndex] = buf.slice();
-      alignedStripe.chunks[index] = new StripingChunk(decodeInputs[decodeIndex]);
+      buf.position(cellSize * parityIndex);
+      buf.limit(cellSize * parityIndex + (int) alignedStripe.range.spanInBlock);
+      decodeInputs[index] = buf.slice();
+      alignedStripe.chunks[index] = new StripingChunk(decodeInputs[index]);
-        final int decodeIndex = StripedBlockUtil.convertIndex4Decode(i,
-            dataBlkNum, parityBlkNum);
-            decodeInputs[decodeIndex].put((byte) 0);
+            decodeInputs[i].put((byte) 0);
-          decodeInputs[decodeIndex].flip();
+          decodeInputs[i].flip();
-          decodeInputs[decodeIndex].position(0);
-          decodeInputs[decodeIndex].limit(span);
+          decodeInputs[i].position(0);
+          decodeInputs[i].limit(span);
-          int  decodeIndex = StripedBlockUtil.convertIndex4Decode(i,
-              dataBlkNum, parityBlkNum);
-            decodeIndices[pos++] = decodeIndex;
+            decodeIndices[pos++] = i;
-            decodeInputs[decodeIndex] = null;
+            decodeInputs[i] = null;

UPD42 INS27 INS42 INS42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 DEL83 DEL39 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL83 DEL39 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL83 DEL39 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL39 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60