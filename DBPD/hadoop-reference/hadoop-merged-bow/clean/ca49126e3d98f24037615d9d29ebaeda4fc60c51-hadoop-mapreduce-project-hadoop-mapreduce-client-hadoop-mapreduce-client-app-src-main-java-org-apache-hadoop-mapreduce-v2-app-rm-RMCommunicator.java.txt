Merge trunk into auto-HA branch


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-3042@1327724 13f79535-47bb-0310-9956-ffa450edef68

+import java.net.InetSocketAddress;
-import org.apache.hadoop.net.NetUtils;
-    final YarnRPC rpc = YarnRPC.create(getConfig());
-    final String serviceAddr = conf.get(
+    final YarnRPC rpc = YarnRPC.create(conf);
+    final InetSocketAddress serviceAddr = conf.getSocketAddr(
-        YarnConfiguration.DEFAULT_RM_SCHEDULER_ADDRESS);
+        YarnConfiguration.DEFAULT_RM_SCHEDULER_ADDRESS,
+        YarnConfiguration.DEFAULT_RM_SCHEDULER_PORT);
-            NetUtils.createSocketAddr(serviceAddr), conf);
+            serviceAddr, conf);

MOV26 UPD40 MOV60 UPD43 UPD42 UPD42 MOV42 UPD42 INS40 MOV42 DEL32 DEL42 DEL42 DEL32