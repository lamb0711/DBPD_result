HDFS-10968. BlockManager#isInNewRack should consider decommissioning nodes. Contributed by Jing Zhao.

+    LOG.debug("check if target {} increases racks, srcs={}", target,
+        Arrays.asList(srcs));
-      if (src.getNetworkLocation().equals(target.getNetworkLocation())) {
+      if (!src.isDecommissionInProgress() &&
+          src.getNetworkLocation().equals(target.getNetworkLocation())) {
+        LOG.debug("the target {} is in the same rack with src {}", target, src);

INS21 INS32 INS42 INS42 INS45 INS42 INS32 INS42 INS42 INS42 INS27 INS38 MOV32 INS21 INS32 INS32 INS42 INS42 INS42 INS42 INS45 INS42 INS42