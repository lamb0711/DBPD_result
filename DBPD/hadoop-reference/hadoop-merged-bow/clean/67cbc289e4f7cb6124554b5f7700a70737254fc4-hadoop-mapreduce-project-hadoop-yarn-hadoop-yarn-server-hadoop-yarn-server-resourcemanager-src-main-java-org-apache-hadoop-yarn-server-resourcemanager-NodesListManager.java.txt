MAPREDUCE-3873. Fixed NodeManagers' decommissioning at RM to accept IP addresses also. Contributed by xieguiming and vinodkv.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1346671 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.net.NetUtils;
+@SuppressWarnings("unchecked")
-      return ((hostsList.isEmpty() || hostsList.contains(hostName)) && 
-          !excludeList.contains(hostName));
+      String ip = NetUtils.normalizeHostName(hostName);
+      return (hostsList.isEmpty() || hostsList.contains(hostName) || hostsList
+          .contains(ip))
+          && !(excludeList.contains(hostName) || excludeList.contains(ip));

INS26 INS40 INS79 INS42 INS45 INS60 INS43 INS59 MOV27 INS42 INS42 INS32 INS42 INS42 INS42 INS36 INS32 INS27 INS42 INS42 INS42 MOV32 INS32 INS42 INS42 INS42 DEL36