MAPREDUCE-4992. AM hangs in RecoveryService when recovering tasks with speculative attempts. Contributed by Robert Parker


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1445456 13f79535-47bb-0310-9956-ffa450edef68

+    info.completedTaskAttemptsMap.put(event.getAttemptId(), attemptInfo);
+    info.completedTaskAttemptsMap.put(event.getAttemptId(), attemptInfo);
+    info.completedTaskAttemptsMap.put(event.getAttemptId(), attemptInfo);
+    info.completedTaskAttemptsMap.put(event.getTaskAttemptId(), attemptInfo);
+    Map<TaskAttemptID, TaskAttemptInfo> completedTaskAttemptsMap;
+      completedTaskAttemptsMap = new HashMap<TaskAttemptID, TaskAttemptInfo>();
+    /** @return the map of all completed task attempts in this job */
+    public Map<TaskAttemptID, TaskAttemptInfo> getAllCompletedTaskAttempts() { return completedTaskAttemptsMap; }

INS23 INS31 INS21 INS21 INS21 INS21 INS74 INS59 INS29 INS83 INS74 INS42 INS8 INS32 INS32 INS32 INS32 INS43 INS43 INS43 INS42 INS21 INS65 INS43 INS43 INS43 INS41 INS40 INS42 INS32 INS42 INS40 INS42 INS32 INS42 INS40 INS42 INS32 INS42 INS40 INS42 INS32 INS42 INS42 INS42 INS42 INS7 INS66 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS14 INS74 INS43 INS43 INS43 INS42 INS42 INS42