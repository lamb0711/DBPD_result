YARN-8821. [YARN-8851] GPU hierarchy/topology scheduling support based on pluggable device framework. Contributed by Zhankun Tang.

+import java.util.Map;
-   * invoked multiple times by the framework.
+   * invoked multiple times by the framework. The hint in environment variables
+   * passed in could be potentially used in making better scheduling decision.
+   * For instance, GPU scheduling might support different kind of policy. The
+   * container can set it through environment variables.
+   * @param env Environment variables of the container.
-  Set<Device> allocateDevices(Set<Device> availableDevices, int count);
+  Set<Device> allocateDevices(Set<Device> availableDevices, int count,
+      Map<String, String> env);

INS26 INS40 INS44 INS65 INS74 INS42 UPD66 INS66 INS66 INS66 INS42 INS66 INS43 INS43 INS43 INS42 INS42 INS42