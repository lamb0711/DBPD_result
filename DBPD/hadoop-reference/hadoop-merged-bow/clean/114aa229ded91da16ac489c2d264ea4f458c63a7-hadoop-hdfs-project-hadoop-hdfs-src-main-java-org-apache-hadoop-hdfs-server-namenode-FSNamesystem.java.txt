Merging r1525409 through r1525758 from trunk to branch HDFS-2832

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2832@1525759 13f79535-47bb-0310-9956-ffa450edef68

-  private ReentrantReadWriteLock fsLock = new ReentrantReadWriteLock(true);
+  private ReentrantReadWriteLock fsLock;
+    boolean fair = conf.getBoolean("dfs.namenode.fslock.fair", true);
+    LOG.info("fsLock is fair:" + fair);
+    fsLock = new ReentrantReadWriteLock(fair);
-        auditLog.info(sb);
+        logAuditMessage(sb.toString());
+    public void logAuditMessage(String message) {
+      auditLog.info(message);
+    }

INS31 INS60 INS21 INS21 INS83 INS39 INS42 INS44 INS8 INS39 INS59 INS32 INS7 INS43 INS42 INS21 INS42 INS32 INS42 INS42 INS27 INS42 MOV14 INS42 INS32 INS42 INS42 INS45 INS9 INS45 INS42 INS42 INS42 INS42 INS42 UPD42 INS32 MOV42 INS42 DEL9 DEL42