YARN-9127. Create more tests to verify GpuDeviceInformationParser. Contributed by Peter Bacsko

-import org.xml.sax.SAXException;
-import javax.xml.parsers.ParserConfigurationException;
-  private Unmarshaller unmarshaller = null;
-  private XMLReader xmlReader = null;
+  private final Unmarshaller unmarshaller;
+  private final XMLReader xmlReader;
-  private void init()
-      throws SAXException, ParserConfigurationException, JAXBException {
+  public GpuDeviceInformationParser() throws YarnException {
+    try {
+      final SAXParserFactory parserFactory = initSaxParserFactory();
+      final JAXBContext jaxbContext = JAXBContext.newInstance(
+          GpuDeviceInformation.class);
+      this.xmlReader = parserFactory.newSAXParser().getXMLReader();
+      this.unmarshaller = jaxbContext.createUnmarshaller();
+    } catch (Exception e) {
+      String msg = "Exception while initializing parser for " +
+          GPU_SCRIPT_REFERENCE;
+      LOG.error(msg, e);
+      throw new YarnException(msg, e);
+    }
+  }
+
+  /**
+   * Disable external-dtd since by default nvidia-smi output contains
+   * &lt;!DOCTYPE nvidia_smi_log SYSTEM "nvsmi_device_v8.dtd"> in header.
+   */
+  private SAXParserFactory initSaxParserFactory() throws Exception {
-    // Disable external-dtd since by default nvidia-smi output contains
-    // <!DOCTYPE nvidia_smi_log SYSTEM "nvsmi_device_v8.dtd"> in header
-
-    JAXBContext jaxbContext = JAXBContext.newInstance(
-        GpuDeviceInformation.class);
-
-    this.xmlReader = spf.newSAXParser().getXMLReader();
-    this.unmarshaller = jaxbContext.createUnmarshaller();
+    return spf;
-    if (unmarshaller == null) {
-      try {
-        init();
-      } catch (SAXException | ParserConfigurationException | JAXBException e) {
-        String msg = "Exception while initializing parser for " +
-            GPU_SCRIPT_REFERENCE;
-        LOG.error(msg, e);
-        throw new YarnException(e);
-      }
-    }
-

INS31 INS31 INS83 INS83 UPD83 MOV83 UPD42 MOV42 UPD43 MOV43 MOV8 INS29 INS83 UPD43 MOV43 INS42 UPD43 MOV43 MOV8 UPD42 INS65 UPD42 UPD42 INS41 INS66 INS66 INS42 INS60 MOV60 MOV21 INS83 INS43 INS59 INS83 INS7 INS43 INS42 INS42 INS32 MOV22 INS32 UPD42 MOV42 INS42 INS32 INS42 INS42 UPD42 MOV42 INS42 DEL40 DEL26 DEL40 DEL26 DEL33 DEL33 DEL32 DEL43 DEL42 DEL43 DEL42 DEL43 DEL84 DEL42 DEL42 DEL32 DEL42 DEL32 DEL7 DEL21 DEL39 DEL31 DEL42 DEL33 DEL27 DEL25