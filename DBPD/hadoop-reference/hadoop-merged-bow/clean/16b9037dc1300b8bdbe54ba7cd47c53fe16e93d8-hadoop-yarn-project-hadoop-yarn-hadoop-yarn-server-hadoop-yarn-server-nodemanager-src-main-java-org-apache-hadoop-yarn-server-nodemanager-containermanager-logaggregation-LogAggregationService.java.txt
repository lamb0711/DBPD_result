YARN-4096. App local logs are leaked if log aggregation fails to initialize for the app. Contributed by Jason Lowe.

+    YarnRuntimeException appDirException = null;
-      appLogAggregators.remove(appId);
-      closeFileSystems(userUgi);
+      appLogAggregator.disableLogAggregation();
-        e = new YarnRuntimeException(e);
+        appDirException = new YarnRuntimeException(e);
+      } else {
+        appDirException = (YarnRuntimeException)e;
-      throw (YarnRuntimeException)e;
-
+
+    if (appDirException != null) {
+      throw appDirException;
+    }

INS60 INS25 INS43 INS59 INS27 INS8 INS42 INS42 INS33 INS42 INS33 INS53 INS42 INS8 UPD42 UPD42 INS21 INS7 UPD42 INS42 MOV11 DEL42 DEL42 DEL42 DEL32 DEL21 DEL53