HDFS-8709. Clarify automatic sync in FSEditLog#logEdit.

-   * Write an operation to the edit log. Do not sync to persistent
-   * store yet.
+   * Write an operation to the edit log.
+   * <p/>
+   * Additionally, this will sync the edit log if required by the underlying
+   * edit stream's automatic sync policy (e.g. when the buffer is full, or
+   * if a time interval has elapsed).
+    boolean needsSync = false;
-      if (!shouldForceSync()) {
-        return;
+      needsSync = shouldForceSync();
+      if (needsSync) {
+        isAutoSyncScheduled = true;
-      isAutoSyncScheduled = true;
-    // sync buffered edit log entries to persistent store
-    logSync();
+    // Sync the log if an automatic sync is required.
+    if (needsSync) {
+      logSync();
+    }
- 
+
-   * @return the transaction id of the BEGIN_LOG_SEGMENT transaction
-   * in the new log.
+   *
+   * @param layoutVersion The layout version of the new edit log segment.
+   * @return the transaction id of the BEGIN_LOG_SEGMENT transaction in the new
+   * log.

INS60 INS25 INS65 UPD66 INS66 INS66 INS66 UPD66 INS39 INS59 INS42 INS8 INS42 INS66 UPD66 UPD66 INS42 INS9 INS21 MOV21 INS7 INS42 INS42 MOV32 MOV21 DEL38 DEL41