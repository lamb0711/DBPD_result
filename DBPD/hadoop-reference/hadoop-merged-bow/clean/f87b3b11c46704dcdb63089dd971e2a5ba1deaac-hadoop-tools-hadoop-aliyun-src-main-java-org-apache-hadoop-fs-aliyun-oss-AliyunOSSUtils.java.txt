HADOOP-16030. AliyunOSS: bring fixes back from HADOOP-15671. Contributed by wujinhu.

+import java.net.URI;
+   * @param uri uri passed by caller
-  public static CredentialsProvider getCredentialsProvider(Configuration conf)
-      throws IOException {
+  public static CredentialsProvider getCredentialsProvider(
+      URI uri, Configuration conf) throws IOException {
-                  Configuration.class).newInstance(conf);
+                  URI.class, Configuration.class).newInstance(uri, conf);

INS26 INS40 INS44 INS65 INS43 INS42 INS42 INS66 INS42 INS42 INS57 INS43 INS42