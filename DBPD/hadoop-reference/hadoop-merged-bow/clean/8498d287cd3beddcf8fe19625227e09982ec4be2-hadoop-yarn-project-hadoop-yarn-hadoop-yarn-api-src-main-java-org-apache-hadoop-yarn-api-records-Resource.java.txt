YARN-7541. Node updates don't update the maximum cluster capability for resources other than CPU and memory

+import java.util.Map;
-import com.google.common.collect.Lists;
-import org.apache.commons.lang.ArrayUtils;
-import org.apache.curator.shaded.com.google.common.reflect.ClassPath;
+  /**
+   * Create a new {@link Resource} instance with the given CPU and memory
+   * values and additional resource values as set in the {@code others}
+   * parameter. Note that the CPU and memory settings in the {@code others}
+   * parameter will be ignored.
+   *
+   * @param memory the memory value
+   * @param vCores the CPU value
+   * @param others a map of other resource values indexed by resource name
+   * @return a {@link Resource} instance with the given resource values
+   */
+  @Public
+  @Stable
+  public static Resource newInstance(long memory, int vCores,
+      Map<String, Long> others) {
+    ResourceInformation[] info = ResourceUtils.createResourceTypesArray(others);
+
+    return new LightWeightResource(memory, vCores, info);
+  }
+

UPD40 INS31 INS29 INS78 INS78 INS83 INS83 INS43 INS42 INS44 INS44 INS44 INS8 INS65 INS65 INS65 INS65 INS65 INS42 INS42 INS42 INS39 INS42 INS39 INS42 INS74 INS42 INS60 INS41 INS66 INS65 INS66 INS66 INS65 INS66 INS65 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS66 INS65 INS66 INS43 INS43 INS43 INS5 INS59 INS14 INS42 INS66 INS66 INS42 INS42 INS42 INS42 INS43 INS85 INS42 INS32 INS43 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 DEL40 DEL26 DEL40 DEL26