HDFS-12911. [SPS]: Modularize the SPS code and expose necessary interfaces for external/internal implementations. Contributed by Uma Maheswara Rao G

-        addStoragePolicySatisfier((INodeWithAdditionalFields) inode, xaf);
+        if (namesystem.getBlockManager().isSPSEnabled()) {
+          addStoragePolicySatisfier((INodeWithAdditionalFields) inode, xaf);
+        }
-    if (xaf == null || inode.isDirectory()) {
+    if (xaf == null) {

MOV27 INS25 INS32 INS8 INS32 INS42 MOV21 INS42 INS42 DEL42 DEL42 DEL32 DEL27