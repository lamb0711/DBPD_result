YARN-7240. Add more states and transitions to stabilize the NM Container state machine. (Kartheek Muthyala via asuresh)

+import org.apache.hadoop.yarn.server.nodemanager.containermanager.container.UpdateContainerTokenEvent;
+
-  private ContainerTokenIdentifier updatedToken;
-  private boolean isResourceChange;
-  private boolean isExecTypeUpdate;
-  private boolean isIncrease;
+  private final UpdateContainerTokenEvent containerEvent;
+  private final ContainerTokenIdentifier originalToken;
-   * @param originalContainer Original Container.
-   * @param updatedToken Updated Container Token.
-   * @param isResourceChange is this a Resource Change.
-   * @param isExecTypeUpdate is this an ExecTypeUpdate.
-   * @param isIncrease is this a Container Increase.
+   * @param container Container.
+   * @param origToken The Original Container Token.
+   * @param event The Container Event.
-  public UpdateContainerSchedulerEvent(Container originalContainer,
-      ContainerTokenIdentifier updatedToken, boolean isResourceChange,
-      boolean isExecTypeUpdate, boolean isIncrease) {
-    super(originalContainer, ContainerSchedulerEventType.UPDATE_CONTAINER);
-    this.updatedToken = updatedToken;
-    this.isResourceChange = isResourceChange;
-    this.isExecTypeUpdate = isExecTypeUpdate;
-    this.isIncrease = isIncrease;
+  public UpdateContainerSchedulerEvent(Container container,
+      ContainerTokenIdentifier origToken, UpdateContainerTokenEvent event) {
+    super(container, ContainerSchedulerEventType.UPDATE_CONTAINER);
+    this.containerEvent = event;
+    this.originalToken = origToken;
+  }
+
+  /**
+   * Original Token before update.
+   *
+   * @return Container Token.
+   */
+  public ContainerTokenIdentifier getOriginalToken() {
+    return this.originalToken;
-    return updatedToken;
+    return containerEvent.getUpdatedToken();
-    return isResourceChange;
+    return containerEvent.isResourceChange();
-    return isExecTypeUpdate;
+    return containerEvent.isExecTypeUpdate();
-    return isIncrease;
+    return containerEvent.isIncrease();

INS26 INS40 INS23 INS31 INS31 INS83 INS43 MOV83 UPD83 MOV83 INS43 MOV59 MOV29 MOV83 MOV42 MOV44 MOV44 MOV44 INS8 INS29 INS83 MOV43 INS42 INS8 INS42 UPD42 INS42 UPD42 UPD42 UPD42 INS43 INS42 MOV46 MOV21 MOV21 INS65 INS65 INS41 UPD42 UPD66 UPD42 UPD66 UPD42 UPD66 INS42 UPD42 INS66 INS66 INS22 INS32 INS32 INS32 INS32 UPD42 UPD42 MOV52 UPD42 MOV42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 UPD42 UPD42 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL39 DEL42 DEL39 DEL42 DEL59 DEL23 DEL39 DEL42 DEL59 DEL23 DEL83 DEL39 DEL23 DEL39 DEL42 DEL44 DEL39 DEL42 DEL44 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL22 DEL42 DEL7 DEL21 DEL8 DEL31 DEL42 DEL42 DEL42 DEL42