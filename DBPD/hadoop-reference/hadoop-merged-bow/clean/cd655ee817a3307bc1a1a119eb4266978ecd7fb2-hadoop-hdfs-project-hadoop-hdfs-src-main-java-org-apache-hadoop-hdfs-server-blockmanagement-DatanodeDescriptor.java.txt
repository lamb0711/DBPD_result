HDFS-8005. Erasure Coding: simplify striped block recovery work computation and add tests. Contributed by Jing Zhao.

-    public final short[] missingBlockIndices;
+    public final short[] liveBlockIndices;
-        DatanodeStorageInfo[] targets, short[] missingBlockIndices) {
+        DatanodeStorageInfo[] targets, short[] liveBlockIndices) {
-      this.missingBlockIndices = missingBlockIndices;
+      this.liveBlockIndices = liveBlockIndices;
+          append(" Block Indices: ").append(Arrays.asList(liveBlockIndices)).
-      DatanodeStorageInfo[] targets, short[] missingBlockIndicies) {
+      DatanodeStorageInfo[] targets, short[] liveBlockIndices) {
-        missingBlockIndicies);
+        liveBlockIndices);
-  int getNumberOfBlocksToBeErasureCoded() {
+  @VisibleForTesting
+  public int getNumberOfBlocksToBeErasureCoded() {

INS78 INS83 UPD42 INS42 UPD42 UPD42 MOV43 INS32 UPD42 INS32 INS42 MOV43 UPD42 UPD42 MOV32 INS42 INS32 UPD42 INS45 INS42 INS42 INS42