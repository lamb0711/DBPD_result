HDFS-13258. Ozone: restructure Hdsl/Ozone code to separated maven subprojects.
Contributed by Elek Marton, Mukul Kumar Singh, Xiaoyu Yao, Ajay Kumar, Anu Engineer, Lokesh Jain, Nanda Kumar.

-import org.apache.hadoop.conf.OzoneConfiguration;
+import org.apache.hadoop.hdsl.conf.OzoneConfiguration;
+import org.apache.hadoop.hdsl.HdslUtils;
-import org.apache.hadoop.ozone.client.OzoneClientUtils;
-import org.apache.hadoop.ozone.protocol.proto.OzoneProtos;
-import org.apache.hadoop.ozone.protocol.proto.OzoneProtos.NodeState;
-import org.apache.hadoop.ozone.protocol.proto.ScmBlockLocationProtocolProtos;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.ContainerReportsRequestProto;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.ContainerReportsResponseProto;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.ReportState;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMCommandResponseProto;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMHeartbeatResponseProto;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMNodeAddressList;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMNodeReport;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMRegisteredCmdResponseProto;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMReregisterCmdResponseProto;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMVersionRequestProto;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMVersionResponseProto;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.SendContainerReportProto;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.Type;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.ContainerBlocksDeletionACKProto.DeleteBlockTransactionResult;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.ContainerBlocksDeletionACKProto;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerDatanodeProtocolProtos.ContainerBlocksDeletionACKResponseProto;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerLocationProtocolProtos;
-import org.apache.hadoop.ozone.protocol.proto.StorageContainerLocationProtocolProtos.ObjectStageChangeRequestProto;
+import org.apache.hadoop.hdsl.protocol.proto.HdslProtos;
+import org.apache.hadoop.hdsl.protocol.proto.HdslProtos.NodeState;
+import org.apache.hadoop.hdsl.protocol.proto.ScmBlockLocationProtocolProtos;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.ContainerReportsRequestProto;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.ContainerReportsResponseProto;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.ReportState;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMCommandResponseProto;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMHeartbeatResponseProto;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMNodeAddressList;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMNodeReport;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMRegisteredCmdResponseProto;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMReregisterCmdResponseProto;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMVersionRequestProto;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMVersionResponseProto;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.SendContainerReportProto;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.SCMCmdType;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.ContainerBlocksDeletionACKProto.DeleteBlockTransactionResult;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.ContainerBlocksDeletionACKProto;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerDatanodeProtocolProtos.ContainerBlocksDeletionACKResponseProto;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerLocationProtocolProtos;
+import org.apache.hadoop.hdsl.protocol.proto.StorageContainerLocationProtocolProtos.ObjectStageChangeRequestProto;
+
+import static org.apache.hadoop.ozone.scm.HdslServerUtil
+    .getScmBlockClientBindAddress;
+import static org.apache.hadoop.ozone.scm.HdslServerUtil
+    .getScmClientBindAddress;
+import static org.apache.hadoop.ozone.scm.HdslServerUtil
+    .getScmDataNodeBindAddress;
+import static org.apache.hadoop.ozone.web.util.ServerUtils
+    .updateRPCListenAddress;
-import static org.apache.hadoop.ozone.protocol.proto
+import static org.apache.hadoop.hdsl.protocol.proto
-        OzoneClientUtils.getScmDataNodeBindAddress(conf);
+        getScmDataNodeBindAddress(conf);
-    datanodeRpcAddress = OzoneClientUtils.updateRPCListenAddress(conf,
+    datanodeRpcAddress = updateRPCListenAddress(conf,
-        OzoneClientUtils.getScmClientBindAddress(conf);
+        getScmClientBindAddress(conf);
-    clientRpcAddress = OzoneClientUtils.updateRPCListenAddress(conf,
+    clientRpcAddress = updateRPCListenAddress(conf,
-        OzoneClientUtils.getScmBlockClientBindAddress(conf);
+        getScmBlockClientBindAddress(conf);
-    blockRpcAddress = OzoneClientUtils.updateRPCListenAddress(conf,
+    blockRpcAddress = updateRPCListenAddress(conf,
-    if (!DFSUtil.isOzoneEnabled(conf)) {
+    if (!HdslUtils.isHdslEnabled(conf)) {
-    Type type = cmd.getType();
+    SCMCmdType type = cmd.getType();
-      return builder.setCmdType(Type.registeredCommand)
+      return builder.setCmdType(SCMCmdType.registeredCommand)
-      return builder.setCmdType(Type.versionCommand)
+      return builder.setCmdType(SCMCmdType.versionCommand)
-      return builder.setCmdType(Type.sendContainerReport)
+      return builder.setCmdType(SCMCmdType.sendContainerReport)
-      return builder.setCmdType(Type.reregisterCommand)
+      return builder.setCmdType(SCMCmdType.reregisterCommand)
-      return builder.setCmdType(Type.deleteBlocksCommand)
+      return builder.setCmdType(SCMCmdType.deleteBlocksCommand)
-      return builder.setCmdType(Type.closeContainerCommand)
+      return builder.setCmdType(SCMCmdType.closeContainerCommand)
-    StorageContainerDatanodeProtocolProtos.Type type = cmd.getType();
-    if (type != Type.registeredCommand) {
+    SCMCmdType type = cmd.getType();
+    if (type != SCMCmdType.registeredCommand) {
-  public OzoneProtos.NodePool queryNode(EnumSet<NodeState> nodeStatuses,
-      OzoneProtos.QueryScope queryScope, String poolName) throws IOException {
+  public HdslProtos.NodePool queryNode(EnumSet<NodeState> nodeStatuses,
+      HdslProtos.QueryScope queryScope, String poolName) throws IOException {
-    if (queryScope == OzoneProtos.QueryScope.POOL) {
+    if (queryScope == HdslProtos.QueryScope.POOL) {
-    OzoneProtos.NodePool.Builder poolBuilder =
-        OzoneProtos.NodePool.newBuilder();
+    HdslProtos.NodePool.Builder poolBuilder =
+        HdslProtos.NodePool.newBuilder();
-      OzoneProtos.Node node = OzoneProtos.Node.newBuilder()
+      HdslProtos.Node node = HdslProtos.Node.newBuilder()
-              OzoneProtos.LifeCycleEvent.CREATE);
+              HdslProtos.LifeCycleEvent.CREATE);
-              OzoneProtos.LifeCycleEvent.CREATED);
+              HdslProtos.LifeCycleEvent.CREATED);
-              OzoneProtos.LifeCycleEvent.FINALIZE);
+              HdslProtos.LifeCycleEvent.FINALIZE);
-              OzoneProtos.LifeCycleEvent.CLOSE);
+              HdslProtos.LifeCycleEvent.CLOSE);
-      OzoneProtos.ReplicationType replicationType,
-      OzoneProtos.ReplicationFactor factor,
-      OzoneProtos.NodePool nodePool)
+      HdslProtos.ReplicationType replicationType,
+      HdslProtos.ReplicationFactor factor,
+      HdslProtos.NodePool nodePool)
-  public Pipeline allocateContainer(OzoneProtos.ReplicationType replicationType,
-      OzoneProtos.ReplicationFactor replicationFactor, String containerName,
+  public Pipeline allocateContainer(HdslProtos.ReplicationType replicationType,
+      HdslProtos.ReplicationFactor replicationFactor, String containerName,
-      OzoneProtos.ReplicationType type, OzoneProtos.ReplicationFactor factor,
+      HdslProtos.ReplicationType type, HdslProtos.ReplicationFactor factor,

MOV26 INS26 INS26 INS26 INS26 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 INS40 INS40 INS40 INS40 UPD40 UPD43 UPD40 UPD43 UPD43 UPD43 UPD43 UPD43 UPD43 UPD43 UPD43 UPD43 UPD43 UPD40 UPD43 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD42 INS42 UPD40 UPD40 UPD40 UPD42 UPD42 UPD40 UPD43 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL40