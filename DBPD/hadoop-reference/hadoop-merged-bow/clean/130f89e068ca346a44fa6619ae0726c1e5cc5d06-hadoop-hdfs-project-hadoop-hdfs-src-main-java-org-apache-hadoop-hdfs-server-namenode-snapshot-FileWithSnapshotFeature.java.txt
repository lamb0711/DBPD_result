HDFS-15332. Quota Space consumed was wrong in truncate with Snapshots. Contributed by hemanthboyina.

+      for (FileDiff diff : diffs) {
+        BlockInfo[] diffBlocks = diff.getBlocks();
+        if (diffBlocks != null) {
+          allBlocks.addAll(Arrays.asList(diffBlocks));
+        }
+      }

INS70 INS44 INS42 INS8 INS43 INS42 INS60 INS25 INS42 INS5 INS59 INS27 INS8 INS43 INS85 INS42 INS32 INS42 INS33 INS21 INS42 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS42