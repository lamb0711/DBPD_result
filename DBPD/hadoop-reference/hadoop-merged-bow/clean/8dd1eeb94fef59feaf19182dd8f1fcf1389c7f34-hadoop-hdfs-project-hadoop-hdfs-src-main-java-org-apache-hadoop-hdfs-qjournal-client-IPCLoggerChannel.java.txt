HDFS-12553. Add nameServiceId to QJournalProtocol. Contributed by Bharat Viswanadham

+  private final String nameServiceId;
+
-        String journalId, InetSocketAddress addr) {
-      return new IPCLoggerChannel(conf, nsInfo, journalId, addr);
+        String journalId, String nameServiceId, InetSocketAddress addr) {
+      return new IPCLoggerChannel(conf, nsInfo, journalId, nameServiceId, addr);
+    this(conf, nsInfo, journalId, null, addr);
+  }
+
+  public IPCLoggerChannel(Configuration conf,
+                          NamespaceInfo nsInfo,
+                          String journalId,
+                          String nameServiceId,
+                          InetSocketAddress addr) {
+    this.nameServiceId = nameServiceId;
-    
-    return new RequestInfo(journalId, epoch, ipcSerial++, committedTxId);
+    return new RequestInfo(journalId, nameServiceId,
+        epoch, ipcSerial++, committedTxId);
-        return getProxy().isFormatted(journalId);
+        return getProxy().isFormatted(journalId, nameServiceId);
-            getProxy().getJournalState(journalId);
+            getProxy().getJournalState(journalId, nameServiceId);
-        return getProxy().newEpoch(journalId, nsInfo, epoch);
+        return getProxy().newEpoch(journalId, nameServiceId, nsInfo, epoch);
-        getProxy().format(journalId, nsInfo);
+        getProxy().format(journalId, nameServiceId, nsInfo);
-            journalId, fromTxnId, inProgressOk);
+            journalId, nameServiceId, fromTxnId, inProgressOk);
-              journalId);
+              journalId, nameServiceId);
-        getProxy().doFinalize(journalId);
+        getProxy().doFinalize(journalId, nameServiceId);
-        return getProxy().canRollBack(journalId, storage, prevStorage,
-            targetLayoutVersion);
+        return getProxy().canRollBack(journalId, nameServiceId,
+            storage, prevStorage, targetLayoutVersion);
-        getProxy().doRollback(journalId);
+        getProxy().doRollback(journalId, nameServiceId);
-        getProxy().discardSegments(journalId, startTxId);
+        getProxy().discardSegments(journalId, nameServiceId, startTxId);
-        return getProxy().getJournalCTime(journalId);
+        return getProxy().getJournalCTime(journalId, nameServiceId);

MOV31 INS23 INS31 INS83 INS83 INS43 INS59 INS83 INS42 INS44 INS44 INS44 INS44 INS8 INS44 MOV78 MOV78 MOV74 MOV78 MOV74 UPD42 MOV78 MOV74 UPD42 MOV44 INS42 INS42 INS43 INS42 INS43 INS42 INS43 INS42 INS43 INS42 INS17 INS43 INS42 INS21 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS33 INS42 INS42 INS7 INS22 INS42 INS42 INS44 INS52 INS42 MOV74 MOV74 INS43 INS42 INS42 MOV78 MOV78 MOV43 MOV43 MOV78 MOV43 MOV78 MOV78 MOV43 MOV43 INS42 MOV41 MOV41 INS32 INS42 MOV32 INS42 INS42 MOV32 INS42 MOV32 INS42 UPD42 UPD42 MOV32 UPD42 MOV42 UPD42 INS42 UPD42 MOV32 INS42 INS42 MOV32 INS42 MOV32 INS42 INS42 MOV32 INS42