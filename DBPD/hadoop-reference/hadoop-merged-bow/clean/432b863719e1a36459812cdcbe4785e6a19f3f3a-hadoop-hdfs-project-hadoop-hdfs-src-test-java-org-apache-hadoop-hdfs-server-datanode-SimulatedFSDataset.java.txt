Merge changes from trunk

-  public synchronized void unfinalizeBlock(ExtendedBlock b) {
+  public synchronized void unfinalizeBlock(ExtendedBlock b) throws IOException{
-      blockMap.remove(b.getLocalBlock());
+      final Map<Block, BInfo> map = getMap(b.getBlockPoolId());
+      map.remove(b.getLocalBlock());
-      blockMap.remove(b);
+      map.remove(b);

INS43 INS42 INS60 INS83 INS74 INS59 INS43 INS43 INS43 INS42 INS32 UPD42 UPD42 INS42 INS42 INS42 INS42 INS32 INS42 INS42