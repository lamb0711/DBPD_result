HDFS-3027. Implement a simple NN health check. Contributed by Aaron T. Myers.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1295300 13f79535-47bb-0310-9956-ffa450edef68

-    // TODO(HA): implement health check
-    return;
+    getNamesystem().checkAvailableResources();
+    if (!getNamesystem().nameNodeHasResourcesAvailable()) {
+      throw new HealthCheckFailedException(
+          "The NameNode has no resources available");
+    }

INS21 INS25 INS32 INS38 INS8 INS32 INS42 INS32 INS53 INS42 INS32 INS42 INS14 INS42 INS43 INS45 INS42 DEL41