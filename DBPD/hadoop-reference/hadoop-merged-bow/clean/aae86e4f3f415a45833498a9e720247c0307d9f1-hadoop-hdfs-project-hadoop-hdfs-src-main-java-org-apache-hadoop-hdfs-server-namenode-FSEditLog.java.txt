merge changes from trunk to HDFS-4949 branch

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1524865 13f79535-47bb-0310-9956-ffa450edef68

+  @Override
+  /** Select a list of input streams to load */
+  public Collection<EditLogInputStream> selectInputStreams(
+      long fromTxId, long toAtLeastTxId, MetaRecoveryContext recovery,
+      boolean inProgressOk) throws IOException {
+    return selectInputStreams(fromTxId, toAtLeastTxId, recovery, inProgressOk,
+        true);
+  }
+  
-   * Select a list of input streams to load.
+   * Select a list of input streams.
+   * @param forReading whether or not to use the streams to load the edit log
-      boolean inProgressOk) throws IOException {
+      boolean inProgressOk, boolean forReading) throws IOException {
-    selectInputStreams(streams, fromTxId, inProgressOk, true);
+    selectInputStreams(streams, fromTxId, inProgressOk, forReading);

INS31 INS78 INS29 INS83 INS74 INS42 INS44 INS44 INS44 INS44 INS43 INS8 INS44 INS42 INS65 INS43 INS43 INS39 INS42 INS39 INS42 INS43 INS42 INS39 INS42 INS42 INS41 INS65 INS39 INS42 INS66 INS42 INS42 INS42 INS32 UPD66 INS42 INS66 INS42 INS42 INS42 INS42 INS42 INS9 INS42 DEL9