HDFS-3969. Small bug fixes and improvements for disk locations API. Contributed by Todd Lipcon and Andrew Wang.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1572284 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.commons.codec.binary.Base64;
+import org.apache.hadoop.util.StringUtils;
+
+import com.google.common.base.Preconditions;
- * 
- * Note that invalid IDs are represented by {@link VolumeId#INVALID_VOLUME_ID}.
-    if (id == null) {
-      throw new NullPointerException("A valid Id can only be constructed " +
-      		"with a non-null byte array.");
-    }
+    Preconditions.checkNotNull(id, "id cannot be null");
-  public final boolean isValid() {
-    return true;
-  }
-
-  @Override
-    if (!arg0.isValid()) {
-      // any valid ID is greater 
-      // than any invalid ID: 
-      return 1;
-    }
-    // NB: if (!obj.isValid()) { return false; } check is not necessary
-    // because we have class identity checking above, and for this class
-    // isValid() is always true.
-    return Base64.encodeBase64String(id);
+    return StringUtils.byteToHexString(id);

MOV26 INS26 UPD40 INS40 INS21 INS32 INS42 INS42 INS42 INS45 UPD42 UPD42 DEL66 DEL42 DEL42 DEL67 DEL65 DEL66 DEL42 DEL33 DEL27 DEL42 DEL43 DEL45 DEL45 DEL27 DEL14 DEL53 DEL8 DEL25 DEL42 DEL78 DEL83 DEL83 DEL39 DEL42 DEL9 DEL41 DEL8 DEL31 DEL42 DEL42 DEL32 DEL38 DEL34 DEL41 DEL8 DEL25