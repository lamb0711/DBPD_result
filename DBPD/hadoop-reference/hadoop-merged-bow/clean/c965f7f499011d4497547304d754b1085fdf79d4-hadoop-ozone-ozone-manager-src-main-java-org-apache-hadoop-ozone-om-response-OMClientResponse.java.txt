HDDS-1551. Implement Bucket Write Requests to use Cache and DoubleBuffer. (#850)



-import org.apache.commons.lang.NotImplementedException;
-import org.apache.hadoop.ozone.om.OMMetadataManager;
-import org.apache.hadoop.utils.db.BatchOperation;
-
+import org.apache.hadoop.ozone.om.OMMetadataManager;
+import org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos
+    .OMResponse;
+import org.apache.hadoop.utils.db.BatchOperation;
+
-public interface OMClientResponse {
+public abstract class OMClientResponse {
+
+  private OMResponse omResponse;
+
+  public OMClientResponse(OMResponse omResponse) {
+    this.omResponse = omResponse;
+  }
-  default void addToDBBatch(OMMetadataManager omMetadataManager,
-      BatchOperation batchOperation) throws IOException {
-    throw new NotImplementedException("Not implemented, Each OM Response " +
-        "should implement this method");
+  public abstract void addToDBBatch(OMMetadataManager omMetadataManager,
+      BatchOperation batchOperation) throws IOException;
+
+  /**
+   * Return OMResponse.
+   * @return OMResponse
+   */
+  public OMResponse getOMResponse() {
+    return omResponse;

MOV26 MOV26 UPD40 INS83 INS23 INS31 INS31 INS83 INS43 INS59 INS83 INS42 INS44 INS8 INS83 UPD83 INS29 INS83 INS43 INS42 INS8 INS42 INS42 INS43 INS42 INS21 INS65 INS65 INS42 INS41 INS42 INS7 INS66 INS66 INS42 INS22 INS42 INS52 INS42 DEL42 DEL43 DEL45 DEL45 DEL27 DEL14 DEL53 DEL8