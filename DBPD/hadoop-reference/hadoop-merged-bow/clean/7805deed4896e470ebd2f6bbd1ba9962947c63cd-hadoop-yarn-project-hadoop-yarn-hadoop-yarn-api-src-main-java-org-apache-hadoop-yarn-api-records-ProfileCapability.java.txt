YARN-5588. [YARN-3926] Add support for resource profiles in distributed shell. Contributed by Varun Vasudev.

+    Resource none = Resource.newInstance(0, 0);
-
-    if (resourceProfilesMap.containsKey(capability.getProfileName())) {
-      resource = Resource
-          .newInstance(resourceProfilesMap.get(capability.getProfileName()));
+    String profileName = capability.getProfileName();
+    if (profileName.isEmpty()) {
+      profileName = DEFAULT_PROFILE;
+    }
+    if (resourceProfilesMap.containsKey(profileName)) {
+      resource = Resource.newInstance(resourceProfilesMap.get(profileName));
-    if(capability.getProfileCapabilityOverride()!= null) {
+    if (capability.getProfileCapabilityOverride() != null &&
+        !capability.getProfileCapabilityOverride().equals(none)) {
-        if (entry.getValue() != null && entry.getValue().getValue() != 0) {
+        if (entry.getValue() != null && entry.getValue().getValue() >= 0) {

INS60 INS60 INS25 INS43 INS59 INS43 INS59 INS32 INS8 INS27 INS42 INS42 INS32 INS42 INS42 MOV32 INS42 INS42 INS21 UPD42 MOV42 MOV27 INS38 INS42 INS42 INS34 INS34 INS7 INS32 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS42 UPD27 DEL42 DEL32