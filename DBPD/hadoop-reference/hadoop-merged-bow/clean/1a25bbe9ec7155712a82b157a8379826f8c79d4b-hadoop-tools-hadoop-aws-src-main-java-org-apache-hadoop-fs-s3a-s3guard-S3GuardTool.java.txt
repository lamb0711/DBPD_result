HADOOP-15845. Require explicit URI on CLI for s3guard init and destroy. Contributed by Gabor Bota.

-  protected void checkMetadataStoreUri(List<String> paths) throws IOException {
+  protected void checkIfS3BucketIsGuarded(List<String> paths)
+      throws IOException {
+   * Check if bucket or DDB table name is set.
+   */
+  protected void checkBucketNameOrDDBTableNameProvided(List<String> paths) {
+    String s3Path = null;
+    if(!paths.isEmpty()) {
+      s3Path = paths.get(0);
+    }
+
+    String metadataStoreUri = getCommandFormat().getOptValue(META_FLAG);
+
+    if(metadataStoreUri == null && s3Path == null) {
+      throw invalidArgs("S3 bucket url or DDB table name have to be provided "
+          + "explicitly to use " + getName() + " command.");
+    }
+  }
+
+  /**
+      try {
+        checkBucketNameOrDDBTableNameProvided(paths);
+      } catch (ExitUtil.ExitException e) {
+        errorln(USAGE);
+        throw e;
+      }
-      checkMetadataStoreUri(paths);
+      checkIfS3BucketIsGuarded(paths);
+        checkBucketNameOrDDBTableNameProvided(paths);
+        checkIfS3BucketIsGuarded(paths);
-      checkMetadataStoreUri(paths);
-

INS31 UPD42 INS29 INS83 INS39 INS42 INS44 INS8 INS65 INS74 INS42 INS60 INS25 INS60 INS25 INS66 INS43 INS43 INS43 INS59 INS38 INS8 INS43 INS59 INS27 INS8 INS54 INS42 INS42 INS42 INS42 INS33 INS32 INS21 INS42 INS42 INS32 INS27 INS27 INS53 INS8 INS12 INS42 INS42 INS7 INS32 INS42 INS42 INS42 INS33 INS42 INS33 INS32 INS21 INS44 INS8 UPD42 INS21 INS21 INS42 INS32 INS42 INS42 INS27 INS32 INS43 INS42 INS21 INS53 INS32 INS32 INS42 INS42 INS34 INS27 INS32 INS45 INS42 INS42 INS40 INS32 INS42 INS42 INS42 INS42 INS42 INS45 INS45 INS42 INS42 INS42 DEL42 DEL42 DEL32 DEL21