HDFS-7528. Consolidate symlink-related implementation into a single class. Contributed by Haohui Mai.

-        newFile = fsDir.unprotectedAddFile(inodeId,
-            iip, addCloseOp.permissions, addCloseOp.aclEntries,
-            addCloseOp.xAttrs,
-            replication, addCloseOp.mtime, addCloseOp.atime,
-            addCloseOp.blockSize, true, addCloseOp.clientName,
-            addCloseOp.clientMachine, addCloseOp.storagePolicyId);
+        newFile = fsDir.unprotectedAddFile(
+            inodeId, iip, addCloseOp.permissions, addCloseOp.aclEntries,
+            addCloseOp.xAttrs, replication, addCloseOp.mtime,
+            addCloseOp.atime, addCloseOp.blockSize, true,
+            addCloseOp.clientName, addCloseOp.clientMachine,
+            addCloseOp.storagePolicyId);
-      fsDir.unprotectedAddSymlink(iip, inodeId,
-          symlinkOp.value, symlinkOp.mtime, symlinkOp.atime,
-          symlinkOp.permissionStatus);
+      FSDirSymlinkOp.unprotectedAddSymlink(fsDir, iip, inodeId, symlinkOp.value,
+                                           symlinkOp.mtime, symlinkOp.atime,
+                                           symlinkOp.permissionStatus);

UPD42 INS42