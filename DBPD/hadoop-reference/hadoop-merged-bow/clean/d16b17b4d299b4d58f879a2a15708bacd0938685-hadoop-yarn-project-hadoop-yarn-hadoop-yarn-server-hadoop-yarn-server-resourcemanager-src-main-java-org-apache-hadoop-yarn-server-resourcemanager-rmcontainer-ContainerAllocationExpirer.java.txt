YARN-4138. Roll back container resource allocation after resource increase token expires. Contributed by Meng Ding

-import org.apache.hadoop.yarn.api.records.ContainerId;
-    AbstractLivelinessMonitor<ContainerId> {
+    AbstractLivelinessMonitor<AllocationExpirationInfo> {
-  protected void expire(ContainerId containerId) {
-    dispatcher.handle(new ContainerExpiredSchedulerEvent(containerId));
+  protected void expire(AllocationExpirationInfo allocationExpirationInfo) {
+    dispatcher.handle(new ContainerExpiredSchedulerEvent(
+        allocationExpirationInfo.getContainerId(),
+            allocationExpirationInfo.isIncrease()));
-}
+}

UPD74 UPD43 UPD42 UPD43 UPD42 UPD42 INS32 INS32 INS42 INS42 INS42 INS42 DEL40 DEL26 DEL42