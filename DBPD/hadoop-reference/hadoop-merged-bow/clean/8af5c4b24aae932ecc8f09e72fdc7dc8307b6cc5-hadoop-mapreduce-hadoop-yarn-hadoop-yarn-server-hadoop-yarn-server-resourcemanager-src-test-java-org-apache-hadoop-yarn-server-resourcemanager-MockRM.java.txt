MAPREDUCE-2649. Handling of finished applications in RM. Contributed by Thomas Graves.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1160521 13f79535-47bb-0310-9956-ffa450edef68

-    RMApp app = getRMContext().getRMApps().get(appId);
+    RMApp app = null;
+    while ((app == null) && timeoutSecs++ < 20) {
+      app = getRMContext().getRMApps().get(appId);
+      Thread.sleep(500);
+    }
+    timeoutSecs = 0;
-    return new ClientRMService(getRMContext(),
-        clientToAMSecretManager, getResourceScheduler(), masterService) {
+    return new ClientRMService(getRMContext(), getResourceScheduler()) {

MOV60 INS61 INS21 INS27 INS8 INS7 INS33 INS36 INS27 INS21 INS21 INS42 INS34 INS27 INS37 INS34 INS7 INS32 INS42 INS33 INS42 INS42 MOV32 INS42 INS42 INS34 DEL42 DEL42