YARN-6903. Yarn-native-service framework core rewrite. Contributed by Jian He

+import org.apache.commons.logging.Log;
+import org.apache.commons.logging.LogFactory;
+import org.apache.hadoop.yarn.service.compinstance.ComponentInstance;
+import org.apache.hadoop.yarn.service.compinstance.ComponentInstanceId;
+  private static final Log LOG =
+      LogFactory.getLog(YarnRegistryViewForProviders.class);
-
-
-  private final ApplicationAttemptId applicationAttemptId;
-    this.applicationAttemptId = applicationAttemptId;
-  }
-
-  public ApplicationAttemptId getApplicationAttemptId() {
-    return applicationAttemptId;
-  public String getSliderServiceClass() {
-    return sliderServiceClass;
-  }
-
-  public String getInstanceName() {
-    return instanceName;
-  }
-
-  public RegistryOperations getRegistryOperations() {
-    return registryOperations;
-  }
-
-  public ServiceRecord getSelfRegistration() {
-    return selfRegistration;
-  }
-   * @param serviceClass service class to use under ~user
-   * @param serviceName name of the service
-   * @param record service record
-   * @param deleteTreeFirst perform recursive delete of the path first
-   * @return the path the service was created at
-   * @throws IOException
-   */
-  public String putService(
-      String serviceClass,
-      String serviceName,
-      ServiceRecord record,
-      boolean deleteTreeFirst) throws IOException {
-    return putService(user, serviceClass, serviceName, record, deleteTreeFirst);
-  }
-
-
-  /**
-   * Add a service under a path for the current user
-   * Update the self record by pushing out the latest version of the service
-   * registration record. 
-   * @throws IOException any failure.
-   */
-  public void updateSelf() throws IOException {
-    putService(user, sliderServiceClass, instanceName, selfRegistration, false);
-  }
-    
-  /**
-   * @param componentName component name
+   * @param containerId component name
-  public void deleteComponent(String componentName) throws IOException {
+  public void deleteComponent(ComponentInstanceId instanceId,
+      String containerId) throws IOException {
-        componentName);
+        containerId);
+    LOG.info(instanceId + ": Deleting registry path " + path);

INS26 INS26 INS26 INS26 INS40 INS40 INS40 INS40 INS23 MOV83 INS83 INS83 INS43 INS59 MOV44 UPD42 MOV42 INS42 INS32 UPD43 UPD42 UPD42 INS21 INS42 INS42 INS57 UPD42 UPD42 MOV43 INS32 INS43 INS42 INS42 INS27 UPD42 MOV42 UPD42 INS42 INS45 INS42 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL83 DEL42 DEL43 DEL42 DEL42 DEL41 DEL8 DEL31 DEL83 DEL43 DEL42 DEL42 DEL41 DEL8 DEL31 DEL83 DEL42 DEL43 DEL42 DEL42 DEL41 DEL8 DEL31 DEL83 DEL43 DEL42 DEL42 DEL41 DEL8 DEL31 DEL83 DEL42 DEL43 DEL42 DEL42 DEL41 DEL8 DEL31 DEL66 DEL65 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL66 DEL65 DEL42 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL39 DEL42 DEL44 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL41 DEL8 DEL31 DEL66 DEL66 DEL65 DEL42 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL42 DEL9 DEL32 DEL21 DEL8 DEL31 DEL42 DEL43