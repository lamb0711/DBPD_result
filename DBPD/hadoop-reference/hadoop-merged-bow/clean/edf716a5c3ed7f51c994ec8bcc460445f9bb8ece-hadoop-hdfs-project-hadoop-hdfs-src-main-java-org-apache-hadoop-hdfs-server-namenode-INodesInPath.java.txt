Revert "HDFS-15372. Files in snapshots no longer see attribute provider permissions. Contributed by Stephen O'Donnell."

This reverts commit 730a39d1388548f22f76132a6734d61c24c3eb72.

-  /**
-   * Returns true if the given path component starts with the same byte stream
-   * as {@link HdfsConstants#DOT_SNAPSHOT_DIR}, indicating the component
-   * starts with a DotSnapshot directory.
-   * @param pathComponent Bytes representing the pathComponent
-   * @return True is the component starts with
-   *         {@link HdfsConstants#DOT_SNAPSHOT_DIR} and false otherwise.
-   */
-  private static boolean isDotSnapshotDirPrefix(byte[] pathComponent) {
-    return pathComponent != null &&
-        isDotSnapshotDir(Arrays.copyOf(
-            pathComponent, HdfsServerConstants.DOT_SNAPSHOT_DIR_BYTES.length));
-  }
-
-  /**
-   * Retrieves the existing INodes from a path, starting at the root directory.
-   * The root directory is located by following the parent link in the inode
-   * recursively until the final root inode is found.
-   * The inodes returned will depend upon the output of inode.getFullPathName().
-   * For a snapshot path, like /data/.snapshot/snap1, it will be resolved to:
-   *     [null, data, .snapshot/snap1]
-   * For a file in the snapshot, as inode.getFullPathName resolves the snapshot
-   * information, the returned inodes for a path like /data/.snapshot/snap1/d1
-   * would be:
-   *     [null, data, d1]
-   * @param inode the {@link INode} to be resolved
-   * @return INodesInPath
-   */
-  static INodesInPath resolveFromRoot(INode inode) {
-    INode[] inodes = getINodes(inode);
-    byte[][] paths = INode.getPathComponents(inode.getFullPathName());
-    INodeDirectory rootDir = inodes[0].asDirectory();
-    return resolve(rootDir, paths);
-  }
-
-   * @return Return true if .snapshot is the prefix of the last path component.
-   */
-  boolean isDotSnapshotDirPrefix() {
-    return isDotSnapshotDirPrefix(getLastLocalName());
-  }
-
-  /**

DEL66 DEL66 DEL42 DEL42 DEL67 DEL65 DEL66 DEL66 DEL65 DEL42 DEL66 DEL65 DEL66 DEL42 DEL42 DEL67 DEL65 DEL66 DEL65 DEL29 DEL83 DEL83 DEL39 DEL42 DEL39 DEL85 DEL5 DEL42 DEL44 DEL42 DEL33 DEL27 DEL42 DEL42 DEL42 DEL42 DEL40 DEL32 DEL32 DEL27 DEL41 DEL8 DEL31 DEL66 DEL66 DEL66 DEL66 DEL66 DEL66 DEL66 DEL66 DEL66 DEL66 DEL65 DEL42 DEL66 DEL42 DEL65 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL85 DEL5 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL39 DEL85 DEL85 DEL5 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL34 DEL2 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL41 DEL8 DEL31 DEL66 DEL65 DEL29 DEL39 DEL42 DEL42 DEL42 DEL32 DEL32 DEL41 DEL8 DEL31