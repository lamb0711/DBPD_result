HDFS-7928. Scanning blocks from disk during rolling upgrade startup takes a lot of time if disks are busy. Contributed by Rushabh Shah.

+import org.apache.hadoop.hdfs.protocol.BlockListAsLongs;
-import org.codehaus.jackson.map.ObjectReader;
-      entry.getValue().shutdown();
+      entry.getValue().shutdown(null);
-  void shutdownBlockPool(String bpid) {
+  void shutdownBlockPool(String bpid, BlockListAsLongs blocksListsAsLongs) {
-      bp.shutdown();
+      bp.shutdown(blocksListsAsLongs);

MOV26 UPD40 INS44 INS43 INS42 INS42 INS33 INS42