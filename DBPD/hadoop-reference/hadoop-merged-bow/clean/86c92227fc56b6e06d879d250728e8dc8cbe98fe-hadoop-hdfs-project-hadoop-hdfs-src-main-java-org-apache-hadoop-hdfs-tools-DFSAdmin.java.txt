HDFS-4015. Safemode should count and report orphaned blocks. (Contributed by Anu Engineer)

+    long bytesInFuture = dfs.getBytesWithFutureGenerationStamps();
+      if (bytesInFuture > 0) {
+        System.out.println("\nWARNING: ");
+        System.out.println("Name node has detected blocks with generation " +
+            "stamps in future.");
+        System.out.println("Forcing exit from safemode will cause " +
+            bytesInFuture + " byte(s) to be deleted.");
+        System.out.println("If you are sure that the NameNode was started with"
+            + " the correct metadata files then you may proceed with " +
+            "'-safemode forceExit'\n");
+      }
+    } else if ("forceExit".equalsIgnoreCase(argv[idx])){
+      action = HdfsConstants.SafeModeAction.SAFEMODE_FORCE_EXIT;
-    String safemode = "-safemode <enter|leave|get|wait>:  Safe mode maintenance command.\n" + 
+    String safemode = "-safemode <enter|leave|get|wait|forceExit>:  Safe mode " +
+        "maintenance command.\n" +
-          + " [-safemode enter | leave | get | wait]");
+          + " [-safemode enter | leave | get | wait | forceExit]");

INS60 INS39 INS59 INS8 INS42 INS32 MOV21 INS25 INS42 INS42 INS27 MOV8 UPD45 INS45 INS42 INS34 INS21 INS21 INS21 INS21 INS25 INS32 INS32 INS32 INS32 INS32 INS8 MOV8 INS40 INS42 INS45 INS40 INS42 INS27 INS40 INS42 INS27 INS40 INS42 INS27 INS45 INS42 INS2 INS21 UPD45 INS45 INS45 INS45 INS42 INS45 INS45 INS45 INS45 INS42 INS42 INS7 INS42 INS40