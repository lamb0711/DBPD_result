Merge trunk into HA branch


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1170378 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.hadoop.classification.InterfaceAudience.Private;
-import org.apache.hadoop.classification.InterfaceStability.Unstable;
-   * Get all <code>LocalResource</code> required by the container.
+   * Get <code>LocalResource</code> required by the container.
-  Map<String, LocalResource> getAllLocalResources();
+  Map<String, LocalResource> getLocalResources();
-  @Private
-  @Unstable
-  LocalResource getLocalResource(String key);
-
-   * Add all <code>LocalResource</code> required by the container.
+   * Set <code>LocalResource</code> required by the container.
-  void addAllLocalResources(Map<String, LocalResource> localResources);
-
-  @Private
-  @Unstable
-  void setLocalResource(String key, LocalResource value);
-
-  @Private
-  @Unstable
-  void removeLocalResource(String key);
-
-  @Private
-  @Unstable
-  void clearLocalResources();
+  void setLocalResources(Map<String, LocalResource> localResources);
-   * Get application-specific binary service data.
-   * @return application-specific binary service data
+   * Get application-specific binary <em>service data</em>.
+   * @return application-specific binary <em>service data</em>
-  Map<String, ByteBuffer> getAllServiceData();
-  
-  @Private
-  @Unstable
-  ByteBuffer getServiceData(String key);
-
-  /**
-   * Add add application-specific binary service data.
-   * @param serviceData application-specific binary service data
-   */
-  @Public
-  @Stable
-  void addAllServiceData(Map<String, ByteBuffer> serviceData);
-
-  @Private
-  @Unstable
-  void setServiceData(String key, ByteBuffer value);
-
-  @Private
-  @Unstable
-  void removeServiceData(String key);
-
-  @Private
-  @Unstable
-  void clearServiceData();
-
-  /**
-   * Get <em>environment variables</em> for the launched container.
-   * @return <em>environment variables</em> for the launched container
-   */
-  @Public
-  @Stable
-  Map<String, String> getAllEnv();
-  
-  @Private
-  @Unstable
-  String getEnv(String key);
+  Map<String, ByteBuffer> getServiceData();
-   * Add <em>environment variables</em> for the launched container.
-   * @param env <em>environment variables</em> for the launched container
+   * Set application-specific binary <em>service data</em>.
+   * @param serviceData application-specific binary <em>service data</em>
-  void addAllEnv(Map<String, String> env);
+  void setServiceData(Map<String, ByteBuffer> serviceData);
-  @Private
-  @Unstable
-  void setEnv(String key, String value);
-
-  @Private
-  @Unstable
-  void removeEnv(String key);
-
-  @Private
-  @Unstable
-  void clearEnv();
+  /**
+   * Get <em>environment variables</em> for the container.
+   * @return <em>environment variables</em> for the container
+   */
+  @Public
+  @Stable
+  Map<String, String> getEnv();
+    
+  /**
+   * Add <em>environment variables</em> for the container.
+   * @param environment <em>environment variables</em> for the container
+   */
+  @Public
+  @Stable
+  void setEnv(Map<String, String> environment);
-  List<String> getCommandList();
-  
-  @Private
-  @Unstable
-  String getCommand(int index);
-  
-  @Private
-  @Unstable
-  int getCommandCount();
+  List<String> getCommands();
-  void addAllCommands(List<String> commands);
+  void setCommands(List<String> commands);
-  @Private
-  @Unstable
-  void addCommand(String command);
-  
-  @Private
-  @Unstable
-  void removeCommand(int index);
-  
-  @Private
-  @Unstable
-  void clearCommands();

UPD42 UPD42 UPD42 UPD42 MOV78 MOV78 UPD42 MOV78 MOV78 UPD42 UPD42 UPD42 UPD42 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD42 UPD66 DEL40 DEL26 DEL40 DEL26 DEL42 DEL78 DEL42 DEL78 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL31 DEL42 DEL78 DEL42 DEL78 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL31 DEL42 DEL78 DEL42 DEL78 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL31 DEL42 DEL78 DEL42 DEL78 DEL42 DEL43 DEL42 DEL39 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL39 DEL42 DEL44 DEL31 DEL42 DEL78 DEL42 DEL78 DEL39 DEL42 DEL31