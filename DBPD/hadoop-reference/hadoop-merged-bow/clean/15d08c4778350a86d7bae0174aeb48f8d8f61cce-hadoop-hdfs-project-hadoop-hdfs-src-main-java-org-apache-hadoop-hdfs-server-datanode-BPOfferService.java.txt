HDFS-5349. DNA_CACHE and DNA_UNCACHE should be by blockId only (cmccabe)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1532116 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.hdfs.server.protocol.BlockIdCommand;
+    final BlockIdCommand blockIdCmd = 
+      cmd instanceof BlockIdCommand ? (BlockIdCommand)cmd: null;
-      dn.getFSDataset().cache(bcmd.getBlockPoolId(), bcmd.getBlocks());
-      dn.metrics.incrBlocksCached(bcmd.getBlocks().length);
+      dn.getFSDataset().cache(blockIdCmd.getBlockPoolId(), blockIdCmd.getBlockIds());
+      dn.metrics.incrBlocksCached(blockIdCmd.getBlockIds().length);
-      dn.getFSDataset().uncache(bcmd.getBlockPoolId(), bcmd.getBlocks());
-      dn.metrics.incrBlocksUncached(bcmd.getBlocks().length);
+      dn.getFSDataset().uncache(blockIdCmd.getBlockPoolId(), blockIdCmd.getBlockIds());
+      dn.metrics.incrBlocksUncached(blockIdCmd.getBlockIds().length);

INS26 INS40 INS60 INS83 INS43 INS59 INS42 INS42 INS16 INS62 INS11 INS33 MOV32 MOV32 INS42 INS43 INS43 INS42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 INS42 INS42 UPD42 UPD42 UPD42 UPD42