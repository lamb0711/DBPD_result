Revert "HADOOP-15870. S3AInputStream.remainingInFile should use nextReadPos."

This reverts commit 7a4b3d42c4e36e468c2a46fd48036a6fed547853.

The patch broke TestRouterWebHDFSContractSeek as it turns out that
WebHDFSInputStream.available() is always 0.

-  public synchronized long getPos() {
+  public synchronized long getPos() throws IOException {
-  /**
-   * Return the number of bytes available.
-   * If the inner stream is closed, the value is 1 for consistency
-   * with S3ObjectStream -and so address the GZip bug
-   * http://bugs.java.com/bugdatabase/view_bug.do?bug_id=7036144 .
-   * If the stream is open, then it is the amount returned by the
-   * wrapped stream.
-   * @return a value greater than or equal to zero.
-   * @throws IOException IO failure.
-   */
-    if (contentLength == 0 || (nextReadPos >= contentLength)) {
-      return 0;
-    }
-    return wrappedStream == null
-        ? 1
-        : wrappedStream.available();
+    long remaining = remainingInFile();
+    if (remaining > Integer.MAX_VALUE) {
+      return Integer.MAX_VALUE;
+    }
+    return (int)remaining;
-  public synchronized long remainingInFile() throws IOException {
-    return contentLength - getPos();
+  public synchronized long remainingInFile() {
+    return this.contentLength - this.pos;
-    return contentRangeFinish - getPos();
+    return this.contentRangeFinish - this.pos;

MOV43 INS60 INS25 INS39 INS59 INS27 MOV8 INS11 INS42 INS32 UPD42 MOV42 INS40 INS39 INS42 INS22 INS22 INS22 INS22 INS42 INS40 INS52 INS42 INS52 INS42 INS52 INS42 INS52 INS42 DEL66 DEL66 DEL66 DEL66 DEL66 DEL66 DEL65 DEL66 DEL65 DEL42 DEL66 DEL65 DEL29 DEL34 DEL42 DEL34 DEL27 DEL42 DEL27 DEL36 DEL27 DEL25 DEL42 DEL33 DEL27 DEL34 DEL42 DEL42 DEL32 DEL16 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32