HADOOP-15962. The buffer size is small when unpacking tar archives. Contributed by BELUGA BEHR.

-        inputStream = new BufferedInputStream(new GZIPInputStream(
-            new FileInputStream(inFile)));
+        inputStream = new GZIPInputStream(new FileInputStream(inFile));
-        inputStream = new BufferedInputStream(new FileInputStream(inFile));
+        inputStream = new FileInputStream(inFile);
+      inputStream = new BufferedInputStream(inputStream);
+
-        inputStream = new BufferedInputStream(new GZIPInputStream(
-            inputStream));
-      } else {
-        inputStream =
-            new BufferedInputStream(inputStream);
+        inputStream = new GZIPInputStream(inputStream);
-
+      inputStream = new BufferedInputStream(inputStream);
-    int count;
-    byte data[] = new byte[2048];
-    try (BufferedOutputStream outputStream = new BufferedOutputStream(
-        new FileOutputStream(outputFile));) {
-
-      while ((count = tis.read(data)) != -1) {
-        outputStream.write(data, 0, count);
-      }
-
-      outputStream.flush();
-    }
+    org.apache.commons.io.FileUtils.copyToFile(tis, outputFile);

MOV21 INS21 MOV21 INS40 UPD42 UPD42 UPD42 INS7 INS42 INS14 INS43 INS42 MOV14 MOV14 INS42 MOV14 DEL42 DEL43 DEL14 DEL42 DEL43 DEL14 DEL42 DEL43 DEL14 DEL8 DEL42 DEL34 DEL39 DEL42 DEL59 DEL60 DEL39 DEL42 DEL85 DEL39 DEL85 DEL5 DEL34 DEL3 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL43 DEL42 DEL14 DEL14 DEL59 DEL58 DEL42 DEL42 DEL42 DEL42 DEL32 DEL7 DEL36 DEL34 DEL38 DEL27 DEL8 DEL61 DEL42 DEL42 DEL32 DEL21 DEL8 DEL54