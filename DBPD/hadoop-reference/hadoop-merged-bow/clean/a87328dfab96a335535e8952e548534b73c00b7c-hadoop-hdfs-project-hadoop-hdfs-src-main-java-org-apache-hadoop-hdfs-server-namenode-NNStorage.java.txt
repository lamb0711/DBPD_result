HDFS-2943. Expose last checkpoint time and transaction stats as JMX metrics. Contributed by Aaron T. Myers.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1243822 13f79535-47bb-0310-9956-ffa450edef68

+  
+  /**
+   * Time of the last checkpoint, in milliseconds since the epoch.
+   */
+  private long mostRecentCheckpointTime = 0;
-   * Set the transaction ID of the last checkpoint
+   * Set the transaction ID and time of the last checkpoint
+   * 
+   * @param txid transaction id of the last checkpoint
+   * @param time time of the last checkpoint, in millis since the epoch
-  void setMostRecentCheckpointTxId(long txid) {
+  void setMostRecentCheckpointInfo(long txid, long time) {
+    this.mostRecentCheckpointTime = time;
-   * Return the transaction ID of the last checkpoint.
+   * @return the transaction ID of the last checkpoint.
+  
+  /**
+   * @return the time of the most recent checkpoint in millis since the epoch.
+   */
+  long getMostRecentCheckpointTime() {
+    return mostRecentCheckpointTime;
+  }

INS23 INS31 INS29 INS83 INS39 INS59 UPD42 INS44 INS29 INS39 INS42 INS8 INS65 INS42 INS34 INS65 INS65 INS39 INS42 INS21 UPD65 INS65 INS41 INS66 UPD66 INS42 INS66 INS42 INS66 INS7 UPD66 INS66 INS42 INS22 INS42 INS52 INS42