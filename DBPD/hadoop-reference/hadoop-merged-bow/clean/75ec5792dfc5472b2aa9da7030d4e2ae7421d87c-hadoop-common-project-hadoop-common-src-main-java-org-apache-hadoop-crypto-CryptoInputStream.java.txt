HADOOP-10653. Add a new constructor for CryptoInputStream that receives current position of wrapped stream. Contributed by Yi Liu

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/fs-encryption@1599228 13f79535-47bb-0310-9956-ffa450edef68

+    this(in, codec, bufferSize, key, iv, 
+        CryptoStreamUtils.getInputStreamOffset(in));
+  }
+  
+  public CryptoInputStream(InputStream in, CryptoCodec codec,
+      int bufferSize, byte[] key, byte[] iv, long streamOffset) throws IOException {
+    this.streamOffset = streamOffset;
-    if (in instanceof Seekable) {
-      streamOffset = ((Seekable) in).getPos();
-    }

INS31 INS83 INS42 INS44 INS44 INS44 INS44 INS44 INS43 INS8 INS44 INS43 INS42 INS43 INS42 INS39 INS42 INS5 INS42 INS5 INS42 INS42 INS17 INS39 INS42 MOV21 INS42 INS42 INS39 INS85 INS39 INS85 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS22 INS42 INS52 INS42 DEL42 DEL42 DEL43 DEL42 DEL11 DEL36 DEL42 DEL32 DEL42 DEL42 DEL43 DEL62 DEL8 DEL25