YARN=5526. DrainDispacher#serviceStop blocked if setDrainEventsOnStop invoked (sandflee via Varun Saxena)

-        while (!drained && eventHandlingThread != null
+        while (!isDrained() && eventHandlingThread != null
+
+  protected boolean isDrained() {
+    return drained;
+  }

INS31 INS83 INS39 INS42 INS8 INS41 INS42 INS32 INS42 DEL42