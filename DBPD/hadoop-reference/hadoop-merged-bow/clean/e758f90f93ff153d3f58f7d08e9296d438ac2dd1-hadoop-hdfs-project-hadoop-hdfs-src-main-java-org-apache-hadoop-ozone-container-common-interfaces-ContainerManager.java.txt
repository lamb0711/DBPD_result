HDFS-10195. Ozone: Add container persistence. Contributed by Anu Engineer.

+import org.apache.hadoop.conf.Configuration;
+import org.apache.hadoop.hdfs.server.datanode.fsdataset.FsDatasetSpi;
+import org.apache.hadoop.hdfs.util.RwLock;
+import java.nio.file.Path;
+
-public interface ContainerManager {
+public interface ContainerManager extends RwLock {
+
+  /**
+   * Init call that sets up a container Manager.
+   *
+   * @param config  - Configuration.
+   * @param containerDirs - List of Metadata Container locations.
+   * @param dataset - FSDataset.
+   * @throws IOException
+   */
+  void init(Configuration config, List<Path> containerDirs,
+            FsDatasetSpi dataset)
+      throws IOException;
-   * @param start - Starting index
+   * @param prevKey - Starting KeyValue
-  void listContainer(long start, long count, List<ContainerData> data)
+  void listContainer(String prevKey, long count, List<ContainerData> data)
-   * @return ContainerData
+   * @return ContainerData - Container Data.
+
+  /**
+   * Supports clean shutdown of container.
+   *
+   * @throws IOException
+   */
+  void shutdown() throws IOException;
+

INS26 INS26 INS26 INS26 INS40 INS40 INS40 INS40 INS43 INS31 INS31 INS42 INS29 INS39 INS42 INS44 INS44 INS44 INS43 INS29 INS39 INS42 INS43 INS65 INS65 INS65 INS65 INS65 INS43 INS42 INS74 INS42 INS43 INS42 INS42 INS43 INS42 INS65 INS65 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS42 INS43 INS43 INS42 UPD42 UPD66 INS42 UPD66 INS66 INS42 INS42 INS42 DEL39 DEL42