HDFS-7889 Subclass DFSOutputStream to support writing striping layout files. Contributed by Li Bo

+import java.nio.ByteBuffer;
+  synchronized void writeData(ByteBuffer inBuffer, int len)
+      throws ClosedChannelException {
+    checkBuffer();
+    len =  len > inBuffer.remaining() ? inBuffer.remaining() : len;
+    if (dataPos + len > buf.length) {
+      throw new BufferOverflowException();
+    }
+    for (int i = 0; i < len; i++) {
+      buf[dataPos + i] = inBuffer.get();
+    }
+    dataPos += len;
+  }
+
-  boolean isLastPacketInBlock(){
+  boolean isLastPacketInBlock() {
-  long getSeqno(){
+  long getSeqno() {
-  synchronized int getNumChunks(){
+  synchronized int getNumChunks() {
-  synchronized void incNumChunks(){
+  synchronized void incNumChunks() {
-  int getMaxChunks(){
+  int getMaxChunks() {
-  synchronized void setSyncBlock(boolean syncBlock){
+  synchronized void setSyncBlock(boolean syncBlock) {

INS26 INS40 INS31 INS83 INS39 INS42 INS44 INS44 INS43 INS8 INS43 INS42 INS39 INS42 INS42 INS21 INS21 INS25 INS24 INS21 INS42 INS32 INS7 INS27 INS8 INS58 INS27 INS37 INS8 INS7 INS42 INS42 INS16 INS27 INS40 INS53 INS39 INS59 INS42 INS42 INS42 INS21 INS42 INS42 INS27 INS32 INS42 INS42 INS42 INS14 INS42 INS34 INS7 INS42 INS32 INS42 INS42 INS43 INS2 INS32 INS42 INS42 INS42 INS42 INS27 INS42 INS42 INS42 INS42