HDFS-2671. NN should throw StandbyException in response to RPCs in STANDBY state. Contributed by Todd Lipcon.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-1623@1214117 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.hadoop.ipc.StandbyException;
-  public void checkOperation(final HAContext context, final OperationCategory op)
-      throws UnsupportedActionException {
-    String msg = "Operation category " + op + " is not supported in state "
-        + context.getState();
-    throw new UnsupportedActionException(msg);
-  }
+  public abstract void checkOperation(final HAContext context, final OperationCategory op)
+      throws StandbyException;

INS26 INS40 INS83 UPD43 UPD42 DEL42 DEL43 DEL42 DEL45 DEL42 DEL45 DEL42 DEL42 DEL32 DEL27 DEL59 DEL60 DEL42 DEL43 DEL42 DEL14 DEL53 DEL8