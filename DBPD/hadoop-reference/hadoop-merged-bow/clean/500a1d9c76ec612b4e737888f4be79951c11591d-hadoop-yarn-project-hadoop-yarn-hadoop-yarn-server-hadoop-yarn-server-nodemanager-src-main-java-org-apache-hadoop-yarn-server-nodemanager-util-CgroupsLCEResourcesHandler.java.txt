YARN-160. Enhanced NodeManager to automatically obtain cpu/memory values from underlying OS when configured to do so. Contributed by Varun Vasudev.

-import java.io.FileReader;
-  
+  int nodeVCores;
+
+    nodeVCores = NodeManagerHardwareUtils.getVCores(plugin, conf);
+
-    yarnProcessors = NodeManagerHardwareUtils.getContainersCores(plugin, conf);
-    int systemProcessors = plugin.getNumProcessors();
+    yarnProcessors = NodeManagerHardwareUtils.getContainersCPUs(plugin, conf);
+    int systemProcessors = NodeManagerHardwareUtils.getNodeCPUs(plugin, conf);
-        int nodeVCores =
-            conf.getInt(YarnConfiguration.NM_VCORES,
-              YarnConfiguration.DEFAULT_NM_VCORES);

INS23 INS39 INS59 INS42 INS21 INS7 INS42 INS32 INS42 INS42 INS42 INS42 UPD42 INS42 INS42 UPD42 DEL40 DEL26 DEL39 DEL42 DEL42 DEL42 DEL40 DEL40 DEL32 DEL59 DEL60