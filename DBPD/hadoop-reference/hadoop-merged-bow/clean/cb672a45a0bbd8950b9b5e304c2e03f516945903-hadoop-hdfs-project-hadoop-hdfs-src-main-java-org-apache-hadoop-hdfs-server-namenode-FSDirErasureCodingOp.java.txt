HDFS-11605. Allow user to customize new erasure code policies. Contributed by Huafeng Wang

-import org.apache.hadoop.hdfs.protocol.SystemErasureCodingPolicies;
+import org.apache.hadoop.hdfs.protocol.IllegalECPolicyException;
+  static void addErasureCodePolicy(final FSNamesystem fsn,
+      ErasureCodingPolicy policy) throws IllegalECPolicyException {
+    Preconditions.checkNotNull(policy);
+    fsn.getErasureCodingPolicyManager().addPolicy(policy);
+  }
+
-              SystemErasureCodingPolicies.getByID(id);
+              fsd.getFSNamesystem().getErasureCodingPolicyManager().getByID(id);
-            return SystemErasureCodingPolicies.getByName(ecPolicyName);
+            return fsd.getFSNamesystem().getErasureCodingPolicyManager()
+              .getByName(ecPolicyName);

UPD40 INS31 INS83 INS39 INS42 INS44 INS44 INS43 INS8 INS83 INS43 INS42 INS43 INS42 INS42 INS21 INS21 INS42 INS42 INS32 INS32 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS32 INS32 UPD42 MOV42 INS32 INS42 INS42 INS32 UPD42 MOV42 INS42 INS42