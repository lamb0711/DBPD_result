HDFS-8372. Erasure coding: compute storage type quotas for striped files, to be consistent with HDFS-8327. Contributed by Zhe Zhang.

+import org.apache.hadoop.hdfs.server.blockmanagement.BlockInfoStripedUnderConstruction;
-  boolean removeLastBlock(Block oldblock) {
+  BlockInfoStripedUnderConstruction removeLastBlock(
+      Block oldblock) {
-      return false;
+      return null;
-      return false;
+      return null;
+    BlockInfoStripedUnderConstruction uc =
+        (BlockInfoStripedUnderConstruction) blocks[newSize];
-    return true;
+    return uc;

INS26 INS40 INS43 INS42 INS60 INS43 INS59 INS42 INS42 INS42 INS11 INS33 INS33 INS43 INS2 INS42 INS42 INS42 DEL39 DEL9 DEL9 DEL9