HDFS-5483. NN should gracefully handle multiple block replicas on same DN. (Arpit Agarwal)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1570040 13f79535-47bb-0310-9956-ffa450edef68

-      if (storedBlock != null && (curIndex = storedBlock.findDatanode(dn)) >= 0) {
+      if (storedBlock != null &&
+          (curIndex = storedBlock.findStorageInfo(storageInfo)) >= 0) {

UPD42 UPD42