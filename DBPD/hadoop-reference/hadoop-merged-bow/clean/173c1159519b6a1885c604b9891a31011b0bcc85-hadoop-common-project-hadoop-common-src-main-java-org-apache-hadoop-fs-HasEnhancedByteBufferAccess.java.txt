HDFS-6065. HDFS zero-copy reads should return null on EOF when doing ZCR (cmccabe)

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1575109 13f79535-47bb-0310-9956-ffa450edef68

-   *            We will return null on EOF (and only on EOF).
-   *            Otherwise, we will return a direct ByteBuffer containing at
-   *            least one byte.  You must free this ByteBuffer when you are 
-   *            done with it by calling releaseBuffer on it.
-   *            The buffer will continue to be readable until it is released 
-   *            in this manner.  However, the input stream's close method may
-   *            warn about unclosed buffers.
+   *            We will always return an empty buffer if maxLength was 0,
+   *            whether or not we are at EOF.
+   *            If maxLength > 0, we will return null if the stream has
+   *            reached EOF.
+   *            Otherwise, we will return a ByteBuffer containing at least one 
+   *            byte.  You must free this ByteBuffer when you are done with it 
+   *            by calling releaseBuffer on it.  The buffer will continue to be
+   *            readable until it is released in this manner.  However, the
+   *            input stream's close method may warn about unclosed buffers.
-}
+}

UPD66 INS66 UPD66 INS66 UPD66 UPD66 UPD66 UPD66 UPD66