Merge remote-tracking branch 'apache/trunk' into HDFS-7285

-    this.diagnostics.append(appState.getDiagnostics());
+    this.diagnostics.append(null == appState.getDiagnostics() ? "" : appState
+        .getDiagnostics());

INS16 INS27 INS45 MOV32 INS33 INS32 INS42 INS42