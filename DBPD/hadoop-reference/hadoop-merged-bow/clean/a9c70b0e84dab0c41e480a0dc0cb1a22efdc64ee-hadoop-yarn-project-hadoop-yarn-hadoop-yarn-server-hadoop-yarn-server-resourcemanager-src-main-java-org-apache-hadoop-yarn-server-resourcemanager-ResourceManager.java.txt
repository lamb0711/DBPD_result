YARN-7453. Fix issue where RM fails to switch to active after first successful start. (Rohith Sharma K S via asuresh)

-      this.zkManager = getAndStartZKManager(conf);
+      this.zkManager = createAndStartZKManager(conf);
-  public synchronized ZKCuratorManager getAndStartZKManager(Configuration
+  public ZKCuratorManager createAndStartZKManager(Configuration
-    if (this.zkManager != null) {
-      return zkManager;
-    }
-    this.zkManager = manager;
+    return manager;
+  }
+
+  public ZKCuratorManager getZKManager() {

INS31 UPD42 INS83 INS43 INS42 MOV8 INS42 UPD42 UPD42 DEL83 DEL52 DEL42 DEL22 DEL33 DEL27 DEL25 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21