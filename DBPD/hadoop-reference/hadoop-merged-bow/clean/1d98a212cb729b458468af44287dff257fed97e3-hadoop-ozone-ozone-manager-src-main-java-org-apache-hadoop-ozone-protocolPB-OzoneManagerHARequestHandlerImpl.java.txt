HDDS-1819. Implement S3 Commit MPU request to use Cache and DoubleBuffer. (#1140)



-    .Status;
-import org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos
+    case CommitMultiPartUpload:
-      // If any error we have got when validateAndUpdateCache, OMResponse
-      // Status is set with Error Code other than OK, in that case don't
-      // add this to double buffer.
-      if (omClientResponse.getOMResponse().getStatus() == Status.OK) {
-        ozoneManagerDoubleBuffer.add(omClientResponse, transactionLogIndex);
-      }
+
+      // Add OMClient Response to double buffer.
+      // Each OMClient Response should handle what needs to be done in error
+      // case.
+      ozoneManagerDoubleBuffer.add(omClientResponse, transactionLogIndex);
+

INS49 MOV21 INS42 DEL40 DEL26 DEL42 DEL42 DEL32 DEL42 DEL32 DEL40 DEL27 DEL8 DEL25