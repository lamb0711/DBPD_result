YARN-1929. Fixed a deadlock in ResourceManager that occurs when failover happens right at the time of shutdown. Contributed by Karthik Kambatla.


git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1591071 13f79535-47bb-0310-9956-ffa450edef68

-  protected synchronized void serviceInit(Configuration conf)
+  protected void serviceInit(Configuration conf)
-  protected synchronized void serviceStart() throws Exception {
+  protected void serviceStart() throws Exception {
-  protected synchronized void serviceStop() throws Exception {
+  protected void serviceStop() throws Exception {
-  public synchronized void becomeActive() throws ServiceFailedException {
+  public void becomeActive() throws ServiceFailedException {
-  public synchronized void becomeStandby() {
+  public void becomeStandby() {
-  public synchronized void notifyFatalError(String errorMessage) {
+  public void notifyFatalError(String errorMessage) {
-  public synchronized void fenceOldActive(byte[] oldActiveData) {
+  public void fenceOldActive(byte[] oldActiveData) {
-  private synchronized boolean isParentZnodeSafe(String clusterId)
+  private boolean isParentZnodeSafe(String clusterId)

DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83 DEL83