HDDS-167. Rename KeySpaceManager to OzoneManager. Contributed by Arpit Agarwal.

-import org.apache.hadoop.ozone.ksm.helpers.KsmBucketArgs;
-import org.apache.hadoop.ozone.ksm.helpers.KsmBucketInfo;
-import org.apache.hadoop.ozone.ksm.helpers.KsmKeyArgs;
-import org.apache.hadoop.ozone.ksm.helpers.KsmKeyInfo;
-import org.apache.hadoop.ozone.ksm.helpers.KsmKeyLocationInfo;
-import org.apache.hadoop.ozone.ksm.helpers.KsmVolumeArgs;
-import org.apache.hadoop.ozone.ksm.helpers.OpenKeySession;
-import org.apache.hadoop.ozone.ksm.helpers.ServiceInfo;
-import org.apache.hadoop.ozone.ksm.protocol.KeySpaceManagerProtocol;
-import org.apache.hadoop.ozone.ksm.protocolPB.KeySpaceManagerProtocolPB;
-import org.apache.hadoop.ozone.ksm.exceptions.KSMException;
+import org.apache.hadoop.ozone.om.helpers.OmBucketArgs;
+import org.apache.hadoop.ozone.om.helpers.OmBucketInfo;
+import org.apache.hadoop.ozone.om.helpers.OmKeyArgs;
+import org.apache.hadoop.ozone.om.helpers.OmKeyInfo;
+import org.apache.hadoop.ozone.om.helpers.OmKeyLocationInfo;
+import org.apache.hadoop.ozone.om.helpers.OmVolumeArgs;
+import org.apache.hadoop.ozone.om.helpers.OpenKeySession;
+import org.apache.hadoop.ozone.om.helpers.ServiceInfo;
+import org.apache.hadoop.ozone.om.protocol.OzoneManagerProtocol;
+import org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolPB;
+import org.apache.hadoop.ozone.om.exceptions.OMException;
-    .KeySpaceManagerProtocolProtos.AllocateBlockRequest;
+    .OzoneManagerProtocolProtos.AllocateBlockRequest;
-    .KeySpaceManagerProtocolProtos.AllocateBlockResponse;
+    .OzoneManagerProtocolProtos.AllocateBlockResponse;
-    .KeySpaceManagerProtocolProtos.CommitKeyRequest;
+    .OzoneManagerProtocolProtos.CommitKeyRequest;
-    .KeySpaceManagerProtocolProtos.CommitKeyResponse;
+    .OzoneManagerProtocolProtos.CommitKeyResponse;
-    .KeySpaceManagerProtocolProtos.CreateBucketRequest;
+    .OzoneManagerProtocolProtos.CreateBucketRequest;
-    .KeySpaceManagerProtocolProtos.CreateBucketResponse;
+    .OzoneManagerProtocolProtos.CreateBucketResponse;
-    .KeySpaceManagerProtocolProtos.InfoBucketRequest;
+    .OzoneManagerProtocolProtos.InfoBucketRequest;
-    .KeySpaceManagerProtocolProtos.InfoBucketResponse;
+    .OzoneManagerProtocolProtos.InfoBucketResponse;
-    .KeySpaceManagerProtocolProtos.SetBucketPropertyRequest;
+    .OzoneManagerProtocolProtos.SetBucketPropertyRequest;
-    .KeySpaceManagerProtocolProtos.SetBucketPropertyResponse;
+    .OzoneManagerProtocolProtos.SetBucketPropertyResponse;
-    .KeySpaceManagerProtocolProtos.DeleteBucketRequest;
+    .OzoneManagerProtocolProtos.DeleteBucketRequest;
-    .KeySpaceManagerProtocolProtos.DeleteBucketResponse;
+    .OzoneManagerProtocolProtos.DeleteBucketResponse;
-    .KeySpaceManagerProtocolProtos.CreateVolumeRequest;
+    .OzoneManagerProtocolProtos.CreateVolumeRequest;
-    .KeySpaceManagerProtocolProtos.CreateVolumeResponse;
+    .OzoneManagerProtocolProtos.CreateVolumeResponse;
-    .KeySpaceManagerProtocolProtos.LocateKeyRequest;
+    .OzoneManagerProtocolProtos.LocateKeyRequest;
-    .KeySpaceManagerProtocolProtos.LocateKeyResponse;
+    .OzoneManagerProtocolProtos.LocateKeyResponse;
-    .KeySpaceManagerProtocolProtos.RenameKeyRequest;
+    .OzoneManagerProtocolProtos.RenameKeyRequest;
-    .KeySpaceManagerProtocolProtos.RenameKeyResponse;
+    .OzoneManagerProtocolProtos.RenameKeyResponse;
-    .KeySpaceManagerProtocolProtos.KeyArgs;
+    .OzoneManagerProtocolProtos.KeyArgs;
-    .KeySpaceManagerProtocolProtos.SetVolumePropertyRequest;
+    .OzoneManagerProtocolProtos.SetVolumePropertyRequest;
-    .KeySpaceManagerProtocolProtos.SetVolumePropertyResponse;
+    .OzoneManagerProtocolProtos.SetVolumePropertyResponse;
-    .KeySpaceManagerProtocolProtos.CheckVolumeAccessRequest;
+    .OzoneManagerProtocolProtos.CheckVolumeAccessRequest;
-    .KeySpaceManagerProtocolProtos.CheckVolumeAccessResponse;
+    .OzoneManagerProtocolProtos.CheckVolumeAccessResponse;
-    .KeySpaceManagerProtocolProtos.InfoVolumeRequest;
+    .OzoneManagerProtocolProtos.InfoVolumeRequest;
-    .KeySpaceManagerProtocolProtos.InfoVolumeResponse;
+    .OzoneManagerProtocolProtos.InfoVolumeResponse;
-    .KeySpaceManagerProtocolProtos.DeleteVolumeRequest;
+    .OzoneManagerProtocolProtos.DeleteVolumeRequest;
-    .KeySpaceManagerProtocolProtos.DeleteVolumeResponse;
+    .OzoneManagerProtocolProtos.DeleteVolumeResponse;
-    .KeySpaceManagerProtocolProtos.ListVolumeRequest;
+    .OzoneManagerProtocolProtos.ListVolumeRequest;
-    .KeySpaceManagerProtocolProtos.ListVolumeResponse;
+    .OzoneManagerProtocolProtos.ListVolumeResponse;
-    .KeySpaceManagerProtocolProtos.ListBucketsRequest;
+    .OzoneManagerProtocolProtos.ListBucketsRequest;
-    .KeySpaceManagerProtocolProtos.ListBucketsResponse;
+    .OzoneManagerProtocolProtos.ListBucketsResponse;
-    .KeySpaceManagerProtocolProtos.ListKeysRequest;
+    .OzoneManagerProtocolProtos.ListKeysRequest;
-    .KeySpaceManagerProtocolProtos.ListKeysResponse;
+    .OzoneManagerProtocolProtos.ListKeysResponse;
-    .KeySpaceManagerProtocolProtos.Status;
+    .OzoneManagerProtocolProtos.Status;
-    .KeySpaceManagerProtocolProtos.ServiceListRequest;
+    .OzoneManagerProtocolProtos.ServiceListRequest;
-    .KeySpaceManagerProtocolProtos.ServiceListResponse;
+    .OzoneManagerProtocolProtos.ServiceListResponse;
- * {@link org.apache.hadoop.ozone.ksm.protocolPB.KeySpaceManagerProtocolPB}
- * to the KeySpaceManagerService server implementation.
+ * {@link OzoneManagerProtocolPB}
+ * to the OzoneManagerService server implementation.
-public class KeySpaceManagerProtocolServerSideTranslatorPB implements
-    KeySpaceManagerProtocolPB {
+public class OzoneManagerProtocolServerSideTranslatorPB implements
+    OzoneManagerProtocolPB {
-      .getLogger(KeySpaceManagerProtocolServerSideTranslatorPB.class);
-  private final KeySpaceManagerProtocol impl;
+      .getLogger(OzoneManagerProtocolServerSideTranslatorPB.class);
+  private final OzoneManagerProtocol impl;
-   * @param impl KeySpaceManagerProtocolPB
+   * @param impl OzoneManagerProtocolPB
-  public KeySpaceManagerProtocolServerSideTranslatorPB(
-      KeySpaceManagerProtocol impl) {
+  public OzoneManagerProtocolServerSideTranslatorPB(
+      OzoneManagerProtocol impl) {
-    if (ex instanceof KSMException) {
-      KSMException ksmException = (KSMException)ex;
-      switch (ksmException.getResult()) {
+    if (ex instanceof OMException) {
+      OMException omException = (OMException)ex;
+      switch (omException.getResult()) {
+      case FAILED_KEY_ALLOCATION:
+        return Status.KEY_ALLOCATION_ERROR;
+      case FAILED_KEY_DELETION:
+        return Status.KEY_DELETION_ERROR;
+      case FAILED_KEY_RENAME:
+        return Status.KEY_RENAME_ERROR;
+      case FAILED_METADATA_ERROR:
+        return Status.METADATA_ERROR;
+      case OM_NOT_INITIALIZED:
+        return Status.OM_NOT_INITIALIZED;
+      case SCM_VERSION_MISMATCH_ERROR:
+        return Status.SCM_VERSION_MISMATCH_ERROR;
-      impl.createVolume(KsmVolumeArgs.getFromProtobuf(request.getVolumeInfo()));
+      impl.createVolume(OmVolumeArgs.getFromProtobuf(request.getVolumeInfo()));
-      KsmVolumeArgs ret = impl.getVolumeInfo(volume);
+      OmVolumeArgs ret = impl.getVolumeInfo(volume);
-    List<KsmVolumeArgs> result = Lists.newArrayList();
+    List<OmVolumeArgs> result = Lists.newArrayList();
-      impl.createBucket(KsmBucketInfo.getFromProtobuf(
+      impl.createBucket(OmBucketInfo.getFromProtobuf(
-      KsmBucketInfo ksmBucketInfo = impl.getBucketInfo(
+      OmBucketInfo omBucketInfo = impl.getBucketInfo(
-      resp.setBucketInfo(ksmBucketInfo.getProtobuf());
+      resp.setBucketInfo(omBucketInfo.getProtobuf());
-      KsmKeyArgs ksmKeyArgs = new KsmKeyArgs.Builder()
+      OmKeyArgs omKeyArgs = new OmKeyArgs.Builder()
-        ksmKeyArgs.setDataSize(keyArgs.getDataSize());
+        omKeyArgs.setDataSize(keyArgs.getDataSize());
-        ksmKeyArgs.setDataSize(0);
+        omKeyArgs.setDataSize(0);
-      OpenKeySession openKey = impl.openKey(ksmKeyArgs);
+      OpenKeySession openKey = impl.openKey(omKeyArgs);
-      KsmKeyArgs ksmKeyArgs = new KsmKeyArgs.Builder()
+      OmKeyArgs omKeyArgs = new OmKeyArgs.Builder()
-      KsmKeyInfo keyInfo = impl.lookupKey(ksmKeyArgs);
+      OmKeyInfo keyInfo = impl.lookupKey(omKeyArgs);
-      KsmKeyArgs ksmKeyArgs = new KsmKeyArgs.Builder()
+      OmKeyArgs omKeyArgs = new OmKeyArgs.Builder()
-      impl.renameKey(ksmKeyArgs, request.getToKeyName());
+      impl.renameKey(omKeyArgs, request.getToKeyName());
-      impl.setBucketProperty(KsmBucketArgs.getFromProtobuf(
+      impl.setBucketProperty(OmBucketArgs.getFromProtobuf(
-      KsmKeyArgs ksmKeyArgs = new KsmKeyArgs.Builder()
+      OmKeyArgs omKeyArgs = new OmKeyArgs.Builder()
-      impl.deleteKey(ksmKeyArgs);
+      impl.deleteKey(omKeyArgs);
-      List<KsmBucketInfo> buckets = impl.listBuckets(
+      List<OmBucketInfo> buckets = impl.listBuckets(
-      for(KsmBucketInfo bucket : buckets) {
+      for(OmBucketInfo bucket : buckets) {
-      List<KsmKeyInfo> keys = impl.listKeys(
+      List<OmKeyInfo> keys = impl.listKeys(
-      for(KsmKeyInfo key : keys) {
+      for(OmKeyInfo key : keys) {
-      KsmKeyArgs ksmKeyArgs = new KsmKeyArgs.Builder()
+      OmKeyArgs omKeyArgs = new OmKeyArgs.Builder()
-      impl.commitKey(ksmKeyArgs, id);
+      impl.commitKey(omKeyArgs, id);
-      KsmKeyArgs ksmKeyArgs = new KsmKeyArgs.Builder()
+      OmKeyArgs omKeyArgs = new OmKeyArgs.Builder()
-      KsmKeyLocationInfo newLocation = impl.allocateBlock(ksmKeyArgs, id);
+      OmKeyLocationInfo newLocation = impl.allocateBlock(omKeyArgs, id);

UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD42 UPD43 UPD42 UPD43 UPD42 UPD66 UPD42 UPD43 INS42 UPD66 UPD42 UPD74 UPD43 UPD43 UPD43 UPD42 UPD42 UPD43 INS41 INS49 INS41 INS49 INS41 INS49 INS41 INS49 INS41 INS49 INS41 INS49 UPD43 UPD42 UPD43 UPD43 UPD43 UPD43 UPD43 UPD43 UPD74 UPD74 UPD43 UPD43 UPD43 UPD42 UPD42 UPD42 INS42 INS40 INS42 INS40 INS42 INS40 INS42 INS40 INS42 INS40 INS42 INS40 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD43 UPD43 UPD43 UPD43 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD43 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 MOV32 UPD42 MOV32 UPD43 UPD43 UPD43 UPD43 UPD40 UPD40 UPD40 UPD40 UPD43 UPD43 UPD40 UPD40 DEL40