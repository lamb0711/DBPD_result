HADOOP-14254. Add a Distcp option to preserve Erasure Coding attributes. Contributed by Ayush Saxena.

+      FileStatus sourceStatus;
+        sourceStatus = sourceFS.getFileStatus(sourcePath);
-            sourceFS.getFileStatus(sourcePath),
+            sourceStatus,
-        createTargetDirsWithRetry(description, target, context);
+        createTargetDirsWithRetry(description, target, context, sourceStatus);
-            targetStatus, context, action, fileAttributes);
+            targetStatus, context, action, fileAttributes, sourceStatus);
-  private static EnumSet<DistCpOptions.FileAttribute>
+  static EnumSet<DistCpOptions.FileAttribute>
+  @SuppressWarnings("checkstyle:parameternumber")
-      EnumSet<DistCpOptions.FileAttribute> fileAttributes)
+      EnumSet<FileAttribute> fileAttributes, FileStatus sourceStatus)
-              fileAttributes);
+              fileAttributes, sourceStatus);
-  private void createTargetDirsWithRetry(String description,
-                   Path target, Context context) throws IOException {
+  private void createTargetDirsWithRetry(String description, Path target,
+      Context context, FileStatus sourceStatus) throws IOException {
-      new RetriableDirectoryCreateCommand(description).execute(target, context);
+      new RetriableDirectoryCreateCommand(description).execute(target,
+          context, sourceStatus);

INS79 INS44 INS44 INS42 INS45 UPD74 INS43 INS42 INS43 INS42 UPD43 INS42 INS42 INS60 INS42 INS43 INS59 INS42 INS42 INS21 INS42 INS7 INS42 MOV32 INS42 INS42 INS42 INS42 DEL83 DEL40