HADOOP-9631. ViewFs should use underlying FileSystem's server side defaults. Contributed by Lohit Vijayarenu and Erik Krogen.

+  @Deprecated
+  public FsServerDefaults getServerDefaults(final Path f) throws IOException {
+    InodeTree.ResolveResult<AbstractFileSystem> res;
+    try {
+      res = fsState.resolve(getUriPath(f), true);
+    } catch (FileNotFoundException fnfe) {
+      return LocalConfigKeys.getServerDefaults();
+    }
+    return res.targetFileSystem.getServerDefaults(res.remainingPath);
+  }
+
+  @Override
+    @Deprecated
-      throw new IOException("FsServerDefaults not implemented yet");
+      return LocalConfigKeys.getServerDefaults();
+    }
+
+    @Override
+    public FsServerDefaults getServerDefaults(final Path f) throws IOException {
+      return LocalConfigKeys.getServerDefaults();

INS31 INS78 INS43 INS78 INS83 MOV43 INS42 INS44 INS43 INS8 INS31 INS42 INS42 INS42 INS83 INS43 INS42 INS42 INS60 INS54 INS41 INS78 INS43 INS78 INS83 MOV43 INS42 INS44 MOV43 INS8 INS42 INS74 INS59 INS8 INS12 INS32 INS42 INS42 INS41 INS42 INS83 INS43 INS42 INS41 INS43 INS43 INS42 INS21 INS44 INS8 INS40 INS42 INS40 INS32 INS42 INS32 INS40 INS42 INS7 INS43 INS42 INS41 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS32 INS42 INS42 INS32 INS9 INS42 INS42 INS42 INS42 DEL45 DEL14 DEL53