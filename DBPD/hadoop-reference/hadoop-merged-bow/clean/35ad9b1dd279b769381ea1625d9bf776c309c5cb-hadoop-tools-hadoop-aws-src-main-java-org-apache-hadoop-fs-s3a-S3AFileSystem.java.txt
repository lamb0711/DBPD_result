HADOOP-13974. S3Guard CLI to support list/purge of pending multipart commits.
Contributed by Aaron Fabbri

+import javax.annotation.Nullable;
+  private WriteOperationHelper writeHelper;
+      writeHelper = new WriteOperationHelper(this, getConf());
-            createWriteOperationHelper(),
+            getWriteOperationHelper(),
-   * Create a new {@code WriteOperationHelper} instance.
+   * Get a {@code WriteOperationHelper} instance.
-  public WriteOperationHelper createWriteOperationHelper() {
-    return new WriteOperationHelper(this);
+  public WriteOperationHelper getWriteOperationHelper() {
+    return writeHelper;
+   * List any pending multipart uploads whose keys begin with prefix, using
+   * an iterator that can handle an unlimited number of entries.
+   * See {@link #listMultipartUploads(String)} for a non-iterator version of
+   * this.
+   *
+   * @param prefix optional key prefix to search
+   * @return Iterator over multipart uploads.
+   * @throws IOException on failure
+   */
+  public MultipartUtils.UploadIterator listUploads(@Nullable String prefix)
+      throws IOException {
+    return MultipartUtils.listMultipartUploads(s3, invoker, bucket, maxKeys,
+        prefix);
+  }
+
+  /**
+   * See {@link #listUploads(String)} for an iterator-based version that does
+   * not limit the number of entries returned.
-

INS26 INS40 INS23 INS31 INS83 INS43 INS59 UPD42 INS29 INS83 INS43 INS42 INS44 INS43 INS8 INS42 INS42 INS65 INS65 INS65 INS65 INS40 INS78 INS43 INS42 INS42 INS41 UPD66 INS42 INS66 INS66 INS66 INS65 INS66 INS66 INS42 INS66 INS66 INS42 INS66 INS42 INS42 INS32 INS66 INS65 INS66 INS66 INS21 INS68 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS68 INS7 INS42 INS69 INS42 INS69 INS42 INS14 UPD42 INS43 INS43 MOV43 INS52 INS32 INS42 INS42 INS42 DEL52 DEL14