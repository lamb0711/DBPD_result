Merge branch 'HDFS-12943' into trunk

-      rpcTimeout, connectionRetryPolicy, null);
+      rpcTimeout, connectionRetryPolicy, null, null);
-      AtomicBoolean fallbackToSimpleAuth) throws IOException {
+      AtomicBoolean fallbackToSimpleAuth, AlignmentContext alignmentContext)
+      throws IOException {
-        rpcTimeout, connectionRetryPolicy, fallbackToSimpleAuth);
+        rpcTimeout, connectionRetryPolicy, fallbackToSimpleAuth,
+        alignmentContext);
+    private AlignmentContext alignmentContext;
-        AtomicBoolean fallbackToSimpleAuth) throws IOException {
+        AtomicBoolean fallbackToSimpleAuth, AlignmentContext alignmentContext)
+        throws IOException {
+      this.alignmentContext = alignmentContext;
-            fallbackToSimpleAuth);
+            fallbackToSimpleAuth, alignmentContext);
-      String portRangeConfig)
+      String portRangeConfig, AlignmentContext alignmentContext)
-        portRangeConfig);
+        portRangeConfig, alignmentContext);
-     * the range of ports used when port is 0 (an ephemeral port)
+     * @param alignmentContext provides server state info on client responses
-        String portRangeConfig)
+        String portRangeConfig, AlignmentContext alignmentContext)
+      setAlignmentContext(alignmentContext);

INS44 INS23 INS44 INS43 INS42 INS83 INS43 INS59 INS44 INS43 INS42 INS44 INS42 INS42 INS42 INS43 INS42 INS21 INS42 INS65 INS43 INS42 INS21 INS33 INS42 INS7 INS42 INS42 INS66 INS42 INS32 INS42 INS22 INS42 INS42 INS42 INS52 INS42 INS42 DEL66