HDFS-7185. The active NameNode will not accept an fsimage sent from the standby during rolling upgrade. Contributed by Jing Zhao.

-    public void load(File file) throws IOException {
+    public void load(File file, boolean requireSameLayoutVersion)
+        throws IOException {
-              conf, fsn);
+              conf, fsn, requireSameLayoutVersion);
-

INS44 INS39 INS42 MOV43 MOV43 INS42