HDFS-11412. Maintenance minimum replication config value allowable range should be [0, DefaultReplication]. (Manoj Govindassamy via mingma)

-    if (minMaintenanceR > minR) {
+    if (minMaintenanceR > defaultReplication) {
-          + DFSConfigKeys.DFS_NAMENODE_REPLICATION_MIN_KEY
-          + " = " + minR);
+          + DFSConfigKeys.DFS_REPLICATION_KEY
+          + " = " + defaultReplication);
-      return minReplicationToBeInMaintenance;
+      return (short) Math.min(minReplicationToBeInMaintenance,
+          block.getReplication());

UPD42 INS11 INS39 INS32 UPD40 UPD42 INS42 INS42 INS42 INS32 INS42 INS42 DEL42