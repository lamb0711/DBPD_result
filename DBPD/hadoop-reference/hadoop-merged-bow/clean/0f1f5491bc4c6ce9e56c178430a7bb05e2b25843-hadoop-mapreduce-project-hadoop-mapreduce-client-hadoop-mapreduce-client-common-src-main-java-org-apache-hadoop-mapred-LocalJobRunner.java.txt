MAPREDUCE-4278. Cannot run two local jobs in parallel from the same gateway. Contributed by Sandy Ryza.

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1430363 13f79535-47bb-0310-9956-ffa450edef68

+  // used for making sure that local jobs run in different jvms don't
+  // collide on staging or job directories
+  private int randid;
+  
-    return new org.apache.hadoop.mapreduce.JobID("local", ++jobid);
+    return new org.apache.hadoop.mapreduce.JobID("local" + randid, ++jobid);
+    randid = rand.nextInt(Integer.MAX_VALUE);
-      user = ugi.getShortUserName() + rand.nextInt();
+      user = ugi.getShortUserName() + randid;
-      user = "dummy" + rand.nextInt();
+      user = "dummy" + randid;

INS23 INS83 INS39 INS59 INS42 INS21 INS7 INS27 INS42 INS32 INS45 INS42 INS42 INS42 INS40 INS42 INS42 DEL45 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32