HDFS-12919. RBF: Support erasure coding methods in RouterRpcServer. Contributed by Inigo Goiri.

+  /** Number of datanodes per nameservice. */
+  private int numDatanodesPerNameservice = 2;
-  public RouterDFSCluster(boolean ha, int numNameservices, int numNamnodes) {
-    this(ha, numNameservices, numNamnodes,
+  public RouterDFSCluster(boolean ha, int numNameservices, int numNamenodes) {
+    this(ha, numNameservices, numNamenodes,
+  public void setNumDatanodesPerNameservice(int num) {
+    this.numDatanodesPerNameservice = num;
+  }
+
-          .numDataNodes(nameservices.size()*2)
+          .numDataNodes(nameservices.size() * numDatanodesPerNameservice)

INS23 INS31 INS29 INS83 INS39 INS59 INS83 INS39 INS42 INS44 INS8 INS65 INS42 INS34 UPD42 INS39 INS42 INS21 INS66 UPD42 INS7 INS22 INS42 INS52 INS42 INS42 DEL34