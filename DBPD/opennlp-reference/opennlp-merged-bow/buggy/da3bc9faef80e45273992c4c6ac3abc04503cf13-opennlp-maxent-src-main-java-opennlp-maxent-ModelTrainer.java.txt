Fixes to Perceptron (OPENNLP-154 improved normalization, OPENNLP-155 improved checking of training accuracy); 
OPENNLP-156 improved command line trainer so that a Perceptron model is actually stored, so that options are passed to Perceptron training, and so that output of ModelApplier is one line per test event.

git-svn-id: https://svn.apache.org/repos/asf/incubator/opennlp/trunk@1091994 13f79535-47bb-0310-9956-ffa450edef68

+import opennlp.model.AbstractModelWriter;
+import opennlp.perceptron.SuffixSensitivePerceptronModelWriter;
-      GIS.SMOOTHING_OBSERVATION = SMOOTHING_OBSERVATION;
+
+      File outputFile = new File(modelFileName);
+
+      AbstractModelWriter writer;
+
+	GIS.SMOOTHING_OBSERVATION = SMOOTHING_OBSERVATION;
-          model = GIS.trainModel(maxit, new OnePassRealValueDataIndexer(es, 0),
-              USE_SMOOTHING);
+          model = GIS.trainModel(maxit, 
+				 new OnePassRealValueDataIndexer(es, cutoff),              
+				 USE_SMOOTHING);
+
+	writer = new SuffixSensitiveGISModelWriter(model, outputFile);
+
-        System.err.println("Perceptron training");
-        model = new PerceptronTrainer().trainModel(10, new OnePassDataIndexer(
-            es, 0), 0);
+        //System.err.println("Perceptron training");
+        model = new PerceptronTrainer().trainModel(maxit, new OnePassDataIndexer(es, cutoff), cutoff);
+
+	writer = new SuffixSensitivePerceptronModelWriter(model, outputFile);
+
-        System.err.println("Unknown model type: " + type);
-        model = null;
+        throw new RuntimeException("Unknown model type: " + type);
-      File outputFile = new File(modelFileName);
-      GISModelWriter writer = new SuffixSensitiveGISModelWriter(model,
-          outputFile);
+
+

INS26 INS26 INS40 INS40 MOV60 MOV25 UPD43 UPD42 MOV21 INS21 MOV21 INS7 INS53 INS42 MOV14 INS7 INS14 INS42 INS14 INS43 MOV27 INS42 INS42 INS43 INS42 INS42 INS42 INS42 INS42 INS42 DEL34 DEL34 DEL34 DEL34 DEL40 DEL42 DEL45 DEL32 DEL40 DEL42 DEL32 DEL21 DEL42 DEL33 DEL7 DEL21