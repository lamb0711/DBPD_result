OPENNLP-402 Added formats support to trainer and evaluator tools. Refactoring of various things. Thanks to Aliaksandr Autayeu for providing a patch.

git-svn-id: https://svn.apache.org/repos/asf/incubator/opennlp/trunk@1209220 13f79535-47bb-0310-9956-ffa450edef68

+import opennlp.tools.cmdline.BaseCLITool;
-import opennlp.tools.cmdline.CmdLineTool;
-import opennlp.tools.cmdline.TerminateToolException;
-public class DoccatTool implements CmdLineTool {
+public class DoccatTool extends BaseCLITool {
-  public String getName() {
-    return "Doccat";
-  }
-  
-    if (args.length != 1) {
+    if (0 == args.length) {
-      throw new TerminateToolException(1);
-    }
-    
-    DoccatModel model = new DoccatModelLoader().load(new File(args[0]));
-    
-    DocumentCategorizerME doccat = new DocumentCategorizerME(model);
-    
-    ObjectStream<String> documentStream = new ParagraphStream(
-        new PlainTextByLineStream(new InputStreamReader(System.in)));
-    
-    PerformanceMonitor perfMon = new PerformanceMonitor(System.err, "doc");
-    perfMon.start();
-    
-    try {
-      String document;
-      while ((document = documentStream.read()) != null) {
-        double prob[] = doccat.categorize(document);
-        String category = doccat.getBestCategory(prob);
-        
-        DocumentSample sample = new DocumentSample(category, document);
-        System.out.println(sample.toString());
-        
-        perfMon.incrementCounter();
+    } else {
+
+      DoccatModel model = new DoccatModelLoader().load(new File(args[0]));
+
+      DocumentCategorizerME doccat = new DocumentCategorizerME(model);
+
+      ObjectStream<String> documentStream = new ParagraphStream(
+          new PlainTextByLineStream(new InputStreamReader(System.in)));
+
+      PerformanceMonitor perfMon = new PerformanceMonitor(System.err, "doc");
+      perfMon.start();
+
+      try {
+        String document;
+        while ((document = documentStream.read()) != null) {
+          double prob[] = doccat.categorize(document);
+          String category = doccat.getBestCategory(prob);
+
+          DocumentSample sample = new DocumentSample(category, document);
+          System.out.println(sample.toString());
+
+          perfMon.incrementCounter();
+        }
+      catch (IOException e) {
+        CmdLineUtil.handleStdinIoError(e);
+      }
+
+      perfMon.stopAndPrintFinalResult();
-    catch (IOException e) {
-      CmdLineUtil.handleStdinIoError(e);
-    }
-    
-    perfMon.stopAndPrintFinalResult();

MOV26 UPD40 UPD43 UPD42 UPD27 INS8 INS34 MOV60 MOV60 MOV60 MOV60 MOV21 MOV54 MOV21 DEL40 DEL26 DEL83 DEL42 DEL43 DEL42 DEL45 DEL41 DEL8 DEL31 DEL34 DEL42 DEL43 DEL34 DEL14 DEL53