OPENNLP-600
Changed to MockInputStreamFactory everywhere except where a reader was being used in the PlainTextBylineStream constructor

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1564379 13f79535-47bb-0310-9956-ffa450edef68

-
+import opennlp.tools.ml.model.RealValueFileEventStream;
- * Performs k-best search over sequence.  This is based on the description in
+ * Performs k-best search over sequence. This is based on the description in
-
-
-   * @param size The size of the beam (k).
-   * @param cg the context generator for the model.
-   * @param model the model for assigning probabilities to the sequence outcomes.
+   * @param size  The size of the beam (k).
+   * @param cg    the context generator for the model.
+   * @param model the model for assigning probabilities to the sequence
+   *              outcomes.
-      int cacheSize) {
-    this (size, cg, model, null, cacheSize);
+          int cacheSize) {
+    this(size, cg, model, null, cacheSize);
-      SequenceValidator<T> validator, int cacheSize) {
+          SequenceValidator<T> validator, int cacheSize) {
-   * Note:
-   * This method will be private in the future because clients can now
+   * Note: This method will be private in the future because clients can now
-    }
-    else {
+    } else {
-   * @param numSequences The maximum number of sequences to be returned.
-   * @param sequence The input sequence.
-   * @param additionalContext An Object[] of additional context.  This is passed to the context generator blindly with the assumption that the context are appropiate.
-   * @param minSequenceScore A lower bound on the score of a returned sequence.
+   * @param numSequences      The maximum number of sequences to be returned.
+   * @param sequence          The input sequence.
+   * @param additionalContext An Object[] of additional context. This is passed
+   *                          to the context generator blindly with the
+   *                          assumption that the context are appropiate.
+   * @param minSequenceScore  A lower bound on the score of a returned sequence.
+      //  float[] realValues = RealValueFileEventStream.parseContexts(contexts);
-            scores = model.eval(contexts, probs);
-            contextsCache.put(contexts,scores);
+           // if (realValues != null) {
+           //   scores = model.eval(contexts, realValues);
+           // } else {
+              scores = model.eval(contexts, probs);
+           // }
+            contextsCache.put(contexts, scores);
-        }
-        else {
-          scores = model.eval(contexts, probs);
+        } else {
+         // if (realValues != null) {
+         //   scores = model.eval(contexts, realValues);
+         // } else {
+            scores = model.eval(contexts, probs);
+          //}
-        double min = temp_scores[Math.max(0,scores.length-size)];
+        double min = temp_scores[Math.max(0, scores.length - size)];
-          if (scores[p] < min)
+          if (scores[p] < min) {
+          }
-   * @param sequence The input sequence.
-   * @param additionalContext An Object[] of additional context.  This is passed to the context generator blindly with the assumption that the context are appropiate.
+   * @param sequence          The input sequence.
+   * @param additionalContext An Object[] of additional context. This is passed
+   *                          to the context generator blindly with the
+   *                          assumption that the context are appropiate.
-   * @return The top ranked sequence of outcomes or null if no sequence could be found
+   * @return The top ranked sequence of outcomes or null if no sequence could be
+   *         found
-    Sequence sequences[] =  bestSequences(1, sequence, additionalContext,zeroLog);
-    
-    if (sequences.length > 0)
+    Sequence sequences[] = bestSequences(1, sequence, additionalContext, zeroLog);
+
+    if (sequences.length > 0) {
-    else 
+    } else {
+    }

INS26 INS40 UPD66 UPD66 UPD66 UPD66 INS66 UPD66 UPD66 UPD66 UPD66 INS66 INS66 UPD66 UPD66 UPD66 INS66 INS66 UPD66 INS66 INS8 INS8 MOV41 MOV41 INS8 INS18 DEL66 DEL18