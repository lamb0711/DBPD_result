OPENNLP-402: Improved class hierarchy and naming

git-svn-id: https://svn.apache.org/repos/asf/incubator/opennlp/trunk@1234594 13f79535-47bb-0310-9956-ffa450edef68

- * Base interface for command line tools.
+ * Base class for all command line tools.
-public interface AbstractCmdLineTool {
+public abstract class AbstractCmdLineTool implements CmdLineTool {
-  /**
-   * Retrieves the name of the training data tool. The name (used as command)
-   * must not contain white spaces.
-   *
-   * @return the name of the command line tool
-   */
-  String getName();
+  protected AbstractCmdLineTool() {
+  }
-  /**
-   * Retrieves a short description of what the tool does.
-   *
-   * @return a short description of what the tool does
-   */
-  String getShortDescription();
+  public String getName() {
+    if (getClass().getName().endsWith("Tool")) {
+      return getClass().getSimpleName().substring(0, getClass().getSimpleName().length() - 4);
+    } else {
+      return getClass().getSimpleName();
+    }
+  }
-  /**
-   * Retrieves a description on how to use the tool.
-   *
-   * @return a description on how to use the tool
-   */
-  String getHelp();
-}
+  @SuppressWarnings({"unchecked"})
+  protected <T> String getBasicHelp(Class<T> argProxyInterface) {
+    return getBasicHelp(new Class[]{argProxyInterface});
+  }
+
+  protected <T> String getBasicHelp(Class<T>... argProxyInterfaces) {
+    return "Usage: " + CLI.CMD + " " + getName() + " " +
+        ArgumentParser.createUsage(argProxyInterfaces);
+  }
+
+  protected <T> T validateAndParseParams(String[] args, Class<T> argProxyInterface) {
+    String errorMessage = ArgumentParser.validateArgumentsLoudly(args, argProxyInterface);
+    if (null != errorMessage) {
+      throw new TerminateToolException(1, errorMessage + "\n" + getHelp());
+    }
+    return ArgumentParser.parse(args, argProxyInterface);
+  }
+
+  public String getShortDescription() {
+    return "";
+  }
+}

INS83 INS43 INS31 INS31 INS31 INS42 INS83 INS42 INS8 INS83 INS8 INS79 INS83 INS73 INS43 INS42 INS44 INS8 INS83 INS73 INS42 INS44 INS8 INS83 INS73 INS43 INS42 INS44 INS44 INS8 INS83 MOV43 INS42 INS8 UPD66 INS25 INS42 INS4 INS42 INS42 INS74 INS42 INS41 INS42 INS74 INS42 INS41 INS42 INS42 INS5 INS42 INS74 INS42 INS60 INS25 INS41 INS41 INS32 INS8 INS8 INS45 INS43 INS43 INS32 INS43 INS43 INS27 INS43 INS85 INS43 INS43 INS43 INS59 INS27 INS8 INS32 INS45 INS32 INS42 INS45 INS41 INS41 INS42 INS42 INS42 INS3 INS42 INS42 INS45 INS40 INS45 INS32 INS45 INS32 INS42 INS42 INS42 INS42 INS42 INS32 INS33 INS42 INS53 INS42 INS42 INS42 INS42 INS32 INS42 INS32 INS32 INS5 INS4 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS14 INS42 INS32 INS42 INS34 INS27 INS32 INS42 INS43 INS85 INS42 INS43 INS34 INS27 INS32 INS42 INS32 INS34 INS42 INS42 INS42 INS42 INS45 INS32 INS42 INS32 INS42 INS42 INS32 INS42 INS42 DEL66 DEL66 DEL65 DEL66 DEL65 DEL29 DEL66 DEL65 DEL66 DEL65 DEL29 DEL42 DEL66 DEL65 DEL66 DEL65 DEL29 DEL42