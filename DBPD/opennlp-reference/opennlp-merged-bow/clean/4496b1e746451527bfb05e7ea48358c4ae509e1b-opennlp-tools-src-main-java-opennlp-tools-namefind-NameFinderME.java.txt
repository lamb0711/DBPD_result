OPENNLP-417: fixed problem with back to back spans getting the wrong type assigned

git-svn-id: https://svn.apache.org/repos/asf/incubator/opennlp/trunk@1227472 13f79535-47bb-0310-9956-ffa450edef68

-    
+
-      // If model has a generator use that one, otherwise create default 
+      // If model has a generator use that one, otherwise create default
-      
+
-      
+
-    
+
-    
+
-    
+
-  
+
-  
-  
+
+
-   * 
+   *
-   * 
-   * @deprecated Use the new model API! 
+   *
+   * @deprecated Use the new model API!
-   * 
+   *
-   * 
+   *
-  
+
-  
+
-  
-  /** 
-   * Generates name tags for the given sequence, typically a sentence, 
+
+  /**
+   * Generates name tags for the given sequence, typically a sentence,
-   * 
+   *
-   * 
+   *
-    
+
-          spans.add(new Span(start, end, extractNameType(chunkTag)));
+          spans.add(new Span(start, end, extractNameType(c.get(li - 1))));
-    * 
+    *
-    * Returns an array of probabilities for each of the specified spans which is the arithmetic mean 
+    * Returns an array of probabilities for each of the specified spans which is the arithmetic mean
-    * 
+    *
-    * 
+    *
-     
+
-     
+
-       
+
-       
+
-       
-       p /= spans[si].length(); 
-       
+
+       p /= spans[si].length();
+
-     
+
-    * 
+    *
-    * 
+    *
-    * 
+    *
-   public static TokenNameFinderModel train(String languageCode, String type, ObjectStream<NameSample> samples, 
+   public static TokenNameFinderModel train(String languageCode, String type, ObjectStream<NameSample> samples,
-     
+
-     
+
-     
+
-     else 
+     else
-     
+
-     
+
-       
+
-     
+
-   
+
-   * 
+   *
-   * 
+   *
-   * 
+   *
-    
+
-    
+
-    
+
-   
+
-    * 
+    *
-    * 
+    *
-    * 
+    *
-   public static TokenNameFinderModel train(String languageCode, String type, ObjectStream<NameSample> samples, 
-       AdaptiveFeatureGenerator generator, final Map<String, Object> resources, 
+   public static TokenNameFinderModel train(String languageCode, String type, ObjectStream<NameSample> samples,
+       AdaptiveFeatureGenerator generator, final Map<String, Object> resources,
-   public static TokenNameFinderModel train(String languageCode, String type, ObjectStream<NameSample> samples, 
+   public static TokenNameFinderModel train(String languageCode, String type, ObjectStream<NameSample> samples,
-   
+
-  
+
-   public static TokenNameFinderModel train(String languageCode, String type, ObjectStream<NameSample> samples, 
-       byte[] generatorDescriptor, final Map<String, Object> resources, 
+   public static TokenNameFinderModel train(String languageCode, String type, ObjectStream<NameSample> samples,
+       byte[] generatorDescriptor, final Map<String, Object> resources,
-     
+
-     
+
-     
+
-     
+
-     
+
-   
+
-  
+
-   * Gets the name type from the outcome 
+   * Gets the name type from the outcome
-    
+
-   * 
+   *
-   * 
+   *
-   * 
+   *
-    
+
-    
+
-    
-    
+
+
-    
+
-      
+
-      
+
-    
+

UPD66 UPD66 UPD66 UPD66 INS32 UPD42 MOV42 INS42 INS27 INS42 INS34