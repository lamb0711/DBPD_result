OPENNLP-429: The BaseModel was creating a POSTaggerFactory by default, but it is invalid. Should get the default factory from the Model implementation.

git-svn-id: https://svn.apache.org/repos/asf/incubator/opennlp/trunk@1244179 13f79535-47bb-0310-9956-ffa450edef68

-import opennlp.tools.postag.POSTaggerFactory;
-    initializeFactory();
+    try {
+      initializeFactory();
+    } catch (InvalidFormatException e) {
+      throw new IllegalArgumentException("Could not initialize tool factory. " + e.getMessage());
+    }
-  
-  /**
-   * 
-   */
-  protected void initializeFactory() {
+
+  private void initializeFactory() throws InvalidFormatException {
-      this.toolFactory = new POSTaggerFactory(this);
+      Class<? extends BaseToolFactory> factoryClass = getDefaultFactory();
+      if(factoryClass != null) {
+        this.toolFactory = BaseToolFactory.create(factoryClass, this);
+      }
-        this.toolFactory = POSTaggerFactory.create(factoryName, this);
+        this.toolFactory = BaseToolFactory.create(factoryName, this);
+   * Sub-classes should override this method if their module has a default
+   * BaseToolFactory sub-class.
+   * 
+   * @return the default {@link BaseToolFactory} for the module, or null if none.
+   */
+  protected Class<? extends BaseToolFactory> getDefaultFactory() {
+    return null;
+  }
+  
+  /**

INS31 UPD83 INS43 INS29 INS83 INS74 INS42 INS8 INS54 INS42 INS65 INS65 INS43 INS76 INS41 INS8 INS12 INS8 INS66 INS66 INS66 INS65 INS66 INS42 INS43 INS33 MOV21 INS44 INS8 INS60 INS25 INS42 INS42 INS43 INS42 INS53 INS74 INS59 INS27 MOV8 INS42 INS14 INS43 INS76 INS42 INS32 INS42 INS33 INS43 INS27 INS42 INS43 INS42 INS42 INS45 INS32 INS42 MOV22 INS32 MOV22 INS42 INS42 INS42 INS42 INS42 INS52 UPD42 DEL40 DEL26 DEL29 DEL42 DEL43 DEL52 DEL14