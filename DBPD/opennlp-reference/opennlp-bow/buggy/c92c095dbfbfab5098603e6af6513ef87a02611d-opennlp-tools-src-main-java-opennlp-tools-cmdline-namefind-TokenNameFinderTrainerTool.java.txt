OPENNLP-605 Now the Custom Feature Generators gets configurged properly and returns instantiated Artifact Serializers instead.

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1576746 13f79535-47bb-0310-9956-ffa450edef68

+import opennlp.tools.util.featuregen.GeneratorFactory;
-  public static Map<String, Object> loadResources(File resourcePath) {
+  public static Map<String, Object> loadResources(File resourcePath, File featureGenDescriptor) {
+      
+      // TODO: If there is descriptor file, it should be consulted too 
+      if (featureGenDescriptor != null) {
+        
+        InputStream xmlDescriptorIn = null;
+        
+        try {
+          artifactSerializers.putAll(GeneratorFactory.extractCustomArtifactSerializerMappings(xmlDescriptorIn));
+        } catch (IOException e) {
+          // TODO: Improve error handling!
+          e.printStackTrace();
+        }
+      }
+      
-  static Map<String, Object> loadResources(String resourceDirectory) {
+  static Map<String, Object> loadResources(String resourceDirectory, File featureGeneratorDescriptor) {
-      return loadResources(resourcePath);
+      
+      return loadResources(resourcePath, featureGeneratorDescriptor);
-    Map<String, Object> resources = loadResources(params.getResources());
+    Map<String, Object> resources = loadResources(params.getResources(), params.getFeaturegen());
