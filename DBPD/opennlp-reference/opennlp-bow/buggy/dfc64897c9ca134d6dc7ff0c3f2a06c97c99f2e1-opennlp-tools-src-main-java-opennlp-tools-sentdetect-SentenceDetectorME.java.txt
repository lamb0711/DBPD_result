OPENNLP-175 Updated cmd line interface and added train methods to train with trainig parameters file/object

git-svn-id: https://svn.apache.org/repos/asf/incubator/opennlp/trunk@1124372 13f79535-47bb-0310-9956-ffa450edef68

+import opennlp.model.AbstractModel;
+import opennlp.model.TrainUtil;
+import opennlp.tools.util.TrainingParameters;
+  
+  public static SentenceModel train(String languageCode, ObjectStream<SentenceSample> samples,
+      boolean useTokenEnd, Dictionary abbreviations, TrainingParameters mlParams) throws IOException {
+    
+    Map<String, String> manifestInfoEntries = new HashMap<String, String>();
+//    ModelUtil.addCutoffAndIterations(manifestInfoEntries, cutoff, iterations);
+    
+    Factory factory = new Factory();
+    
+    // TODO: Fix the EventStream to throw exceptions when training goes wrong
+    EventStream eventStream = new SDEventStream(samples,
+        factory.createSentenceContextGenerator(languageCode),
+        factory.createEndOfSentenceScanner(languageCode));
+    
+    HashSumEventStream hses = new HashSumEventStream(eventStream);
+    AbstractModel sentModel = TrainUtil.train(hses, mlParams.getSettings());
+    
+    manifestInfoEntries.put(BaseModel.TRAINING_EVENTHASH_PROPERTY, 
+        hses.calculateHashSum().toString(16));
+    
+    return new SentenceModel(languageCode, sentModel,
+        useTokenEnd, abbreviations, manifestInfoEntries);
+  }
