OPENNLP-560 Added parser for the annotation.conf file and removed hard coded test configuration

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1523687 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.FileInputStream;
-import java.util.HashMap;
-import java.util.Map;
+import java.io.InputStream;
-import opennlp.tools.cmdline.StreamFactoryRegistry;
-import opennlp.tools.cmdline.TerminateToolException;
+import opennlp.tools.cmdline.StreamFactoryRegistry;
+import opennlp.tools.cmdline.TerminateToolException;
-import opennlp.tools.formats.muc.Muc6NameSampleStreamFactory;
+    @ParameterDescription(valueName = "annConfFile")
+    File getAnnotationConfig();
+    
-
+    
+    
-    // TODO: This need to be loaded from the real file ...
-    Map<String, String> typeToClassMap = new HashMap<String, String>();
-    
-    typeToClassMap.put("bumblebee_annotations_Person", "Entity");
-    typeToClassMap.put("bumblebee_annotations_Organization", "Entity");
-    typeToClassMap.put("bumblebee_annotations_DateMention", "Entity");
-    typeToClassMap.put("bumblebee_annotations_Location", "Entity");
-    typeToClassMap.put("bumblebee_annotations_CRN", "Entity");
-    typeToClassMap.put("bumblebee_annotations_Money", "Entity");
-    typeToClassMap.put("bumblebee_annotations_LocatedAt", AnnotationConfiguration.RELATION_TYPE);
-    typeToClassMap.put("bumblebee_annotations_BornIn", AnnotationConfiguration.RELATION_TYPE);
-    typeToClassMap.put("bumblebee_annotations_BornOn", AnnotationConfiguration.RELATION_TYPE);
-    typeToClassMap.put("bumblebee_annotations_MemberOf", AnnotationConfiguration.RELATION_TYPE);
-    
-    AnnotationConfiguration annConfig = new AnnotationConfiguration(typeToClassMap);
+    // TODO: Provide the file name to the annotation.conf file and implement the parser ...
+    AnnotationConfiguration annConfig;
+    InputStream annConfIn = null;
+    try {
+      annConfIn = new FileInputStream(params.getAnnotationConfig());
+      annConfig = AnnotationConfiguration.parse(annConfIn);
+    }
+    catch (IOException e) {
+      throw new TerminateToolException(1, "Failed to parse annotation.conf file!");
+    }
+    finally {
+      if (annConfIn != null) {
+        try {
+          annConfIn.close();
+        } catch (IOException e) {}
+      }
+    }
