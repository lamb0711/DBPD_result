OPENNLP-228 Moved sequence validator out of the name finder, and made it interchangeable

git-svn-id: https://svn.apache.org/repos/asf/incubator/opennlp/trunk@1148230 13f79535-47bb-0310-9956-ffa450edef68

-  private static class NameFinderSequenceValidator implements
-      SequenceValidator<String> {
-    
-    public boolean validSequence(int i, String[] inputSequence,
-        String[] outcomesSequence, String outcome) {
-      
-      // outcome is formatted like "cont" or "sometype-cont", so we
-      // can check if it ends with "cont".
-      if (outcome.endsWith(CONTINUE)) {
-        
-        int li = outcomesSequence.length - 1;
-        
-        if (li == -1) {
-          return false;
-        } else if (outcomesSequence[li].endsWith(OTHER)) {
-          return false;
-        } else if (outcomesSequence[li].endsWith(CONTINUE)) {
-          // if it is continue, we have to check if previous match was of the same type 
-          String previousNameType = extractNameType(outcomesSequence[li]);
-          String nameType = extractNameType(outcome);
-          if( previousNameType != null || nameType != null ) {
-            if( nameType != null ) {
-              if( nameType.equals(previousNameType) ){
-                return true;
-              }
-            }
-            return false; // outcomes types are not equal
-          }
-        }
-      }
-      return true;
-    }
-  }
+
-  public NameFinderME(TokenNameFinderModel model, AdaptiveFeatureGenerator generator, int beamSize) {
+  public NameFinderME(TokenNameFinderModel model, AdaptiveFeatureGenerator generator, int beamSize,
+      SequenceValidator<String> sequenceValidator) {
+    if (sequenceValidator == null)
+      sequenceValidator = new NameFinderSequenceValidator();
+    
-        new NameFinderSequenceValidator(), beamSize);
+        sequenceValidator, beamSize);
+  public NameFinderME(TokenNameFinderModel model, AdaptiveFeatureGenerator generator, int beamSize) {
+    this(model, generator, beamSize, null);
+  }
+  
-  private static final String extractNameType(String outcome) {
+  static final String extractNameType(String outcome) {
