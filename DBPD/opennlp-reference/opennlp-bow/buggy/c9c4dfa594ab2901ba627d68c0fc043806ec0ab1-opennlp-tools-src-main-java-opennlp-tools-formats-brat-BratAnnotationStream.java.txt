OPENNLP-744 Added support for attribute annotation in the brat .ann files

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1655274 13f79535-47bb-0310-9956-ffa450edef68

+  static class AttributeAnnotationParser extends BratAnnotationParser {
+    
+    private static final int ATTACHED_TO_OFFSET = 2;
+    private static final int VALUE_OFFSET = 3;
+    
+    @Override
+    BratAnnotation parse(Span[] values, CharSequence line) throws IOException {
+      
+      if (values.length == 3 || values.length == 4) {
+        
+        String value = null;
+        
+        if (values.length == 4) {
+          value = values[VALUE_OFFSET].getCoveredText(line).toString();
+        }
+        
+        return new AttributeAnnotation(values[ID_OFFSET].getCoveredText(line).toString(),
+            values[TYPE_OFFSET].getCoveredText(line).toString(),
+            values[ATTACHED_TO_OFFSET].getCoveredText(line).toString(), value);
+      }
+      else {
+        throw new InvalidFormatException("Line must have 3 or 4 fields");
+      }
+    }
+  }
+  
+    parsers.put(AnnotationConfiguration.ATTRIBUTE_TYPE, new AttributeAnnotationParser());
-              " type class, no parser registered: " + tokens[BratAnnotationParser.TYPE_OFFSET]);
+              " type class, no parser registered: " + tokens[BratAnnotationParser.TYPE_OFFSET]
+              .getCoveredText(line).toString());
