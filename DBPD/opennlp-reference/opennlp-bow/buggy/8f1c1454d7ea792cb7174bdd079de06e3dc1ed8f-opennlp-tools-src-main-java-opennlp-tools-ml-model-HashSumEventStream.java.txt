OPENNLp-118 Replaced the EventStream with ObjectStream<Event>

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1567990 13f79535-47bb-0310-9956-ffa450edef68

-import opennlp.tools.ml.model.EventStream;
+import opennlp.tools.util.AbstractObjectStream;
+import opennlp.tools.util.ObjectStream;
-public class HashSumEventStream implements EventStream {
+public class HashSumEventStream extends AbstractObjectStream<Event> {
-  private final EventStream eventStream;
-  
-  public HashSumEventStream(EventStream eventStream) {
-    this.eventStream = eventStream;
+  public HashSumEventStream(ObjectStream<Event> eventStream) {
+    super(eventStream);
-  public boolean hasNext() throws IOException {
-    return eventStream.hasNext();
-  }
-
-  public Event next() throws IOException {
+  @Override
+  public Event read() throws IOException {
+    Event event = super.read();
-    Event event = eventStream.next();
-    
-    try {
-      digest.update(event.toString().getBytes("UTF-8"));
-    }
-    catch (UnsupportedEncodingException e) {
-      throw new IllegalStateException("UTF-8 encoding is not available!", e);
+    if (event != null) {
+      try {
+        digest.update(event.toString().getBytes("UTF-8"));
+      }
+      catch (UnsupportedEncodingException e) {
+        throw new IllegalStateException("UTF-8 encoding is not available!", e);
+      }
-    
-//    if (hasNext())
-//      throw new IllegalStateException("stream must be consumed completely!");
-    
