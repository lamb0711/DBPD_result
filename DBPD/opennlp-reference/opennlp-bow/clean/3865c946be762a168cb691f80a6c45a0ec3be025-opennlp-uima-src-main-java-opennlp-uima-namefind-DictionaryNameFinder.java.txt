OPENNLP-818 Added external resource dependency support to the Dictionary Name Finder. Thanks to Perter Thygesen for providing a patch!

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1704862 13f79535-47bb-0310-9956-ffa450edef68

+import opennlp.uima.dictionary.DictionaryResource;
+import org.apache.uima.resource.ResourceAccessException;
-  public void initialize()
-      throws ResourceInitializationException {
+  public void initialize() throws ResourceInitializationException {
-      String modelName = AnnotatorUtil.getRequiredStringParameter(context,
-          UimaUtil.DICTIONARY_PARAMETER);
+      DictionaryResource modelResource = (DictionaryResource) context
+          .getResourceObject(UimaUtil.DICTIONARY_PARAMETER);
-      InputStream inModel = AnnotatorUtil
-          .getResourceAsStream(context, modelName);
+      nameFinderDictionary = modelResource.getDictionary();
+    } catch (ResourceAccessException e) {
-      nameFinderDictionary = new Dictionary(inModel);
+      try {
+        String modelName = AnnotatorUtil.getRequiredStringParameter(context,
+            UimaUtil.DICTIONARY_PARAMETER);
-    } catch (IOException e) {
-      throw new ResourceInitializationException(
-	      ExceptionMessages.MESSAGE_CATALOG,
-	      ExceptionMessages.IO_ERROR_DICTIONARY_READING,
-	      new Object[] {e.getMessage()});
+        InputStream inModel = AnnotatorUtil.getResourceAsStream(context,
+            modelName);
+
+        nameFinderDictionary = new Dictionary(inModel);
+
+      } catch (IOException ie) {
+        throw new ResourceInitializationException(
+            ExceptionMessages.MESSAGE_CATALOG,
+            ExceptionMessages.IO_ERROR_DICTIONARY_READING,
+            new Object[] { ie.getMessage() });
+      }
+
-    mNameFinder =
-        new opennlp.tools.namefind.DictionaryNameFinder(nameFinderDictionary);
+    mNameFinder = new opennlp.tools.namefind.DictionaryNameFinder(
+        nameFinderDictionary);
