OPENNLP-535 Added sample trace file support to the tokenizer trainer.

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1383378 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.FileOutputStream;
+import java.io.OutputStreamWriter;
+import java.io.Writer;
-import opennlp.tools.namefind.NameSampleDataStream;
+import opennlp.uima.util.SampleTraceStream;
-	  
+
-  
+
-  
+
-  
+
-  
+
+
+  private String sampleTraceFileEncoding;
+
+  private File sampleTraceFile;
-    if (isSkipAlphaNumerics == null)
+    if (isSkipAlphaNumerics == null) {
+    }
+    
+    String sampleTraceFileName = CasConsumerUtil.getOptionalStringParameter(
+            getUimaContext(), "opennlp.uima.SampleTraceFile");
+        
+    if (sampleTraceFileName != null) {
+      sampleTraceFile = new File(getUimaContextAdmin().getResourceManager()
+          .getDataPath() + File.separatorChar + sampleTraceFileName);
+      sampleTraceFileEncoding = CasConsumerUtil.getRequiredStringParameter(
+          getUimaContext(), "opennlp.uima.SampleTraceFileEncoding");
+    }
+    // Write stream to disk ...
+    // if trace file
+    // serialize events ...
+    
+    Writer samplesOut = null;
+      if (sampleTraceFile != null) {
+        samplesOut = new OutputStreamWriter(new FileOutputStream(sampleTraceFile), sampleTraceFileEncoding);
+        samples = new SampleTraceStream<TokenSample>(samples, samplesOut);
+      }
+      
-}
+}
