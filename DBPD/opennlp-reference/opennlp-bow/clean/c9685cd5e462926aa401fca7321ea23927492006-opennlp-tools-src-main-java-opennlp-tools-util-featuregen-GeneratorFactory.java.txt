OPENNLP-1160: avoid letting users specify CachedFeatureGeneratorFactory in XML config (#305)


+      AdaptiveFeatureGenerator featureGenerator = null;
-        return generators.get(0);
+        featureGenerator = generators.get(0);
-        return new AggregatedFeatureGenerator(generators.toArray(
+        featureGenerator = new AggregatedFeatureGenerator(generators.toArray(
+
+      // disallow manually specifying CachedFeatureGenerator
+      if (featureGenerator instanceof CachedFeatureGenerator)
+        throw new InvalidFormatException("CachedFeatureGeneratorFactory cannot be specified manually." +
+          "Use cache=\"true\" attribute in featureGenerators element instead.");
+
+      // check cache usage
+      if (Boolean.parseBoolean(generatorElement.getAttribute("cache")))
+        return new CachedFeatureGenerator(featureGenerator);
+      else
+        return featureGenerator;
