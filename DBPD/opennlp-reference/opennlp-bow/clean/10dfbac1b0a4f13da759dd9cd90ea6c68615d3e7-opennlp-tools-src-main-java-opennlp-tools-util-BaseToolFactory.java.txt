OPENNLP-429: The BaseModel was creating a POSTaggerFactory by default, but it is invalid. Should get the default factory from the Model implementation.

git-svn-id: https://svn.apache.org/repos/asf/incubator/opennlp/trunk@1244179 13f79535-47bb-0310-9956-ffa450edef68

+  public static BaseToolFactory create(Class<? extends BaseToolFactory> factoryClass,
+      ArtifactProvider artifactProvider) throws InvalidFormatException {
+    BaseToolFactory theFactory = null;
+    if (factoryClass != null) {
+      try {
+        Constructor<?> constructor = null;
+        constructor = factoryClass.getConstructor(ArtifactProvider.class);
+        theFactory = (BaseToolFactory) constructor
+            .newInstance(artifactProvider);
+      } catch (NoSuchMethodException e) {
+        String msg = "Could not instantiate the "
+            + factoryClass.getCanonicalName()
+            + ". The mandatry constructor (ArtifactProvider) is missing.";
+        System.err.println(msg);
+        throw new IllegalArgumentException(msg);
+      } catch (Exception e) {
+        String msg = "Could not instantiate the "
+            + factoryClass.getCanonicalName()
+            + ". The constructor (ArtifactProvider) throw an exception.";
+        System.err.println(msg);
+        e.printStackTrace();
+        throw new InvalidFormatException(msg);
+      }
+    }
+    return theFactory;
+  }
+  
