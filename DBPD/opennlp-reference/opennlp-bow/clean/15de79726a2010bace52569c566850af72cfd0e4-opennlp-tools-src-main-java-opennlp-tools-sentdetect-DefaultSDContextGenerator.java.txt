OPENNLP-479: Changed how the abbreviation dictionary features are collected. Please review.

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1302140 13f79535-47bb-0310-9956-ffa450edef68

-    collectFeatures(prefix,suffix,previous,next);
+    collectFeatures(prefix,suffix,previous,next, sb.charAt(position));
-   * @param prefix String preceeding the eos character in the eos token.
+   * @param prefix String preceding the eos character in the eos token.
-   * @param previous Space delimited token preceeding token containing eos character.
-   * @param next Space delimited token following token containsing eos character.
+   * @param previous Space delimited token preceding token containing eos character.
+   * @param next Space delimited token following token containing eos character.
+   * 
+   * @deprecated use {@link #collectFeatures(String, String, String, String, Character)} instead.
+    collectFeatures(prefix, suffix, previous, next, null);
+  }
+
+  /**
+   * Determines some of the features for the sentence detector and adds them to list features.
+   *
+   * @param prefix String preceding the eos character in the eos token.
+   * @param suffix String following the eos character in the eos token.
+   * @param previous Space delimited token preceding token containing eos character.
+   * @param next Space delimited token following token containing eos character.
+   * @param eosChar the EOS character been analyzed
+   */
+  protected void collectFeatures(String prefix, String suffix, String previous, String next, Character eosChar) {
-      if (inducedAbbreviations.contains(prefix)) {
+      if (eosChar != null && inducedAbbreviations.contains(prefix + eosChar)) {
