OPENNLP-641 Moved beam search parameter to the training parameters file

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1574453 13f79535-47bb-0310-9956-ffa450edef68

+   * 
+   * @deprecated the beam size is now configured during training time in the trainer parameter
+   * file via beamSearch.beamSize
+  @Deprecated
-    
-    // TODO: The beam size should be stored in the model and passed in during training in the future.
-    // At this point no assumption can be made about the underlying sequence classification!
-    
+   
-    if (model.getNameFinderModel() != null) {
+    if (model.getNameFinderSequenceModel() != null) {
+      this.model = model.getNameFinderSequenceModel();
+    }
+    else {
-    else {
-      this.model = model.getNameFinderSequenceModel();
-    }
-
+    
-    // TODO: Remove this!
-    this.sequenceValidator = seqCodec.createSequenceValidator();
+    // TODO: How to combine different sequence validators ?!
-//    if (this.model != null) {
-//      beam = new BeamSearch<String>(beamSize, contextGenerator, this.model,
-//          sequenceValidator, beamSize);
-//    }
+    this.sequenceValidator = seqCodec.createSequenceValidator();
-  public NameFinderME(TokenNameFinderModel model, AdaptiveFeatureGenerator generator, int beamSize) {
+  /**
+   * @deprecated the beam size is now configured during training time in the trainer parameter
+   * file via beamSearch.beamSize
+   */
+  @Deprecated  public NameFinderME(TokenNameFinderModel model, AdaptiveFeatureGenerator generator, int beamSize) {
+  /**
+   * @deprecated the beam size is now configured during training time in the trainer parameter
+   * file via beamSearch.beamSize
+   */
+  @Deprecated
+     String beamSizeString = trainParams.getSettings()
+         .get(TokenNameFinderModel.BEAMSEARCH_BEAM_SIZE_PARAMETER);
+     
+     int beamSize = NameFinderME.DEFAULT_BEAM_SIZE;
+     if (beamSizeString != null) {
+       beamSize = Integer.parseInt(beamSizeString);
+     }
-       return new TokenNameFinderModel(languageCode, nameFinderModel,
+       return new TokenNameFinderModel(languageCode, nameFinderModel, beamSize, null,
-    // place the descriptor in the model
-      // TODO: This will not work!!! Method is broken.
