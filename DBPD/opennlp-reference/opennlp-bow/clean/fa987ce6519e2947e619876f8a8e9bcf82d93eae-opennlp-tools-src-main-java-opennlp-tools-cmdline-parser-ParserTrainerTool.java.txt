OPENNLP-665 Added option to cmd line tool to specifiy head rules serializer class.

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1582319 13f79535-47bb-0310-9956-ffa450edef68

+import opennlp.tools.util.ext.ExtensionLoader;
+import opennlp.tools.util.model.ArtifactSerializer;
+  static HeadRules creaeHeadRules(TrainerToolParams params) throws IOException {
+    
+    ArtifactSerializer headRulesSerializer = null;
+    
+    if (params.getHeadRulesSerializerImpl() != null) {
+      headRulesSerializer = ExtensionLoader.instantiateExtension(ArtifactSerializer.class, 
+              params.getHeadRulesSerializerImpl());
+    }
+    else {
+      // TODO: Use default, e.g. based on language 
+      // language can be specified in the params ... 
+      
+      headRulesSerializer = new opennlp.tools.parser.lang.en.HeadRules.HeadRulesSerializer();
+    }
+    
+    Object headRulesObject = headRulesSerializer.create(new FileInputStream(params.getHeadRules()));
+    
+    if (headRulesObject instanceof HeadRules) {
+      return (HeadRules) headRulesObject;
+    }
+    else {
+      throw new TerminateToolException(-1, "HeadRules Artifact Serializer must create an object of type HeadRules!");
+    }
+  }
+  
-
-      // TODO hard-coded language reference
-      HeadRules rules = new opennlp.tools.parser.lang.en.HeadRules(
-          new InputStreamReader(new FileInputStream(params.getHeadRules()),
-              params.getEncoding()));
+      HeadRules rules = creaeHeadRules(params);
