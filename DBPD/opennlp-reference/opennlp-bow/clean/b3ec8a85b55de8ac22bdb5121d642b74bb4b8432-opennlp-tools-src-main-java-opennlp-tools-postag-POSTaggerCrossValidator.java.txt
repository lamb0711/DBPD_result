OPENNLP-508 Modified to use the new POS Dictionary factory, from POSTaggerFactory

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1338555 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.File;
-  private POSDictionary tagDictionary;
-  private Dictionary ngramDictionary;
+  private File tagDictionaryFile;
-      TrainingParameters trainParam, POSDictionary tagDictionary,
+      TrainingParameters trainParam, File tagDictionary,
-    this.tagDictionary = tagDictionary;
-    this.ngramDictionary = null;
+    this.tagDictionaryFile = tagDictionary;
-      Integer tagdicCutoff, POSTaggerEvaluationMonitor... listeners) {
-    this.languageCode = languageCode;
-    this.params = trainParam;
-    this.listeners = listeners;
-    this.factory = factory;
-    this.tagDictionary = null;
-    this.ngramDictionary = null;
-    this.ngramCutoff = null;
-    this.tagdicCutoff = tagdicCutoff;
-  }
-  
-  /**
-   * Creates a {@link POSTaggerCrossValidator} using the given
-   * {@link POSTaggerFactory}.
-   */
-  public POSTaggerCrossValidator(String languageCode,
-      TrainingParameters trainParam, Integer posdicCutoff, POSTaggerFactory factory,
-    this.tagDictionary = null;
-    this.ngramDictionary = null;
-    this.tagdicCutoff = posdicCutoff;
+    this.tagdicCutoff = null;
-
+  
-    this(languageCode, create(modelType, cutoff, iterations), null, create(ngramDictionary, tagDictionary));
+    this(languageCode, create(modelType, cutoff, iterations), create(ngramDictionary, tagDictionary));
-    this(languageCode, create(modelType, 5, 100), null, create(ngramDictionary, tagDictionary));
+    this(languageCode, create(modelType, 5, 100), create(ngramDictionary, tagDictionary));
-    this(languageCode, trainParam, null, create(null, tagDictionary), listeners);
+    this(languageCode, trainParam, create(null, tagDictionary), listeners);
-    this(languageCode, trainParam, tagDictionary, ngramCutoff, null,
-        POSTaggerFactory.class.getCanonicalName(), listeners);
+    this(languageCode, trainParam, create(null, tagDictionary), listeners);
+    this.ngramCutoff = ngramCutoff;
-    this(languageCode, trainParam, null, create(ngramDictionary, tagDictionary), listeners);
+    this(languageCode, trainParam, create(ngramDictionary, tagDictionary), listeners);
-      Dictionary ngramDict = null;
-      if (this.ngramDictionary == null) {
+      if (this.factory == null) {
+        this.factory = POSTaggerFactory.create(this.factoryClassName, null,
+            null);
+      }
+
+      Dictionary ngramDict = this.factory.getDictionary();
+      if (ngramDict == null) {
-      } else {
-        ngramDict = this.ngramDictionary;
+        this.factory.setDictionary(ngramDict);
-      if (this.factory == null) {
-        this.factory = POSTaggerFactory.create(this.factoryClassName,
-            ngramDict, tagDictionary);
+      if (this.tagDictionaryFile != null
+          && this.factory.getPOSDictionary() == null) {
+        this.factory.setPOSDictionary(this.factory
+            .createPOSDictionary(tagDictionaryFile));
+          this.factory.setPOSDictionary(dict);
-        this.factory.rereadPOSDictionary();
+        this.factory.setPOSDictionary(null);
