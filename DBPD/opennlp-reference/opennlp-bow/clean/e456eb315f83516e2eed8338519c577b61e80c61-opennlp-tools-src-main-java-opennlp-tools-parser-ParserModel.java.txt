OPENNLP-677 Now headrules serializer for 1.5.x models is mapped correctly

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1590621 13f79535-47bb-0310-9956-ffa450edef68

+  private static class HeadRulesSerializer implements
+      ArtifactSerializer<opennlp.tools.parser.lang.en.HeadRules> {
+
+    public opennlp.tools.parser.lang.en.HeadRules create(InputStream in)
+        throws IOException, InvalidFormatException {
+      return new opennlp.tools.parser.lang.en.HeadRules(new BufferedReader(
+          new InputStreamReader(in, "UTF-8")));
+    }
+
+    public void serialize(opennlp.tools.parser.lang.en.HeadRules artifact,
+        OutputStream out) throws IOException {
+      artifact.serialize(new OutputStreamWriter(out, "UTF-8"));
+    }
+  }
+  
+    // In 1.6.x the headrules artifact is serialized with the new API
+    // which uses the Serializeable interface
+    // This change is not backward compatible with the 1.5.x models.
+    // In order to laod 1.5.x model the English headrules serializer must be
+    // put on the serializer map.
+    
+    if (getVersion().getMajor() == 1 && getVersion().getMinor() == 5) {
+    	serializers.put("headrules", new HeadRulesSerializer());
+    }
+    
