OPENNLP-309 The method POSMode.getTagDictionary should return POSDictionary for backward compatibility. The method, now deprecated, will throw an IllegalStateException if the dictionary is not an instance of POSDictionary.

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1341700 13f79535-47bb-0310-9956-ffa450edef68

-   *
+   * 
+   * 
+   * @deprecated Use {@link POSModel#getFactory()} to get a
+   *             {@link POSTaggerFactory} and
+   *             {@link POSTaggerFactory#getTagDictionary()} to get a
+   *             {@link TagDictionary}.
+   * 
+   * @throws IllegalStateException
+   *           if the TagDictionary is not an instance of POSDictionary
-  public TagDictionary getTagDictionary() {
-    if(getFactory() != null)
-      return getFactory().getTagDictionary();
+  public POSDictionary getTagDictionary() {
+    if (getFactory() != null) {
+      TagDictionary dict = getFactory().getTagDictionary();
+      if (dict != null) {
+        if (dict instanceof POSDictionary) {
+          return (POSDictionary) dict;
+        }
+        String clazz = dict.getClass().getCanonicalName();
+        throw new IllegalStateException("Can not get a dictionary of type "
+            + clazz
+            + " using the deprecated method POSModel.getTagDictionary() "
+            + "because it can only return dictionaries of type POSDictionary. "
+            + "Use POSModel.getFactory().getTagDictionary() instead.");
+      }
+    }
