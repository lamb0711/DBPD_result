OPENNLP-763 Parser is now using the new methods of the POS Tagger and Chunker for training.

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1665334 13f79535-47bb-0310-9956-ffa450edef68

+import opennlp.tools.ml.BeamSearch;
+import opennlp.tools.parser.ParserChunkerFactory;
+import opennlp.tools.postag.POSTaggerFactory;
-        new POSTaggerME(model.getParserTaggerModel(), 10, 0),
-        new ChunkerME(model.getParserChunkerModel(),
-            ChunkerME.DEFAULT_BEAM_SIZE,
-            new ParserChunkerSequenceValidator(model.getParserChunkerModel()),
-            new ChunkContextGenerator(ChunkerME.DEFAULT_BEAM_SIZE)),
+        new POSTaggerME(model.getParserTaggerModel()),
+        new ChunkerME(model.getParserChunkerModel()),
+    TrainingParameters posTaggerParams = mlParams.getParameters("tagger");
+        
+    if (!posTaggerParams.getSettings().containsKey(BeamSearch.BEAM_SIZE_PARAMETER)) {
+      mlParams.put("tagger", BeamSearch.BEAM_SIZE_PARAMETER,
+          Integer.toString(10));
+    }
+    
-        mlParams.getParameters("tagger"), null, null);
+        mlParams.getParameters("tagger"), new POSTaggerFactory());
-        new ChunkSampleStream(parseSamples),
-        new ChunkContextGenerator(), mlParams.getParameters("chunker"));
+        new ChunkSampleStream(parseSamples), mlParams.getParameters("chunker"), new ParserChunkerFactory());
