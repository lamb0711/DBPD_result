OPENNLP-1094: Remove pmap indirection

-import java.util.Map;
-
-  /**
-   * @deprecated this will be removed in 1.8.1, pmap should be private
-   */
-  @Deprecated
-  public PerceptronModel(Context[] params, String[] predLabels, Map<String, Integer> pmap,
-                         String[] outcomeNames) {
-    super(params,predLabels,pmap,outcomeNames);
-    modelType = ModelType.Perceptron;
-  }
-
-    int[] scontexts = new int[context.length];
+    Context[] scontexts = new Context[context.length];
-      Integer ci = pmap.get(context[i]);
-      scontexts[i] = ci == null ? -1 : ci;
+      scontexts[i] = pmap.get(context[i]);
+    Context[] scontexts = new Context[context.length];
+    for (int i = 0; i < context.length; i++) {
+      scontexts[i] = model.getParams()[context[i]];
+    }
+
+    return eval(scontexts, values, prior, model, normalize);
+  }
+
+  static double[] eval(Context[] context, float[] values, double[] prior, EvalParameters model,
+                       boolean normalize) {
-      if (context[ci] >= 0) {
-        Context predParams = params[context[ci]];
+      if (context[ci] != null) {
+        Context predParams = context[ci];
+
-      for (int oid = 0; oid < numOutcomes; oid++)
+      for (int oid = 0; oid < numOutcomes; oid++) {
+      }
