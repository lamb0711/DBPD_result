JCR-3151 SharedFieldCache can cause a memory leak

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1205361 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.IOException;
+
-import org.apache.lucene.document.Document;
-import java.io.IOException;
-
+    private static final long serialVersionUID = -5803240954874585429L;
+
-                indexes[i] = SharedFieldCache.INSTANCE.getValueIndex(r, fieldName, namedValue, this);
+                indexes[i] = SharedFieldCache.INSTANCE.getValueIndex(r,
+                        fieldName, namedValue);
-        protected Comparable sortValue(int doc) {
+        protected Comparable<?> sortValue(int doc) {
-        protected Comparable sortValue(int doc) {
+        protected Comparable<?> sortValue(int doc) {
-        public Comparable sortValue(int doc) {
+        public Comparable<?> sortValue(int doc) {
-                    Comparable c = ((FieldComparatorBase) fieldComparator).sortValue(doc);
+                    Comparable<?> c = ((FieldComparatorBase) fieldComparator).sortValue(doc);
