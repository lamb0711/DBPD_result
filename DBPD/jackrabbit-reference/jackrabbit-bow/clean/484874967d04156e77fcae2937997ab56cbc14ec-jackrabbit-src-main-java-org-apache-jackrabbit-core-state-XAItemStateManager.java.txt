JCR-329: NodeReferencesId.equals() is not symmetric
plus some cleanups/consolidations (mostly cosmetical) of recent changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@382075 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.NodeId;
-     * Ignored if <code>targetId</code> does not actually point to a virtual
-     * node.
+     * Ignored if <code>refsId.getTargetId()</code> does not denote a
+     * virtual node.
-     * @param targetId node references id
+     * @param refsId node references id
-                                     NodeReferencesId targetId)
+                                     NodeReferencesId refsId)
-        NodeReferences refs = virtualProvider.getNodeReferences(targetId);
-        if (refs == null && virtualProvider.hasItemState(new NodeId(targetId.getUUID()))) {
-            refs = new NodeReferences(targetId);
+        NodeReferences refs = virtualProvider.getNodeReferences(refsId);
+        if (refs == null && virtualProvider.hasItemState(refsId.getTargetId())) {
+            refs = new NodeReferences(refsId);
-     * Ignored if <code>targetId</code> does not actually point to a virtual
-     * node.
+     * Ignored if <code>refsId.getTargetId()</code> does not denote a
+     * virtual node.
-     * @param targetId node references id
+     * @param refsId node references id
-                                        NodeReferencesId targetId)
+                                        NodeReferencesId refsId)
-        NodeReferences refs = virtualProvider.getNodeReferences(targetId);
-        if (refs == null && virtualProvider.hasItemState(new NodeId(targetId.getUUID()))) {
-            refs = new NodeReferences(targetId);
+        NodeReferences refs = virtualProvider.getNodeReferences(refsId);
+        if (refs == null && virtualProvider.hasItemState(refsId.getTargetId())) {
+            refs = new NodeReferences(refsId);
