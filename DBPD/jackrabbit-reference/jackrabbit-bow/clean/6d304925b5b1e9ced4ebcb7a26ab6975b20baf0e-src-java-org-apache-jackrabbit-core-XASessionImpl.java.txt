Transaction patch submitted by Dominique.
Moved test classes out of api.xa package because the UserTransactionImpl class uses the implementation specifc XASessionImpl class.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@155314 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.state.TransactionalItemStateManager;
-            tx.setRollbackOnly();
-        try {
-            tx.rollback();
-        } catch (TransactionException e) {
-            log.error("Unable to rollback transaction.", e);
-            throw new XAException(XAException.XAER_RMERR);
-        }
+        wsp.getItemStateManager().rollback(tx);
-            tx.commit();
+            wsp.getItemStateManager().commit(tx);
-            throw new XAException(XAException.XAER_RMERR);
+            throw new XAException(XAException.XA_RBOTHER);
