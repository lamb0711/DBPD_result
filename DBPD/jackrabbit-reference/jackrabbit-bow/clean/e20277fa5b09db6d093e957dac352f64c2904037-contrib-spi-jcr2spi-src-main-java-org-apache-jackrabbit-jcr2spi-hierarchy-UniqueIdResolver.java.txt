- adding a NodeEntry identified by uniqueID (or changing the uniqueID field) must remove any other NodeEntry, that is identified by the same uniqueID.
- creating ItemState must assert, that the path of the info corresponds to the path of the hierarchyEntry

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@515167 13f79535-47bb-0310-9956-ffa450edef68

-     * @param entry
+     * @see EntryFactory.NodeEntryListener#entryCreated(NodeEntry)
+     */
+    public void entryCreated(NodeEntry entry) {
+        String uniqueID = entry.getUniqueID();
+        if (uniqueID != null) {
+            Object previous = lookUp.put(uniqueID, entry);
+            if (previous != null) {
+                ((NodeEntry) previous).remove();
+            }
+        }
+    }
+
+    /**
-                lookUp.put(uniqueID, entry);
+                Object previous = lookUp.put(uniqueID, entry);
+                if (previous != null && previous != entry) {
+                    // some other entry existed before with the same uniqueID
+                    ((NodeEntry) previous).remove();
+                }
