JCR-2699: Improve read/write concurrency

Revert back to weak references in ItemStateReferenceCache as using soft references seems to cause notable performance drop in the TCK test run

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1002589 13f79535-47bb-0310-9956-ffa450edef68

-        new ReferenceMap(ReferenceMap.HARD, ReferenceMap.SOFT);
+        // I tried using soft instead of weak references here, but that
+        // seems to have some unexpected performance consequences (notable
+        // increase in the JCR TCK run time). So even though soft references
+        // are generally recommended over weak references for caching
+        // purposes, it seems that using weak references is safer here.
+        new ReferenceMap(ReferenceMap.HARD, ReferenceMap.WEAK);
