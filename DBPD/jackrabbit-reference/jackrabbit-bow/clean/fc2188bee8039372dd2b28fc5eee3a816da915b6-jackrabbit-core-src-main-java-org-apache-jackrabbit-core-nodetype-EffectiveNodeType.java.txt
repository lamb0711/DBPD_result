JCR-1423:  [PATCH] fix clone implementation

undoing r631547 & r631560 due to failing test cases...

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@631626 13f79535-47bb-0310-9956-ffa450edef68

-        try {
-            EffectiveNodeType clone = (EffectiveNodeType) super.clone();
+        EffectiveNodeType clone = new EffectiveNodeType();
-            clone.mergedNodeTypes.addAll(mergedNodeTypes);
-            clone.inheritedNodeTypes.addAll(inheritedNodeTypes);
-            clone.allNodeTypes.addAll(allNodeTypes);
-            Iterator iter = namedItemDefs.keySet().iterator();
-            while (iter.hasNext()) {
-                Object key = iter.next();
-                List list = (List) namedItemDefs.get(key);
-                clone.namedItemDefs.put(key, new ArrayList(list));
-            }
-            clone.unnamedItemDefs.addAll(unnamedItemDefs);
-
-            return clone;
-        } catch (CloneNotSupportedException e) {
-            // won't happen
-            throw new InternalError("Failed to clone EffectiveNodeType object");
+        clone.mergedNodeTypes.addAll(mergedNodeTypes);
+        clone.inheritedNodeTypes.addAll(inheritedNodeTypes);
+        clone.allNodeTypes.addAll(allNodeTypes);
+        Iterator iter = namedItemDefs.keySet().iterator();
+        while (iter.hasNext()) {
+            Object key = iter.next();
+            List list = (List) namedItemDefs.get(key);
+            clone.namedItemDefs.put(key, new ArrayList(list));
+        clone.unnamedItemDefs.addAll(unnamedItemDefs);
+
+        return clone;
