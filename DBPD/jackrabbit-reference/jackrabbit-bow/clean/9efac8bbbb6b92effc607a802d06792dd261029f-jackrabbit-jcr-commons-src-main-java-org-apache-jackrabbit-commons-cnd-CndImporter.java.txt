JCR_2761: add shortcut method to CndImporter which makes it easier to rereigster node types

Patch by Justin Edelson

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1043554 13f79535-47bb-0310-9956-ffa450edef68

+     * Shortcut for
+     * <pre>
+     *   registerNodeTypes(cnd, "cnd input stream", wsp.getNodeTypeManager(),
+     *          wsp.getNamespaceRegistry(), session.getValueFactory(), reregisterExisting);
+     * </pre>
+     * where <code>wsp</code> is the workspace of the <code>session</code> passed.
+     * @see #registerNodeTypes(Reader, String, NodeTypeManager, NamespaceRegistry, ValueFactory, boolean)
+     * @param cnd
+     * @param session  the session to use for registering the node types
+     * @param reregisterExisting  <code>true</code> if existing node types should be re-registered
+     *     with those present in the cnd. <code>false</code> otherwise.
+     * @return  the registered node types
+     *
+     * @throws InvalidNodeTypeDefinitionException
+     * @throws NodeTypeExistsException
+     * @throws UnsupportedRepositoryOperationException
+     * @throws ParseException
+     * @throws RepositoryException
+     * @throws IOException
+     */
+    public static NodeType[] registerNodeTypes(Reader cnd, Session session, boolean reregisterExisting)
+            throws InvalidNodeTypeDefinitionException, NodeTypeExistsException,
+            UnsupportedRepositoryOperationException, ParseException, RepositoryException, IOException {
+
+        Workspace wsp = session.getWorkspace();
+        return registerNodeTypes(cnd, "cnd input stream", wsp.getNodeTypeManager(), wsp.getNamespaceRegistry(),
+                session.getValueFactory(), reregisterExisting);
+    }
+
+    /**
