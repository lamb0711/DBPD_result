JCR-3040: JMX Stats for the Session

Add "read", "write", and "login" counters to SessionState.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1181744 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.concurrent.atomic.AtomicLong;
+import org.apache.jackrabbit.core.stats.RepositoryStatistics;
+     * Counter of read operations.
+     */
+    private final AtomicLong readCounter;
+
+    /**
+     * Counter of write operations.
+     */
+    private final AtomicLong writeCounter;
+
+    /**
+
+        RepositoryStatistics statistics =
+                context.getRepositoryContext().getRepositoryStatistics();
+        statistics.getCounter("login").incrementAndGet();
+        this.readCounter = statistics.getCounter("read");
+        this.writeCounter = statistics.getCounter("write");
+                // JCR-3040: Increment the operation counters
+                if (isWriteOperation) {
+                    writeCounter.incrementAndGet();
+                } else {
+                    readCounter.incrementAndGet();
+                }
+
