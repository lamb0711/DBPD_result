JCR-1104: JSR 283 support (work in progress...)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@572978 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.ArrayList;
+    public Lock[] getLocks(SessionImpl session) throws RepositoryException {
+        AbstractLockInfo[] infos;
+        if (isInXA()) {
+            infos = xaEnv.getLockInfos(session);
+        } else {
+            infos = lockMgr.getLockInfos(session);
+        }
+
+        XALock[] locks = new XALock[infos.length];
+
+        for (int i = 0; i < infos.length; i++) {
+            AbstractLockInfo info = infos[i];
+            NodeImpl holder = (NodeImpl) session.getItemManager().getItem(info.getId());
+            locks[i] = new XALock(this, info, holder);
+        }
+        return locks;
+    }
+
+    /**
+     * {@inheritDoc}
+     */
