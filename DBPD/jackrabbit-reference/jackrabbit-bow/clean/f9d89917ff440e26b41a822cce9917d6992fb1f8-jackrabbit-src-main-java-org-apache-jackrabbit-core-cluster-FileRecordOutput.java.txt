JCR-623 Clustering


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@473380 13f79535-47bb-0310-9956-ffa450edef68

-import java.io.OutputStream;
- * Defines methods to write members to a file record.
+ * Allows writing data to a <code>FileRecord</code>.
+     * File record.
+     */
+    private final FileRecord record;
+
+    /**
+     * @param record   file record
-    public FileRecordOutput(OutputStream out, NamespaceResolver resolver) {
-        this.out = new DataOutputStream(out);
+    public FileRecordOutput(FileRecord record, DataOutputStream out, NamespaceResolver resolver) {
+        this.record = record;
+        this.out = out;
-                writeString(nodeId.toString());
+                out.write(nodeId.getUUID().getRawBytes());
+            record.closed();
