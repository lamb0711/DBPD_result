assertion that target type is not UNDEFINED must be performed before qualified values are created.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@452804 13f79535-47bb-0310-9956-ffa450edef68

+        // make sure, the final type is not set to undefined        
-            targetType = type;
+            if (type == PropertyType.UNDEFINED) {
+                targetType = (values.length > 0) ? values[0].getType() : PropertyType.STRING;
+            } else {
+                targetType = type;
+            }
-        // make sure, the final type is not set to undefined
-        if (targetType == PropertyType.UNDEFINED) {
-            targetType = (qvs.length > 0) ? qvs[0].getType() : PropertyType.STRING;
-        }
