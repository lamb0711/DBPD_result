- Implement remove on NodeState and PropertyState.
- Use new remove method in SessionItemStateManager.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@431866 13f79535-47bb-0310-9956-ffa450edef68

+     * Returns <code>true</code> if this item state is valid, that is its status
+     * is one of:
+     * <ul>
+     * <li>{@link #STATUS_EXISTING}</li>
+     * <li>{@link #STATUS_EXISTING_MODIFIED}</li>
+     * <li>{@link #STATUS_NEW}</li>
+     * </ul>
+     * @return
+     */
+    public boolean isValid() {
+        return status == STATUS_EXISTING || status == STATUS_EXISTING_MODIFIED || status == STATUS_NEW;
+    }
+
+    /**
+     * Removes this item state. This will change the status of this property
+     * state to either {@link #STATUS_EXISTING_REMOVED} or {@link
+     * #STATUS_REMOVED} depending on the current status.
+     *
+     * @throws ItemStateException if an error occurs while removing this item
+     *                            state. e.g. this item state is not valid
+     *                            anymore.
+     */
+    public abstract void remove() throws ItemStateException;
+
+    /**
