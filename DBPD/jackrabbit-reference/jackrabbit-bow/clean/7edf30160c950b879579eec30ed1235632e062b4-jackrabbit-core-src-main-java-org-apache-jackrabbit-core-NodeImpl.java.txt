JCR-1046 Non-versionable children of a versionable node should not be updated when a merge fails


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@612604 13f79535-47bb-0310-9956-ffa450edef68

-            // leave, iterate over children
+            // leave, iterate over children, but ignore non-versionable child
+            // nodes (see JCR-1046)
-                n.internalMerge(srcSession, failedIds, bestEffort, removeExisting, replaceExisting);
+                if (n.isNodeType(NameConstants.MIX_VERSIONABLE)) {
+                    n.internalMerge(srcSession, failedIds, bestEffort, removeExisting, replaceExisting);
+                }
