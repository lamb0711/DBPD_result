JCR-890: concurrent read-only access to a session

Turn Item.refresh() into a SessionOperation

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@957205 13f79535-47bb-0310-9956-ffa450edef68

-    private final boolean isNode;
-
-    public ItemSaveOperation(boolean isNode, ItemState state) {
+    public ItemSaveOperation(ItemState state) {
-        this.isNode = isNode;
-        if (isNode) {
+        if (state.isNode()) {
-        if (isNode) {
+        if (state.isNode()) {
