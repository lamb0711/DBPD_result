JCR-2763: Drop the Dumpable interface

Replace the Dumpable interface with toString() methods also in jcr2spi.

This time I made sure to avoid the "..." + this + "..." -trap in toString()...

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1032651 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.jcr2spi.util.Dumpable;
-import java.io.PrintStream;
-public class ItemManagerImpl implements Dumpable, ItemManager, ItemStateCreationListener {
+public class ItemManagerImpl implements ItemManager, ItemStateCreationListener {
-    //-----------------------------------------------------------< Dumpable >---
+    //-------------------------------------------------------------< Object >---
+
-     * @see Dumpable#dump(PrintStream)
+     * Returns the the state of this instance in a human readable format.
-    public void dump(PrintStream ps) {
-        ps.println("ItemManager (" + this + ")");
-        ps.println();
-        ps.println("Items in cache:");
-        ps.println();
-        if (itemCache instanceof Dumpable) {
-            ((Dumpable) itemCache).dump(ps);
-        } else {
-            ps.println("ItemCache (" + itemCache.toString() + ")");
-        }
+    public String toString() {
+        StringBuilder builder = new StringBuilder();
+        builder.append("ItemManager (" + super.toString() + ")\n");
+        builder.append("Items in cache:\n");
+        builder.append(itemCache);
+        return builder.toString();
