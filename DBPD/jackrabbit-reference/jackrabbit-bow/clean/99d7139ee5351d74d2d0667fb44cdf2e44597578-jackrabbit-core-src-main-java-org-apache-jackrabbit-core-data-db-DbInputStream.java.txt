JCR-1934 DbDataStore: delete temporary files using finalize()

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@740262 13f79535-47bb-0310-9956-ffa450edef68

-import java.io.InputStream;
+import org.apache.commons.io.input.AutoCloseInputStream;
- * This class represents an input stream backed by a database. It allows the
- * stream to be used by keeping the database objects open until the stream is
- * closed. When the stream is finished or closed, then the database objects are
- * freed.
+ * This class represents an input stream backed by a database. The database
+ * objects are only acquired when reading from the stream, and stay open until
+ * the stream is closed, fully read, or garbage collected.
-public class DbInputStream extends InputStream {
+public class DbInputStream extends AutoCloseInputStream {
-    protected InputStream in;
+        super(null);
