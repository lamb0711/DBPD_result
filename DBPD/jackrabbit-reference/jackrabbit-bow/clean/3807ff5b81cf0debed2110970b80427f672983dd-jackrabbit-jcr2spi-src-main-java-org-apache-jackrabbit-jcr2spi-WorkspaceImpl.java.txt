JCR-2003: JCR2SPI / SPI: Add support for JCR 2.0
JCR-1104: JSR 283 support

- move methods to the correct place
- add Javadoc and TODOs
- add trivial implementations on SessionImpl
- rename ManagerProvider#getLockManager to #getLockStateManager

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@772128 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.lock.LockManager;
+    /**
+     * @see javax.jcr.Workspace#createWorkspace(String)
+     */
+    public void createWorkspace(String name) throws RepositoryException {
+        // TODO: implementation missing
+        throw new UnsupportedRepositoryOperationException("JCR-1104");
+    }
+
+
+    /**
+     * @see javax.jcr.Workspace#createWorkspace(String, String)
+     */
+    public void createWorkspace(String name, String srcWorkspace)
+            throws RepositoryException {
+        // TODO: implementation missing
+        throw new UnsupportedRepositoryOperationException("JCR-1104");
+    }
+
+
+    /**
+     * @see javax.jcr.Workspace#deleteWorkspace(String)
+     */
+    public void deleteWorkspace(String name) throws RepositoryException {
+        // TODO: implementation missing
+        throw new UnsupportedRepositoryOperationException("JCR-1104");
+    }
+
+
+    /**
+     * @see javax.jcr.Workspace#getLockManager()
+     */
+    public LockManager getLockManager() throws RepositoryException {
+        session.checkIsAlive();
+        session.checkSupportedOption(Repository.OPTION_LOCKING_SUPPORTED);
+        return getLockStateManager();
+    }
+
+    /**
+     * @see javax.jcr.Workspace#getVersionManager()
+     */
+    public javax.jcr.version.VersionManager getVersionManager()
+            throws RepositoryException {
+        // TODO: implementation missing
+        throw new UnsupportedRepositoryOperationException("JCR-1104");
+    }
+
-     * @see ManagerProvider#getLockManager()
+     * @see ManagerProvider#getLockStateManager()
-    public LockStateManager getLockManager() {
+    public LockStateManager getLockStateManager() {
-        session.addListener((LockManagerImpl) lMgr);
+        session.addListener(lMgr);
-
-    public void createWorkspace(String name) throws RepositoryException {
-        throw new UnsupportedRepositoryOperationException("JCR-1104");
-    }
-
-    public void createWorkspace(String name, String srcWorkspace)
-            throws RepositoryException {
-        throw new UnsupportedRepositoryOperationException("JCR-1104");
-    }
-
-    public void deleteWorkspace(String name) throws RepositoryException {
-        throw new UnsupportedRepositoryOperationException("JCR-1104");
-    }
-
-    public javax.jcr.version.VersionManager getVersionManager()
-            throws RepositoryException {
-        throw new UnsupportedRepositoryOperationException("JCR-1104");
-    }
