work in progress

resolve todo

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@464839 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.value.QValue;
+import org.slf4j.Logger;
+import org.slf4j.LoggerFactory;
+     * Logger instance for this class
+     */
+    private static Logger log = LoggerFactory.getLogger(QPropertyDefinitionImpl.class);
+
+    /**
-    private final String[] defaultValues;
+    private final QValue[] defaultValues;
-            defaultValues = new String[0];
+            defaultValues = new QValue[0];
-                String qValue = ValueFormat.getQValue(DomUtil.getText(it.nextElement()), requiredType, nsResolver).getString();
+                QValue qValue = ValueFormat.getQValue(DomUtil.getText(it.nextElement()), requiredType, nsResolver);
-            defaultValues = (String[]) vs.toArray(new String[vs.size()]);
+            defaultValues = (QValue[]) vs.toArray(new QValue[vs.size()]);
-        return defaultValues;
+        String[] strs = new String[defaultValues.length];
+        for (int i = 0; i < defaultValues.length; i++) {
+            try {
+                strs[i] = defaultValues[i].getString();
+            } catch (RepositoryException e) {
+                log.error("Internal error while retrieving default values.", e);
+            }
+        }
+        return strs;
-        // todo: implementation missing
-        return null;
+        InputStream[] ins = new InputStream[defaultValues.length];
+        for (int i = 0; i < defaultValues.length; i++) {
+            try {
+                ins[i] = defaultValues[i].getStream();
+            } catch (RepositoryException e) {
+                log.error("Internal error while retrieving default values.", e);
+            }
+        }
+        return ins;
