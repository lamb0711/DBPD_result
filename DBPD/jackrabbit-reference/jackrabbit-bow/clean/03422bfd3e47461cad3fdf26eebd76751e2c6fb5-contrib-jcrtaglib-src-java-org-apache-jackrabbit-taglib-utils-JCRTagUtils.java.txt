maven 2 descriptor
remove commons logging dependency
remove spring dependency
and some minor changes

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@472354 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.commons.logging.Log;
-import org.apache.commons.logging.LogFactory;
+import org.apache.log4j.Logger;
-    private static Log log = LogFactory.getLog(JCRTagUtils.class);
+	private static Logger log = Logger.getLogger(JCRTagUtils.class);
+	
+	private static BeanFactory beanFactory ;
-        BeanFactory factory = (BeanFactory) lookup(JCRTagConstants.JNDI_BEAN_FACTORY);
-        Object bean = factory.getBean(id);
+        Object bean = getBeanFactory().getBean(id);
+    
+    private static BeanFactory getBeanFactory() {
+    	if (beanFactory==null) {
+    		try {
+        		String impl = (String) lookup(JCRTagConstants.JNDI_BEAN_FACTORY);
+        		beanFactory = (BeanFactory) Class.forName(impl).newInstance();
+    		} catch (Exception e) {
+				log.error("unable to create bean factory", e) ;
+			}
+    	}
+    	return beanFactory ;
+    }
