JCR-890: concurrent read-only access to a session

Remove the SessionImpl reference to NodeTypeInstanceHandler

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@985833 13f79535-47bb-0310-9956-ffa450edef68

-            InternalValue[] genValues =
-                sessionContext.getSessionImpl().getNodeTypeInstanceHandler()
-                .computeSystemGeneratedPropertyValues(data.getNodeState(), propDef);
-            if (genValues == null) {
-                genValues = InternalValue.create(propDef.getDefaultValues());
-            }
-            if (genValues != null) {
-                propState.setValues(genValues);
-            }
+            String userId = sessionContext.getSessionImpl().getUserID();
+            new NodeTypeInstanceHandler(userId).setDefaultValues(
+                    propState, data.getNodeState(), propDef);
