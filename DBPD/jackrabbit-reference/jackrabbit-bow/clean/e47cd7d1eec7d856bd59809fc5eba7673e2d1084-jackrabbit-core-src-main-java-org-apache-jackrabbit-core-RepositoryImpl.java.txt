JCR-2057: When creating multiple repository instances pointing to the same home, opening a second session will remove the .lock file

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@763617 13f79535-47bb-0310-9956-ffa450edef68

-     * private constructor
+     * Protected constructor.
-     * @param repConfig
+     * @param repConfig the repository configuration.
+     * @throws RepositoryException if there is already another repository
+     *                             instance running on the given configuration
+     *                             or another error occurs.
+        // Acquire a lock on the repository home
+        repLock = repConfig.getRepositoryLockMechanism();
+        repLock.init(repConfig.getHomeDir());
+        repLock.acquire();
+
-            // Acquire a lock on the repository home
-            repLock = repConfig.getRepositoryLockMechanism();
-            repLock.init(repConfig.getHomeDir());
-            repLock.acquire();
-
