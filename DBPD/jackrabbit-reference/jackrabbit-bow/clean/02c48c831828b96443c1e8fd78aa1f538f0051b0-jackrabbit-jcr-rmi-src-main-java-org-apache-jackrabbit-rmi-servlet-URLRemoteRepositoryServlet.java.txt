JCR-956: Clarified naming and packaging of the new classes

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@543987 13f79535-47bb-0310-9956-ffa450edef68

+import java.net.MalformedURLException;
+import java.net.URL;
+
-import org.apache.jackrabbit.rmi.client.RMIRepository;
+import org.apache.jackrabbit.rmi.repository.URLRemoteRepository;
- * Servlet that makes a repository from RMI available as an attribute
+ * Servlet that makes a remote repository from a ULR available as an attribute
- *     RMI URL of the remote repository. The default value is
- *     "<code>//localhost/javax/jcr/Repository</code>".
+ *     URL of the remote repository.
-public class RMIRepositoryServlet extends RemoteRepositoryServlet {
+public class URLRemoteRepositoryServlet extends RemoteRepositoryServlet {
-    private static final long serialVersionUID = 3361176460018801671L;
+    private static final long serialVersionUID = 6144781813459102448L;
-     * Creates and returns an RMI repository proxy for the configured RMI URL.
+     * Creates and returns a proxy for the remote repository at the given URL.
-     * @return RMI repository proxy
+     * @return repository proxy
-        return new RMIRepository(
-                getLocalAdapterFactory(),
-                getInitParameter("url", "//localhost/javax/jcr/Repository"));
+        String url = getInitParameter("url");
+        if (url == null) {
+            throw new ServletException("Missing init parameter: url");
+        }
+
+        try {
+            return new URLRemoteRepository(
+                        getLocalAdapterFactory(), new URL(url));
+        } catch (MalformedURLException e) {
+            throw new ServletException("Invalid repository URL: " + url, e);
+        }
