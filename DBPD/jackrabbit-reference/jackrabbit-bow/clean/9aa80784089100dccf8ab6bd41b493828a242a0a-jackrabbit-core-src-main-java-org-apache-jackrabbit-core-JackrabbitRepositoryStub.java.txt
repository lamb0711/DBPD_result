JCR-2085: RetentionPolicy now obtained from a pre-populated node, see new property "retentionpolicyholder"; change cleanup so that it cleans up retention policies as well.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@771344 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.retention.RetentionRegistryImpl;
-import org.apache.jackrabbit.test.NotExecutableException;
-    public RetentionPolicy getRetentionPolicy(Session session) throws NotExecutableException, RepositoryException {
-        return RetentionPolicyImpl.createRetentionPolicy(RepositoryStub.RETENTION_POLICY_NAME, session);
-    }
-
-        
-        // add a policy
-        // TODO check we're doing the right thing here
-        RetentionPolicyImpl.createRetentionPolicy("retentionPolicyName", session);
+        addRetentionTestData(getOrAddNode(data, "retentionTest"));
+     * Creates a node with a RetentionPolicy
+     */
+    private void addRetentionTestData(Node node) throws RepositoryException {
+        RetentionPolicy rp = RetentionPolicyImpl.createRetentionPolicy("testRetentionPolicy", node.getSession());
+        node.getSession().getRetentionManager().setRetentionPolicy(node.getPath(), rp);
+    }
+
+    /**
