JCR-800: Child Axis support in order by clause

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@744884 13f79535-47bb-0310-9956-ffa450edef68

-                Name prop = encode(specs[i].getProperty());
-                sb.append(" @");
-                sb.append(resolver.getJCRName(prop));
+                Path propPath = specs[i].getPropertyPath();
+                Path.Element[] elements = propPath.getElements();
+                sb.append(" ");
+                String slash = "";
+                for (int j = 0; j < elements.length; j++) {
+                    sb.append(slash);
+                    slash = "/";
+                    Path.Element element = elements[j];
+                    Name name = encode(element.getName());
+                    if (j == elements.length - 1) {
+                        // last
+                        sb.append("@");
+                    }
+                    sb.append(resolver.getJCRName(name));
+                }
