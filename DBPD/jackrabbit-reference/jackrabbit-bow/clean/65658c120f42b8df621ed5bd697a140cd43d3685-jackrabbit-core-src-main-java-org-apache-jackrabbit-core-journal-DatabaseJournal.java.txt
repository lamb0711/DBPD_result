JCR-1013: Connection.setAutoCommit(...) fails if connection
          is managed for JNDIDatabasePersistenceManager
    - Added getAutoCommit() guards to all setAutoCommit()
      calls that might be made on a managed connection

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@605515 13f79535-47bb-0310-9956-ffa450edef68

-            connection.setAutoCommit(true);
+            setAutoCommit(connection, true);
-                connection.setAutoCommit(autoCommit);
+                // JCR-1013: Setter may fail on a managed connection
+                if (connection.getAutoCommit() != autoCommit) {
+                    connection.setAutoCommit(autoCommit);
+                }
