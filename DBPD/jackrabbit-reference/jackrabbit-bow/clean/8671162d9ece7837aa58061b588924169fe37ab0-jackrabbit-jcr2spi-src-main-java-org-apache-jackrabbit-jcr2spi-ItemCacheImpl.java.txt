JCR-1886 : Unprocessed ItemInfos call to RepositoryService#getItemInfos
JCR-1891 : Use Soft refs for hierarchy

in addition:
= some javadoc fixes
= change ItemLifeCycleListener to be informed about update of items instead of invalidation
= change ItemCache impl to touch updated items or add them to the cache.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@722470 13f79535-47bb-0310-9956-ffa450edef68

-    /**
-     * @see ItemLifeCycleListener#itemInvalidated(Item)
-     */
-    public void itemInvalidated(Item item) {
+    public void itemUpdated(Item item, boolean modified) {
-            log.debug("invalidated item " + item);
+            log.debug("update item " + item);
-        // remove instance from cache
-        evictItem(((ItemImpl)item).getItemState());
+
+        ItemState state = ((ItemImpl) item).getItemState();
+        // touch the corresponding cache entry
+        Item cacheEntry = getItem(state);
+        if (cacheEntry == null) {
+            // .. or add the item to the cache, if not present yet.
+            cacheItem(state, item);
+        }
