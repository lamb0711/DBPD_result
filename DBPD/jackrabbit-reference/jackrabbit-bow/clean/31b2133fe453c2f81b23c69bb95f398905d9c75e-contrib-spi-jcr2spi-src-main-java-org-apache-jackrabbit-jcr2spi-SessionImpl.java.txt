work in progress

- reorder: wrong usage of OrderPatch
- reorder: missing check for 'before' being null
- reorder: affected-items in op. not consistent with modified items
- move: session.move must remember srcId 
- spi: add possibility to obtain sessionInfo for another workspace based on an existing sessionInfo.
- uriresolver: defensive check for type of ItemId

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@464431 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.spi.XASessionInfo;
-        return new SessionImpl(sessionInfo, repository, config);
+        checkAccessibleWorkspace(workspaceName);
+        
+        SessionInfo info = config.getRepositoryService().obtain(sessionInfo, workspaceName);
+        if (info instanceof XASessionInfo) {
+            return new XASessionImpl((XASessionInfo) info, repository, config);
+        } else {
+            return new SessionImpl(info, repository, config);
+        }
