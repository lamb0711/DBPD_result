- fixed bug in EffectiveNodeType.getApplicableChildNodeDef()
- some minor cosmetical changes
- WorkspaceImporter: work in progress...

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@157109 13f79535-47bb-0310-9956-ffa450edef68

-                        // check node type constraints
-                        checkRequiredPrimaryType(nodeTypeName, nd.getRequiredPrimaryTypes());
+                        try {
+                            // check node type constraints
+                            checkRequiredPrimaryType(nodeTypeName, nd.getRequiredPrimaryTypes());
+                        } catch (ConstraintViolationException cve) {
+                            // ignore and try next
+                            continue;
+                        }
+                        // found node definition
-                            // no default node type defined
-                            throw new ConstraintViolationException("node type for " + name + " can not be determined");
+                            // no default node type defined, try next
+                            continue;
+                        } else {
+                            // found node definition with default node type
+                            return nd;
+                // found residual node definition
