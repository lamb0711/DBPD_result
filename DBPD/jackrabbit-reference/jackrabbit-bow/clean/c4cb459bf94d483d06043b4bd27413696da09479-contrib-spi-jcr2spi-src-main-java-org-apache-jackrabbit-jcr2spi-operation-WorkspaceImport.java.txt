- Operation.persisted -> remove CacheBehaviour param (as suggested with TODO in WorkspaceManager).
- adjust TODO.txt

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@523334 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.jcr2spi.config.CacheBehaviour;
-     * @see Operation#persisted(CacheBehaviour)
-     * @param cacheBehaviour
+     * @see Operation#persisted()
-    public void persisted(CacheBehaviour cacheBehaviour) {
-        if (cacheBehaviour == CacheBehaviour.INVALIDATE) {
-            NodeEntry entry;
-            if (uuidBehaviour == ImportUUIDBehavior.IMPORT_UUID_COLLISION_REMOVE_EXISTING ||
+    public void persisted() {
+        NodeEntry entry;
+        if (uuidBehaviour == ImportUUIDBehavior.IMPORT_UUID_COLLISION_REMOVE_EXISTING ||
-                // invalidate the complete tree
-                entry = nodeState.getNodeEntry();
-                while (entry.getParent() != null) {
-                    entry = entry.getParent();
-                }
-                entry.invalidate(true);
-            } else {
-                // import only added new items below the import target. therefore
-                // recursive invalidation is not required. // TODO correct?
-                nodeState.getNodeEntry().invalidate(false);
+            // invalidate the complete tree
+            entry = nodeState.getNodeEntry();
+            while (entry.getParent() != null) {
+                entry = entry.getParent();
+            entry.invalidate(true);
+        } else {
+            // import only added new items below the import target. therefore
+            // recursive invalidation is not required. // TODO correct?
+            nodeState.getNodeEntry().invalidate(false);
