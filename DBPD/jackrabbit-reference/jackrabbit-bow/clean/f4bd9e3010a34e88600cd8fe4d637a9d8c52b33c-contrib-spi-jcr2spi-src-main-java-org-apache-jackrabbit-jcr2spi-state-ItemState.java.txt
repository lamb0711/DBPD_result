- Remove ItemState.isTransient
- Implement ItemState.isTransient() based on ItemState status.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@434001 13f79535-47bb-0310-9956-ffa450edef68

-     * Flag indicating whether this state is transient
-     */
-    private final boolean isTransient;
-
-    /**
-     * @param isTransient   flag indicating whether this state is transient or not
-    protected ItemState(NodeState parent, int initialStatus, boolean isTransient,
-                        IdFactory idFactory) {
+    protected ItemState(NodeState parent, int initialStatus, IdFactory idFactory) {
-        this.isTransient = isTransient;
-     * @param isTransient   flag indicating whether this state is transient or not
-    protected ItemState(ItemState overlayedState, NodeState parent, int initialStatus,
-                        boolean isTransient, IdFactory idFactory) {
+    protected ItemState(ItemState overlayedState, NodeState parent,
+                        int initialStatus, IdFactory idFactory) {
-        this.isTransient = isTransient;
-     * state (i.e. the result of copy-on-write) or <code>false</code> if it
-     * represents existing, unmodified state.
+     * state or <code>false</code> if it represents existing, unmodified state.
-        return isTransient;
+        return status == STATUS_EXISTING_MODIFIED || status == STATUS_NEW;
-        if (isTransient) {
+        if (isTransient()) {
-            setStatus(STATUS_EXISTING_REMOVED);
+            setStatus(STATUS_REMOVED);
-        if (isTransient) {
+        if (isTransient()) {
