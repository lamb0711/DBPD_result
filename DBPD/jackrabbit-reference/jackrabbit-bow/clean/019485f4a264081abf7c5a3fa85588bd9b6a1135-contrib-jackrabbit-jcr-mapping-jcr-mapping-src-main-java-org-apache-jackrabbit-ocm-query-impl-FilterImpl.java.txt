
* Review the interface AtomicTypeConverter : rename the method getString into getXPathQueryValue. This method is mainly used by FiterImpl in order to build Xpath query expression based on the object attribute. 
* Solve issue JCR-930 : now dates are not converted in long if UtilDateConverterImpl is used. 

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@544959 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.ValueFactory;
+
+    private ValueFactory valueFactory;
-    public FilterImpl(ClassDescriptor classDescriptor, Map atomicTypeConverters, Class clazz) {
+    public FilterImpl(ClassDescriptor classDescriptor, Map atomicTypeConverters, Class clazz, ValueFactory valueFactory) {
+        this.valueFactory = valueFactory;
-        return atomicTypeConverter.getStringValue(value);
+        return atomicTypeConverter.getXPathQueryValue(valueFactory, value);
