JCR-1588: 283 Access Control

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@689499 13f79535-47bb-0310-9956-ffa450edef68

+    private final String adminId;
+    private final String anonymousId;
+     *
-                               PrincipalProviderRegistry principalProviderRegistry) {
+                               PrincipalProviderRegistry principalProviderRegistry,
+                               String adminId, String anonymousId) {
+        this.adminId = adminId;
+        this.anonymousId = anonymousId;
-                ((RepositoryCallback) callback).setSession(session);
-                ((RepositoryCallback) callback).setPrincipalProviderRegistry(principalProviderRegistry);
+                RepositoryCallback rcb = (RepositoryCallback) callback;
+                rcb.setSession(session);
+                rcb.setPrincipalProviderRegistry(principalProviderRegistry);
+                rcb.setAdminId(adminId);
+                rcb.setAnonymousId(anonymousId);
