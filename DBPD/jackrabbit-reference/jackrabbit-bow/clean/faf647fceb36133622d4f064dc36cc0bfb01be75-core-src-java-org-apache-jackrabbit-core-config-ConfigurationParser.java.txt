JCR-189: QueryHandler should use lucene Input-/OutputStream implementations

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@233174 13f79535-47bb-0310-9956-ffa450edef68

-     * <p>
+     * <p/>
-     * <p>
+     * <p/>
+     * <p/>
+     * The FileSystem element in a search index configuration is optional.
+     * However some implementations may require a FileSystem.
-                // File system implementation
-                FileSystemConfig fsc = new FileSystemConfig(
-                        parseBeanConfig(element, FILE_SYSTEM_ELEMENT));
+                // Optional file system implementation
+                FileSystemConfig fsc = null;
+                if (getElement(element, FILE_SYSTEM_ELEMENT, false) != null) {
+                    fsc = new FileSystemConfig(
+                            parseBeanConfig(element, FILE_SYSTEM_ELEMENT));
+                }
