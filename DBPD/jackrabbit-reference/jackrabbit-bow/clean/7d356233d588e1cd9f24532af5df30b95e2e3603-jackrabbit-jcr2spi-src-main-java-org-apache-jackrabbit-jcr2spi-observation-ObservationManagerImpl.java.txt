JCR-2108: JSR 283 Observation   (work in progress)

- initial draft for simple 283 observation extensions
- TODO: eventjournal, iterator.getDate ....
- TODO: jcr-server still ignores 283 extensions

- in addition: removed tmp-dependency in spi2jcr/pom.xml

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@781054 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.ValueFactory;
-     * The session this observation manager belongs to.
+     * The name and path resolver associated with the session this observation
+     * manager belongs to.
+     * The ValueFactory associated with the session this observation
+     * manager belongs to.
+     */
+    private final ValueFactory valueFactory;
+
+    /**
+     * @param valueFactory
-                                  NodeTypeRegistry ntRegistry) {
+                                  NodeTypeRegistry ntRegistry, ValueFactory valueFactory) {
+        this.valueFactory = valueFactory;
-        // TODO
-        throw new UnsupportedRepositoryOperationException("JCR-2108");
+        wspManager.setUserData(userData);
-            FilteredEventIterator eventIter = new FilteredEventIterator(eventBundle, filter, resolver);
+            FilteredEventIterator eventIter = new FilteredEventIterator(eventBundle, filter, resolver, valueFactory, wspManager.getIdFactory());
