porting to v0.16.4 of the jsr170 specification

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@161260 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.nodetype.ChildNodeDef;
+import org.apache.jackrabbit.core.nodetype.NodeDef;
+import javax.jcr.ImportUUIDBehavior;
-     * Creates a <code>WorkspaceImporter</code> instance.
+     * Creates a new <code>WorkspaceImporter</code> instance.
-     * @param uuidBehavior
+     * @param uuidBehavior     any of the constants declared by
+     *                         {@link ImportUUIDBehavior}
-        ChildNodeDef def =
+        NodeDef def =
-                                   ChildNodeDef def)
+                                   NodeDef def)
-        if (!def.allowSameNameSibs() && parent.hasChildNodeEntry(nodeName)) {
+        if (!def.allowsSameNameSiblings() && parent.hasChildNodeEntry(nodeName)) {
-        ChildNodeDef[] nda = ent.getAutoCreateNodeDefs();
+        NodeDef[] nda = ent.getAutoCreateNodeDefs();
-            ChildNodeDef nd = nda[i];
+            NodeDef nd = nda[i];
-        if (uuidBehavior == IMPORT_UUID_CREATE_NEW) {
+        if (uuidBehavior == ImportUUIDBehavior.IMPORT_UUID_CREATE_NEW) {
-        } else if (uuidBehavior == IMPORT_UUID_COLLISION_THROW) {
+        } else if (uuidBehavior == ImportUUIDBehavior.IMPORT_UUID_COLLISION_THROW) {
-        } else if (uuidBehavior == IMPORT_UUID_COLLISION_REMOVE_EXISTING) {
+        } else if (uuidBehavior == ImportUUIDBehavior.IMPORT_UUID_COLLISION_REMOVE_EXISTING) {
-        } else if (uuidBehavior == IMPORT_UUID_COLLISION_REPLACE_EXISTING) {
+        } else if (uuidBehavior == ImportUUIDBehavior.IMPORT_UUID_COLLISION_REPLACE_EXISTING) {
-                ChildNodeDef def = ntReg.getNodeDef(existing.getDefinitionId());
+                NodeDef def = ntReg.getNodeDef(existing.getDefinitionId());
-                if (!def.allowSameNameSibs()) {
+                if (!def.allowsSameNameSiblings()) {
-                    if (def.isAutoCreate() && entExisting.includesNodeType(ntName)) {
+                    if (def.isAutoCreated() && entExisting.includesNodeType(ntName)) {
-                    ChildNodeDef def =
+                    NodeDef def =
-                        ChildNodeDef def =
+                        NodeDef def =
-                    if (def.isAutoCreate() && (existing.getType() == type
+                    if (def.isAutoCreated() && (existing.getType() == type
