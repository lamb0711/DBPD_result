JCR-681: Avoid NullPointerExceptions in makeSerialValue()

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@488157 13f79535-47bb-0310-9956-ffa450edef68

+     * Null referenced and already serializable values are passed as-is.
-     * @param value the value to be decorated
-     * @return the decorated value
+     * @param value the value to be decorated, or <code>null</code>
+     * @return the decorated value, or <code>null</code>
-        // if the value is already serializable, just return it
-        // - or should we test for SerialValue ??
-        if (value instanceof SerialValue) {
+        // if the value is null or already serializable, just return it
+        if (value == null || value instanceof SerialValue) {
-    protected PathValue createPathValue(String value) 
+    protected PathValue createPathValue(String value)
-    protected ReferenceValue createReferenceValue(String value) 
+    protected ReferenceValue createReferenceValue(String value)
