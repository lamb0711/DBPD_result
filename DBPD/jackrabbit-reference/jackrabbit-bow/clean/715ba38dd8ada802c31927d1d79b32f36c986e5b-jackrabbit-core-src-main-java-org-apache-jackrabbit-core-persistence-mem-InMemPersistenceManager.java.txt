JCR-2206: Replace NodeReferencesId with NodeId

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@793243 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.id.NodeReferencesId;
-    protected Map<NodeReferencesId, byte[]> refsStore;
+    protected Map<NodeId, byte[]> refsStore;
-                NodeReferencesId id = NodeReferencesId.valueOf(s);
+                NodeId id = NodeId.valueOf(s);
-            for (NodeReferencesId id : refsStore.keySet()) {
+            for (NodeId id : refsStore.keySet()) {
-        refsStore = new HashMap<NodeReferencesId, byte[]>(initialCapacity, loadFactor);
+        refsStore = new HashMap<NodeId, byte[]>(initialCapacity, loadFactor);
-    public synchronized NodeReferences load(NodeReferencesId id)
+    public synchronized NodeReferences loadReferencesTo(NodeId id)
-            refsStore.put(refs.getId(), out.toByteArray());
+            refsStore.put(refs.getTargetId(), out.toByteArray());
-            String msg = "failed to store references: " + refs.getId();
+            String msg = "failed to store " + refs;
-        refsStore.remove(refs.getId());
+        refsStore.remove(refs.getTargetId());
-    public boolean exists(NodeReferencesId id) throws ItemStateException {
+    public boolean existsReferencesTo(NodeId id) throws ItemStateException {
