JCR-190: Caching in QueryHandler does not scale well

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@234492 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.BitSet;
+     * Returns the <code>DocId</code> of the parent of <code>n</code> or
+     * {@link DocId#NULL} if <code>n</code> does not have a parent
+     * (<code>n</code> is the root node).
+     *
+     * @param n the document number.
+     * @param deleted the documents that should be regarded as deleted.
+     * @return the <code>DocId</code> of <code>n</code>'s parent.
+     * @throws IOException if an error occurs while reading from the index.
+     */
+    public DocId getParent(int n, BitSet deleted) throws IOException {
+        return getBase().getParent(n, deleted);
+    }
+
+    /**
+
+    /**
+     * Returns the {@link CachingIndexReader} this reader is based on.
+     *
+     * @return the {@link CachingIndexReader} this reader is based on.
+     */
+    public CachingIndexReader getBase() {
+        return (CachingIndexReader) in;
+    }
+
