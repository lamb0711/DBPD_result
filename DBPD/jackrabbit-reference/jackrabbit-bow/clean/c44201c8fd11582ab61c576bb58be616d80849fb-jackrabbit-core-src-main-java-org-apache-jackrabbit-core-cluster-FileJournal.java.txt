JCR-623 - Clustering
+ Journal file was considered bogus
+ RepositoryImpl derived classes did not setup version manager channel; moved up


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@485714 13f79535-47bb-0310-9956-ffa450edef68

-    private static final String LOG_EXTENSION = ".log";
+    private static final String LOG_EXTENSION = "log";
+     * Journal file.
+     */
+    private File journal;
+
+    /**
+        journal = new File(root, basename + "." + LOG_EXTENSION);
+
-            File journalFile = new File(root, basename + LOG_EXTENSION);
-
-            FileRecordLog recordLog = new FileRecordLog(journalFile);
+            FileRecordLog recordLog = new FileRecordLog(journal);
-                    recordLog = new FileRecordLog(journalFile);
+                    recordLog = new FileRecordLog(journal);
