JCR-3447: InternalValueFactory should use the DataStore whenever available

Further simplify code by making the Internal/QValue fields immutable (final)
and replacing the store() method with a simpler isInDataStore() checker.
This is OK since all (large) binary InternalValues should now already
be in the data store.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1400935 13f79535-47bb-0310-9956-ffa450edef68

-    protected Object val;
+    protected final Object val;
-        val = value;
+        this.val = value;
-        if (!(type == PropertyType.STRING || type == PropertyType.REFERENCE || type == PropertyType.WEAKREFERENCE)) {
+        if (!(type == PropertyType.STRING
+                || type == PropertyType.DATE // JCR-3083
+                || type == PropertyType.REFERENCE
+                || type == PropertyType.WEAKREFERENCE)) {
-        val = value;
+        this.val = value;
