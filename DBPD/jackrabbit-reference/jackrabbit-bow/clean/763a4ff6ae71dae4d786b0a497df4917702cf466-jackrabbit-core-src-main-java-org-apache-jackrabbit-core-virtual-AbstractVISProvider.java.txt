JCR-2087: Upgrade to Java 5 as the base platform

Various cleanups here and there.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@793283 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Iterator;
-    private final transient Collection listeners = new WeakIdentityCollection(5);
+    private final transient Collection<ItemStateListener> listeners =
+        new WeakIdentityCollection(5);
-                Iterator iter = state.getChildNodeEntries().iterator();
-                while (iter.hasNext()) {
-                    ChildNodeEntry pe = (ChildNodeEntry) iter.next();
+                for (ChildNodeEntry pe : state.getChildNodeEntries()) {
-            la = (ItemStateListener[]) listeners.toArray(new ItemStateListener[listeners.size()]);
+            la = listeners.toArray(new ItemStateListener[listeners.size()]);
-            la = (ItemStateListener[]) listeners.toArray(new ItemStateListener[listeners.size()]);
+            la = listeners.toArray(new ItemStateListener[listeners.size()]);
-            la = (ItemStateListener[]) listeners.toArray(new ItemStateListener[listeners.size()]);
+            la = listeners.toArray(new ItemStateListener[listeners.size()]);
-            la = (ItemStateListener[]) listeners.toArray(new ItemStateListener[listeners.size()]);
+            la = listeners.toArray(new ItemStateListener[listeners.size()]);
