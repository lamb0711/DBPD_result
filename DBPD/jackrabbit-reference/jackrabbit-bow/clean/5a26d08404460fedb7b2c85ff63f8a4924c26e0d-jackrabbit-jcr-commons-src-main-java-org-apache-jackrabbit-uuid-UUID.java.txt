- JCR-687 UUID compareTo and hashCode
- Adjusting source formatting


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@489369 13f79535-47bb-0310-9956-ffa450edef68

-     *         argument must contain 16 bytes.
+     *                             argument must contain 16 bytes.
-     * @param mostSignificant the most significant 8 bytes of the uuid to be
-     *        constructed.
+     * @param mostSignificant  the most significant 8 bytes of the uuid to be
+     *                         constructed.
-     *        constructed.
+     *                         constructed.
-     *         string
+     *                                  string
-        for (int i=0; i<UUID_FORMATTED_LENGTH; i++) {
+        for (int i = 0; i < UUID_FORMATTED_LENGTH; i++) {
-            if (i==8 || i==13 || i==23) {
-                if (c!='-') {
+            if (i == 8 || i == 13 || i == 23) {
+                if (c != '-') {
-            } else if (i==18) {
-                if (c!='-') {
+            } else if (i == 18) {
+                if (c != '-') {
-                b=1;
+                b = 1;
-                if (c>='a' && c<='f') {
-                    h+=9;
-                } else if (c<'0' || c>'9') {
+                if (c >= 'a' && c <= 'f') {
+                    h += 9;
+                } else if (c < '0' || c > '9') {
-     *         UUID String.
+     *                                  UUID String.
-        for (int i = 60, j = 0; i >= 0; i-=4) {
+        for (int i = 60, j = 0; i >= 0; i -= 4) {
-        for (int i = 60, j = 19; i >= 0; i-=4) {
+        for (int i = 60, j = 19; i >= 0; i -= 4) {
-        int result;
-        result = (int) (lsb ^ (lsb >>> 32));
-        result = 29 * result + (int) (msb ^ (msb >>> 32));
-        return result;
+        return (int) ((msb >>> 32) ^ msb ^ (lsb >>> 32) ^ lsb);
-     * Compares two UUID's for equality
+     * Compares two UUIDs.
-        return (int) (u.msb == msb ? lsb - u.lsb : msb - u.msb);
+        if (msb == u.msb) {
+            if (lsb == u.lsb) {
+                return 0;
+            }
+            return lsb > u.lsb ? 1 : -1;
+        }
+        return msb > u.msb ? 1 : -1;
