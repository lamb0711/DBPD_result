JCR-3914 Support default aws region

Fix: S3Backend can now derive aws region from ec2 instance. 
However aws region specified in property file takes precedence over derived aws region. 

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1710969 13f79535-47bb-0310-9956-ffa450edef68

+import com.amazonaws.AmazonClientException;
-import com.amazonaws.services.s3.model.Region;
+import com.amazonaws.regions.Regions;
+import com.amazonaws.services.s3.model.Region;
-        } else {
+        } else { 
+            if (StringUtils.isNullOrEmpty(region)) {
+                com.amazonaws.regions.Region s3Region = Regions.getCurrentRegion();
+                if (s3Region != null) {
+                    region = s3Region.getName();
+                } else {
+                    throw new AmazonClientException(
+                        "parameter ["
+                            + S3Constants.S3_REGION
+                            + "] not configured and cannot be derived from environment");
+                }
+            }
