SPI
- replace ChildNodeEntryImpl with new implementations
- CachingItemStateManager now uses ItemStateFactory
- WorkspaceManager implements ItemStateFactory
- Retrieving an ItemState now forces loading all ancestors by design
- NodeState does not maintain indexes of child node entries anymore. They are calculated on demand.
- ItemStateFactory methods do not require parent NodeState anymore. The parent NodeState is retrieved using an ItemStateManager. Which in turn may lead to recursive retrieval of ancestors if necessary.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@426536 13f79535-47bb-0310-9956-ffa450edef68

-     * @param isf    the item state factory responsible for creating node
-     *               states.
+     * @param isf the item state factory responsible for creating node states.
+     * @param ism the item state manager to access already created / known
+     *            <code>ItemState</code>s.
-    public ItemState resolve(ItemStateFactory isf)
+    public ItemState resolve(ItemStateFactory isf, ItemStateManager ism)
-        ItemState state = doResolve(isf);
+        ItemState state = doResolve(isf, ism);
-     * @param isf    the item state factory responsible for creating node
-     *               states.
+     * @param isf the item state factory responsible for creating node states.
+     * @param ism the item state manager to access already created / known
+     *            <code>ItemState</code>s.
-    protected abstract ItemState doResolve(ItemStateFactory isf)
+    protected abstract ItemState doResolve(ItemStateFactory isf,
+                                           ItemStateManager ism)
