renive: if remove-target cannot be retrieved InvalidItemStateException is appropriate rather than PathNotFoundException, because it indicates that the item was available in jcr2spi but got removed in the mean time.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@518923 13f79535-47bb-0310-9956-ffa450edef68

-                    if (itemId.denotesNode()) {
-                        getNode((NodeId) itemId, sInfo).remove();
-                    } else {
-                        getProperty((PropertyId) itemId, sInfo).remove();
+                    try {
+                        if (itemId.denotesNode()) {
+                            getNode((NodeId) itemId, sInfo).remove();
+                        } else {
+                            getProperty((PropertyId) itemId, sInfo).remove();
+                        }
+                    } catch (ItemNotFoundException e) {
+                        // item was present in jcr2spi but got removed on the
+                        // persistent layer in the mean time.
+                        throw new InvalidItemStateException(e);
+                    } catch (PathNotFoundException e) {
+                        // item was present in jcr2spi but got removed on the
+                        // persistent layer in the mean time.
+                        throw new InvalidItemStateException(e);
-    private Node getNode(NodeId id, SessionInfoImpl sessionInfo) throws PathNotFoundException, RepositoryException {
+    private Node getNode(NodeId id, SessionInfoImpl sessionInfo) throws ItemNotFoundException, PathNotFoundException, RepositoryException {
-    private Property getProperty(PropertyId id, SessionInfoImpl sessionInfo) throws ItemNotFoundException, RepositoryException {
+    private Property getProperty(PropertyId id, SessionInfoImpl sessionInfo) throws ItemNotFoundException, PathNotFoundException, RepositoryException {
