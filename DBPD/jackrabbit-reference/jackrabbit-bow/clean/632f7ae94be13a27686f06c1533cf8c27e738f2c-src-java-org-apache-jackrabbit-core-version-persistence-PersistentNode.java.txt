- improved versioning

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@122838 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.jackrabbit.core.version;
+package org.apache.jackrabbit.core.version.persistence;
-public class PersistentNode {
+class PersistentNode {
+    protected String getParentUUID() {
+        return nodeState.getParentUUID();
+    }
+
+    protected PersistentNodeState getState() {
+        return nodeState;
+    }
+
-    protected PersistentProperty[] getProperties() {
+    protected PropertyState[] getProperties() {
-            PersistentProperty[] props = new PersistentProperty[list.size()];
+            PropertyState[] props = new PropertyState[list.size()];
-                PropertyState pState = (PropertyState) stateMgr.getItemState(propId);
-                props[i] = new PersistentProperty(pState, ntMgr.getPropDef(pState.getDefinitionId()).isMultiple());
+                props[i] = (PropertyState) stateMgr.getItemState(propId);
