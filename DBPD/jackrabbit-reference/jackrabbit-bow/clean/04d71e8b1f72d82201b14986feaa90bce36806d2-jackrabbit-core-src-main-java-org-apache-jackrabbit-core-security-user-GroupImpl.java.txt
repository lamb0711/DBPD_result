JCR-3552 : Principal assiocated with Group does not update members

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1462205 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.IOException;
+import java.io.ObjectOutputStream;
+import java.security.Principal;
+import java.util.ArrayList;
+import java.util.Arrays;
+import java.util.Collection;
+import java.util.Collections;
+import java.util.Comparator;
+import java.util.Enumeration;
+import java.util.HashSet;
+import java.util.Iterator;
+import java.util.List;
+import java.util.NoSuchElementException;
+import java.util.Set;
+import javax.jcr.ItemNotFoundException;
+import javax.jcr.Node;
+import javax.jcr.Property;
+import javax.jcr.PropertyType;
+import javax.jcr.RepositoryException;
+import javax.jcr.Value;
+
-import javax.jcr.ItemNotFoundException;
-import javax.jcr.Node;
-import javax.jcr.Property;
-import javax.jcr.PropertyType;
-import javax.jcr.RepositoryException;
-import javax.jcr.Value;
-
-import java.io.IOException;
-import java.io.ObjectOutputStream;
-import java.security.Principal;
-import java.util.ArrayList;
-import java.util.Arrays;
-import java.util.Collection;
-import java.util.Collections;
-import java.util.Comparator;
-import java.util.Enumeration;
-import java.util.HashSet;
-import java.util.Iterator;
-import java.util.List;
-import java.util.NoSuchElementException;
-import java.util.Set;
-
-        private Set<Principal> members;
-
-            if (members == null) {
-                members = new HashSet<Principal>();
-                try {
-                    for (Iterator<Authorizable> it = GroupImpl.this.getMembers(); it.hasNext(); ) {
-                        members.add(it.next().getPrincipal());
-                    }
-                } catch (RepositoryException e) {
-                    // should not occur.
-                    log.error("Unable to retrieve Group members.");
+            Set<Principal> members = new HashSet<Principal>();
+            try {
+                for (Iterator<Authorizable> it = GroupImpl.this.getMembers(); it.hasNext(); ) {
+                    members.add(it.next().getPrincipal());
+            } catch (RepositoryException e) {
+                // should not occur.
+                log.error("Unable to retrieve Group members.");
