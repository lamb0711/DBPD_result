JCR-2744: Avoid element arrays in PathImpl

Avoid using Path.getNameElement() where possible

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@997303 13f79535-47bb-0310-9956-ffa450edef68

-        if (nodePath.getNameElement().getIndex() != Path.INDEX_UNDEFINED) {
+        if (nodePath.getIndex() != Path.INDEX_UNDEFINED) {
-        Name nodeName = nodePath.getNameElement().getName();
+        Name nodeName = nodePath.getName();
-        Path.Element srcName = getReorderPath(srcChildRelPath).getNameElement();
-        Path.Element beforeName = (destChildRelPath == null) ? null : getReorderPath(destChildRelPath).getNameElement();
+        Path srcPath = getReorderPath(srcChildRelPath);
+        Path beforePath = null;
+        if (destChildRelPath != null) {
+            beforePath = getReorderPath(destChildRelPath);
+        }
-        Operation op = ReorderNodes.create(getNodeState(), srcName, beforeName);
+        Operation op = ReorderNodes.create(getNodeState(), srcPath, beforePath);
-        if (relativePath.getLength() == 1 && relativePath.getNameElement() == session.getPathFactory().getCurrentElement()) {
+        if (relativePath.getLength() == 1 && relativePath.denotesCurrent()) {
-                Path.Element pe = rp.getNameElement();
-                if (pe.denotesCurrent()) {
+                if (rp.denotesCurrent()) {
-                } else if (pe.denotesParent()) {
+                } else if (rp.denotesParent()) {
-                    targetEntry = getNodeEntry().getNodeEntry(pe.getName(), pe.getNormalizedIndex(), true);
+                    targetEntry = getNodeEntry().getNodeEntry(
+                            rp.getName(), rp.getNormalizedIndex(), true);
-            if (rp.getLength() == 1 && rp.getNameElement().denotesName()) {
+            if (rp.getLength() == 1 && rp.denotesName()) {
-                Name propName = rp.getNameElement().getName();
+                Name propName = rp.getName();
