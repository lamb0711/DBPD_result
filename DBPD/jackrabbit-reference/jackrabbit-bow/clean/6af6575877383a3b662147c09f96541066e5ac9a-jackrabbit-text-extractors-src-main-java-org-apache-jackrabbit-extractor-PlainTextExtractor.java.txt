JCR-1829: PlainTextExtractor returns an empty reader when encoding is unsupported

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@707304 13f79535-47bb-0310-9956-ffa450edef68

-     * is not given. Closes the stream and returns an empty reader if the
-     * given encoding is not supported.
+     * is not given or is unsupported. Closes the stream and returns an empty
+     * reader if the given encoding is not supported.
-            } else {
-                return new InputStreamReader(stream);
-            logger.warn("Failed to extract plain text content", e);
-            stream.close();
-            return new StringReader("");
+            logger.warn("Unsupported encoding '{}', using default ({}) instead.",
+                    new Object[]{encoding, System.getProperty("file.encoding")});
+        return new InputStreamReader(stream);
