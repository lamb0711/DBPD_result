[JCR-000] Adjusting to spec 0.16.4 changes
[JCR-107] Typos in jcr-server io package javadocs
[JCR-104] Contrib/Jcr-Server: Improve package structure


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@161660 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.jackrabbit.webdav.spi.transaction;
+package org.apache.jackrabbit.webdav.jcr.transaction;
-import org.apache.jackrabbit.webdav.spi.*;
+import org.apache.jackrabbit.webdav.jcr.JcrDavException;
-	public void start(TransactionResource resource) throws DavException {
-	    // make sure, the given resource represents an existing repository item
-	    if (!resource.getSession().getRepositorySession().itemExists(getResourcePath())) {
-		throw new DavException(DavServletResponse.SC_CONFLICT, "Unable to start local transaction: no repository item present at "+getResourcePath());
-	    }
-	}
+        public void start(TransactionResource resource) throws DavException {
+            try {
+                // make sure, the given resource represents an existing repository item
+                if (!resource.getSession().getRepositorySession().itemExists(getResourcePath())) {
+                    throw new DavException(DavServletResponse.SC_CONFLICT, "Unable to start local transaction: no repository item present at "+getResourcePath());
+                }
+            } catch (RepositoryException e) {
+                log.error("Unexpected error: " + e.getMessage());
+                throw new JcrDavException(e);
+            }
+        }
