JCR-1438: Replace Config classes with factories 

Replaced ISMLockingConfig with ISMLockingFactory.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@732728 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.state.ISMLocking;
+import org.apache.jackrabbit.core.state.ISMLockingFactory;
-public class VersioningConfig implements FileSystemFactory {
+public class VersioningConfig implements FileSystemFactory, ISMLockingFactory {
-     * ISM locking configuration
+     * ISM locking factory
-    private final ISMLockingConfig ismLockingConfig;
+    private final ISMLockingFactory ismLockingFactory;
-     * @param ismLockingConfig the item state manager locking configuration, if
-     *                         <code>null</code> is passed a default
-     *                         configuration is used.
+     * @param ismLockingFactory the item state manager locking factory
-                            ISMLockingConfig ismLockingConfig) {
+                            ISMLockingFactory ismLockingFactory) {
-        if (ismLockingConfig != null) {
-            this.ismLockingConfig = ismLockingConfig;
-        } else {
-            this.ismLockingConfig = ISMLockingConfig.createDefaultConfig();
-        }
+        this.ismLockingFactory = ismLockingFactory;
-     * @return name of the ISM locking configuration
+     * Creates and returns the configured versioning locking strategy.
+     *
+     * @return the configured {@link ISMLocking}
+     * @throws RepositoryException if the locking strategy can not be created
-    public ISMLockingConfig getISMLockingConfig() {
-        return ismLockingConfig;
+    public ISMLocking getISMLocking() throws RepositoryException {
+        return ismLockingFactory.getISMLocking();
