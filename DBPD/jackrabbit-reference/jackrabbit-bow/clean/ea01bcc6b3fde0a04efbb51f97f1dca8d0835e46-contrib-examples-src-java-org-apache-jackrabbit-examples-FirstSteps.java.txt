examples: Initial support for running the examples. Need to update the docs soon.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@164977 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.jndi.RegistryHelper;
+import java.io.InputStream;
-import javax.naming.Context;
-import javax.naming.InitialContext;
-import java.io.FileInputStream;
-import java.io.InputStream;
-import java.util.Hashtable;
+    private final Repository repository;
+
+    public FirstSteps(Repository repository) {
+        this.repository = repository;
+    }
+
-    public static void main(String[] args) {
+    public void run() {
-            Repository repository = getRepository();
-            SimpleCredentials creds = new SimpleCredentials("username", "password".toCharArray());
+            SimpleCredentials creds =
+                new SimpleCredentials("username", "password".toCharArray());
-                InputStream xml = new FileInputStream("repotest/test.xml");
+                InputStream xml =
+                    getClass().getClassLoader().getResourceAsStream(
+                            "org/apache/jackrabbit/examples/firststeps.xml");
-     * Creates a Repository instance to be used by the example class.
-     *
-     * @return repository instance
-     * @throws Exception on errors
-     */
-    private static Repository getRepository() throws Exception {
-        String configFile = "repotest/repository.xml";
-        String repHomeDir = "repotest";
-
-        Hashtable env = new Hashtable();
-        env.put(Context.INITIAL_CONTEXT_FACTORY,
-                "org.apache.jackrabbit.core.jndi.provider.DummyInitialContextFactory");
-        env.put(Context.PROVIDER_URL, "localhost");
-        InitialContext ctx = new InitialContext(env);
-
-        RegistryHelper.registerRepository(ctx, "repo", configFile, repHomeDir, true);
-        return (Repository) ctx.lookup("repo");
-    }
-
-    /**
