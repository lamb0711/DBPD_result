JCR-3352 : Minor improvements for collecting ACEs

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1353920 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Set;
-import javax.jcr.security.AccessControlManager;
-import org.apache.jackrabbit.core.nodetype.NodeTypeImpl;
-        if (aclNode == null || !NT_REP_ACL.equals(((NodeTypeImpl)aclNode.getPrimaryNodeType()).getQName())) {
+        if (aclNode == null || !NT_REP_ACL.equals(aclNode.getPrimaryNodeTypeName())) {
-                Entry ace = new Entry(princ, privilegeMgr.getBits(privNames),
-                        NT_REP_GRANT_ACE.equals(((NodeTypeImpl) aceNode.getPrimaryNodeType()).getQName()),
-                        restrictions);
+                boolean isAllow = NT_REP_GRANT_ACE.equals(aceNode.getPrimaryNodeTypeName());
+                Entry ace = new Entry(princ, privilegeMgr.getBits(privNames), isAllow, restrictions);
