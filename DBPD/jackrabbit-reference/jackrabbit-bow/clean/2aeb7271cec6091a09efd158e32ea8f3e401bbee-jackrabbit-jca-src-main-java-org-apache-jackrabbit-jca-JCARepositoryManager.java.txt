JCR-2555: Improved reusability of the JCA package

Drop the old repository.xml file in favor of the default one in jackrabbit-core.

Streamline the RAR configuration.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@923309 13f79535-47bb-0310-9956-ffa450edef68

-                Map<String, String> parameters = new HashMap<String, String>();
+                File dir = new File(homeDir);
+                dir.mkdirs();
-                parameters.put("org.apache.jackrabbit.repository.home", homeDir);
-
+                File xml;
-                    File target = new File(homeDir, "repository.xml");
-                    copyConfigFile(source, target);
-                    parameters.put(
-                            "org.apache.jackrabbit.repository.conf",
-                            target.getPath());
+                    xml = new File(homeDir, "repository.xml");
+                    copyConfigFile(source, xml);
-                    parameters.put(
-                            "org.apache.jackrabbit.repository.conf",
-                            configFile);
+                    xml = new File(configFile);
+                Map<String, String> parameters = new HashMap<String, String>();
+                parameters.put(
+                        "org.apache.jackrabbit.repository.home",
+                        dir.getPath());
+                parameters.put(
+                        "org.apache.jackrabbit.repository.conf",
+                        xml.getPath());
