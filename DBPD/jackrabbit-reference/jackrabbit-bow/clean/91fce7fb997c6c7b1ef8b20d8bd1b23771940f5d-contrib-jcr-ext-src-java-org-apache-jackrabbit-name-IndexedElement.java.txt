JCR-EXT: Cleaned up, documented and extended the name and path implementation classes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@169166 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.NoSuchElementException;
+
-import javax.jcr.ItemNotFoundException;
+import javax.jcr.PathNotFoundException;
- * TODO
+ * Indexed path element.
-class IndexedElement implements PathElement {
+final class IndexedElement implements PathElement {
+    /** Path element name */
+    /** Path element index */
+    /**
+     * Creates an indexed path element instance.
+     *
+     * @param name  path element name
+     * @param index path element index
+     */
-    /** {@inheritDoc} */
-    public Item step(Item item) throws ItemNotFoundException,
-            RepositoryException {
+    /**
+     * Resolves the given item to the named child node with the
+     * specified index.
+     *
+     * @param item context item
+     * @return indexed child node
+     * @throws PathNotFoundException if the path resolution fails
+     * @throws RepositoryException   if another error occurs
+     * @see PathElement#resolve(Item)
+     */
+    public Item resolve(Item item)
+            throws PathNotFoundException, RepositoryException {
-            if (index <= nodes.getSize()) {
+            try {
+            } catch (NoSuchElementException e) {
+                // fall through
-
-        throw new ItemNotFoundException("Invalid item path " + name);
+        throw new PathNotFoundException(
+                "Path name or index not found: " + this);
+    /**
+     * Returns the string representation of this path element.
+     *
+     * @return string representation of the path element name and index
+     * @see Object#toString()
+     * @see Name#toString()
+     */
+    public String toString() {
+        return name + "[" + index + "]";
+    }
