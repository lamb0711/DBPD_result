JCR-764: Applied the patch from Fabrizio Giustina with some additional comments.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@511509 13f79535-47bb-0310-9956-ffa450edef68

+import org.pdfbox.cos.COSDocument;
-                    PDFParser parser;
+                    PDFParser parser = null;
+
+                        // JCR-764: Check if document is still open and
+                        // close it appropriately. Otherwise some temporary
+                        // files may get left behind and document finalization
+                        // will log a warning.
+                        if (parser != null) {
+                            try {
+                                parser.getDocument().close();
+                            } catch (Exception ioe) {
+                                // ignore, this means doc has not been generated
+                            }
+                        }
+
