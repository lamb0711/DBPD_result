JCR-2170: Remove PropDefId and NodeDefId
- merged changes from sandbox branch

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@816343 13f79535-47bb-0310-9956-ffa450edef68

-    private Set<PropDef> propDefs;
-    private Set<NodeDef> nodeDefs;
+    private Set<QPropertyDefinition> propDefs;
+    private Set<QNodeDefinition> nodeDefs;
-        nodeDefs = new HashSet<NodeDef>();
-        propDefs = new HashSet<PropDef>();
+        nodeDefs = new HashSet<QNodeDefinition>();
+        propDefs = new HashSet<QPropertyDefinition>();
-        nodeDefs = new HashSet<NodeDef>();
+        nodeDefs = new HashSet<QNodeDefinition>();
-            nodeDefs.add(new NodeDefImpl(nd));
+            nodeDefs.add(nd);
-        propDefs = new HashSet<PropDef>();
+        propDefs = new HashSet<QPropertyDefinition>();
-            propDefs.add(new PropDefImpl(pd));
+            propDefs.add(pd);
-        QNodeDefinition[] qNodeDefs = new QNodeDefinition[nodeDefs.size()];
-        int i=0;
-        for (NodeDef nd: nodeDefs) {
-            qNodeDefs[i++] = ((NodeDefImpl) nd).getQNodeDefinition();
-        }
-        QPropertyDefinition[] qPropDefs = new QPropertyDefinition[propDefs.size()];
-        i=0;
-        for (PropDef pd: propDefs) {
-            qPropDefs[i++] = ((PropDefImpl) pd).getQPropertyDefinition();
-        }
-
-                qPropDefs,
-                qNodeDefs
+                propDefs.toArray(new QPropertyDefinition[propDefs.size()]),
+                nodeDefs.toArray(new QNodeDefinition[nodeDefs.size()])
-            for (NodeDef nd: nodeDefs) {
+            for (QNodeDefinition nd: nodeDefs) {
-            for (PropDef pd : propDefs) {
+            for (QPropertyDefinition pd : propDefs) {
-    public void setPropertyDefs(PropDef[] defs) {
+    public void setPropertyDefs(QPropertyDefinition[] defs) {
-     * @param defs An array of <code>NodeDef</code> objects
+     * @param defs An array of <code>QNodeDefinition</code> objects
-    public void setChildNodeDefs(NodeDef[] defs) {
+    public void setChildNodeDefs(QNodeDefinition[] defs) {
-    public PropDef[] getPropertyDefs() {
+    public QPropertyDefinition[] getPropertyDefs() {
-            return PropDef.EMPTY_ARRAY;
+            return QPropertyDefinition.EMPTY_ARRAY;
-        return propDefs.toArray(new PropDef[propDefs.size()]);
+        return propDefs.toArray(new QPropertyDefinition[propDefs.size()]);
-    public NodeDef[] getChildNodeDefs() {
+    public QNodeDefinition[] getChildNodeDefs() {
-            return NodeDef.EMPTY_ARRAY;
+            return QNodeDefinition.EMPTY_ARRAY;
-        return nodeDefs.toArray(new NodeDef[nodeDefs.size()]);
+        return nodeDefs.toArray(new QNodeDefinition[nodeDefs.size()]);
-        clone.nodeDefs = new HashSet<NodeDef>();
+        clone.nodeDefs = new HashSet<QNodeDefinition>();
-        clone.nodeDefs = new HashSet<NodeDef>(nodeDefs);
-        clone.propDefs = new HashSet<PropDef>(propDefs);
+        clone.nodeDefs = new HashSet<QNodeDefinition>(nodeDefs);
+        clone.propDefs = new HashSet<QPropertyDefinition>(propDefs);
