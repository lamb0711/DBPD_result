Enhanced workspace configuration to support independent FileSystem for SearchIndex

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@56683 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.fs.BasedFileSystem;
-    private final String location;
-
-    public SearchIndex(FileSystem fs, String location, Analyzer analyzer)
+    public SearchIndex(FileSystem fs, Analyzer analyzer)
-            if (!fs.exists(location)) {
-                fs.createFolder(location);
-            }
-            FileSystem indexFS = new BasedFileSystem(fs, location);
-            create = !indexFS.exists("segments");
-            persistentIndex = new PersistentIndex(indexFS, create, analyzer);
+            create = !fs.exists("segments");
+            persistentIndex = new PersistentIndex(fs, create, analyzer);
-            this.location = location;
-        log.info("Closing index: " + location);
+        log.info("Closing search index.");
