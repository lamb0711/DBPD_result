- JCR-57: WorkspaceImpl.dispose() might cause ClassNotFoundException
changed code as suggested by Felix Meschberger. see also comments in jira.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@156640 13f79535-47bb-0310-9956-ffa450edef68

+    /**
+     * Unregisters all EventListeners.
+     */
+    public void dispose() {
+        try {
+            EventListenerIterator it = getRegisteredEventListeners();
+            while (it.hasNext()) {
+                EventListener l = it.nextEventListener();
+                log.debug("removing EventListener: " + l);
+                removeEventListener(l);
+            }
+        } catch (RepositoryException e) {
+            log.error("Internal error: Unable to dispose ObservationManager.", e);
+        }
+
+    }
+
