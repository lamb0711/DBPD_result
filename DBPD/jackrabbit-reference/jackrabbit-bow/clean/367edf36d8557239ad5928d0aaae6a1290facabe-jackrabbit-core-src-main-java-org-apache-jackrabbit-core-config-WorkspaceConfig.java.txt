JCR-1438: Replace Config classes with factories 

Replaced ISMLockingConfig with ISMLockingFactory.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@732728 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.state.ISMLocking;
+import org.apache.jackrabbit.core.state.ISMLockingFactory;
-public class WorkspaceConfig implements FileSystemFactory {
+public class WorkspaceConfig implements FileSystemFactory, ISMLockingFactory {
-     * The item state manager locking configuration.
+     * The item state manager locking factory.
-    private ISMLockingConfig ismLockingConfig;
+    private ISMLockingFactory ismLockingFactory;
-     * @param ismLockingConfig the item state manager locking configuration. If
-     * <code>null</code> is passed, a default configuration is taken.
+     * @param ismLockingFactory the item state manager locking factory
-                           SearchConfig sc, ISMLockingConfig ismLockingConfig,
+                           SearchConfig sc, ISMLockingFactory ismLockingFactory,
-        if (ismLockingConfig != null) {
-            this.ismLockingConfig = ismLockingConfig;
-        } else {
-            this.ismLockingConfig = ISMLockingConfig.createDefaultConfig();
-        }
+        this.ismLockingFactory = ismLockingFactory;
-     * @return the configuration for the item state locking.
+     * Creates and returns the configured workspace locking strategy.
+     *
+     * @return the configured {@link ISMLocking}
+     * @throws RepositoryException if the locking strategy can not be created
-    public ISMLockingConfig getISMLockingConfig() {
-        return ismLockingConfig;
+    public ISMLocking getISMLocking() throws RepositoryException {
+        return ismLockingFactory.getISMLocking();
