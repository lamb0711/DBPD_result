JCR-EXT: Upgrade to 0.16.4.1

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@169294 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.BooleanValue;
-import javax.jcr.PropertyType;
+import javax.jcr.ValueFactory;
+    private ValueFactory factory;
+
+        this.factory = session.getValueFactory();
-        if (uri.equals("SV") && localName.equals("value")) {
-            String value = text.toString();
-            switch (type) {
-            case PropertyType.BINARY:
-                // TODO values.add(new BinaryValue());
-                break;
-            case PropertyType.BOOLEAN:
-                values.add(new BooleanValue(Boolean.valueOf(value)));
-                break;
-            case PropertyType.DATE:
-                values.add(new BooleanValue(Boolean.valueOf(value)));
-                break;
-            case PropertyType.DOUBLE:
-                values.add(new BooleanValue(Boolean.valueOf(value)));
-                break;
-            case PropertyType.LONG:
-                values.add(new BooleanValue(Boolean.valueOf(value)));
-                break;
-            case PropertyType.NAME:
-                values.add(new BooleanValue(Boolean.valueOf(value)));
-                break;
-            case PropertyType.PATH:
-                values.add(new BooleanValue(Boolean.valueOf(value)));
-                break;
-            case PropertyType.REFERENCE:
-                values.add(new BooleanValue(Boolean.valueOf(value)));
-                break;
-            case PropertyType.STRING:
-                values.add(new BooleanValue(Boolean.valueOf(value)));
-                break;
-            default:
-            }
-            
-            text.setLength(0);
-        }
+            if (uri.equals("SV") && localName.equals("value")) {
+                String value = text.toString();
+                values.add(factory.createValue(value, type));
+                text.setLength(0);
+            }
