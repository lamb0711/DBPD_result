JCR-2113 : JSR 283 Access Control Management (improve privilege discovery as discussed during f2f meeting with alfusainey and david, january 21)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1653976 13f79535-47bb-0310-9956-ffa450edef68

-    public PrivilegeDefinition[] getPrivileges(SessionInfo sessionInfo, NodeId nodeId) throws RepositoryException {
+    public Name[] getPrivilegeNames(SessionInfo sessionInfo, NodeId nodeId) throws RepositoryException {
-        List<PrivilegeDefinition> pDefs = new ArrayList<PrivilegeDefinition>(privs.length);
+        List<Name> names = new ArrayList<Name>(privs.length);
-            Name privName = npResolver.getQName(priv.getName());
-            Set<Name> aggrNames = null;
-            if (priv.isAggregate()) {
-                aggrNames = new HashSet<Name>();
-                for (Privilege dap : priv.getDeclaredAggregatePrivileges()) {
-                    aggrNames.add(npResolver.getQName(dap.getName()));
-                }
-            }
-            PrivilegeDefinition def = new PrivilegeDefinitionImpl(privName, priv.isAbstract(), aggrNames);
-            pDefs.add(def);
+            names.add(npResolver.getQName(priv.getName()));
-        return pDefs.toArray(new PrivilegeDefinition[pDefs.size()]);
+        return names.toArray(new Name[names.size()]);
