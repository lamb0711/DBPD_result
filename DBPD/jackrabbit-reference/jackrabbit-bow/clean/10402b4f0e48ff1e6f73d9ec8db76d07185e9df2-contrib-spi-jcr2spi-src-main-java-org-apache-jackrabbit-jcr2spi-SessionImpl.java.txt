work in progress

- remove DIFF comment
- resolve TODO for switchWorkspace

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@452079 13f79535-47bb-0310-9956-ffa450edef68

+    private final RepositoryConfig config;
-    private final String userId;
+    private final SessionInfo sessionInfo;
-    private final ValueFactory valueFactory;
-    
+
-        userId = sessionInfo.getUserID();
+        this.config = config;
+        this.sessionInfo = sessionInfo;
-        valueFactory = config.getValueFactory();
-        return userId;
+        return sessionInfo.getUserID();
-        return valueFactory;
+        return config.getValueFactory();
-        Credentials creds = null; // TODO: missing impl.
-        return (SessionImpl) repository.login(creds, workspaceName);
+        return new SessionImpl(sessionInfo, repository, config);
