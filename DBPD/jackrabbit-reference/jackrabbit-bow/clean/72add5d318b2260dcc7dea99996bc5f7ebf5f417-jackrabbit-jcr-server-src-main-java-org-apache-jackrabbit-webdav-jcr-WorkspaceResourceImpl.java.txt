JCR-3144 : JSR 283 Workspace Management

add support for 

- Workspace.createWorkspace(String)
- Workspace.deleteWorkspace(String)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1200363 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Arrays;
-        StringBuffer sb = new StringBuffer(DavResource.METHODS);
+        StringBuilder sb = new StringBuilder(DavResource.METHODS);
-     * @return true
+     * @return true if the workspace name (see {@link #getDisplayName()} is
+     * present in the list of available workspace names such as exposed by
+     * the editing JCR session.
-        return true;
+        try {
+            List<String> available = Arrays.asList(getRepositorySession().getWorkspace().getAccessibleWorkspaceNames());
+            return available.contains(getDisplayName());
+        } catch (RepositoryException e) {
+            log.warn(e.getMessage());
+            return false;
+        }
-            StringBuffer sb = new StringBuffer();
+            StringBuilder sb = new StringBuilder();
-        DavResourceLocator parentLoc = getLocator().getFactory().createResourceLocator(getLocator().getPrefix(), null, null);
+        DavResourceLocator parentLoc = getLocator().getFactory().createResourceLocator(getLocator().getPrefix(), null, null, false);
