JCR-2441: Jcr2spiRepositoryFactory: make class loading more robust

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@890894 13f79535-47bb-0310-9956-ffa450edef68

-                Class<?> serviceFactoryClass = Class.forName(serviceFactoryName, true,
-                            Thread.currentThread().getContextClassLoader());
+                Class<?> serviceFactoryClass;
+                try {
+                    serviceFactoryClass = Class.forName(serviceFactoryName, true,
+                                Thread.currentThread().getContextClassLoader());
+                }
+                catch (ClassNotFoundException e) {
+                    // Backup for OSGi
+                    serviceFactoryClass = Class.forName(serviceFactoryName);
+                }
