JCR-2087: Upgrade to Java 5 as the base platform

Conversion between Properties and Map<String, ?> doesn't work transparently. Create an explicit copy to avoid compile failures.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@770165 13f79535-47bb-0310-9956-ffa450edef68

+
+import java.util.Enumeration;
+import java.util.Map;
+import java.util.Properties;
-        module.initialize(subject, cbHandler, new HashMap(), config.getParameters());
+
+        Map<String, String> state = new HashMap<String, String>();
+        Map<String, String> options = new HashMap<String, String>();
+        Properties parameters = config.getParameters();
+        Enumeration<?> names = parameters.propertyNames();
+        while (names.hasMoreElements()) {
+            String name = (String) names.nextElement();
+            options.put(name, parameters.getProperty(name));
+        }
+        module.initialize(subject, cbHandler, state, options);
+
