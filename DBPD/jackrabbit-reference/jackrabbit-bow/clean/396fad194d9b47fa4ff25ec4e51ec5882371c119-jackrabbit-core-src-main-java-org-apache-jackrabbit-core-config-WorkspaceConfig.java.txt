JCR-314: Fine grained locking in SharedItemStateManager

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@605173 13f79535-47bb-0310-9956-ffa450edef68

- * Workspace configuration. This configuration class is used to
- * create configured workspace objects.
- * <p>
- * The contained configuration information are: the home directory and name
- * of the workspace, and the file system, the persistence manager, and the
- * search index configuration. The search index is an optional part of the
- * configuration.
+ * Workspace configuration. This configuration class is used to create
+ * configured workspace objects.
+ * <p/>
+ * The contained configuration information are: the home directory and name of
+ * the workspace, the file system, the persistence manager, the search index and
+ * the item state manager locking configuration. The search index and the item
+ * state manager locking are optional parts.
+     * The item state manager locking configuration.
+     */
+    private ISMLockingConfig ismLockingConfig;
+
+    /**
+     * @param ismLockingConfig the item state manager locking configuration. If
+     * <code>null</code> is passed, a default configuration is taken.
-                           SearchConfig sc) {
+                           SearchConfig sc, ISMLockingConfig ismLockingConfig) {
+        if (ismLockingConfig != null) {
+            this.ismLockingConfig = ismLockingConfig;
+        } else {
+            this.ismLockingConfig = ISMLockingConfig.createDefaultConfig();
+        }
+     * @return the configuration for the item state locking.
+     */
+    public ISMLockingConfig getISMLockingConfig() {
+    	return ismLockingConfig;
+    }
+    
+    /**
-
