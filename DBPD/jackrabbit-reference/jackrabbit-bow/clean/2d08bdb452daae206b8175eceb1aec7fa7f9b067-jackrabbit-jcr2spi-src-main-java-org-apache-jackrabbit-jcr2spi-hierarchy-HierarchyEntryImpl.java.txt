JCR-1798: Avoid individual Item reloading upon Session/Item.refresh(true)
JCR-1809: Avoid extra round trip to the SPI upon Node.getNode and Session.getItem

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@704933 13f79535-47bb-0310-9956-ffa450edef68

-            reload(false, false);
+            reload(false);
-        ItemState state = internalGetItemState();
-        if (state != null) {
+        if (getStatus() == Status.EXISTING) {
+            ItemState state = internalGetItemState();
+        } else {
+            log.debug("Skip invalidation for HierarchyEntry " + name + " with status " + Status.getName(getStatus()));
-     * @see HierarchyEntry#reload(boolean, boolean)
+     * @see HierarchyEntry#reload(boolean)
-    public void reload(boolean keepChanges, boolean recursive) {
+    public void reload(boolean recursive) {
-            reload(false, false);
+            reload(false);
