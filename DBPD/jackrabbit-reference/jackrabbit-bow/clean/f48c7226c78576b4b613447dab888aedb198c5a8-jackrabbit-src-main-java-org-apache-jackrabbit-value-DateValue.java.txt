JCR-598: DateValue.equals() relies on Calendar.equals()

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@467674 13f79535-47bb-0310-9956-ffa450edef68

+     * <p>
+     * The value comparison is performed using the ISO 8601 string
+     * representation of the dates, since the native Calendar.equals()
+     * method may produce false negatives (see JSR-598).
+     * <p>
+     * Note that the comparison still returns false when comparing the
+     * same time in different time zones, but that seems to be the intent
+     * of JSR 170. Compare the Value.getDate().getTime() values if you need
+     * an exact time comparison in UTC. 
-                return date.equals(other.date);
+                return ISO8601.format(date).equals(ISO8601.format(other.date));
