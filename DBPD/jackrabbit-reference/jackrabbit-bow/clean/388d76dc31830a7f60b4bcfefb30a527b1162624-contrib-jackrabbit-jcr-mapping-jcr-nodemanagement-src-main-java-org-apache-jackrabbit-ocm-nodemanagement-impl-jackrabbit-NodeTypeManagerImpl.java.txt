1/ Solve issue JCR-1025 (default namespace should be empty).
2/ Add more methods for removing node types. Unfortunatly Jackrabbit doesn't support it yet. 


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@556151 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.IOException;
-    public void createNodeTypesFromList(Session session, List nodeTypes)
+    private void createNodeTypesFromList(Session session, List nodeTypes)
-    public void removeNodeTypes(Session session, InputStream[] mappingXmlFiles)
+    public void removeNodeTypesFromConfiguration(Session session, InputStream jcrRepositoryConfigurationFile)
+    	try
+        {
+            NodeTypeDef[] types = NodeTypeReader.read(jcrRepositoryConfigurationFile);
+
+            ArrayList list = new ArrayList();
+            for (int i = 0; i < types.length; i++)
+            {
+                list.add(types[i]);
+            }
+            
+            removeNodeTypesFromList(session, list);
+            log.info("Registered " + list.size() + " nodetypes from xml configuration file.");
+        }
+        catch (Exception e)
+        {
+            log.error("Could not create node types from configuration file.", e);
+            throw new NodeTypeRemovalException(e);
+        }
+    }
+    
+    private void removeNodeTypesFromList(Session session, List nodeTypes)
+    throws NodeTypeRemovalException
+    {
+        for (Iterator nodeTypeIterator = nodeTypes.iterator(); nodeTypeIterator.hasNext();) 
+        {
+			NodeTypeDef nodeTypeDef = (NodeTypeDef) nodeTypeIterator.next();
+			this.removeSingleNodeType(session, nodeTypeDef.getName());
+			
+		}
+    	
+    }
+
+    /**
+     * @see org.apache.jackrabbit.ocm.nodemanagement.NodeTypeManager#createSingleNodeTypeFromMappingFile
+     */     
+    public void removeNodeTypesFromMappingFile(Session session, InputStream[] mappingXmlFile)
+            throws NodeTypeRemovalException
+    {
+    }
+    
+    public void removeSingleNodeType(Session session, QName qName)
+    throws NodeTypeRemovalException
+    {
+        try
+        {
+            getNodeTypeRegistry(session).unregisterNodeType(qName);
+        }
+        catch (Exception e)
+        {
+            throw new NodeTypeRemovalException(e);
+        }      
