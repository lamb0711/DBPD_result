JCR-2005: JCR2SPI: Remove validation check for same-named Node and Property

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@772892 13f79535-47bb-0310-9956-ffa450edef68

-        // check for name collisions with existing child nodes
-        if (parentEntry.hasNodeEntry(propertyName)) {
-            String msg = "Child node with name '" + propertyName + "' already exists.";
-            log.debug(msg);
-            throw new RepositoryException(msg);
-        }
-        // check for name collisions with existing properties
+         // NOTE: check for name collisions with existing child node has been
+         // removed as with JSR 283 having same-named node and property can be
+         // allowed. thus delegate the correspoding validation to the underlying
+         // SPI implementation.
+
+        // check for name collisions with an existing property
-        if (parentState.hasPropertyName(nodeName)) {
-            // there's already a property with that name
-            throw new ItemExistsException("cannot add child node '"
-                + nodeName.getLocalName() + "' to " + safeGetJCRPath(parentState)
-                + ": colliding with same-named existing property");
+         // NOTE: check for name collisions with existing child property has been
+         // removed as with JSR 283 having same-named node and property may be
+         // allowed. thus delegate the correspoding validation to the underlying
+         // SPI implementation.
-        } else if (parentState.hasChildNodeEntry(nodeName, Path.INDEX_DEFAULT)) {
+         // check for conflict with existing same-name sibling node.
+         if (parentState.hasChildNodeEntry(nodeName, Path.INDEX_DEFAULT)) {
-                        + nodeName.getLocalName() + "' to "
-                        + safeGetJCRPath(parentState)
-                        + ": colliding with same-named existing node.");
+                            + nodeName.getLocalName() + "' to "
+                            + safeGetJCRPath(parentState)
+                            + ": colliding with same-named existing node.");
