JCR-4579 In rare situations we see "Closed Statement; nested exception is java.sql.SQLException: Closed Statement"

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1878846 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.util.db.DataSourceWrapper;
+    /**
+     * System property to disable the pooling of PreparedStatements.
+     */
+    private static final String SYSTEM_PROPERTY_POOL_PREPARED_STATEMENTS = "org.apache.jackrabbit.core.util.db.driver.datasource.poolPreparedStatements";
+    
-        ds.setPoolPreparedStatements(true);
+        ds.setPoolPreparedStatements(Boolean.valueOf(System.getProperty(SYSTEM_PROPERTY_POOL_PREPARED_STATEMENTS, "true")));
