JCR-EXT: Cleaned up, documented and extended the name and path implementation classes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@169166 13f79535-47bb-0310-9956-ffa450edef68

- *     http://www.apache.org/licenses/LICENSE-2.0
+ *      http://www.apache.org/licenses/LICENSE-2.0
-import javax.jcr.ItemNotFoundException;
+import javax.jcr.PathNotFoundException;
- * TODO
+ * Named path element.
-class NamedElement implements PathElement {
+final class NamedElement implements PathElement {
+    /** Path element name */
+    /**
+     * Creates a named path element instance.
+     *
+     * @param name path element name
+     */
-    /** {@inheritDoc} */
-    public Item step(Item item) throws ItemNotFoundException,
-            RepositoryException {
+    /**
+     * Resolves the given item to the named property or child node.
+     *
+     * @param item context item
+     * @return named property or child node
+     * @throws PathNotFoundException if the path resolution fails
+     * @throws RepositoryException   if another error occurs
+     * @see PathElement#resolve(Item)
+     */
+    public Item resolve(Item item)
+            throws PathNotFoundException, RepositoryException {
+            Node node = (Node) item;
+
+            /* Note: JCR names can not contain special pattern characters */
-            PropertyIterator properties = ((Node) item).getProperties(pattern);
+            PropertyIterator properties = node.getProperties(pattern);
-            NodeIterator nodes = ((Node) item).getNodes(pattern);
+            NodeIterator nodes = node.getNodes(pattern);
+        throw new PathNotFoundException("Path name not found: " + this);
+    }
-        throw new ItemNotFoundException("Invalid item path " + name);
+    /**
+     * Returns the string representation of this path element.
+     *
+     * @return string representation of the path element name
+     * @see Object#toString()
+     * @see Name#toString()
+     */
+    public String toString() {
+        return name.toString();
