JCR-2093: Implement QueryObjectModelFactory.fullTextSearch() in QueryManagerImpl

Fix broken full text search tests

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@770738 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.query.qom.Literal;
+import javax.jcr.query.qom.StaticOperand;
-            // TODO: JCR-2093 How to handle the StaticOperand below?
-            return parser.parse(fts.getFullTextSearchExpression().toString());
+            StaticOperand expr = fts.getFullTextSearchExpression();
+            if (expr instanceof Literal) {
+                return parser.parse(
+                        ((Literal) expr).getLiteralValue().getString());
+            } else {
+                throw new RepositoryException(
+                        "Unknown static operand type: " + expr);
+            }
