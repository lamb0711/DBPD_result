JCR-3950: fix XSS vulnerability in DirListingExportHandler


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1732436 13f79535-47bb-0310-9956-ffa450edef68

-                writer.print(repName);
+                writer.print(Text.encodeIllegalHTMLCharacters(repName));
-                writer.print(repVersion);
+                writer.print(Text.encodeIllegalHTMLCharacters(repVersion));
-                writer.print(item.getPath());
+                writer.print(Text.encodeIllegalHTMLCharacters(item.getPath()));
-                writer.print(item.getPath());
+                writer.print(Text.encodeIllegalHTMLCharacters(item.getPath()));
-                        writer.print(Text.escape(label));
+                        writer.print(Text.encodeIllegalHTMLCharacters(Text.escape(label)));
-                        writer.print(Text.encodeIllegalXMLCharacters(label));
+                        writer.print(Text.encodeIllegalHTMLCharacters(label));
-                writer.print(repURL);
+                writer.print(Text.encodeIllegalHTMLCharacters(repURL));
-                writer.print(repName);
+                writer.print(Text.encodeIllegalHTMLCharacters(repName));
-                writer.print(repVersion);
+                writer.print(Text.encodeIllegalHTMLCharacters(repVersion));
-                writer.print(repName);
+                writer.print(Text.encodeIllegalHTMLCharacters(repName));
-                writer.print(repVersion);
+                writer.print(Text.encodeIllegalHTMLCharacters(repVersion));
-                writer.print(resource.getResourcePath());
+                writer.print(Text.encodeIllegalHTMLCharacters(resource.getResourcePath()));
-                writer.print(resource.getResourcePath());
+                writer.print(Text.encodeIllegalHTMLCharacters(resource.getResourcePath()));
-                    writer.print(child.getHref());
+                    writer.print(Text.encodeIllegalHTMLCharacters(child.getHref()));
-                    writer.print(Text.encodeIllegalXMLCharacters(label));
+                    writer.print(Text.encodeIllegalHTMLCharacters(label));
-                writer.print(repURL);
+                writer.print(Text.encodeIllegalHTMLCharacters(repURL));
-                writer.print(repName);
+                writer.print(Text.encodeIllegalHTMLCharacters(repName));
-                writer.print(repVersion);
+                writer.print(Text.encodeIllegalHTMLCharacters(repVersion));
