JCR-3814 make sure ISM is in edit mode when calling cancel on it

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1656416 13f79535-47bb-0310-9956-ffa450edef68

-            
-            try {
-                // add properties to content
-                if (stateMgr.inEditMode()) {
-                    throw new RepositoryException("Unable to remove lock properties.");
-                }
-                stateMgr.edit();
+            // add properties to content
+            if (stateMgr.inEditMode()) {
+                throw new RepositoryException("Unable to remove lock properties.");
+            }
+            stateMgr.edit();
+            try {
