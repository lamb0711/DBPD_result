JCR-2726: Make collecting group membership information lazy

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@989102 13f79535-47bb-0310-9956-ffa450edef68

-            public boolean include(Node node) throws RepositoryException {
-                return !node.hasNodes();
+            public boolean include(Node node) {
+                try {
+                    return !node.hasNodes();
+                }
+                catch (RepositoryException e) {
+                    return false;
+                }
-         *
-         * @throws RepositoryException
-        boolean include(T item) throws RepositoryException;
+        boolean include(T item);
-        try {
-            if (inclusionPolicy.include(node)) {
-                return chain(singleton(node), chain(childIterators(node)));
-            }
-            else {
-                return chain(childIterators(node));
-            }
-        } catch (RepositoryException e) {
-            errorHandler.call(node, e);
-            return empty();
+        if (inclusionPolicy.include(node)) {
+            return chain(singleton(node), chain(childIterators(node)));
+        }
+        else {
+            return chain(childIterators(node));
-                try {
-                    return inclusionPolicy.include((T) object);
-                }
-                catch (RepositoryException ignore) {
-                    return true;
-                }
+                return inclusionPolicy.include((T) object);
