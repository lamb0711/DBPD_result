JCR-4482: jcr2spi: WorkspaceContentHandler leaks temp files

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1867128 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.InputStream;
+import java.io.OutputStream;
+    private final OutputStream tmpStream;
-            this.delegatee = SerializingContentHandler.getSerializer(
-                    new FileOutputStream(tmpFile));
+            this.tmpStream = new FileOutputStream(tmpFile);
+            this.delegatee = SerializingContentHandler.getSerializer(tmpStream);
-        try {
-            workspace.importXML(parentAbsPath, new FileInputStream(tmpFile), uuidBehavior);
+        try (InputStream is = new FileInputStream(tmpFile)) {
+            workspace.importXML(parentAbsPath, is, uuidBehavior);
+            try {
+                tmpStream.close();
+            } catch (IOException ex) {
+                // best effort
+                log.error("closing temp file stream", ex);
+            }
-}
+}
