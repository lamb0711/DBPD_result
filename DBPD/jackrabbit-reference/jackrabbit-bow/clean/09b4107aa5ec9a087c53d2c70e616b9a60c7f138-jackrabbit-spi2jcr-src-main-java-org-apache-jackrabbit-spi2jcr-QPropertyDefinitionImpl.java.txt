JCR-2105: JSR 283 NodeType Management (work in progress)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@772929 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.spi.Name;
+import org.apache.jackrabbit.spi.commons.conversion.IllegalNameException;
+import javax.jcr.NamespaceException;
-                convertConstraints(propDef.getValueConstraints(), resolver, qValueFactory, propDef.getRequiredType()));
+                convertConstraints(propDef.getValueConstraints(), resolver, qValueFactory, propDef.getRequiredType()),
+                convertQueryOperators(propDef.getAvailableQueryOperators(), resolver),
+                propDef.isFullTextSearchable(), propDef.isQueryOrderable());
+
+    /**
+     * Convert String jcr names to Name objects.
+     *
+     * @param aqos
+     * @param resolver
+     * @return
+     * @throws NamespaceException
+     * @throws IllegalNameException
+     */
+    private static Name[] convertQueryOperators(String[] aqos, NamePathResolver resolver) throws NamespaceException, IllegalNameException {
+        Name[] names = new Name[aqos.length];
+        for (int i = 0; i < aqos.length; i++) {
+            names[i] = resolver.getQName(aqos[i]);
+        }
+        return names;
+    }
