JCR-890: concurrent read-only access to a session

Clean up PropertyImpl.setValue methods

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@957530 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.ValueFactory;
-    private Name getQName(String name) throws RepositoryException {
-        return session.getQName(name);
-    }
-
-    private ValueFactory getValueFactory() throws RepositoryException {
-        return getSession().getValueFactory();
-    }
-
-    private Value[] getValues(String[] values, int type)
-            throws RepositoryException {
-        if (values != null) {
-            return ValueHelper.convert(values, type, getValueFactory());
-        } else {
-            return null;
-        }
-    }
-
-    /**
-     * Returns the type of the first of the given values, or
-     * {@link PropertyType#UNDEFINED} if no values are given.
-     *
-     * @param values given values, or <code>null</code>
-     * @return value type, or {@link PropertyType#UNDEFINED}
-     */
-    private int getType(Value[] values) {
-        if (values != null) {
-            for (Value v : values) {
-                if (v != null) {
-                    return v.getType();
-                }
-            }
-        }
-        return PropertyType.UNDEFINED;
-    }
-
