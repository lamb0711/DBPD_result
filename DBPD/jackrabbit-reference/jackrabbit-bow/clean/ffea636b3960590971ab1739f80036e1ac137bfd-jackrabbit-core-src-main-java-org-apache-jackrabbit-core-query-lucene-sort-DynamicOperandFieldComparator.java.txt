JCR-2959 SQL2 QueryEngine should use Lucene for sort
 - removed redundant 'reversed' info, as lucene is already reversing the comparator
  - cosmetics
  - added option to enable the feature from the SQL2OrderByTest test

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1186266 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.query.lucene.FieldNames;
-import org.apache.lucene.document.Document;
-import org.apache.lucene.index.IndexReader;
-    private final boolean reversed;
-            int numHits, final boolean reversed) {
+            int numHits) {
-        this.reversed = reversed;
-    protected Comparable sortValue(int doc) {
+    protected Comparable<ValueComparableWrapper> sortValue(int doc) {
-            int idx = readerIndex(doc);
-            IndexReader reader = readers.get(idx);
-            Document document = reader.document(doc - starts[idx]);
-            final String uuid = document.get(FieldNames.UUID);
+            final String uuid = getUUIDForIndex(doc);
-            Value[] v = evaluator.getValues(ordering.getOperand(), n);
-            return new ValueComparableWrapper(v, reversed);
+            final Value[] v = evaluator.getValues(ordering.getOperand(), n);
+            return new ValueComparableWrapper(v);
