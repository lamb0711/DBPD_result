- Minor fix / enhancement for query using descendant-or-self of root node
- Implement equals() method on QueryNode classes
- Implement efficient QueryResult for query that traverses the whole workspace

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@219897 13f79535-47bb-0310-9956-ffa450edef68

+    /**
+     * @inheritDoc
+     */
+    public boolean equals(Object obj) {
+        if (obj instanceof RelationQueryNode) {
+            RelationQueryNode other = (RelationQueryNode) obj;
+            return type == other.type
+                    && (valueDate == null ? other.valueDate == null : valueDate.equals(other.valueDate))
+                    && valueDouble == other.valueDouble
+                    && valueLong == other.valueLong
+                    && valuePosition == other.valuePosition
+                    && (valueString == null ? other.valueString == null : valueString.equals(other.valueString))
+                    && (property == null ? other.property == null : property.equals(other.property));
+        }
+        return false;
+    }
