JCR-2085: test case (TCK) maintenance for JCR 2.0
- more query tests
- storing of JQOM and SQL2 as node

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@786480 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.spi.commons.query.qom.QueryObjectModelTree;
-                     String language) throws InvalidQueryException {
+                     String language,
+                     Node node) throws InvalidQueryException {
+        this.node = node;
-     * @inheritDoc
-     */
-    public void init(SessionImpl session,
-                     ItemManager itemMgr,
-                     QueryHandler handler,
-                     Node node)
-            throws InvalidQueryException, RepositoryException {
-        checkNotInitialized();
-        this.session = session;
-        this.node = node;
-        this.handler = handler;
-
-        if (!node.isNodeType(session.getJCRName(NameConstants.NT_QUERY))) {
-            throw new InvalidQueryException("node is not of type nt:query");
-        }
-        statement = node.getProperty(session.getJCRName(NameConstants.JCR_STATEMENT)).getString();
-        language = node.getProperty(session.getJCRName(NameConstants.JCR_LANGUAGE)).getString();
-        query = handler.createExecutableQuery(session, itemMgr, statement, language);
-        setInitialized();
-    }
-
-    /**
-     * @inheritDoc
-     * <p/>
-     * Throws an {@link UnsupportedOperationException}.
-     */
-    public void init(SessionImpl session,
-                     ItemManager itemMgr,
-                     QueryHandler handler,
-                     QueryObjectModelTree qomTree,
-                     String language)
-            throws InvalidQueryException, RepositoryException {
-        throw new UnsupportedOperationException("not a prepared query");
-    }
-
-    /**
