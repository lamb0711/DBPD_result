- fixing nodedefid error for jcr:nodeTypes
- removing compile-time flag for exposing version histories

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@164985 13f79535-47bb-0310-9956-ffa450edef68

- * the version histories are dynamically exposed. since there could be very many,
- * it does not return all the child nodes by the {@link #getChildNodeEntries()}}
- * method. this implies, that the version storage is not browsable, but the
- * nodes are nevertheless correctly exposed (this behaviour can be changed, by
- * modifying the compile-time constant {@link #LIST_ALL_HISTORIES}.
+ * the version histories are dynamically exposed.
-     * flag for listing all histories
-     */
-    private static final boolean LIST_ALL_HISTORIES = true;
-
-    /**
-        if (LIST_ALL_HISTORIES) {
-            try {
-                ArrayList list = new ArrayList(vm.getNumVersionHistories());
-                Iterator iter = vm.getVersionHistoryIds();
-                while (iter.hasNext()) {
-                    String id = (String) iter.next();
-                    QName name = new QName(NS_DEFAULT_URI, id);
-                    list.add(createChildNodeEntry(name, id, 1));
-                }
-                return list;
-            } catch (RepositoryException e) {
-                // ignore
+        try {
+            ArrayList list = new ArrayList(vm.getNumVersionHistories());
+            Iterator iter = vm.getVersionHistoryIds();
+            while (iter.hasNext()) {
+                String id = (String) iter.next();
+                QName name = new QName(NS_DEFAULT_URI, id);
+                list.add(createChildNodeEntry(name, id, 1));
+            return list;
+        } catch (RepositoryException e) {
+            // ignore
