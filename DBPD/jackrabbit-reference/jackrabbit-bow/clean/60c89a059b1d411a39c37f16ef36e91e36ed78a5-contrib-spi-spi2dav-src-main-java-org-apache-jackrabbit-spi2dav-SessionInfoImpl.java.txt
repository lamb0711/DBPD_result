Work in progress
- Add SessionInfo parameter to RepositoryService.createEventFilter()
- Move creation of event filter in ObservationManagerImpl.addEventListener() out of synchronized block
- Make sure subscription is in place before batch
- NodeTypeDefinitions are not cached in RepositoryServiceImpl
- Return empty EventBundle array if there were no events
- Decide whether an event bundle is local based on lastBatchId in SessionInfo and transactionId in EventBundle.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@482631 13f79535-47bb-0310-9956-ffa450edef68

+    private String lastBatchId;
+
+
+    /**
+     * Returns the id of the most recently submitted batch or <code>null</code>
+     * it no batch has been submitted yet.
+     *
+     * @return the batch id of the most recently submitted batch.
+     */
+    String getLastBatchId() {
+        return lastBatchId;
+    }
+
+    /**
+     * Sets the id of the most recently submitted batch.
+     *
+     * @param batchId the batch id.
+     */
+    void setLastBatchId(String batchId) {
+        this.lastBatchId = batchId;
+    }
