JCR-2107: JSR 283 Query (work in progress)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@783005 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.spi.commons.query.qom.QueryObjectModelFactoryImpl;
+import org.apache.jackrabbit.spi.commons.query.qom.QueryObjectModelTree;
+import javax.jcr.query.qom.QueryObjectModel;
+     * The query object model factory.
+     */
+    private final QueryObjectModelFactory qomFactory;
+
+    /**
-                            WorkspaceManager wspManager) {
+                            WorkspaceManager wspManager) throws RepositoryException {
+        this.qomFactory = new QueryObjectModelFactoryImpl(
+                mgrProvider.getNamePathResolver(), mgrProvider.getJcrValueFactory()) {
+            
+            protected QueryObjectModel createQuery(QueryObjectModelTree qomTree)
+                    throws InvalidQueryException, RepositoryException {
+                // TODO implementation missing
+                throw new UnsupportedOperationException("Implementation missing: JCR-2107");
+            }
+        };
-        // TODO
-        throw new UnsupportedOperationException("JCR-2107: Implementation missing");        
+        return qomFactory;        
