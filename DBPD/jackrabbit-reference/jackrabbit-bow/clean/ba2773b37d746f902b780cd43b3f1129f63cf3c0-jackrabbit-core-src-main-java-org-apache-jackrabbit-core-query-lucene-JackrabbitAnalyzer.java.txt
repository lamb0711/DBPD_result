JCR-2505: High memory usage on node with multi-valued string properties

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@915718 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.IOException;
+import java.io.Reader;
+
-import java.io.Reader;
-
+    @Override
+    public TokenStream reusableTokenStream(String fieldName, Reader reader)
+            throws IOException {
+        if (indexingConfig != null) {
+            Analyzer propertyAnalyzer = indexingConfig.getPropertyAnalyzer(fieldName);
+            if (propertyAnalyzer != null) {
+                return propertyAnalyzer.reusableTokenStream(fieldName, reader);
+            }
+        }
+        return defaultAnalyzer.reusableTokenStream(fieldName, reader);
+    }
