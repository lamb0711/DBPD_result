JCR-3124 Stats for Queries

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1186660 13f79535-47bb-0310-9956-ffa450edef68

-        if (log.isDebugEnabled()) {
-            time = System.currentTimeMillis() - time;
-            log.debug("executed in {} ms. ({})", time, statement);
-        }
+        time = System.currentTimeMillis() - time;
+        log.debug("executed in {} ms. ({})", time, statement);
+        sessionContext.getRepositoryContext().getStatManager().getQueryStat()
+                .logQuery(language, statement, time);
