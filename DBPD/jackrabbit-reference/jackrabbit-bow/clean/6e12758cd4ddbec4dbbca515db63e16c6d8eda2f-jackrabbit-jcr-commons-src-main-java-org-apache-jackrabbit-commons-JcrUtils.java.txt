JCR-2771: Simplified Repository URI format for JNDI lookups

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1005449 13f79535-47bb-0310-9956-ffa450edef68

+        String newline = System.getProperty("line.separator");
+
+        // Prepare the potential error message (JCR-2459)
+        StringBuilder log = new StringBuilder("Unable to access a repository");
+        if (parameters != null) {
+            log.append(" with the following settings:");
+            for (Map.Entry<String, String> entry : parameters.entrySet()) {
+                log.append(newline);
+                log.append("    ");
+                log.append(entry.getKey());
+                log.append(": ");
+                log.append(entry.getValue());
+            }
+        } else {
+            log.append(" with the default settings.");
+        }
+
-                // Ignore invalid URIs
+                log.append(newline);
+                log.append("Note that the given repository URI was invalid:");
+                log.append(newline);
+                log.append("        " + uri);
+                log.append(newline);
+                log.append("        " + e.getMessage());
-        String newline = System.getProperty("line.separator");
-
-        // Prepare the potential error message (JCR-2459)
-        StringBuilder log = new StringBuilder("Unable to access a repository");
-        if (parameters != null) {
-            log.append(" with the following settings:");
-            for (Map.Entry<String, String> entry : parameters.entrySet()) {
-                log.append(newline);
-                log.append("    ");
-                log.append(entry.getKey());
-                log.append(": ");
-                log.append(entry.getValue());
-            }
-        } else {
-            log.append(" with the default settings.");
-        }
-
