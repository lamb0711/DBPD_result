JCR-2840 -  Inconsistencies if "everyone" Group is created by User Management

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1044312 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.security.principal.EveryonePrincipal;
-        checkValidPrincipal(principal);
+        checkValidPrincipal(principal, true);
-        checkValidPrincipal(principal);        
+        checkValidPrincipal(principal, node.isNodeType(NT_REP_GROUP));        
+     * @param isGroup
-    private static void checkValidPrincipal(Principal principal) {
+    private static void checkValidPrincipal(Principal principal, boolean isGroup) {
+        if (!isGroup && EveryonePrincipal.NAME.equals(principal.getName())) {
+            throw new IllegalArgumentException("'everyone' is a reserved group principal name.");
+        }
