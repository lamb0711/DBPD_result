JCR-956: Changed the JNDI repository proxy to use lazy loading only for the lookup within a JNDI context, not for instantiating the JNDI context itself. Otherwise clients in different threads or in different class loaders (for example when accessing the repository proxy from another webapp) may end up using separate JNDI contexts.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@543779 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Hashtable;
+import javax.naming.Context;
-     * @param environment JNDI environment settings
+     * @param context JNDI context
-    public JNDIRepository(Hashtable environment, String name) {
-        super(new JNDIRepositoryFactory(environment, name));
+    public JNDIRepository(Context context, String name) {
+        super(new JNDIRepositoryFactory(context, name));
