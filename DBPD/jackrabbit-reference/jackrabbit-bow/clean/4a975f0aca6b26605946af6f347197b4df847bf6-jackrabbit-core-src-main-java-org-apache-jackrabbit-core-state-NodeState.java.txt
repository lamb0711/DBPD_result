JCR-1880 fix problem with reordering same-name siblings

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1532772 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.id.ItemId;
-import org.apache.jackrabbit.core.id.NodeId;
-import org.apache.jackrabbit.spi.Name;
-
+import org.apache.jackrabbit.core.id.ItemId;
+import org.apache.jackrabbit.core.id.NodeId;
+import org.apache.jackrabbit.spi.Name;
+
-            notifyNodeAdded(newEntry);
-            notifyNodeRemoved(oldEntry);
+            if (oldEntry.getName().equals(newName)) {
+                notifyNodesReplaced();
+            } else {
+                notifyNodeAdded(newEntry);
+                notifyNodeRemoved(oldEntry);
+            }
