optimized performance of Item.save() 

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@208759 13f79535-47bb-0310-9956-ffa450edef68

+                case ItemState.STATUS_UNDEFINED:
+                    {
+                        String msg = safeGetJCRPath()
+                                + ": the item cannot be saved; it seems to have been removed externally.";
+                        log.debug(msg);
+                        throw new InvalidItemStateException(msg);
+                    }
+
-            // build list of 'new' or 'modified' descendents
+            // build list of 'new' or 'modified' descendants
+                    case ItemState.STATUS_UNDEFINED:
+                        {
+                            String msg = safeGetJCRPath()
+                                    + ": the item cannot be saved; it seems to have been removed externally.";
+                            log.debug(msg);
+                            throw new InvalidItemStateException(msg);
+                        }
+
-             * build list of transient descendents in the attic
+             * build list of transient descendants in the attic
-            // build list of 'new', 'modified' or 'stale' descendents
+            // build list of 'new', 'modified' or 'stale' descendants
-            // discard all transient descendents in the attic (i.e. those marked
+            // discard all transient descendants in the attic (i.e. those marked
