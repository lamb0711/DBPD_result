JCR-120: Moved the shutdown hook from RepositoryImpl to BindableRepository.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@307128 13f79535-47bb-0310-9956-ffa450edef68

+ * <p>
+ * A JVM shutdown hook is used to make sure that the initialized
+ * repository is properly closed when the JVM shuts down. The
+ * {@link RegistryHelper#unregisterRepository(Context, String)}
+ * method should be used to explicitly close the repository if
+ * needed. 
-     * Creates the underlying repository instance.
+     * Creates the underlying repository instance. A shutdown hook is
+     * registered to make sure that the initialized repository gets closed
+     * when the JVM shuts down. 
+        Runtime.getRuntime().addShutdownHook(new Thread() {
+            public void run() {
+                shutdown();
+            }
+        });
