JCR-1838 Garbage collection deletes temporary files in DataStore

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@727402 13f79535-47bb-0310-9956-ffa450edef68

+            DataIdentifier tempId = new DataIdentifier(temporary.getName());
+            usesIdentifier(tempId);
-
+            // this will also make sure that
+            // tempId is not garbage collected until here
+            inUse.remove(tempId);
+                String fileName = file.getName();
-                    DataIdentifier id = new DataIdentifier(file.getName());
+                    DataIdentifier id = new DataIdentifier(fileName);
