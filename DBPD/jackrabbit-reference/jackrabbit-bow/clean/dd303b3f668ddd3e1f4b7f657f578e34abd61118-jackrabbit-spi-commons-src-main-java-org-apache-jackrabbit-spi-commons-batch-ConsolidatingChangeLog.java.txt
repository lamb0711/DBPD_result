JCR-3049: NPE in ConsolidatingChangeLog for id base NodeId

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1157025 13f79535-47bb-0310-9956-ffa450edef68

-        if (!path.isAbsolute()) {
+        if (path != null && !path.isAbsolute()) {
+                    if (thisPath == null || otherPath == null) {
+                        return CANCEL_NONE;
+                    }
+                    if (thisPath == null || otherPath == null) {
+                        return CANCEL_NONE;
+                    }
+                    if (thisPath == null || otherPath == null) {
+                        return CANCEL_NONE;
+                    }
-                return nodeId != null && ConsolidatingChangeLog.getPath(nodeId).getIndex() > 1;
+                if (nodeId != null) {
+                    Path path = ConsolidatingChangeLog.getPath(nodeId);
+                    return path != null && path.getIndex() > 1;
+                }
+
+                return false;
+                    if (thisPath == null || otherPath == null) {
+                        return CANCEL_NONE;
+                    }
+                        if (thisPath == null || otherPath == null) {
+                            return CANCEL_NONE;
+                        }
+                    if (thisPath == null || otherPath == null) {
+                        return CANCEL_NONE;
+                    }
+                        if (thisPath == null || otherPath == null) {
+                            return CANCEL_NONE;
+                        }
+                    if (thisPath == null || otherPath == null) {
+                        return CANCEL_NONE;
+                    }
+                    if (thisPath == null || otherPath == null) {
+                        return CANCEL_NONE;
+                    }
