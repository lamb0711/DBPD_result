JCR-2936: JMX Bindings for Jackrabbit

Patch by Alex Parvulescu

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1089061 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.jmx.JmxRegistryUtils;
+import org.apache.jackrabbit.core.jmx.query.QueryStatManager;
+        time = System.currentTimeMillis() - time;
+        QueryStatManager qsm = sessionContext.getRepository().getJmxRegistry()
+                .getQueryStatManager();
+        if (qsm != null) {
+            qsm.logQuery(JmxRegistryUtils.buildQueryStat(this, time));
+        }
-            time = System.currentTimeMillis() - time;
