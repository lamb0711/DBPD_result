- Adjust jackrabbit dependency to version 1.1-SNAPSHOT
- Remove javax.security.auth.Subject from SPI interfaces. Whether JAAS is supported and how is specific to the SPI implementation.
- Add JavaDoc to RepositoryService.login()

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@434074 13f79535-47bb-0310-9956-ffa450edef68

-import javax.security.auth.Subject;
-import java.security.Principal;
-import java.util.Set;
-    private final Subject subject;
-        this.subject = sessionInfo.getSubject();
-
-        // DIFF JACKRABBIT don't expect principals
-        // TODO: not totally correct to use the first principles name as UserId
-        Set principals = sessionInfo.getSubject().getPrincipals();
-        if (!principals.isEmpty()) {
-            // use 1st principal in case there are more that one
-            Principal principal = (Principal) principals.iterator().next();
-            userId = principal.getName();
-        } else {
-            userId = null;
-        }
+        userId = sessionInfo.getUserID();
-        // with subject of current session
+        // with current session
-        creds.setAttribute(SecurityConstants.IMPERSONATOR_ATTRIBUTE, subject);
+        creds.setAttribute(SecurityConstants.IMPERSONATOR_ATTRIBUTE, this);
