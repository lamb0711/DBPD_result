JCR-390: Move text extraction into a background thread
- allow subclasses to create custom text extractor

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@497458 13f79535-47bb-0310-9956-ffa450edef68

-        extractor = new JackrabbitTextExtractor(textFilterClasses);
-        if (extractorPoolSize > 0) {
-            // wrap with pool
-            extractor = new PooledTextExtractor(extractor, extractorPoolSize,
-                    extractorBackLog, extractorTimeout);
-        }
+        extractor = createTextExtractor();
+    /**
+     * Factory method to create the <code>TextExtractor</code> instance.
+     *
+     * @return the <code>TextExtractor</code> instance this index should use.
+     */
+    protected TextExtractor createTextExtractor() {
+        TextExtractor txtExtr = new JackrabbitTextExtractor(textFilterClasses);
+        if (extractorPoolSize > 0) {
+            // wrap with pool
+            txtExtr = new PooledTextExtractor(txtExtr, extractorPoolSize,
+                    extractorBackLog, extractorTimeout);
+        }
+        return txtExtr;
+    }
+
