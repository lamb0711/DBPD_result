JCR-1465: Configurable Similarity

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@635552 13f79535-47bb-0310-9956-ffa450edef68

-            PersistentIndex index = new PersistentIndex(
-                    indexNames.getName(i), sub,
-                    handler.getTextAnalyzer(), cache, indexingQueue);
+            PersistentIndex index = new PersistentIndex(indexNames.getName(i),
+                    sub, handler.getTextAnalyzer(), handler.getSimilarity(),
+                    cache, indexingQueue);
-                handler.getTextAnalyzer(), cache, indexingQueue);
+                handler.getTextAnalyzer(), handler.getSimilarity(),
+                cache, indexingQueue);
-        volatileIndex = new VolatileIndex(
-                handler.getTextAnalyzer(), indexingQueue);
+        volatileIndex = new VolatileIndex(handler.getTextAnalyzer(),
+                handler.getSimilarity(), indexingQueue);
