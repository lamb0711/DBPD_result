JCR-2576 DbInputStream does not support mark()/reset() when exhausted.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@924769 13f79535-47bb-0310-9956-ffa450edef68

-import org.slf4j.Logger;
-import org.slf4j.LoggerFactory;
+ * <p>
+ * This class does not support mark/reset. It is always to be wrapped
+ * using a BufferedInputStream.
-    private static Logger log = LoggerFactory.getLogger(DbInputStream.class);
-
-    
-     * 
+     *
-     * 
+     *
-            // some additional database objects 
+            // some additional database objects
-        }        
+        }
-        }        
+        }
-     * {@inheritDoc}
+     * This method does nothing.
-        if (endOfStream) {
-            return;
-        } 
-        try {
-            openStream();
-        } catch (IOException e) {
-            log.info("Error getting underlying stream: ", e);
-        }
-        in.mark(readlimit);
+        // do nothing
-     * {@inheritDoc}
+     * This method does nothing.
-        if (endOfStream) {
-            throw new EOFException();
-        }         
-        openStream();
-        in.reset();
+        // do nothing
-     * {@inheritDoc}
+     * Check whether mark and reset are supported.
+     *
+     * @return false
-        if (endOfStream) {
-            return false;
-        }      
-        try {
-            openStream();
-        } catch (IOException e) {
-            log.info("Error getting underlying stream: ", e);
-            return false;
-        }
-        return in.markSupported();
+        return false;
-     * 
+     *
