JCR-258 - remove JDOM dependency from jcr-server contribution
JCR-295 - usage of Cache-Control header 
JCR-297 - log output while parsing xml
minor consistency issues and improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@368683 13f79535-47bb-0310-9956-ffa450edef68

-import org.jdom.Element;
+import org.apache.jackrabbit.webdav.xml.DomUtil;
+import org.w3c.dom.Element;
+import org.w3c.dom.Document;
-    private final Element[] value;
+    private final long[] value;
-
-	Element[] elems = new Element[lengths.length];
-	for (int i = 0; i < lengths.length; i++) {
-	    elems[i] = new Element(XML_LENGTH, ItemResourceConstants.NAMESPACE);
-	    elems[i].addContent(String.valueOf(lengths[i]));
-	}
-	this.value = elems;
+	this.value = lengths;
-     * Returns an array of {@link Element}s representing the value of this
+     * Returns an array of {@link long}s representing the value of this
-     * @return an array of {@link Element}s
+     * @return an array of {@link long}s
+
+    /**
+     * @see org.apache.jackrabbit.webdav.xml.XmlSerializable#toXml(Document)
+     */
+    public Element toXml(Document document) {
+        Element elem = getName().toXml(document);
+        for (int i = 0; i < value.length; i++) {
+            String txtContent = String.valueOf(value[i]);
+	    DomUtil.addChildElement(elem, XML_LENGTH, ItemResourceConstants.NAMESPACE, txtContent);
+	}
+        return elem;
+    }
+
