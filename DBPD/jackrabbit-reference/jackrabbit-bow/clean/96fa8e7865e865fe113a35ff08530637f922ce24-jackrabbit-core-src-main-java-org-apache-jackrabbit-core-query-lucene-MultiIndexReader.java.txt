JCR-1213: UUIDDocId cache does not work properly because of weakReferences in combination with new instance for combined indexreader

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@601342 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.uuid.UUID;
+
+import java.io.IOException;
+
+    /**
+     * Creates a document id for the given <code>uuid</code>.
+     *
+     * @param uuid the uuid of the node.
+     * @return a foreign segment doc id or <code>null</code> if there is no node
+     *         with the given <code>uuid</code>.
+     * @throws IOException if an error occurs while reading from the index.
+     */
+    public ForeignSegmentDocId createDocId(UUID uuid) throws IOException;
+
+    /**
+     * Returns the document number for the passed <code>docId</code>. If the id
+     * is invalid <code>-1</code> is returned.
+     *
+     * @param docId the document id to resolve.
+     * @return the document number or <code>-1</code> if it is invalid (e.g.
+     *         does not exist).
+     * @throws IOException if an error occurs while reading from the index.
+     */
+    public int getDocumentNumber(ForeignSegmentDocId docId) throws IOException;
