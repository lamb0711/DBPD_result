- adapting server to latest api 0.16.4.1
- adding support for better repository extensibility
- add primary-item export command

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@165294 13f79535-47bb-0310-9956-ffa450edef68

-    private static RepositoryImpl repository;
+    private static Repository repository;
-	    InputSource is = new InputSource(in);
-	    RepositoryConfig config = RepositoryConfig.create(is, repositoryHome.getAbsolutePath());
-	    repository = RepositoryImpl.create(config);
+	    repository = createRepository(new InputSource(in), repositoryHome);
+     * Creates the repository for the given config and homedir.
+     *
+     * @param is
+     * @param homedir
+     * @return
+     * @throws RepositoryException
+     */
+    protected Repository createRepository(InputSource is, File homedir)
+            throws RepositoryException {
+        RepositoryConfig config = RepositoryConfig.create(is, homedir.getAbsolutePath());
+        return RepositoryImpl.create(config);
+    }
+
+    /**
-	    Remote remote = null;
+	    Remote remote;
