- Checkin did not work if node has unreferenceable child node with OPV=Copy

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@54784 13f79535-47bb-0310-9956-ffa450edef68

-        if (!isNodeType(NodeTypeRegistry.MIX_REFERENCEABLE)) {
-            throw new ItemExistsException("Unable to restore version of " + safeGetJCRPath() + ". Not referenceable.");
-        }
-        if (!freeze.getFrozenUUID().equals(getUUID())) {
-            throw new ItemExistsException("Unable to restore version of " + safeGetJCRPath() + ". UUID changed.");
+        if (isNodeType(NodeTypeRegistry.MIX_REFERENCEABLE)) {
+            String uuid = freeze.getFrozenUUID();
+            if (uuid!=null && !uuid.equals(getUUID())) {
+                throw new ItemExistsException("Unable to restore version of " + safeGetJCRPath() + ". UUID changed.");
+            }
