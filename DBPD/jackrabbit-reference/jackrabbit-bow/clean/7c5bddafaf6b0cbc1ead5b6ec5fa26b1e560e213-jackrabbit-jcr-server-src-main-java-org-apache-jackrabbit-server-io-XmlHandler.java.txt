JCR-2522 unable to workspace import XML.


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@916643 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.HashSet;
+import java.util.Set;
+     * the alternative xml mimetype. tika detects xml as this.
+     */
+    public static final String XML_MIMETYPE_ALT = "application/xml";
+
+    private static final Set<String> supportedTypes;
+    static {
+        supportedTypes = new HashSet<String>();
+        supportedTypes.add(XML_MIMETYPE);
+        supportedTypes.add(XML_MIMETYPE_ALT);
+    }
+
+
+    /**
-        if (context == null || context.isCompleted()) {
-            return false;
-        }
-        boolean isXmlMimeType = XML_MIMETYPE.equals(context.getMimeType());
-        return isXmlMimeType
+        return !(context == null || context.isCompleted())
+                && supportedTypes.contains(context.getMimeType())
