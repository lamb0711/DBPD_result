1) JCR-185 - filter jcr properties in jcr-server
2) move helper-methods from ResourceFactoryImpl to DavMethod
3) do no rely on HttpServletRequest.getContentLength() for reading the request body (rev. 354815)
4) no hardcoded check for root-path in ResourceConfig (rev. 354818)	 
5) mark private methods in DavResourceImpl 'private' (rev. 354820)


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@355130 13f79535-47bb-0310-9956-ffa450edef68

-    private ResourceFilter resourceFilter;
+    private ItemFilter itemFilter;
-                if (inst != null && inst instanceof ResourceFilter) {
-                    resourceFilter = (ResourceFilter)inst;
+                if (inst != null && inst instanceof ItemFilter) {
+                    itemFilter = (ItemFilter)inst;
-                if (resourceFilter != null) {
+                if (itemFilter != null) {
-                    resourceFilter.setFilteredNodetypes(parseNodeTypesEntry(nts));
-                    parseNamespacesEntry(filter.getChild("namespaces"), resourceFilter);
+                    itemFilter.setFilteredNodetypes(parseNodeTypesEntry(nts));
+                    parseNamespacesEntry(filter.getChild("namespaces"), itemFilter);
-    private void parseNamespacesEntry(Element child, ResourceFilter filter) {
+    private void parseNamespacesEntry(Element child, ItemFilter filter) {
-                if (n.getPath().equals("/")) {
-                    // the root node always represents a collection
-                    return true;
-                }
-     * Returns the resource filter specified with the configuration or {@link DefaultResourceFilter}
+     * Returns the item filter specified with the configuration or {@link DefaultItemFilter}
-     * to build a <code>ResourceFilter</code> instance from the configuration.
+     * to build a <code>ItemFilter</code> instance from the configuration.
-     * @return resource filter as defined by the config or {@link DefaultResourceFilter}
+     * @return item filter as defined by the config or {@link DefaultItemFilter}
-    public ResourceFilter getResourceFilter() {
-        if (resourceFilter == null) {
-            log.debug("ResourceConfig: missing resource filter > building DefaultResourceFilter ");
-            resourceFilter = new DefaultResourceFilter();
+    public ItemFilter getItemFilter() {
+        if (itemFilter == null) {
+            log.debug("ResourceConfig: missing resource filter > building DefaultItemFilter ");
+            itemFilter = new DefaultItemFilter();
-        return resourceFilter;
+        return itemFilter;
