JCR-1870: reloading of invalidated nodes doesn't benefit from batch-read

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@719588 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Collections;
-            NodeState nodeState;
-            if (entry.getStatus() == Status.INVALIDATED) {
-                // simple reload -> don't use batch-read
-                NodeInfo nInfo = service.getNodeInfo(sessionInfo, nodeId);
-                nodeState = createItemStates(nodeId, Collections.singletonList(nInfo).iterator(), entry, false);
-            } else {
-                Iterator infos = service.getItemInfos(sessionInfo, nodeId);
-                nodeState = createItemStates(nodeId, infos, entry, false);
-            }
+            Iterator infos = service.getItemInfos(sessionInfo, nodeId);
+            NodeState nodeState = createItemStates(nodeId, infos, entry, false);
+
-        if (parentEntry.getStatus() != Status.INVALIDATED) {
-            while (itemInfos.hasNext()) {
-                ItemInfo info = (ItemInfo) itemInfos.next();
-                if (info.denotesNode()) {
-                    createDeepNodeState((NodeInfo) info, parentEntry, infos);
-                } else {
-                    createDeepPropertyState((PropertyInfo) info, parentEntry, infos);
-                }
+        while (itemInfos.hasNext()) {
+            ItemInfo info = (ItemInfo) itemInfos.next();
+            if (info.denotesNode()) {
+                createDeepNodeState((NodeInfo) info, parentEntry, infos);
+            } else {
+                createDeepPropertyState((PropertyInfo) info, parentEntry, infos);
