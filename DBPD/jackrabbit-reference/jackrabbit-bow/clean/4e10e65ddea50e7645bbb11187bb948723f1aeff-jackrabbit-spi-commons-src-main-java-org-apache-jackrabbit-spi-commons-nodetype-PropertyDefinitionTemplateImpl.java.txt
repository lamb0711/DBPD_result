JCR-2192: Handling of expanded-form jcr names by node type *Template classes

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@797410 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.spi.commons.conversion.NamePathResolver;
+import javax.jcr.nodetype.ConstraintViolationException;
+     *
+     * @param resolver
-    PropertyDefinitionTemplateImpl() {
+    PropertyDefinitionTemplateImpl(NamePathResolver resolver) {
+        super(resolver);
+     * @param resolver
+     * @throws javax.jcr.nodetype.ConstraintViolationException
-    PropertyDefinitionTemplateImpl(PropertyDefinition def) {
-        super(def);
+    PropertyDefinitionTemplateImpl(PropertyDefinition def, NamePathResolver resolver) throws ConstraintViolationException {
+        super(def, resolver);
-        constraints = def.getValueConstraints();
+        setValueConstraints(def.getValueConstraints());
+     *
+     * @throws IllegalArgumentException If an invalid type is passed.
+        // validate
+        PropertyType.nameFromValue(type);
+        // TODO: see https://jsr-283.dev.java.net/issues/show_bug.cgi?id=794
+        // TODO: see https://jsr-283.dev.java.net/issues/show_bug.cgi?id=794
