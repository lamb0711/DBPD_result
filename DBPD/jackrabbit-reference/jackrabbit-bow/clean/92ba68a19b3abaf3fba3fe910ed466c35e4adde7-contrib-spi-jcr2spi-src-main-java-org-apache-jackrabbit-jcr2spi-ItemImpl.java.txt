- Remove TransientItemStateListener
- Create property states and child node states on NodeState

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@430020 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.jcr2spi.state.TransientItemStateListener;
+import org.apache.jackrabbit.jcr2spi.state.ItemStateListener;
+ * TODO: remove status in ItemImpl and ask item state for status!
-public abstract class ItemImpl implements Item, TransientItemStateListener {
+public abstract class ItemImpl implements Item, ItemStateListener {
-    //--------------------------------------------< TransientItemStateListener >
+    //-----------------------------------------------------< ItemStateListener >
-    /**
-     * @inheritDoc
-     */
-    public void stateOverlaid(ItemState overlayer) {
-        state.removeListener(this);
-        state = overlayer;
-        state.addListener(this);
-        status = STATUS_MODIFIED;
-    }
-
-    /**
-     * @inheritDoc
-     */
-    public void stateUncovering(ItemState overlayer) {
-        state.removeListener(this);
-        state = overlayer.getOverlayedState();
-        state.addListener(this);
-        status = STATUS_NORMAL;
-    }
-
