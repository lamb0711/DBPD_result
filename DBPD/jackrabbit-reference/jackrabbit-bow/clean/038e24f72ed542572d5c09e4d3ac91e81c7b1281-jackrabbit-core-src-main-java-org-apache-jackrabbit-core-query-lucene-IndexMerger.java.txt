JCR-4578 IndexMerger should log more debug informations about the internal IndexBuckets

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1878427 13f79535-47bb-0310-9956-ffa450edef68

-                    indexBuckets.add(new IndexBucket(lower, upper, true));
+                    IndexBucket indexBucket = new IndexBucket(lower, upper, true);
+                    indexBuckets.add(indexBucket);
+                    if (log.isDebugEnabled()) {
+                        log.debug("IndexBucket (" + indexBucket.toString() +") created.");
+                    }
-                indexBuckets.add(new IndexBucket(lower, maxMergeDocs, false));
+                IndexBucket upperIndexBucket = new IndexBucket(lower, maxMergeDocs, false);
+                indexBuckets.add(upperIndexBucket);
+                if (log.isDebugEnabled()) {
+                    log.debug("IndexBucket (" + upperIndexBucket.toString() + ") created.");
+                }
-                indexBuckets.add(new IndexBucket(maxMergeDocs + 1, Long.MAX_VALUE, false));
+                IndexBucket overlowIndexBucket = new IndexBucket(maxMergeDocs + 1, Long.MAX_VALUE, false);
+                indexBuckets.add(overlowIndexBucket);
+                if (log.isDebugEnabled()) {
+                    log.debug("IndexBucket (" + overlowIndexBucket.toString() + ") created.");
+                }
-                log.debug("index added: name=" + name + ", numDocs=" + numDocs);
+                log.debug("index added name: " + name + ", numDocs: " + numDocs + " into IndexBucket (" + bucket.toString() + ")");
+                if (log.isDebugEnabled()) {
+                    log.debug("check merge for IndexBucket (" + bucket.toString() + "), targetMergeDocs: " + targetMergeDocs);
+                }
+        
+        @Override
+        public String toString() {
+            return "Lower: " + lower + ", Upper: " + upper + ", AllowMerge: " + allowMerge + ", Size: " + size();
+        }
