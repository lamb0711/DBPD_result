fixed bug in Node.setProperty(String, String, int) and setProperty(String, String[], int):
type argument was ignored in certain situations


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@161904 13f79535-47bb-0310-9956-ffa450edef68

+     * @param srcValues
+     * @param targetType
+     * @return
+     * @throws ValueFormatException
+     * @throws IllegalArgumentException
+     */
+    public static Value[] convert(String[] srcValues, int targetType)
+            throws ValueFormatException, IllegalArgumentException {
+        if (srcValues == null) {
+            return null;
+        }
+        Value[] newValues = new Value[srcValues.length];
+        for (int i = 0; i < srcValues.length; i++) {
+            newValues[i] = convert(srcValues[i], targetType);
+        }
+        return newValues;
+    }
+
+    /**
-     * @param srcVal
+     * @param srcValues
-    public static Value[] copy(Value[] srcVal) throws IllegalStateException {
-        if (srcVal == null) {
+    public static Value[] copy(Value[] srcValues) throws IllegalStateException {
+        if (srcValues == null) {
-        Value[] newVal = new Value[srcVal.length];
-        for (int i = 0; i < srcVal.length; i++) {
-            newVal[i] = copy(srcVal[i]);
+        Value[] newValues = new Value[srcValues.length];
+        for (int i = 0; i < srcValues.length; i++) {
+            newValues[i] = copy(srcValues[i]);
-        return newVal;
+        return newValues;
