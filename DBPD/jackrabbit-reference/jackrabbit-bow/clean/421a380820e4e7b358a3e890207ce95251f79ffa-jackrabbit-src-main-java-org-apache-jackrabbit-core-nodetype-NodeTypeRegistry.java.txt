JCR-433: Make primary NodeTypeDefs automatically subtype nt:base

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@423074 13f79535-47bb-0310-9956-ffa450edef68

-                if (sta != null && sta.length > 0) {
+                if (sta.length > 0) {
-        if (supertypes != null && supertypes.length > 0) {
+        if (supertypes.length > 0) {
-        if (supertypes != null && supertypes.length > 0) {
+        if (supertypes.length > 0) {
-        } else {
-            // no supertypes specified: has to be either a mixin type or nt:base
-            if (!ntd.isMixin() && !QName.NT_BASE.equals(ntd.getName())) {
-                String msg = "[" + name
-                        + "] all primary node types except nt:base itself must be (directly or indirectly) derived from nt:base";
-                log.debug(msg);
-                throw new InvalidNodeTypeDefException(msg);
-            }
