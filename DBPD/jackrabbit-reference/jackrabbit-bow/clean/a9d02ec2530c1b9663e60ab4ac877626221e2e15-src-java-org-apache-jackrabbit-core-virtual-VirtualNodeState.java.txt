- fixing loss of versionlabels node state after full gc

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@156150 13f79535-47bb-0310-9956-ffa450edef68

+    /** a set of hard references to child states */
+    private HashSet stateRefs = null;
+
+
+    /**
+     * Adds a hard reference to another state
+     * @param state
+     */
+    public void addStateReference(NodeState state) {
+        if (stateRefs == null) {
+            stateRefs = new HashSet();
+        }
+        stateRefs.add(state);
+    }
+
+    /**
+     * Removes a hard reference to another state
+     * @param state
+     */
+    public void removeStateReferences(NodeState state) {
+        if (stateRefs != null) {
+            stateRefs.remove(state);
+        }
+    }
