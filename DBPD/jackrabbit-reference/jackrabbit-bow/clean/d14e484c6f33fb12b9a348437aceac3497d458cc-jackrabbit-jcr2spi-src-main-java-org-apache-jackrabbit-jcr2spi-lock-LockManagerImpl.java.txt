JCR-1108 JCR2SPI: error level logging when cleaning up session locks

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@587882 13f79535-47bb-0310-9956-ffa450edef68

-                    log.error("Error while unlocking session scoped lock. Cleaning up local lock status.");
+                    log.warn("Error while unlocking session scoped lock. Cleaning up local lock status.");
+            // LockState must be aware of removal of the Node.
+            lockHoldingState.addListener(this);
+
+            // in case of CacheBehaviour.OBSERVATION this lockstate can also
+            // be aware of another session removing the lock -> listen to
+            // status changes of the jcr:lockIsDeep property.
+            lockHoldingState.removeListener(this);
+
+                lockState.startListening();
