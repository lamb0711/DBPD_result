JCR-2107: JSR 283 Query (work in progress)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@783435 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.spi.QValue;
+import org.apache.jackrabbit.spi.commons.value.ValueFormat;
+     * The name/value pairs collected upon calls to {@link #bindValue(String, Value)}.
+     */
+    private final Map<String, QValue> boundValues = new HashMap();
+
+    /**
-                statement, language, getNamespaceMappings(), limit, offset);
+                statement, language, getNamespaceMappings(), limit, offset, boundValues);
-        //TODO implementation missing
-        throw new UnsupportedOperationException("JCR-2107: Implementation missing");
+        if (value == null) {
+            boundValues.remove(varName);
+        } else {
+            boundValues.put(varName, ValueFormat.getQValue(value, mgrProvider.getNamePathResolver(), mgrProvider.getQValueFactory()));
+        }
