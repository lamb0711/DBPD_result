JCR-999  SPI: provide batch read functionality
JCR-1000 JCR2SPI: remove duplicate item states

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@552873 13f79535-47bb-0310-9956-ffa450edef68

-        ItemId id = getIdFactory().createNodeId(parentState.getNodeId(), relPath);
+        ItemId id = getIdFactory().createNodeId((NodeId) parentState.getWorkspaceId(), relPath);
-        ItemState wspState = itemState.getWorkspaceState();
-        return service.isGranted(sessionInfo, wspState.getId(), actions);
+        return service.isGranted(sessionInfo, itemState.getWorkspaceId(), actions);
-        ItemState wspState = itemState.getWorkspaceState();
-        return service.isGranted(sessionInfo, wspState.getId(), AccessManager.READ);
+        return service.isGranted(sessionInfo, itemState.getWorkspaceId(), AccessManager.READ);
-        ItemState wspState = itemState.getWorkspaceState();
-        return service.isGranted(sessionInfo, wspState.getId(), AccessManager.REMOVE);
+        return service.isGranted(sessionInfo, itemState.getWorkspaceId(), AccessManager.REMOVE);
-            service.removeVersion(sessionInfo, vhState.getNodeId(), versionId);
+            service.removeVersion(sessionInfo, (NodeId) vhState.getWorkspaceId(), versionId);
