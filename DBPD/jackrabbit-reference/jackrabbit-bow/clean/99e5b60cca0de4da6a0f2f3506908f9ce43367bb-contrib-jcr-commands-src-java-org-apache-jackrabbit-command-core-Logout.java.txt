jcr-commands 
 - naming and packaging reviewed
 - now commands only read parameters from the context because commands shouldn't have a state of their own but use only the context.
 - i18n reorganized in one single resources file
 - batch mode added
 - cover most of jcr operations (versioning, locking, etc.)
 - commands simplified. Most commands don't have default values.
 - logging added

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@294914 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.jackrabbit.chain.command;
+package org.apache.jackrabbit.command.core;
-import org.apache.jackrabbit.chain.CtxHelper;
+import org.apache.commons.logging.Log;
+import org.apache.commons.logging.LogFactory;
+import org.apache.jackrabbit.command.CommandHelper;
- * Saves the current Session.
+ * Logout command
-public class SaveSession implements Command {
+public class Logout implements Command
+{
+	/** logger */
+	private static Log log = LogFactory.getLog(Logout.class);
+
-	public boolean execute(Context ctx) throws Exception {
-		Session s = CtxHelper.getSession(ctx);
-		s.save() ;
+	public boolean execute(Context ctx) throws Exception
+	{
+		Session s = CommandHelper.getSession(ctx);
+		if (log.isDebugEnabled())
+		{
+			log.debug("logging out user " + s.getUserID());
+		}
+		s.logout();
+		CommandHelper.setCurrentNode(ctx, null);
+		CommandHelper.setSession(ctx, null);
