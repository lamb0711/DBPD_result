work in progress

- retrieve default nt from definition if not present with nodeInfo



git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@497019 13f79535-47bb-0310-9956-ffa450edef68

-            Operation an = AddNode.create(parent, nodeInfo.getName(), nodeInfo.getNodeTypeName(), nodeInfo.getUUID());
+            QName ntName = nodeInfo.getNodeTypeName();
+            if (ntName == null) {
+                // use default node type
+                ntName = def.getDefaultPrimaryType();
+            }
+            Operation an = AddNode.create(parent, nodeInfo.getName(), ntName, nodeInfo.getUUID());
-                    // TODO: find proper solution. problem with same-name-siblings
+                    // TODO TOBEFIXED find proper solution. problem with same-name-siblings
