JCR-2087: parametrize generic types

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@816648 13f79535-47bb-0310-9956-ffa450edef68

-    private final Map listeners = Collections.synchronizedMap(new ReferenceMap(ReferenceMap.WEAK, ReferenceMap.WEAK));
+    private final Map<NodeTypeRegistryListener, NodeTypeRegistryListener> listeners = Collections.synchronizedMap(new ReferenceMap(ReferenceMap.WEAK, ReferenceMap.WEAK));
-                for (Iterator<Name> depIter = dependents.iterator(); depIter.hasNext();) {
-                    msg.append(depIter.next());
+                for (Name name : dependents) {
+                    msg.append(name);
-        for (Iterator<Name> iter = nodeTypeNames.iterator(); iter.hasNext();) {
-            Name ntName = iter.next();
+        for (Name ntName : nodeTypeNames) {
-        Iterator iter = listeners.values().iterator();
-        while (iter.hasNext()) {
-            la[cnt++] = (NodeTypeRegistryListener) iter.next();
+        for (NodeTypeRegistryListener ntrl : listeners.values()) {
+            la[cnt++] = ntrl;
-        Iterator iter = listeners.values().iterator();
-        while (iter.hasNext()) {
-            la[cnt++] = (NodeTypeRegistryListener) iter.next();
+        for (NodeTypeRegistryListener ntrl : listeners.values()) {
+            la[cnt++] = ntrl;
-        Iterator iter = listeners.values().iterator();
-        while (iter.hasNext()) {
-            la[cnt++] = (NodeTypeRegistryListener) iter.next();
+        for (NodeTypeRegistryListener ntrl : listeners.values()) {
+            la[cnt++] = ntrl;
-            Iterator<QNodeTypeDefinition> iter = getValues().iterator();
-            while (iter.hasNext()) {
-                QNodeTypeDefinition ntd = iter.next();
+            for (QNodeTypeDefinition ntd : getValues()) {
-            Iterator<QNodeTypeDefinition> iter = getValues().iterator();
-            while (iter.hasNext()) {
-                QNodeTypeDefinition ntd = iter.next();
+            for (QNodeTypeDefinition ntd : getValues()) {
