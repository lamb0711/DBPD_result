JCR-1266: Use creation tick instead of weak references in DocNumberCache

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@602855 13f79535-47bb-0310-9956-ffa450edef68

-                if (reader.getCreationTick() <= e.reader.getCreationTick()) {
+                if (reader.getCreationTick() <= e.creationTick) {
-                                + "existing: " + e.reader.getCreationTick()
+                                + "existing: " + e.creationTick
-                e = new Entry(reader, n);
+                e = new Entry(reader.getCreationTick(), n);
-         * The IndexReader.
+         * The creation tick of the IndexReader.
-        final CachingIndexReader reader;
+        final long creationTick;
-        Entry(CachingIndexReader reader, int doc) {
-            this.reader = reader;
+        Entry(long creationTick, int doc) {
+            this.creationTick = creationTick;
