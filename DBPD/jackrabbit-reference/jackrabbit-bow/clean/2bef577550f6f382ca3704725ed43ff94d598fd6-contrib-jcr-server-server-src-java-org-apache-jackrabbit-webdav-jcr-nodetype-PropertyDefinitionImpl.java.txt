JCR-258 - remove JDOM dependency from jcr-server contribution
JCR-295 - usage of Cache-Control header 
JCR-297 - log output while parsing xml
minor consistency issues and improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@368683 13f79535-47bb-0310-9956-ffa450edef68

-import org.jdom.Element;
+import org.apache.jackrabbit.webdav.xml.DomUtil;
+import org.w3c.dom.Element;
+import org.w3c.dom.Document;
+     * @param document
-    public Element toXml() {
-	Element elem = super.toXml();
+    public Element toXml(Document document) {
+	Element elem = super.toXml(document);
-            Element dvElement = new Element(DEFAULTVALUES_ELEMENT);
+            Element dvElement = document.createElement(DEFAULTVALUES_ELEMENT);
-                    Element valElem = new Element(DEFAULTVALUE_ELEMENT).setText(values[i].getString());
-                    dvElement.addContent(valElem);
+                    Element valElem = document.createElement(DEFAULTVALUE_ELEMENT);
+                    DomUtil.setText(valElem, values[i].getString());
+                    dvElement.appendChild(valElem);
-            elem.addContent(dvElement);
+            elem.appendChild(dvElement);
-        Element constrElem = new Element(VALUECONSTRAINTS_ELEMENT);
+        Element constrElem = document.createElement(VALUECONSTRAINTS_ELEMENT);
-            constrElem.addContent(new Element(VALUECONSTRAINT_ELEMENT).setText(constraints[i]));
+            Element vcElem = document.createElement(VALUECONSTRAINT_ELEMENT);
+            DomUtil.setText(vcElem, constraints[i]);
+            constrElem.appendChild(vcElem);
-        elem.addContent(constrElem);
+        elem.appendChild(constrElem);
-    public String getElementName() {
+    String getElementName() {
