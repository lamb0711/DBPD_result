jcr-commands 
 - naming and packaging reviewed
 - now commands only read parameters from the context because commands shouldn't have a state of their own but use only the context.
 - i18n reorganized in one single resources file
 - batch mode added
 - cover most of jcr operations (versioning, locking, etc.)
 - commands simplified. Most commands don't have default values.
 - logging added

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@294914 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.jackrabbit.chain.command.info;
+package org.apache.jackrabbit.command.info;
+import javax.jcr.Node;
-import org.apache.jackrabbit.chain.CtxHelper;
-import org.apache.jackrabbit.chain.JcrCommandException;
+import org.apache.jackrabbit.command.CommandHelper;
+import org.apache.jackrabbit.command.CommandException;
-    /** name pattern */
-    private String pattern;
-    private String patternKey;
-
-    /**
-     * @return name pattern
-     */
-    public String getPattern()
-    {
-        return pattern;
-    }
-
-    /**
-     * Sets the name pattern
-     * 
-     * @param pattern
-     */
-    public void setPattern(String pattern)
-    {
-        this.pattern = pattern;
-    }
+    private String patternKey = "pattern";
-    protected Iterator getNodes(Context ctx) throws JcrCommandException,
+    protected Iterator getNodes(Context ctx) throws CommandException,
-        String pattern = CtxHelper.getAttr(this.pattern, patternKey, "*", ctx);
-        return CtxHelper.getNodes(ctx, pattern);
+        String pattern = (String) ctx.get(this.patternKey);
+        Node n = CommandHelper.getCurrentNode(ctx) ;
+        return CommandHelper.getNodes(ctx, n, pattern);
