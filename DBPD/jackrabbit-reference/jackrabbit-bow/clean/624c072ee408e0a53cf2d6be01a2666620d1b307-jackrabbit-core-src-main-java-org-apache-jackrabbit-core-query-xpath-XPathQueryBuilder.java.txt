JCR-668: Allow pseudo properties in query relation

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@485577 13f79535-47bb-0310-9956-ffa450edef68

+            } else if (queryNode.getType() == QueryNode.TYPE_RELATION) {
+                // use function name as name of a pseudo property in a relation
+                try {
+                    QName name = NameFormat.parse(fName + "()", resolver);
+                    RelationQueryNode relNode = (RelationQueryNode) queryNode;
+                    relNode.setRelativePath(Path.create(name, 0));
+                } catch (IllegalNameException e) {
+                    exceptions.add(e);
+                } catch (UnknownPrefixException e) {
+                    exceptions.add(e);
+                }
