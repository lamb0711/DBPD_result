JCR-2940 PrivilegeDefinition should implement equals and hashcode


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1091263 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Arrays;
+
+
-        this.declaredAggregateNames = declaredAggregateNames;
+        this.declaredAggregateNames = declaredAggregateNames == null ? new String[0] : declaredAggregateNames;
+
+    @Override
+    public boolean equals(Object o) {
+        if (this == o) return true;
+        if (o == null || getClass() != o.getClass()) return false;
+
+        PrivilegeDefinition that = (PrivilegeDefinition) o;
+
+        if (isAbstract != that.isAbstract) return false;
+        if (!Arrays.equals(declaredAggregateNames, that.declaredAggregateNames)) return false;
+        if (name != null ? !name.equals(that.name) : that.name != null) return false;
+
+        return true;
+    }
+
+    @Override
+    public int hashCode() {
+        int result = name != null ? name.hashCode() : 0;
+        result = 31 * result + (isAbstract ? 1 : 0);
+        result = 31 * result + (declaredAggregateNames != null ? Arrays.hashCode(declaredAggregateNames) : 0);
+        return result;
+    }
