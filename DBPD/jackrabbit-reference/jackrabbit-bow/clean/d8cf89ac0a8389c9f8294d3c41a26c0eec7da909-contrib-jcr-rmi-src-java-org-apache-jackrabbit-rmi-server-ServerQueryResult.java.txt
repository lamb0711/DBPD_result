JCR-231: Avoid using the RangedIterator.getSize() method that might return -1.
Made some small cleanups in the getRemoteXxxArray methods.
Moved a part of the code from ServerQueryResult.getRows() up to ServerObject.getRemotRowArray() for consistency.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@293078 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.NodeIterator;
-import javax.jcr.query.RowIterator;
-        RowIterator iterator = result.getRows();
-        if (iterator != null) {
-            RemoteRow[] remotes = new RemoteRow[(int) iterator.getSize()];
-            for (int i = 0; iterator.hasNext(); i++) {
-                remotes[i] = getFactory().getRemoteRow(iterator.nextRow());
-            }
-            return remotes;
-        } else {
-            return new RemoteRow[0]; // for safety
-        }
+        return getRemoteRowArray(result.getRows());
-        NodeIterator iterator = result.getNodes();
-        if (iterator != null) {
-            RemoteNode[] remotes = new RemoteNode[(int) iterator.getSize()];
-            for (int i = 0; iterator.hasNext(); i++) {
-                remotes[i] = getRemoteNode(iterator.nextNode());
-            }
-            return remotes;
-        } else {
-            return new RemoteNode[0]; // for safety
-        }
+        return getRemoteNodeArray(result.getNodes());
