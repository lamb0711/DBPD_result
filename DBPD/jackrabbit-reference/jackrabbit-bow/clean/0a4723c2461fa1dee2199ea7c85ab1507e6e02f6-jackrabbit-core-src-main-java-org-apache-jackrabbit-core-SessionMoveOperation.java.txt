JCR-3364: Moving of nodes requires read access to all parent nodes of the destination node

Use explicit cycle detection to detect the JCR-3291 case without the need for extra transient items

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1535539 13f79535-47bb-0310-9956-ffa450edef68

-            // Create the transient parent nodes of the target node to prevent 
-            // conflicting and/or cyclic moves. See JCR-3921
-            createTransientParentStates(destParentNode);
-            
-    private void createTransientParentStates(NodeImpl node) throws RepositoryException {
-        while (node.getParentId() != null) {
-            node.getOrCreateTransientItemState();
-            node = (NodeImpl) node.getParent();
-        }
-    }
