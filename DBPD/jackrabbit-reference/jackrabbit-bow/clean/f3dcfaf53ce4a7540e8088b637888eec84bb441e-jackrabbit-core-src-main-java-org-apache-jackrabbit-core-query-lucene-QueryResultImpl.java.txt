JCR-1169 Distribution of commons classes (adjust jackrabbit-core)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@590014 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.name.NamespaceResolver;
-import org.apache.jackrabbit.name.NoPrefixDeclaredException;
-import org.apache.jackrabbit.name.QName;
-import org.apache.jackrabbit.name.NameFormat;
+import org.apache.jackrabbit.spi.Name;
+import org.apache.jackrabbit.conversion.NamePathResolver;
+import javax.jcr.NamespaceException;
-     * The namespace resolver of the session executing the query
+     * The name and path resolver of the session executing the query
-    protected final NamespaceResolver resolver;
+    protected final NamePathResolver resolver;
-    protected final QName[] selectProps;
+    protected final Name[] selectProps;
-    protected final QName[] orderProps;
+    protected final Name[] orderProps;
-                           NamespaceResolver resolver,
+                           NamePathResolver resolver,
-                           QName[] selectProps,
-                           QName[] orderProps,
+                           Name[] selectProps,
+                           Name[] orderProps,
-                propNames[i] = NameFormat.format(selectProps[i], resolver);
+                propNames[i] = resolver.getJCRName(selectProps[i]);
-        } catch (NoPrefixDeclaredException npde) {
+        } catch (NamespaceException npde) {
-
