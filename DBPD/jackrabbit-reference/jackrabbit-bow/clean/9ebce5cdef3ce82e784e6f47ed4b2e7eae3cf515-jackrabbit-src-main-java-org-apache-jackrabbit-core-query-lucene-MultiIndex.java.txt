JCR-257: Use separate index for jcr:system tree
- use common namespace mapping if there is a system index
- Added some test cases

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@388559 13f79535-47bb-0310-9956-ffa450edef68

-     * Name of the file to persist search internal namespace mappings
-     */
-    private static final String NS_MAPPING_FILE = "ns_mappings.properties";
-
-    /**
+     * @param mapping the namespace mapping to use
-               Set excludedIDs) throws IOException {
+               Set excludedIDs,
+               NamespaceMappings mapping) throws IOException {
+        this.nsMappings = mapping;
-        // read namespace mappings
-        File mapFile = new File(indexDir, NS_MAPPING_FILE);
-        nsMappings = new NamespaceMappings(mapFile);
-
