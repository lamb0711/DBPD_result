JCR-1609: JSR 283: new Property Types

Initial support for Value.getDecimal()

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@770193 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.util.ISO8601;
+import java.io.ByteArrayInputStream;
+import java.io.InputStream;
+import java.io.UnsupportedEncodingException;
+import java.math.BigDecimal;
+import java.util.Calendar;
-import java.io.ByteArrayInputStream;
-import java.io.InputStream;
-import java.io.UnsupportedEncodingException;
-import java.util.Calendar;
+
+import org.apache.jackrabbit.util.ISO8601;
+    public BigDecimal getDecimal()
+            throws ValueFormatException, IllegalStateException,
+            RepositoryException {
+        setValueConsumed();
+
+        try {
+            // TODO: Is this the correct way to handle BigDecimal conversion
+            return new BigDecimal(getInternalString());
+        } catch (NumberFormatException e) {
+            throw new ValueFormatException("conversion to double failed", e);
+        }
+    }
+
+    /**
+     * {@inheritDoc}
+     */
