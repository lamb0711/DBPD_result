JCR-2509 : Reduce number of compiler warning by adding @Override and generics where appropriate [step 2: jackrabbit-jcr-server]

in addition:
- minor improvements in comments, typos
- use foreach loops where possible
- remove redundant Tika imports in server/io package
- remove redundant casts
- add missing index increment in SubscriptionManagerImpl.SubscriptionMap

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@915339 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Iterator;
+    @Override
-            NodeType[] snts = nt.getDeclaredSupertypes();
-            for (int i = 0; i < snts.length; i++) {
-                DomUtil.addChildElement(supertypes, SUPERTYPE_ELEMENT, null, snts[i].getName());
+            for (NodeType snt : nt.getDeclaredSupertypes()) {
+                DomUtil.addChildElement(supertypes, SUPERTYPE_ELEMENT, null, snt.getName());
-            // declared childnode defs
-            NodeDefinition[] cnd = nt.getChildNodeDefinitions();
-            for (int i = 0; i < cnd.length; i++) {
-                if (cnd[i].getDeclaringNodeType().getName().equals(nt.getName())) {
-                    ntDef.appendChild(NodeDefinitionImpl.create(cnd[i]).toXml(document));
+            // declared child node definitions
+            for (NodeDefinition aCnd : nt.getChildNodeDefinitions()) {
+                if (aCnd.getDeclaringNodeType().getName().equals(nt.getName())) {
+                    ntDef.appendChild(NodeDefinitionImpl.create(aCnd).toXml(document));
-            // declared propertyDefs
-            PropertyDefinition[] pd = nt.getPropertyDefinitions();
-            for (int i = 0; i < pd.length; i++) {
-                if (pd[i].getDeclaringNodeType().getName().equals(nt.getName())) {
-                    ntDef.appendChild(PropertyDefinitionImpl.create(pd[i]).toXml(document));
+            // declared property definitions
+            for (PropertyDefinition aPd : nt.getPropertyDefinitions()) {
+                if (aPd.getDeclaringNodeType().getName().equals(nt.getName())) {
+                    ntDef.appendChild(PropertyDefinitionImpl.create(aPd).toXml(document));
-            List elemList = info.getContentElements(XML_NODETYPE, NAMESPACE);
+            List<Element> elemList = info.getContentElements(XML_NODETYPE, NAMESPACE);
-            List ntList = new ArrayList();
-            Iterator elemIter = elemList.iterator();
-            while (elemIter.hasNext()) {
-                Element el = ((Element)elemIter.next());
+            List<NodeType> ntList = new ArrayList<NodeType>();
+            for (Element el : elemList) {
-}
+}
