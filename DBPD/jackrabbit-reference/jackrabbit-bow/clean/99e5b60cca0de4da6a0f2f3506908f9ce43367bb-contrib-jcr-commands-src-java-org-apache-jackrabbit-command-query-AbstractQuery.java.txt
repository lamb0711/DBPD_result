jcr-commands 
 - naming and packaging reviewed
 - now commands only read parameters from the context because commands shouldn't have a state of their own but use only the context.
 - i18n reorganized in one single resources file
 - batch mode added
 - cover most of jcr operations (versioning, locking, etc.)
 - commands simplified. Most commands don't have default values.
 - logging added

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@294914 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.jackrabbit.chain.command.query;
+package org.apache.jackrabbit.command.query;
+import javax.jcr.query.Query;
-import org.apache.jackrabbit.chain.CtxHelper;
+import org.apache.jackrabbit.command.CommandHelper;
- * Query the repository through either SQL or XPATH. <br>
- * The Command attributes are set from the specified literal values, or from the
- * context attributes stored under the given keys.
+ * Query the repository through either SQL or XPATH.
-    // ---------------------------- < literals >
-
-    /** query statement */
-    private String statement;
-    private String statementKey;
+    private String statementKey = "statement";
-    private String toKey;
+    private String destKey = "collected";
-        String statement = CtxHelper.getAttr(this.statement,
-            this.statementKey, ctx);
-
-        Session session = CtxHelper.getSession(ctx);
-        javax.jcr.query.Query query = session.getWorkspace().getQueryManager()
+        String statement = (String) ctx.get(this.statementKey) ;
+        Session session = CommandHelper.getSession(ctx);
+        Query query = session.getWorkspace().getQueryManager()
-
-
-        ctx.put(toKey, result.getNodes());
-
+        ctx.put(destKey, result.getNodes());
-     * @return the query statement
-     */
-    public String getStatement()
-    {
-        return statement;
-    }
-
-    /**
-     * Sets the query statement
-     * 
-     * @param statement
-     */
-    public void setStatement(String statement)
-    {
-        this.statement = statement;
-    }
-
-    /**
-    public String getToKey()
+    public String getDestKey()
-        return toKey;
+        return destKey;
-    public void setToKey(String toKey)
+    public void setDestKey(String toKey)
-        this.toKey = toKey;
+        this.destKey = toKey;
