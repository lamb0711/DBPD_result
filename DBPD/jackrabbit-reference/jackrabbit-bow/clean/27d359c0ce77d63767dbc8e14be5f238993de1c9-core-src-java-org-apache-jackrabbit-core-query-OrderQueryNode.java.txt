- Minor fix / enhancement for query using descendant-or-self of root node
- Implement equals() method on QueryNode classes
- Implement efficient QueryResult for query that traverses the whole workspace

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@219897 13f79535-47bb-0310-9956-ffa450edef68

-    private List specs = new ArrayList();
+    private final List specs = new ArrayList();
+    /**
+     * @inheritDoc
+     */
+    public boolean equals(Object obj) {
+        if (obj instanceof OrderQueryNode) {
+            OrderQueryNode other = (OrderQueryNode) obj;
+            return specs.equals(other.specs);
+        }
+        return false;
+    }
+
+
+        /**
+         * Returns <code>true</code> if <code>this</code> order spec is equal
+         * to <code>obj</code>
+         * @param obj the reference object with which to compare.
+         * @return <code>true</code> if <code>this</code> order spec is equal
+         *   to <code>obj</code>; <code>false</code> otherwise.
+         */
+        public boolean equals(Object obj) {
+            if (obj instanceof OrderSpec) {
+                OrderSpec other = (OrderSpec) obj;
+                return (property == null ? other.property == null : property.equals(other.property))
+                        && ascending == other.ascending;
+            }
+            return false;
+        }
