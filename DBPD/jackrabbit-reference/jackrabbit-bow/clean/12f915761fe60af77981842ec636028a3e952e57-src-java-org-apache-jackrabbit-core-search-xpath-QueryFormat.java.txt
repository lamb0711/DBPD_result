Changed XPath queries to reflect changes in latest spec: relative path uses root node as context node. absolute path must select /jcr:root to match anything at all.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@151355 13f79535-47bb-0310-9956-ffa450edef68

+        if (node.isAbsolute()) {
+            sb.append("/");
+        }
+        String slash = "";
-            if (steps[i].getNameTest() == null
-                    || steps[i].getNameTest().getLocalName().length() > 0) {
-                sb.append('/');
-            }
+            sb.append(slash);
+            slash = "/";
-                sb.append(ISO9075.encode(node.getNameTest()).toJCRName(resolver));
+                if (node.getNameTest().getLocalName().length() == 0) {
+                    sb.append(XPathQueryBuilder.JCR_ROOT.toJCRName(resolver));
+                } else {
+                    sb.append(ISO9075.encode(node.getNameTest()).toJCRName(resolver));
+                }
