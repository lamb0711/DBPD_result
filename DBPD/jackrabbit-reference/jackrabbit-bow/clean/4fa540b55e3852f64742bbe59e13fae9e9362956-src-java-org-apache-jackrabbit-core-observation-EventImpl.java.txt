jira issue JCR-16
- fixed EventImpl to return the path of the child item associated with the event
- fixed SearchManager handling of property change events related to wrong path returned by Event.getPath()

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@56655 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.Path;
+import org.apache.jackrabbit.core.MalformedPathException;
-            return eventState.getParentPath().toJCRPath(session.getNamespaceResolver());
+            Path p = Path.create(eventState.getParentPath(), eventState.getChildItemQName(), false);
+            return p.toJCRPath(session.getNamespaceResolver());
+        } catch (MalformedPathException e) {
+            String msg = "internal error: malformed path for event";
+            log.error(msg, e);
+            throw new RepositoryException(msg, e);
