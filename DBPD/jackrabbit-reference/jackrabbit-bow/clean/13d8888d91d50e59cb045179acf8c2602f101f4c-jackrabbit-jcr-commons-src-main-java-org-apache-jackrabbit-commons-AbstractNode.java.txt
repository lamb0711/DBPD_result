JCR-1607: Add a NamespaceHelper in jcr-commons
    - Use NamespaceHelper in jcr-commons

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@657028 13f79535-47bb-0310-9956-ffa450edef68

-    /**
-     * The JCR namespace URI.
-     */
-    private static final String JCR = "http://www.jcp.org/jcr/1.0";
-
-    /**
-     * The JCR mix namespace URI.
-     */
-    private static final String MIX = "http://www.jcp.org/jcr/mix/1.0";
-
-            Property property = getProperty(getName(JCR, "mixinTypes"));
+            Property property = getProperty(getName("jcr:mixinTypes"));
-        Property property = getProperty(getName(JCR, "primaryType"));
+        Property property = getProperty(getName("jcr:primaryType"));
-        if (isNodeType(getName(MIX, "referenceable"))) {
-            return getProperty(getName(JCR, "uuid")).getString();
+        if (isNodeType(getName("mix:referenceable"))) {
+            return getProperty(getName("jcr:uuid")).getString();
-        if (isNodeType(getName(MIX, "versionable"))) {
+        if (isNodeType(getName("jcr:versionable"))) {
-            return getProperty(getName(JCR, "isCheckedOut")).getBoolean();
+            return getProperty(getName("jcr:isCheckedOut")).getBoolean();
-    private String getName(String uri, String name) throws RepositoryException {
-        String prefix = getSession().getNamespacePrefix(uri);
-        if (prefix.length() > 0) {
-            return prefix + ":" + name;
-        } else {
-            return name;
-        }
+    private String getName(String name) throws RepositoryException {
+        return new NamespaceHelper(getSession()).getJcrName(name);
