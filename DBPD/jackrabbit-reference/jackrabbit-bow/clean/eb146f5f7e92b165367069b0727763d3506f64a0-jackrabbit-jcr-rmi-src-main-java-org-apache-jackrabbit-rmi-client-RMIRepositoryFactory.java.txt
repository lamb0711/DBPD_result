JCR-956: Allow use of custom adapter factories and enable the Jackrabbit extensions by default.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@543817 13f79535-47bb-0310-9956-ffa450edef68

+     * Local adapter factory.
+     */
+    private final LocalAdapterFactory factory;
+
+    /**
+     * @param factory local adapter factory
-    public RMIRepositoryFactory(String url) {
+    public RMIRepositoryFactory(LocalAdapterFactory factory, String url) {
+        this.factory = factory;
-            return new ClientRepositoryFactory().getRepository(url);
+            return new ClientRepositoryFactory(factory).getRepository(url);
