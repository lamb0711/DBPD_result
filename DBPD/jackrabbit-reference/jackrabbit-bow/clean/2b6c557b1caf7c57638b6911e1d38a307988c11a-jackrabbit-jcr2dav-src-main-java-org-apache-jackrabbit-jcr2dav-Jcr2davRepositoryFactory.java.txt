JCR-2451: Implement RepositoryFactory in jcr2dav

Return null from getRepository if the given repository URI can not be accessed.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@897983 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.commons.GenericRepositoryFactory;
-import org.apache.jackrabbit.jcr2spi.RepositoryImpl;
+import org.apache.jackrabbit.jcr2spi.RepositoryImpl;
-        return RepositoryImpl.create(
-                new Jcr2spiRepositoryFactory.RepositoryConfigImpl(
-                        factory, parameters));
+        try {
+            return RepositoryImpl.create(
+                    new Jcr2spiRepositoryFactory.RepositoryConfigImpl(
+                            factory, parameters));
+        } catch (RepositoryException e) {
+            // Unable to connect to the specified repository.
+            // Most likely the server is either not running or
+            // the given URI does not point to a valid davex server.
+            return null;
+        }
