JCR-1036: make sure that when the property type is only implied, a best effort value conversion still can occur (thanks to Angela).


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@559802 13f79535-47bb-0310-9956-ffa450edef68

-        // best-effort conversion if the target property is not of type STRING
-        return setProperty(name, value, PropertyType.STRING);
+        Value v = (value == null) ? null : session.getValueFactory().createValue(value, PropertyType.STRING);
+        return setProperty(name, v, PropertyType.UNDEFINED);
