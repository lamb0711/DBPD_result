migrating to v0.15 of the jsr 170 spec

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@55516 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.observation.EventType;
-                    EventType.CHILD_NODE_ADDED | EventType.CHILD_NODE_REMOVED
-                    | EventType.PROPERTY_ADDED | EventType.PROPERTY_REMOVED,
+                    Event.NODE_ADDED | Event.NODE_REMOVED
+                    | Event.PROPERTY_ADDED | Event.PROPERTY_REMOVED,
-                        EventType.CHILD_NODE_ADDED | EventType.CHILD_NODE_REMOVED |
-                        EventType.PROPERTY_ADDED | EventType.PROPERTY_REMOVED |
-                        EventType.PROPERTY_CHANGED,
+                        Event.NODE_ADDED | Event.NODE_REMOVED |
+                        Event.PROPERTY_ADDED | Event.PROPERTY_REMOVED |
+                        Event.PROPERTY_CHANGED,
-            return new SessionImpl(this, ANONYMOUS_CREDENTIALS, wspConfig);
+            return new XASessionImpl(this, ANONYMOUS_CREDENTIALS, wspConfig, txMgr);
+    /**
+     * @see Repository#login(String)
+     */
+    public Session login(String workspaceName)
+            throws LoginException, NoSuchWorkspaceException, RepositoryException {
+        return login(null, workspaceName);
+    }
+
-            if ((type & EventType.CHILD_NODE_ADDED) == EventType.CHILD_NODE_ADDED) {
+            if ((type & Event.NODE_ADDED) == Event.NODE_ADDED) {
-            if ((type & EventType.CHILD_NODE_REMOVED) == EventType.CHILD_NODE_REMOVED) {
+            if ((type & Event.NODE_REMOVED) == Event.NODE_REMOVED) {
-            if ((type & EventType.PROPERTY_ADDED) == EventType.PROPERTY_ADDED) {
+            if ((type & Event.PROPERTY_ADDED) == Event.PROPERTY_ADDED) {
-            if ((type & EventType.PROPERTY_REMOVED) == EventType.PROPERTY_REMOVED) {
+            if ((type & Event.PROPERTY_REMOVED) == Event.PROPERTY_REMOVED) {
