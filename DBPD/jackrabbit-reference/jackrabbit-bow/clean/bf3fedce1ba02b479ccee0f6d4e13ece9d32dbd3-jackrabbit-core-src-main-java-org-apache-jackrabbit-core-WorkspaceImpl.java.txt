JCR-1181: Use common base classes in core

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@599177 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.xml.SAXParserProvider;
+import org.apache.jackrabbit.commons.AbstractWorkspace;
-import org.xml.sax.SAXException;
-import javax.jcr.InvalidSerializedDataException;
-import javax.xml.parsers.ParserConfigurationException;
-import java.io.IOException;
-import java.io.InputStream;
-public class WorkspaceImpl implements JackrabbitWorkspace, EventStateCollectionFactory {
+public class WorkspaceImpl extends AbstractWorkspace
+        implements JackrabbitWorkspace, EventStateCollectionFactory {
-     * {@inheritDoc}
-     */
-    public void importXML(String parentAbsPath, InputStream in,
-                          int uuidBehavior)
-            throws IOException, PathNotFoundException, ItemExistsException,
-            ConstraintViolationException, InvalidSerializedDataException,
-            LockException, RepositoryException {
-
-        ImportHandler handler =
-                (ImportHandler) getImportContentHandler(parentAbsPath, uuidBehavior);
-        try {
-            SAXParserProvider.getParser().parse(new InputSource(in), handler);
-        } catch (SAXException se) {
-            // check for wrapped repository exception
-            Exception e = se.getException();
-            if (e != null && e instanceof RepositoryException) {
-                throw (RepositoryException) e;
-            } else {
-                String msg = "failed to parse XML stream";
-                log.debug(msg);
-                throw new InvalidSerializedDataException(msg, se);
-            }
-        } catch (ParserConfigurationException e) {
-            throw new RepositoryException("SAX parser configuration error", e);
-        }
-    }
-
-    /**
