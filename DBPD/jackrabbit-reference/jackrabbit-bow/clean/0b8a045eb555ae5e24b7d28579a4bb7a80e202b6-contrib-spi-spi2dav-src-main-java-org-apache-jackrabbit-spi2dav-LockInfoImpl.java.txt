work in progress

- add 'isSessionScoped' to LockInfo and RepositoryService.lock
- add index to NodeInfo
- evaluate EventIds upon call to getId, getParentId
- convert Method-Not-Allowed to ConstraintViolation

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@467911 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.webdav.jcr.ItemResourceConstants;
-            if (l.getType() == Type.WRITE && l.getScope() == Scope.EXCLUSIVE) {
+            Scope sc = l.getScope();
+            if (l.getType() == Type.WRITE && (sc == Scope.EXCLUSIVE || sc == ItemResourceConstants.EXCLUSIVE_SESSION)) {
+
+    public boolean isSessionScoped() {
+        return activeLock.getScope() == ItemResourceConstants.EXCLUSIVE_SESSION;
+    }
