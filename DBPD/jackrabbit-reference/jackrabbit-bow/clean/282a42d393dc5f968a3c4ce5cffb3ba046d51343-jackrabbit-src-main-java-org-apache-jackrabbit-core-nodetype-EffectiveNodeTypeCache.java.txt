NodeTypeRegistry: more cleaning up of implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@376756 13f79535-47bb-0310-9956-ffa450edef68

-class EffectiveNodeTypeCache implements Dumpable {
+class EffectiveNodeTypeCache implements Cloneable, Dumpable {
-    EffectiveNodeTypeCache(EffectiveNodeTypeCache entCache) {
-        sortedKeys = new TreeSet(entCache.sortedKeys);
-        aggregates = new HashMap(entCache.aggregates);
-    }
-
+    //-------------------------------------------< java.lang.Object overrides >
+    public Object clone() {
+        EffectiveNodeTypeCache clone = new EffectiveNodeTypeCache();
+        clone.sortedKeys.addAll(sortedKeys);
+        clone.aggregates.putAll(aggregates);
+        return clone;
+    }
+
