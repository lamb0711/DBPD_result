JCR-2714: Selective disabling of checks in ItemValidator

Remove the public SessionImpl.getValidator() method to prevent client code from using the ItemValidator.performRelaxed() method.

Renamed s/sessionContext/context/ in a few cases where there's no ambiguity

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@985218 13f79535-47bb-0310-9956-ffa450edef68

+import static org.apache.jackrabbit.core.ItemValidator.CHECK_CHECKED_OUT;
+import static org.apache.jackrabbit.core.ItemValidator.CHECK_CONSTRAINTS;
+import static org.apache.jackrabbit.core.ItemValidator.CHECK_HOLD;
+import static org.apache.jackrabbit.core.ItemValidator.CHECK_LOCK;
+import static org.apache.jackrabbit.core.ItemValidator.CHECK_RETENTION;
+
-     * @return ItemValidator instance for this session.
-     */
-    public ItemValidator getValidator() {
-        return context.getItemValidator();
-    }
-
-    /**
-        getValidator().checkModify(parent, options, Permission.NONE);
+        context.getItemValidator().checkModify(parent, options, Permission.NONE);
-        int options = ItemValidator.CHECK_CHECKED_OUT | ItemValidator.CHECK_LOCK |
-                ItemValidator.CHECK_CONSTRAINTS | ItemValidator.CHECK_HOLD | ItemValidator.CHECK_RETENTION;
+        ItemValidator validator = context.getItemValidator();
+        int options =
+            CHECK_CHECKED_OUT | CHECK_LOCK | CHECK_CONSTRAINTS
+            | CHECK_HOLD | CHECK_RETENTION;
-                return getValidator().canModify((ItemImpl) target, options, Permission.NONE);
+                return validator.canModify((ItemImpl) target, options, Permission.NONE);
-                    getValidator().checkRemove((ItemImpl) target, options, Permission.NONE);
+                    validator.checkRemove((ItemImpl) target, options, Permission.NONE);
-                return getValidator().canModify((ItemImpl) target, options, Permission.NONE);
+                return validator.canModify((ItemImpl) target, options, Permission.NONE);
-                    getValidator().checkRemove((ItemImpl) target, options, Permission.NONE);
+                    validator.checkRemove((ItemImpl) target, options, Permission.NONE);
