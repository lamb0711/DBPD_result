JCR-2744: Avoid element arrays in PathImpl

Get rid of separate Path.Element objects by making AbstractPath implement both Path and Path.Element

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@997384 13f79535-47bb-0310-9956-ffa450edef68

+    /** The parent path ".." */
+    public static final ParentPath PARENT_PATH = new ParentPath(null);
+
+    /** Name of the parent element */
+    public static final Name NAME =
+        NameFactoryImpl.getInstance().create(Name.NS_DEFAULT_URI, "..");
+
+    protected String getElementString() {
+        return NAME.getLocalName();
+    }
+
-        return ParentElement.INSTANCE.getName();
+        return NAME;
-    public Element getNameElement() {
-        return ParentElement.INSTANCE;
-    }
-
-    public Path getLastElement() {
-        return new ParentPath(null);
-    }
-
-    public String getString() {
-        if (parent != null) {
-            return parent.getString() + Path.DELIMITER + "..";
-        } else {
-            return "..";
-        }
+    public AbstractPath getLastElement() {
+        return PARENT_PATH;
