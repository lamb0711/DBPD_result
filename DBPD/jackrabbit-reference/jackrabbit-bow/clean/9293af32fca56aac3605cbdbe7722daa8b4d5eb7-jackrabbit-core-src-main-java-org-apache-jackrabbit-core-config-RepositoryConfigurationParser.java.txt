JCR-3199: workspace-wide default for lock timeout

- adds a defaultLockTimeout attribute to the Workspace element
- parses it into WorkspaceConfig
- uses it in NodeImpl.lock() 

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1231204 13f79535-47bb-0310-9956-ffa450edef68

-        String name =
-            getAttribute(root, NAME_ATTRIBUTE, new File(home).getName());
+        String name = getAttribute(root, "name", new File(home).getName());
-        // optinal config for import handling
+        // optional config for import handling
+        // default lock timeout
+        String to = getAttribute(root, "defaultLockTimeout", new Long(Long.MAX_VALUE).toString());
+        long defaultLockTimeout;
+        try {
+            defaultLockTimeout = Long.parseLong(to);
+        }
+        catch (NumberFormatException ex) {
+            throw new ConfigurationException("defaultLockTimeout must be an integer value", ex);
+        }
+
-                ismLockingFactory, workspaceSecurityConfig, importConfig);
+                ismLockingFactory, workspaceSecurityConfig, importConfig, defaultLockTimeout);
