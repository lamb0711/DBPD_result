JCR-1095: extend PropertyUtil.searchProp so that the caller can specify whether the property needs to be single-valued, multi-valued (or anything). Add AbstractPropertyTest.getPropertyIsMultivalued to specify that, and add implementations throughout. Specify "false" for ReferencePropertyTest which relies on a single-valued property.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@570564 13f79535-47bb-0310-9956-ffa450edef68

+     * @param multiple whether the property should be multivalued (<code>null</code>: does not matter)
-    public static Property searchProp(Session session, Node node, int type)
+    public static Property searchProp(Session session, Node node, int type, Boolean multiple)
-                if (propType == type) {
+                if (propType == type && (multiple == null || multiple.booleanValue() == property.getDefinition().isMultiple())) {
-                prop = searchProp(session, n, type);
+                prop = searchProp(session, n, type, multiple);
