- [JCR-84] WebDAV LocatorFactoryImpl$Locator.getHref() constructs root resource URLs incorrectly
- adapting for jcr-locking support
- adding nodetype reports

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@159607 13f79535-47bb-0310-9956-ffa450edef68

-	log.info(INIT_PARAM_RESOURCE_PATH_PREFIX + " = " + resourcePathPrefix);
+	if (resourcePathPrefix == null) {
+	    log.debug("Missing path prefix > setting to empty string.");
+	    resourcePathPrefix = "";
+	} else if (resourcePathPrefix.endsWith("/")) {
+	    log.debug("Path prefix ends with '/' > removing trailing slash.");
+	    resourcePathPrefix = resourcePathPrefix.substring(0, resourcePathPrefix.length()-1);
+	}
+	log.info(INIT_PARAM_RESOURCE_PATH_PREFIX + " = '" + resourcePathPrefix + "'");
