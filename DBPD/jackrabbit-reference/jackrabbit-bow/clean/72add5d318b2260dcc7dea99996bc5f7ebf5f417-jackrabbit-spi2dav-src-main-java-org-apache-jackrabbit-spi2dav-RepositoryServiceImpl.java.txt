JCR-3144 : JSR 283 Workspace Management

add support for 

- Workspace.createWorkspace(String)
- Workspace.deleteWorkspace(String)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1200363 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.webdav.client.methods.MkWorkspaceMethod;
-     * @see RepositoryService#getItemInfos(SessionInfo, NodeId)
+     * @see RepositoryService#getItemInfos(SessionInfo, ItemId)
-        // TODO
-        throw new UnsupportedOperationException("JCR-2003. Implementation missing");
+        if (srcWorkspaceName != null) {
+            throw new UnsupportedOperationException("JCR-2003. Implementation missing");
+        }
+
+        MkWorkspaceMethod method = null;
+     	try {
+             method = new MkWorkspaceMethod(uriResolver.getWorkspaceUri(name));
+             initMethod(method, sessionInfo, true);
+             getClient(sessionInfo).executeMethod(method);
+             method.checkSuccess();
+         } catch (IOException e) {
+             throw new RepositoryException(e);
+         } catch (DavException e) {
+             throw ExceptionConverter.generate(e);
+         } finally {
+             if (method != null) {
+                 method.releaseConnection();
+             }
+         }
-        // TODO
-        throw new UnsupportedOperationException("JCR-2003. Implementation missing");
+        DeleteMethod method = null;
+     	try {
+             method = new DeleteMethod(uriResolver.getWorkspaceUri(name));
+             initMethod(method, sessionInfo, true);
+             getClient(sessionInfo).executeMethod(method);
+             method.checkSuccess();
+         } catch (IOException e) {
+             throw new RepositoryException(e);
+         } catch (DavException e) {
+             throw ExceptionConverter.generate(e);
+         } finally {
+             if (method != null) {
+                 method.releaseConnection();
+             }
+         }
