Patch for JCR-1759 (Simplify the usage of OCM annotations)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@699627 13f79535-47bb-0310-9956-ffa450edef68

+		Class ancestorClass = ReflectionUtils.getAncestorClass(clazz);
+		if (ancestorClass != null)
+		{
+			classDescriptor.setExtend(ancestorClass.getName());
+		}
+			
+		// TODO : Can we still support the extend param in the annotation @Node if we are using 
+		//	      the reflection to get the ancestor class ? (see the previous if)
-		classDescriptor.setAbstract(nodeAnnotation.isAbstract());
+		
+		classDescriptor.setAbstract(nodeAnnotation.isAbstract()||ReflectionUtils.isAbstractClass(clazz) );
+		Class[] interfaces = ReflectionUtils.getInterfaces(clazz);
+		for (int i = 0; i < interfaces.length; i++) {
+			ImplementDescriptor implementDescriptor =  new ImplementDescriptor();
+            implementDescriptor.setInterfaceName(interfaces[i].getName());
+            classDescriptor.addImplementDescriptor(implementDescriptor);
+		}
+		
+		// TODO : Can we still support the annotation @Implement if we are using 
+		//	      the reflection to get the list of the interfaces ?		
