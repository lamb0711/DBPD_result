Refactoring step 2 (JCR-53)
 - Started XML parser class ConfigurationParser
 - Moved AbstractConfig.replaceVars to ConfigurationParser
 - Moved AbstractConfig.createFileSystem to ConfigurationParser
 - Moved simple XML parsing methods to ConfigurationParser

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@156056 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Iterator;
-import java.util.List;
-import java.util.Map;
-import javax.jcr.RepositoryException;
-
-import org.jdom.Element;
-    /** FQN of the default query handler implementation */
-    private static final String DEFAULT_QUERY_HANDLER
-            = "org.apache.jackrabbit.core.search.lucene.SearchIndex";
-
-    /**
-     * Creates a new <code>SearchConfig</code>.
-     * @param config the config root element for this <code>SearchConfig</code>.
-     * @param vars map of variable values.
-     * @throws RepositoryException if an error occurs while creating the
-     *  <code>SearchConfig</code>.
-     */
-    static SearchConfig parse(Element config, Map vars) throws RepositoryException {
-        // create FileSystem
-        Element fsElement = config.getChild(AbstractConfig.FILE_SYSTEM_ELEMENT);
-        FileSystem fs = AbstractConfig.createFileSystem(fsElement, vars);
-
-        // gather params
-        Properties params = new Properties();
-        List paramList = config.getChildren(AbstractConfig.PARAM_ELEMENT);
-        for (Iterator i = paramList.iterator(); i.hasNext();) {
-            Element param = (Element) i.next();
-            String paramName = param.getAttributeValue(AbstractConfig.NAME_ATTRIB);
-            String paramValue = param.getAttributeValue(AbstractConfig.VALUE_ATTRIB);
-            // replace variables in param value
-            params.put(paramName, AbstractConfig.replaceVars(paramValue, vars));
-        }
-
-        // handler class name
-        String handlerClassName = config.getAttributeValue(AbstractConfig.CLASS_ATTRIB,
-                DEFAULT_QUERY_HANDLER);
-
-        return new SearchConfig(fs, handlerClassName, params);
-    }
-
