JCR-3775: Avoid lock contention in ISO8601.parse()

Only call getTimeZone() on non-GMT time zones.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1590123 13f79535-47bb-0310-9956-ffa450edef68

+
+    private static final TimeZone GMT = TimeZone.getTimeZone("GMT");
+
-        String tzID;
+        TimeZone tz;
-            if (text.charAt(start) == '+' || text.charAt(start) == '-') {
-                // offset to UTC specified in the format +00:00/-00:00
-                tzID = "GMT" + text.substring(start);
-            } else if (text.substring(start).equals("Z")) {
-                tzID = "GMT";
+            String tzid = text.substring(start);
+            if (tzid.equals("Z")) {
+                tz = GMT;
-                // invalid time zone designator
-                return null;
+                // offset to UTC specified in the format +00:00/-00:00
+                tzid = "GMT" + tzid;
+                tz = TimeZone.getTimeZone(tzid);
+                // verify id of returned time zone (getTimeZone defaults to "GMT")
+                if (!tz.getID().equals(tzid)) {
+                    // invalid time zone
+                    return null;
+                }
-        TimeZone tz = TimeZone.getTimeZone(tzID);
-        // verify id of returned time zone (getTimeZone defaults to "GMT")
-        if (!tz.getID().equals(tzID)) {
-            // invalid time zone
-            return null;
-        }
-
