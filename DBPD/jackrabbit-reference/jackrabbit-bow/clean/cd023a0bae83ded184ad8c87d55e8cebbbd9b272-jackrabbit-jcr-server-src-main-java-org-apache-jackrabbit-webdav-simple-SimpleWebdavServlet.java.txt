JCR-4587: jackrabbit-webdav: include if-unmodified-since in precondition check

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1878891 13f79535-47bb-0310-9956-ffa450edef68

+
+
+        long ifUnmodifiedSince = UNDEFINED_TIME;
+        try {
+            ifUnmodifiedSince = request.getDateHeader("if-unmodified-since");
+        } catch (IllegalArgumentException ex) {
+            log.trace("illegal value for if-unmodified-since ignored: " + request.getHeader("if-unmodified-since"));
+        }
+
+        if (ifUnmodifiedSince > UNDEFINED_TIME && resource.exists()) {
+            if (resource.getModificationTime() / 1000 > ifUnmodifiedSince / 1000) {
+                return false;
+            }
+        }
+
