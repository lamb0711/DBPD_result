JCR-835: Replaced the factory interface with an abstract factory method to avoid the troublesome anonymous inner instances.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@526677 13f79535-47bb-0310-9956-ffa450edef68

-     * The factory, which creates the scorer instances for this weight.
-     */
-    private final ScorerFactory factory;
-
-    /**
-    public AbstractWeight(Searcher searcher, ScorerFactory factory) {
+    public AbstractWeight(Searcher searcher) {
-        this.factory = factory;
+     * Abstract factory method for crating a scorer instance for the
+     * specified reader.
+     *
+     * @param reader the index reader the created scorer instance should use
+     * @return the scorer instance
+     * @throws IOException if an error occurs while reading from the index
+     */
+    protected abstract Scorer createScorer(IndexReader reader)
+            throws IOException;
+
+    /**
-            return factory.createScorer(reader);
+            return createScorer(reader);
-    /**
-     * Simple factory for creating scorer instances.
-     */
-    public interface ScorerFactory {
-
-        /**
-         * Creates a Scorer instance for the specified reader.
-         *
-         * @param reader the index reader the created scorer instance should
-         *               use.
-         * @return the scorer instance.
-         * @throws IOException if an error occurs while reading from the index.
-         */
-        public Scorer createScorer(IndexReader reader) throws IOException;
-    }
