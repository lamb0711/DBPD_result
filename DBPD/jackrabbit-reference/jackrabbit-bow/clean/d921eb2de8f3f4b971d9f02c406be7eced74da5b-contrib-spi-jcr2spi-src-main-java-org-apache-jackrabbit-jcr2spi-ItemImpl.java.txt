work in progress

- mk 'checkStatus' protected (usage within version, vh)
- isSame is defined to throw RepositoryException in case of error.
  -> add 'checkStatus'
- itemstateListener: don't set state to 'null' when item is removed.
  TODO: check if correct

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@472816 13f79535-47bb-0310-9956-ffa450edef68

-    public boolean isSame(Item otherItem) {
+    public boolean isSame(Item otherItem) throws RepositoryException {
+        checkStatus();
+            // TODO: TOBEFIXED. make sure item is updated to status present on the server.
-                this.state = null;
-    void checkStatus() throws RepositoryException {
+    protected void checkStatus() throws RepositoryException {
