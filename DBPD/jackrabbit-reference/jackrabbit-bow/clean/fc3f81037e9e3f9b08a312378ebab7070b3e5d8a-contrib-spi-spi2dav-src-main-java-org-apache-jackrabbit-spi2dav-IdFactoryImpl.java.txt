work in progress

- replace usage of UUID by uniqueID unless refering to 'jcr:uuid'
- PropertyImpl.checkValidReference: don't rely on Node-value to be NodeImpl
- spi.Event: getUUID() not used -> remove


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@483477 13f79535-47bb-0310-9956-ffa450edef68

-    public NodeId createNodeId(String uuid, Path path) {
-        return new NodeIdImpl(uuid, path);
+    public NodeId createNodeId(String uniqueID, Path path) {
+        return new NodeIdImpl(uniqueID, path);
-    public NodeId createNodeId(String uuid) {
-        return new NodeIdImpl(uuid);
+    public NodeId createNodeId(String uniqueID) {
+        return new NodeIdImpl(uniqueID);
-        private final String uuid;
+        private final String uniqueID;
-        private ItemIdImpl(String uuid, Path path) {
-            if (uuid == null && path == null) {
-                throw new IllegalArgumentException("Only uuid or relative path might be null.");
+        private ItemIdImpl(String uniqueID, Path path) {
+            if (uniqueID == null && path == null) {
+                throw new IllegalArgumentException("Only uniqueID or relative path might be null.");
-            this.uuid = uuid;
+            this.uniqueID = uniqueID;
-            this.uuid = parentId.getUUID();
+            this.uniqueID = parentId.getUniqueID();
-        public String getUUID() {
-            return uuid;
+        public String getUniqueID() {
+            return uniqueID;
-            return (uuid == null) ? other.getUUID() == null : uuid.equals(other.getUUID())
+            return (uniqueID == null) ? other.getUniqueID() == null : uniqueID.equals(other.getUniqueID())
-            if (uuid != null) {
-                b.append(uuid);
+            if (uniqueID != null) {
+                b.append(uniqueID);
-        public NodeIdImpl(String uuid) {
-            super(uuid, null);
+        public NodeIdImpl(String uniqueID) {
+            super(uniqueID, null);
-        public NodeIdImpl(String uuid, Path path) {
-            super(uuid, path);
+        public NodeIdImpl(String uniqueID, Path path) {
+            super(uniqueID, path);
-            super(parentId.getUUID(), (parentId.getPath() != null) ? Path.create(parentId.getPath(), path, true) : path);
+            super(parentId.getUniqueID(), (parentId.getPath() != null) ? Path.create(parentId.getPath(), path, true) : path);
