work in progress

- add internal method in order to access valuefactory omitting the check for level 2 compliance.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@468339 13f79535-47bb-0310-9956-ffa450edef68

-        ntManager = new NodeTypeManagerImpl(workspace.getNodeTypeRegistry(), getNamespaceResolver(), getValueFactory());
+        ntManager = new NodeTypeManagerImpl(workspace.getNodeTypeRegistry(), getNamespaceResolver(), internalGetValueFactory());
+        return internalGetValueFactory();
+    }
+
+    /**
+     * Same as {@link #getValueFactory()} but omits the check, if this repository
+     * is really level 2 compliant. Therefore, this method may be used for
+     * internal functionality only, that require creation and conversion of
+     * JCR values.
+     *
+     * @return
+     * @throws RepositoryException
+     */
+    ValueFactory internalGetValueFactory() throws RepositoryException {
