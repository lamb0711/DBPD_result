- adding fallback when unregistering custom nodetype.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@190591 13f79535-47bb-0310-9956-ffa450edef68

-        nodeType = session.getNodeTypeManager().getNodeType(state.getNodeTypeName());
+        NodeTypeImpl nt;
+        try {
+            nt = session.getNodeTypeManager().getNodeType(state.getNodeTypeName());
+        } catch (NoSuchNodeTypeException e) {
+            log.warn("Fallback to nt:unstructured for unknown node type '" + state.getNodeTypeName() + "' of node " +safeGetJCRPath());
+            nt = session.getNodeTypeManager().getNodeType(NT_UNSTRUCTURED);
+        }
+        this.nodeType = nt;
