JCR-3562: fix NameParser to accept "{a" as a valid local (non-expanded) name

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1466938 13f79535-47bb-0310-9956-ffa450edef68

-     * <code>resolver</code> to convert prefixes into namespace URI's. If
+     * <code>resolver</code> to convert prefixes into namespace URIs. If
-     * <code>resolver</code> to convert prefixes into namespace URI's. If the
+     * <code>resolver</code> to convert prefixes into namespace URIs. If the
-     * <code>resolver</code> to convert prefixes into namespace URI's. If the
+     * <code>resolver</code> to convert prefixes into namespace URIs. If the
-     *                 URI's.
+     *                 URIs.
+                    if (state == STATE_URI && c == EOF) {
+                        // this handles the case where URI state was entered but the end of the segment was reached (JCR-3562)
+                        state = STATE_URI_END;
+                    }
-                            // eof identifier reached                            
+                            // eof identifier reached
-                
+
