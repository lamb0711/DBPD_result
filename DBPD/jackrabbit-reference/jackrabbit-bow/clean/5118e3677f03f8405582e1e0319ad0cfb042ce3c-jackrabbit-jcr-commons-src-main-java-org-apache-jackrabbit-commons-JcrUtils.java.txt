JCR-4609: Improve logging in case of exception

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1879583 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.PrintWriter;
+import java.io.StringWriter;
-                for (Throwable c = e; c != null; c = c.getCause()) {
-                    log.append(newline);
-                    log.append("        because of ");
-                    log.append(c.getClass().getSimpleName());
-                    log.append(": ");
-                    log.append(c.getMessage());
+                try (StringWriter writer = new StringWriter(); PrintWriter printWriter = new PrintWriter(writer)) {
+                    e.printStackTrace(printWriter);
+                    log.append(newline).append(writer.getBuffer());
+                } catch (IOException e1) {
+                    log.append("Could not determine root cause due to ").append(e.getMessage());
