- additional test for Node.refresh called on a moved node
- JCR-999  SPI: provide batch read functionality -> adjust test setup


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@552876 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.spi2jcr.RepositoryServiceImpl;
-import org.apache.jackrabbit.jcr2spi.config.RepositoryConfig;
-import org.apache.jackrabbit.jcr2spi.config.CacheBehaviour;
-import org.apache.jackrabbit.value.ValueFactoryImpl;
-import javax.jcr.ValueFactory;
-public class JCR2SPI2JCROverRMIRepositoryStub extends DefaultRepositoryStub {
+public class JCR2SPI2JCROverRMIRepositoryStub extends JCR2SPI2JCRRepositoryStub {
-            Repository jackrabbitRepo = super.getRepository();
-            RepositoryService spi2jcrRepoService = new RepositoryServiceImpl(jackrabbitRepo);
+            RepositoryService spi2jcrRepoService = super.getRepositoryService();
-                repo = RepositoryImpl.create(new RepositoryConfig() {
+                repo = RepositoryImpl.create(new AbstractRepositoryConfig() {
-
-                    public ValueFactory getValueFactory() {
-                        return ValueFactoryImpl.getInstance();
-                    }
-
-                    public String getDefaultWorkspaceName() {
-                        // not needed for SPI2JCR
-                        return null;
-                    }
-
-                    public CacheBehaviour getCacheBehaviour() {
-                        return CacheBehaviour.INVALIDATE;
-                    }
