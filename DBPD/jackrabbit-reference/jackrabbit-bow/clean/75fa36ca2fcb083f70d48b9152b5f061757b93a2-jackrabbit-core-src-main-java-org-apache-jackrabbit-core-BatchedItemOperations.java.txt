JCR-1104: JSR 283 support

work in (slow) progress...

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@599510 13f79535-47bb-0310-9956-ffa450edef68

-     * <code>destPath</code>.
+     * <code>destPath</code>. Returns the id of the node at its new position.
+     * @return the id of the node at its new position
-    public void copy(Path srcPath, Path destPath, int flag)
+    public NodeId copy(Path srcPath, Path destPath, int flag)
-        copy(srcPath, stateMgr, hierMgr, session.getAccessManager(), destPath, flag);
+        return copy(srcPath, stateMgr, hierMgr, session.getAccessManager(), destPath, flag);
+     * Returns the id of the node at its new position.
+     * @return the id of the node at its new position
-    public void copy(Path srcPath,
-                     ItemStateManager srcStateMgr,
-                     HierarchyManager srcHierMgr,
-                     AccessManager srcAccessMgr,
-                     Path destPath,
-                     int flag)
+    public NodeId copy(Path srcPath,
+                       ItemStateManager srcStateMgr,
+                       HierarchyManager srcHierMgr,
+                       AccessManager srcAccessMgr,
+                       Path destPath,
+                       int flag)
+        return newState.getNodeId();
-     * <code>destPath</code>.
+     * <code>destPath</code>. Returns the id of the moved node.
+     * @return the id of the moved node
-    public void move(Path srcPath, Path destPath)
+    public NodeId move(Path srcPath, Path destPath)
+        return target.getNodeId();
