JCR-2087 Upgrade to Java 5 as the base platform

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@785539 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.api.security.principal.PrincipalManager;
-import org.apache.jackrabbit.api.security.user.Impersonation;
-import org.apache.jackrabbit.api.security.user.User;
-                if (principalProvider==null) {
+                if (principalProvider == null) {
-        // check for availablity of Credentials;
+        // check for availability of Credentials;
-        if(auth == null) {
+        if (auth == null) {
-        } else if (auth.authenticate(credentials)){
+        } else if (auth.authenticate(credentials)) {
-    abstract protected boolean impersonate(Principal principal, Credentials credentials)
+    protected abstract boolean impersonate(Principal principal, Credentials credentials)
-    abstract protected Authentication getAuthentication(Principal principal, Credentials creds)
+    protected abstract Authentication getAuthentication(Principal principal, Credentials creds)
-            Set preAuthCreds = subject.getPublicCredentials(SimpleCredentials.class);
+            Set<SimpleCredentials> preAuthCreds = subject.getPublicCredentials(SimpleCredentials.class);
-                credentials = (Credentials) preAuthCreds.iterator().next();
+                credentials = preAuthCreds.iterator().next();
