JCR-3759: Add noInternal flag to JackrabbitEventFilter

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1582707 13f79535-47bb-0310-9956-ffa450edef68

+     * If <code>noInternal</code> is true this filter will block events from
+     * this cluster nodes.
+     */
+    private final boolean noInternal;
+
+    /**
+     * @param noExternal if <code>true</code> no events are allowed that were
+     *                   created from changes on an external cluster node.
+     * @param noInternal if <code>true</code> no events are allowed that were
+     *                   created from changes on the local cluster node.
-                boolean noExternal) {
+                boolean noExternal,
+                boolean noInternal) {
+        this.noInternal = noInternal;
+        if (noInternal && !eventState.isExternal()) {
+            return true;
+        }
+
-            super(null, 0, Collections.<Path>emptyList(), true, null, null, true, true);
+            super(null, 0, Collections.<Path>emptyList(), true, null, null, true, true, true);
