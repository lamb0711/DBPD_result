JCR-258 - remove JDOM dependency from jcr-server contribution
JCR-295 - usage of Cache-Control header 
JCR-297 - log output while parsing xml
minor consistency issues and improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@368683 13f79535-47bb-0310-9956-ffa450edef68

-import org.jdom.Namespace;
-import org.jdom.Element;
-import org.jdom.Content;
-import org.jdom.Text;
+import org.apache.jackrabbit.webdav.xml.Namespace;
+import org.apache.jackrabbit.webdav.xml.DomUtil;
+import org.w3c.dom.Element;
+import org.w3c.dom.Node;
+
+import java.util.List;
-	int size = propertyElement.getContentSize();
-	switch (size) {
-	    case 0:
+
+        if (!DomUtil.hasContent(propertyElement)) {
-		break;
-	    case 1:
-		Content c = propertyElement.getContent(0);
-		if (c instanceof Text) {
-		    value = ((Text)c).getText();
+            List c = DomUtil.getContent(propertyElement);
+            if (c.size() == 1) {
+                Node n = (Node)c.get(0);
+                if (n instanceof Element) {
+                    value = n;
+                } else {
+                    value = n.getNodeValue();
+                }
+            } else /* size > 1 */ {
-		break;
-	    default:
-		value = propertyElement.getContent();
