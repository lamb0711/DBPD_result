- Minor fix / enhancement for query using descendant-or-self of root node
- Implement equals() method on QueryNode classes
- Implement efficient QueryResult for query that traverses the whole workspace

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@219897 13f79535-47bb-0310-9956-ffa450edef68

+     * Represents a query that selects all nodes. E.g. in XPath: //*
+     */
+    private static final QueryRootNode ALL_NODES = new QueryRootNode();
+
+    static {
+        PathQueryNode pathNode = new PathQueryNode(ALL_NODES);
+        pathNode.addPathStep(new LocationStepQueryNode(pathNode, null, true));
+        pathNode.setAbsolute(true);
+        ALL_NODES.setLocationNode(pathNode);
+    }
+
+    /**
+
+        // check for special query
+        if (ALL_NODES.equals(root)) {
+            return new WorkspaceTraversalResult(session,
+                    new QName[]{Constants.JCR_PATH},
+                    session.getNamespaceResolver());
+        }
+
