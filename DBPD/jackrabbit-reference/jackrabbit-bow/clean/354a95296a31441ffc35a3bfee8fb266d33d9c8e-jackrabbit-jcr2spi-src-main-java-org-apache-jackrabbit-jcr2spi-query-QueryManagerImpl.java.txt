JCR-1564: JSR 283 namespace handling
    - Reverted revision 653751 that broke API tests.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@653763 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.jcr2spi.name.LocalNamespaceMappings;
+     * The local namespace mappings for this query manager.
+     */
+    private final LocalNamespaceMappings nsResolver;
+
+    /**
+                            LocalNamespaceMappings nsResolver,
+        this.nsResolver = nsResolver;
-        QueryImpl query = new QueryImpl(session, resolver, itemMgr, hierarchyManager, wspManager, statement, language);
+        QueryImpl query = new QueryImpl(session, nsResolver, resolver, itemMgr, hierarchyManager, wspManager, statement, language);
-        QueryImpl query = new QueryImpl(session, resolver, itemMgr, hierarchyManager, wspManager, node);
+        QueryImpl query = new QueryImpl(session, nsResolver, resolver, itemMgr, hierarchyManager, wspManager, node);
