- Optimize query execution. document frequency for UUID and PARENT field can be served from cache.
- Reuse query parsers. Results in much lower memory consumption

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@220022 13f79535-47bb-0310-9956-ffa450edef68

+     * Provides an efficient lookup of document frequency for terms with field
+     * {@link FieldNames#UUID} and {@link FieldNames#PARENT}. All other calles
+     * are handled by the base class.
+     *
+     * @param t the term to look up the document frequency.
+     * @return the document frequency of term <code>t</code>.
+     * @throws IOException if an error occurs while reading from the index.
+     */
+    public int docFreq(Term t) throws IOException {
+        synchronized (this) {
+            cacheInit();
+            if (t.field() == FieldNames.UUID) {
+                return idCache.containsKey(t.text()) ? 1 : 0;
+            } else if (t.field() == FieldNames.PARENT) {
+                List children = (List) parentCache.get(t.text());
+                return children == null ? 0 : children.size();
+            }
+        }
+        return super.docFreq(t);
+    }
+
+    /**
