work in progress

- replace ItemState.getParentId by ItemState.getParentState

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@429288 13f79535-47bb-0310-9956-ffa450edef68

-        checkWriteProperty(getNodeState(propState.getParentId()), propState.getName(), propState.getDefinition(), options);
+        checkWriteProperty(propState.getParentState(), propState.getName(), propState.getDefinition(), options);
-        NodeId parentId = targetState.getParentId();
-        if (parentId == null) {
+        NodeState parentState = targetState.getParentState();
+        if (parentState == null) {
-        checkIsWritable(getNodeState(parentId), options);
+        checkIsWritable(parentState, options);
-        NodeState nodeState = (itemState.isNode()) ? (NodeState)itemState : getNodeState(itemState.getParentId());
+        NodeState nodeState = (itemState.isNode()) ? (NodeState)itemState : itemState.getParentState();
-        NodeId nodeId = (itemState.isNode()) ? ((NodeState)itemState).getNodeId() : itemState.getParentId();
-        mgrProvider.getLockManager().checkLock(nodeId);
+        NodeState nodeState = (itemState.isNode())
+            ? ((NodeState)itemState)
+            : itemState.getParentState();
+        mgrProvider.getLockManager().checkLock(nodeState.getNodeId());
