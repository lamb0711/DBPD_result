JCR-2444: Exception executing SQL2/JQOM with non-admin session

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@892263 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.ItemNotFoundException;
+import javax.jcr.PropertyType;
-import javax.jcr.PropertyType;
-import org.apache.jackrabbit.core.query.lucene.ScoreNode;
+import org.apache.jackrabbit.core.query.lucene.ScoreNode;
-        String name = session.getNodeById(sn.getNodeId()).getName();
-        return new Value[]{session.getValueFactory().createValue(name, PropertyType.NAME)};
+        try {
+            String name = session.getNodeById(sn.getNodeId()).getName();
+            return new Value[]{session.getValueFactory().createValue(name, PropertyType.NAME)};
+        } catch (ItemNotFoundException e) {
+            // access denied to score node
+            return new Value[0];
+        }
