JCR-2313: Improvements to user management (2)
- fix regression, PrincipalProviderRegistry must not throw UnsupportedRepositoryOperationException

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@828948 13f79535-47bb-0310-9956-ffa450edef68

-    private final Map<String, PrincipalProviderRegistry> ppRegistries = new HashMap();
+    private final Map<String, PrincipalProviderRegistry> ppRegistries = new HashMap<String, PrincipalProviderRegistry>();
-    private final List<String> systemUsersInitialized = new ArrayList();
+    private final List<String> systemUsersInitialized = new ArrayList<String>();
-            throw new UnsupportedOperationException();
+            return getPrincipalProviderRegistry().registerProvider(configuration);
-            List<PrincipalProvider> l = new ArrayList();
+            List<PrincipalProvider> l = new ArrayList<PrincipalProvider>();
