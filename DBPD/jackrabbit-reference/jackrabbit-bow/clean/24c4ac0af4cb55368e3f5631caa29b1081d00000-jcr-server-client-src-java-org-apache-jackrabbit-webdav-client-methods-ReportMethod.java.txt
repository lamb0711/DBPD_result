- DavMethod: common interface for webdav extension of HttpClient methods.
- minor improvements

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@397929 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.webdav.DavServletResponse;
+    private final boolean isDeep;
+
+        isDeep = reportInfo.getDepth() > DavConstants.DEPTH_0;
+
+    //---------------------------------------------------------< HttpMethod >---
+
+    //------------------------------------------------------< DavMethodBase >---
+    /**
+     *
+     * @param statusCode
+     * @return true if status code is {@link DavServletResponse#SC_OK 200 (OK)}
+     * or {@link DavServletResponse#SC_MULTI_STATUS 207 (Multi Status)}. If the
+     * report request included a depth other than {@link DavConstants#DEPTH_0 0}
+     * a multi status response is required.
+     */
+    protected boolean isSuccess(int statusCode) {
+        if (isDeep) {
+            return statusCode == DavServletResponse.SC_MULTI_STATUS;
+        } else {
+            return statusCode == DavServletResponse.SC_OK || statusCode == DavServletResponse.SC_MULTI_STATUS;
+        }
+    }
