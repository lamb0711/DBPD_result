JCR-2648: PropertyImpl.getNode() and NamePropertyTest use different exception than documented in the JCR API JavaDoc


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@952269 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.ItemNotFoundException;
+import javax.jcr.PathNotFoundException;
-        int type = value.getType();
-        switch (type) {
+        switch (value.getType()) {
-                return session.getNodeByUUID(value.getString());
+                return session.getNodeByIdentifier(value.getString());
-                boolean absolute = p.isAbsolute();
-                return (absolute) ? session.getNode(path) : getParent().getNode(path);
+                try {
+                    return (p.isAbsolute()) ? session.getNode(path) : getParent().getNode(path);
+                } catch (PathNotFoundException e) {
+                    throw new ItemNotFoundException(path);
+                }
-                    return session.getNodeByUUID(refValue.getString());
+                    return session.getNodeByIdentifier(refValue.getString());
+                } catch (ItemNotFoundException e) {
+                    throw e;
-                    absolute = p.isAbsolute();
-                    return (absolute) ? session.getNode(pathValue.getString()) : getParent().getNode(pathValue.getString());
+                    try {
+                        return (p.isAbsolute()) ? session.getNode(pathValue.getString()) : getParent().getNode(pathValue.getString());
+                    } catch (PathNotFoundException e1) {
+                        throw new ItemNotFoundException(pathValue.getString());
+                    }
-        return (absolute) ? session.getProperty(path) : getParent().getProperty(path);
+        try {
+            return (absolute) ? session.getProperty(path) : getParent().getProperty(path);
+        } catch (PathNotFoundException e) {
+            throw new ItemNotFoundException(path);
+        }
