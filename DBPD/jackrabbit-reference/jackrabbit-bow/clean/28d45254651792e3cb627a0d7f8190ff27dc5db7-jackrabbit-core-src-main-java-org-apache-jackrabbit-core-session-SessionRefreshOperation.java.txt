JCR-890: concurrent read-only access to a session

Handle Session.logout() in a way that prevents concurrent session access.

Also move the SessionContext argument from perform() to a member variable of SessionOperation.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@957626 13f79535-47bb-0310-9956-ffa450edef68

-    public SessionRefreshOperation(boolean keepChanges, boolean clusterSync) {
-        super("refresh");
+    public SessionRefreshOperation(
+            SessionContext context, boolean keepChanges, boolean clusterSync) {
+        super("refresh", context);
-    public void perform(SessionContext context) throws RepositoryException {
+    public void perform() throws RepositoryException {
