JCR-3040: JMX Stats for the Session

Make repository statistics available to a webapp

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1181745 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Iterator;
+import java.util.Map.Entry;
+import java.util.TreeMap;
-public class RepositoryStatistics {
+public class RepositoryStatistics
+        implements Iterable<Map.Entry<String, TimeSeries>> {
+    public synchronized Iterator<Entry<String, TimeSeries>> iterator() {
+        Map<String, TimeSeries> map = new TreeMap<String, TimeSeries>();
+        map.putAll(recorders);
+        return map.entrySet().iterator();
+    }
+
