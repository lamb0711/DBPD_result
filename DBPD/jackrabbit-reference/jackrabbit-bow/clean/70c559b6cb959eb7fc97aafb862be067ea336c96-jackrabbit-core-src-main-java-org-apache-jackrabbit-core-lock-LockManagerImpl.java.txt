JCR-1590: JSR 283: Locking

Streamline LockInfo code to avoid extra type casts.

Move the isLockHolder access check from NodeInfo.getLockToken to LockImpl.getLockToken where it fits better.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@803484 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.Node;
-            getSessionLockManager(session).lockTokenRemoved(info.getLockToken(session));
+            getSessionLockManager(session).lockTokenRemoved(info.getLockToken());
-                Node lockHolder = (Node) session.getItemManager().getItem(info.getId());
+                NodeImpl lockHolder = (NodeImpl)
+                    session.getItemManager().getItem(info.getId());
-                AbstractLockInfo info = infos[i];
-                Node holder = (Node) session.getItemManager().getItem(info.getId());
-                locks[i] = new LockImpl(info, holder);
+                NodeImpl holder = (NodeImpl)
+                    session.getItemManager().getItem(infos[i].getId());
+                locks[i] = new LockImpl(infos[i], holder);
