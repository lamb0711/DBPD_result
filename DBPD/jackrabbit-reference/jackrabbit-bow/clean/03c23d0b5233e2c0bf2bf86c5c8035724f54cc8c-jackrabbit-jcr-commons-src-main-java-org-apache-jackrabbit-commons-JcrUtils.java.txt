JCR-3161 - Add JcrUtils.getPropertyTypeNames

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1208406 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.HashSet;
+import java.util.Set;
+    private static final Set<String> PROPERTY_TYPES_NAMES = new HashSet<String>();
-
-            PROPERTY_TYPES.put(PropertyType.nameFromValue(i).toLowerCase(), i);
+            String typeName = PropertyType.nameFromValue(i);
+            PROPERTY_TYPES_NAMES.add(typeName);
+            PROPERTY_TYPES.put(typeName.toLowerCase(), i);
+     * Return the property type names including or excluding 'undefined' depending
+     * on the specified flag.
+     *
+     * @param includeUndefined If true the returned array will contain the name
+     * of the 'undefined' property type.
+     * @return array of property type names.
+     */
+    public static String[] getPropertyTypeNames(boolean includeUndefined) {
+        if (includeUndefined) {
+            return PROPERTY_TYPES_NAMES.toArray(new String[PROPERTY_TYPES_NAMES.size()]);
+        } else {
+            String[] typeNames = new String[PROPERTY_TYPES_NAMES.size()-1];
+            int i = 0;
+            for (String name : PROPERTY_TYPES_NAMES) {
+                if (!PropertyType.TYPENAME_UNDEFINED.equals(name)) {
+                    typeNames[i++] = name;
+                }
+            }
+            return typeNames;
+        }
+    }
+
+    /**
