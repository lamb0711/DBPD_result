JCR-4066: spi2dav: use HttpClient4 based WebDAV API in remoting code

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1774468 13f79535-47bb-0310-9956-ffa450edef68

+import java.net.URI;
+
+import org.apache.http.HttpResponse;
-import org.apache.jackrabbit.webdav.client.methods.DavMethodBase;
-import org.slf4j.Logger;
-import org.slf4j.LoggerFactory;
+import org.apache.jackrabbit.webdav.client.methods.BaseDavRequest;
-/**
- * <code>GetMethod</code>...
- */
-class GetMethod extends DavMethodBase {
+public class HttpPost extends BaseDavRequest {
-    private static Logger log = LoggerFactory.getLogger(GetMethod.class);
-
-    public GetMethod(String uri) {
+    public HttpPost(URI uri) {
-    @Override
-    public String getName() {
-        return DavMethods.METHOD_GET;
+    public HttpPost(String uri) {
+        super(URI.create(uri));
-    protected boolean isSuccess(int statusCode) {
-        return statusCode == DavServletResponse.SC_OK;
+    public String getMethod() {
+        return DavMethods.METHOD_POST;
+    }
+
+    @Override
+    public boolean succeeded(HttpResponse response) {
+        int statusCode = response.getStatusLine().getStatusCode();
+        return statusCode == DavServletResponse.SC_OK || statusCode == DavServletResponse.SC_NO_CONTENT
+                || statusCode == DavServletResponse.SC_CREATED;
