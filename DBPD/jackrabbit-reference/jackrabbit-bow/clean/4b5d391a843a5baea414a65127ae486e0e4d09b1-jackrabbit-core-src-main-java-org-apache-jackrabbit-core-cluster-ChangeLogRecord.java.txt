JCR-1904: Event user data

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@724300 13f79535-47bb-0310-9956-ffa450edef68

+     * Identifier: USER DATA.
+     */
+    static final char USER_DATA_IDENTIFIER = 'U';
+
+    /**
+     * The user data.
+     */
+    private String userData;
+
+    /**
+     * @param userData the user data associated with these changes.
-                           Record record, String workspace, long timestamp) {
+                           Record record, String workspace,
+                           long timestamp, String userData) {
+        this.userData = userData;
+            case USER_DATA_IDENTIFIER:
+                readUserDataRecord();
+                break;
+     * Reads the user data record.
+     *
+     * @throws JournalException if an error occurs.
+     */
+    private void readUserDataRecord() throws JournalException {
+        userData = record.readString();
+    }
+
+    /**
+        writeUserDataRecord();
+     * Writes the user data record.
+     *
+     * @throws JournalException if an error occurs.
+     */
+    private void writeUserDataRecord() throws JournalException {
+        if (userData != null) {
+            record.writeChar(USER_DATA_IDENTIFIER);
+            record.writeString(userData);
+        }
+    }
+
+    /**
+
+    /**
+     * Returns the user data.
+     *
+     * @return the user data.
+     */
+    public String getUserData() {
+        return userData;
+    }
