work in progress

- replace usage of UUID by uniqueID unless refering to 'jcr:uuid'
- PropertyImpl.checkValidReference: don't rely on Node-value to be NodeImpl
- spi.Event: getUUID() not used -> remove


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@483477 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.spi.NodeId;
-        if (child.getUUID() == null) {
+        if (child.getUniqueID() == null) {
-            cne = new UUIDReference(child, isf);
+            cne = new UniqueIDReference(child, isf);
-     *  <code>nodeName</code> and an optional <code>uuid</code>.
+     *  <code>name</code> and an optional <code>uniqueID</code>.
-     * @param childName
-     * @param childUUID
+     * @param name
+     * @param uniqueID
-    public static ChildNodeEntry create(NodeState parent, QName childName,
-                                        String childUUID, ItemStateFactory isf,
+    public static ChildNodeEntry create(NodeState parent, QName name,
+                                        String uniqueID, ItemStateFactory isf,
-        if (childUUID == null) {
-            return new PathElementReference(parent, childName, isf, idFactory);
+        if (uniqueID == null) {
+            return new PathElementReference(parent, name, isf, idFactory);
-            return new UUIDReference(parent, idFactory.createNodeId(childUUID), isf, childName);
+            NodeId nId = idFactory.createNodeId(uniqueID);
+            return new UniqueIDReference(parent, nId, isf, name);
