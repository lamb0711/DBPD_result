JCR-904 - non mantatory revision property in the Journal configuration

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@701106 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.journal.AbstractJournal;
-import java.io.BufferedReader;
-import java.io.FileReader;
-import java.io.FileWriter;
-    /** Cluster node id file. */
-    private static final String CLUSTER_NODE_ID_FILE = "cluster_node.id";
-
-     * Used for padding short string representations.
+     * Cluster node id file.
-    private static final String SHORT_PADDING = "0000";
+    private static final String CLUSTER_NODE_ID_FILE = "cluster_node.id";
+            setRepositoryHome(journal, clusterContext.getRepositoryHome());
+     * Set a journal's repository home, if possible, i.e. if it is an
+     * <code>AbstractJournal</code>
+     *
+     * @param journal journal instance
+     * @param repHome repository home
+     */
+    private void setRepositoryHome(Journal journal, File repHome) {
+        if (journal instanceof AbstractJournal) {
+            AbstractJournal aj = (AbstractJournal) journal;
+            aj.setRepositoryHome(repHome);
+        }
+    }
+
+    /**
