JCR-2506: Stop text extraction when the maxFieldLength limit is reached

Add a maxExtractLength configuration option, and default it to ten times maxFieldLength. This prevents excessive memory use when indexing huge documents.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@915356 13f79535-47bb-0310-9956-ffa450edef68

+     * The maximum number of characters to extract from binaries.
+     */
+    private int maxExtractLength = Integer.MAX_VALUE;
+
+    /**
+     * Returns the maximum number of characters to extract from binaries.
+     *
+     * @return maximum extraction length
+     */
+    public int getMaxExtractLength() {
+        return maxExtractLength;
+    }
+
+    /**
+     * Sets the maximum number of characters to extract from binaries.
+     *
+     * @param length maximum extraction length
+     */
+    public void setMaxExtractLength(int length) {
+        this.maxExtractLength = length;
+    }
+
+    /**
-                parser, value, metadata, executor, supportHighlighting);
+                parser, value, metadata, executor,
+                supportHighlighting, getMaxExtractLength());
