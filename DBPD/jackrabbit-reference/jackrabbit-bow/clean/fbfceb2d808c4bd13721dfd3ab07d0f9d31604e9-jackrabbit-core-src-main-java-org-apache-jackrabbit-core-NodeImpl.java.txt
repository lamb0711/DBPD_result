JCR-1104: JSR 283 support

- Node.setPrimaryType should throws ConstraintViolation if nodetype is abstract. check was missing
- Node.setPrimaryType should throws ConstraintViolation instead of RepositoryException if the node type is mixin

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@779225 13f79535-47bb-0310-9956-ffa450edef68

-        if (ntMgr.getNodeType(ntName).isMixin()) {
-            throw new RepositoryException(nodeTypeName + ": not a primary node type");
+        NodeType nt = ntMgr.getNodeType(ntName);
+        if (nt.isMixin()) {
+            throw new ConstraintViolationException(nodeTypeName + ": not a primary node type.");
+        } else if (nt.isAbstract()) {
+            throw new ConstraintViolationException(nodeTypeName + ": is an abstract node type.");
