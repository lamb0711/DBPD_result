JCR-890: concurrent read-only access to a session

Remove the SessionImpl reference to NodeTypeInstanceHandler

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@985833 13f79535-47bb-0310-9956-ffa450edef68

-        InternalValue[] genValues = session.getNodeTypeInstanceHandler()
-                .computeSystemGeneratedPropertyValues(parent, def);
-        if (genValues != null) {
-            prop.setValues(genValues);
-        } else if (def.getDefaultValues() != null) {
-            prop.setValues(InternalValue.create(def.getDefaultValues()));
-        }
+        new NodeTypeInstanceHandler(session.getUserID()).setDefaultValues(
+                prop, parent, def);
