JCR-2715: Improved join query performance

Extend LuceneQueryFactory to handle more QOM constraints.
Simplify handling of bind variables.
Improve OperandEvaluator, including its javadocs.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1026361 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Set;
-import org.apache.jackrabbit.spi.Name;
-        Name[] names = query.getBindVariableNames();
-        String[] strNames = new String[names.length];
-        for (int i = 0; i < names.length; i++) {
-            strNames[i] = sessionContext.getJCRName(names[i]);
-        }
-        return strNames;
+        Set<String> names = query.getBindVariables().keySet();
+        return names.toArray(new String[names.size()]);
-            query.bindValue(sessionContext.getQName(varName), value);
+            query.bindValue(varName, value);
