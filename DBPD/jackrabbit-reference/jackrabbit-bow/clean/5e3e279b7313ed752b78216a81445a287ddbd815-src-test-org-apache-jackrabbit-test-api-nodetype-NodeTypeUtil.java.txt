Add test cases, contributed by Vinzenz Wyser.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@164563 13f79535-47bb-0310-9956-ffa450edef68

+    public static final int ANY_PROPERTY_TYPE = -1;
+
-     * @param propertyType the type of the returned property. <cod>PropertyType.UNDEFINED</code>
-     *                     returns a property of any type
+     * @param propertyType the type of the returned property. -1 indicates to
+     *                     return a property of any type but not UNDEFIEND
-                // PropertyType.UNDEFINED is in use to get a property of any type
-                if (propertyType != PropertyType.UNDEFINED &&
+                if (propertyType != ANY_PROPERTY_TYPE &&
+                if (propertyType == ANY_PROPERTY_TYPE &&
+                        propDef.getRequiredType() == PropertyType.UNDEFINED) {
+                    continue;
+                }
+
