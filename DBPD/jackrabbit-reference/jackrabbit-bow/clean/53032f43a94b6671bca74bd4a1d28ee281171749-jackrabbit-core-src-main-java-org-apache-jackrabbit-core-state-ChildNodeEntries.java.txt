JCR-2132: o.a.j.core.state.ChildNodeEntries does not override equals(Object) and hashCode() methods


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@782694 13f79535-47bb-0310-9956-ffa450edef68

-    //-------------------------------------------< unmodifiable List view >
+    //-----------------------------------------------< unmodifiable List view >
-    //------------------------------------------------< Cloneable support >
+    //-------------------------------------------< java.lang.Object overrides >
+    public boolean equals(Object obj) {
+        if (this == obj) {
+            return true;
+        }
+        if (obj instanceof ChildNodeEntries) {
+            ChildNodeEntries other = (ChildNodeEntries) obj;
+            return (nameMap.equals(other.nameMap)
+                    && entries.equals(other.entries)
+                    && shared == other.shared);
+        }
+        return false;
+    }
+
+    /**
+     * Returns zero to satisfy the Object equals/hashCode contract.
+     * This class is mutable and not meant to be used as a hash key.
+     *
+     * @return always zero
+     * @see Object#hashCode()
+     */
+    public int hashCode() {
+        return 0;
+    }
+
+    //----------------------------------------------------< Cloneable support >
-    //----------------------------------------------------< inner classes >
+    //--------------------------------------------------------< inner classes >
