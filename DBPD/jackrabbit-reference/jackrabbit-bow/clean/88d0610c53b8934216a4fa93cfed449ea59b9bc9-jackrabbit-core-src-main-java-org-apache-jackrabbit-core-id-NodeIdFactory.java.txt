JCR-2857 Support sequential (non-random) node ids - fix test cases and close streams

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1057512 13f79535-47bb-0310-9956-ffa450edef68

-            p.load(new FileInputStream(n));
+            FileInputStream in = new FileInputStream(n);
+            try {
+                p.load(in);
+            } finally {
+                in.close();
+            }
-                msb = Long.parseLong(m, 16);
+                if (m.length() == 16) {
+                    msb = (Long.parseLong(m.substring(0, 8), 16) << 32) |
+                        Long.parseLong(m.substring(8), 16);
+                } else {
+                    msb = Long.parseLong(m, 16);
+                }
-            p.store(new FileOutputStream(temp), null);
+            FileOutputStream out = new FileOutputStream(temp);
+            try {
+                p.store(out, null);
+            } finally {
+                out.close();
+            }
