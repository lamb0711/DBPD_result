JCR-3005: Make it possible to get multiple nodes in one call via davex

Collect all results to a Map before serializing the JSON result inside the JsonWriter class

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1179541 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Map;
+    void write(Map<String, Node> nodes, int maxLevels)
+            throws RepositoryException, IOException {
+        writer.write('{');
+        writeKey(writer, "nodes");
+        writer.write('{');
+        boolean first = true;
+        for (Map.Entry<String, Node> entry : nodes.entrySet()) {
+            if (first) {
+                first = false;
+            } else {
+                writer.write(',');
+            }
+            writeKey(writer, entry.getKey());
+            write(entry.getValue(), maxLevels);
+        }
+        writer.write('}');
+        writer.write('}');
+    }
+
