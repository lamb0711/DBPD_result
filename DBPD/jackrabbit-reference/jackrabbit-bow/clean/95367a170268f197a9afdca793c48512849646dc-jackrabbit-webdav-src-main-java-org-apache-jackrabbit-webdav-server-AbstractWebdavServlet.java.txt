JCR-2638: Litmus locks test failures

Fix a Litmus test warning as suggested by Javier Godoy.

After that fix the DavServletResponse.sendLockResponse(ActiveLock) method was no longer called from anywhere, so it's probably best to simply remove it entirely.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@997947 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.webdav.header.CodedUrlHeader;
+import org.apache.jackrabbit.webdav.lock.LockDiscovery;
+import org.apache.jackrabbit.webdav.property.DavPropertySet;
+            int status = HttpServletResponse.SC_OK;
+            if (!resource.exists()) {
+                // lock-empty requires status code 201 (Created)
+                status = HttpServletResponse.SC_CREATED;
+            }
+
-            ActiveLock lock = resource.lock(lockInfo);
-            response.sendLockResponse(lock);
+            ActiveLock lock = resource.lock(lockInfo); 
+
+            CodedUrlHeader header = new CodedUrlHeader(
+                    DavConstants.HEADER_LOCK_TOKEN, lock.getToken()); 
+            response.setHeader(header.getHeaderName(), header.getHeaderValue()); 
+
+            DavPropertySet propSet = new DavPropertySet(); 
+            propSet.add(new LockDiscovery(lock)); 
+            response.sendXmlResponse(propSet, status); 
