JCR-977: jcr:deref in xpath predicates

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@791737 13f79535-47bb-0310-9956-ffa450edef68

-        buffer.append(" Prop=");
-        Path relPath = node.getRelativePath();
+        buffer.append(" Prop=[");
+        PathQueryNode relPath = node.getRelativePath();
-            appendPath(relPath, buffer);
+            visit(relPath, buffer);
-        buffer.append(" Type=").append(QueryConstants.TYPE_NAMES.getName(node.getValueType()));
+        buffer.append("] Type=").append(QueryConstants.TYPE_NAMES.getName(node.getValueType()));
