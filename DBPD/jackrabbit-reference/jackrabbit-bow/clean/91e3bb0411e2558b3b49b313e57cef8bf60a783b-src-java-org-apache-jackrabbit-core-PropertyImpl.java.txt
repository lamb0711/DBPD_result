- Node.setProperty() results to invalid state, if node is checked in and property does not exist yet.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@56665 13f79535-47bb-0310-9956-ffa450edef68

-        InternalValue val = state.getValues()[0];
-        return val.toJCRValue(session.getNamespaceResolver());
+        try {
+            InternalValue val = state.getValues()[0];
+            return val.toJCRValue(session.getNamespaceResolver());
+        } catch (RepositoryException e) {
+            throw e;
+        } catch (Exception e) {
+            throw new RepositoryException("Unable to get value of " + safeGetJCRPath() + ":" + e);
+        }
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            String msg = "Cannot alter the value of a property of a checked-in node " + safeGetJCRPath();
+            log.error(msg);
+            throw new VersionException(msg);
