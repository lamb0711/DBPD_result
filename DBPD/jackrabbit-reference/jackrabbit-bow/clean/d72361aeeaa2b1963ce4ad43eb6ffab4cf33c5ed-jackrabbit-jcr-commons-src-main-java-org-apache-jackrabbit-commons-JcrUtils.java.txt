JCR-2555: Improved reusability of the JCA package

Fix handling of the default repository case

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@924385 13f79535-47bb-0310-9956-ffa450edef68

-        String uri = parameters.get(JcrUtils.REPOSITORY_URI);
-        if (uri != null) {
+        if (parameters != null
+                && parameters.containsKey(JcrUtils.REPOSITORY_URI)) {
+            String uri = parameters.get(JcrUtils.REPOSITORY_URI);
-                throw new RepositoryException(e);
+                // Ignore invalid URIs
-                throw new RepositoryException(e);
+                throw new RepositoryException("UTF-8 is not supported!", e);
