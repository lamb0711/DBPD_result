JCR-3206 JSR-283 support for RMI / Implementation of the missing versioning parts

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1377571 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.UnsupportedRepositoryOperationException;
+import org.apache.jackrabbit.rmi.client.RemoteRepositoryException;
+import org.apache.jackrabbit.rmi.client.RemoteRuntimeException;
-        /** The event type */
-        private final int type;
-
-        /** The path of the repository item underlying the event */
-        private final String path;
-
-        /** The user id of the session originating the event */
-        private final String userID;
-
+    	/** The adapted remote event. */
+    	private final RemoteEventCollection.RemoteEvent remote;
+    	
-            type = remoteEvent.getType();
-            path = remoteEvent.getPath();
-            userID = remoteEvent.getUserID();
+            remote = remoteEvent;
-            return type;
+            try {
+                return remote.getType();
+            } catch (RemoteException ex) {
+                throw new RemoteRuntimeException(ex);
+            }
-        public String getPath() {
-            return path;
+        public String getPath() throws RepositoryException {
+            try {
+                return remote.getPath();
+            } catch (RemoteException ex) {
+                throw new RemoteRepositoryException(ex);
+            }
-            return userID;
+            try {
+                return remote.getUserID();
+            } catch (RemoteException ex) {
+                throw new RemoteRuntimeException(ex);
+            }
+        /** {@inheritDoc} */
-            throw new UnsupportedRepositoryOperationException("TODO: JCR-3206");
+            try {
+                return remote.getDate();
+            } catch (RemoteException ex) {
+                throw new RemoteRepositoryException(ex);
+            }
+        /** {@inheritDoc} */
-            throw new UnsupportedRepositoryOperationException("TODO: JCR-3206");
+            try {
+                return remote.getIdentifier();
+            } catch (RemoteException ex) {
+                throw new RemoteRepositoryException(ex);
+            }
+        /** {@inheritDoc} */
-            throw new UnsupportedRepositoryOperationException("TODO: JCR-3206");
+            try {
+                return remote.getInfo();
+            } catch (RemoteException ex) {
+                throw new RemoteRepositoryException(ex);
+            }
+        /** {@inheritDoc} */
-            throw new UnsupportedRepositoryOperationException("TODO: JCR-3206");
+            try {
+                return remote.getUserData();
+            } catch (RemoteException ex) {
+                throw new RemoteRepositoryException(ex);
+            }
