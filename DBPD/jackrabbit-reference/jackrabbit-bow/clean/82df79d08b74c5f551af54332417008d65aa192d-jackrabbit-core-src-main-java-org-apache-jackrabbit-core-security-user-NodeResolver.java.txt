- resolving TODOs (retrieve group by ID)
- improved NodeResolver (replacing SessionImpl by Session/NamePathResolver pair)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@641898 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.SessionImpl;
+import org.apache.jackrabbit.spi.commons.conversion.NamePathResolver;
+import javax.jcr.Session;
-    private final SessionImpl session;
+    private final Session session;
+    private final NamePathResolver resolver;
-    NodeResolver(SessionImpl session)
-            throws RepositoryException {
-
+    NodeResolver(Session session, NamePathResolver resolver) throws RepositoryException {
+        this.resolver = resolver;
+     * Get the first node that matches <code>ntName</code> and whose name
+     * exactly matches the given <code>nodeName</code>.
+     *
+     * @param nodeName
+     * @param ntName
+     * @return A matching node or <code>null</code>.
+     * @throws RepositoryException
+     */
+    public abstract Node findNode(Name nodeName, Name ntName) throws RepositoryException;
+
+    /**
-    SessionImpl getSession() {
+    Session getSession() {
+    NamePathResolver getNamePathResolver() {
+        return resolver;
+    }
+
