JCR-2108: JSR 283 Observation   (work in progress)

- initial draft for simple 283 observation extensions
- TODO: eventjournal, iterator.getDate ....
- TODO: jcr-server still ignores 283 extensions

- in addition: removed tmp-dependency in spi2jcr/pom.xml

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@781054 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.ValueFactory;
+import org.apache.jackrabbit.spi.IdFactory;
+     * The value factory of the session that created this event iterator.
+     */
+    private final ValueFactory valueFactory;
+
+    /**
+     * The IdFactory
+     */
+    private final IdFactory idFactory;
+
+    /**
-     *                   the event listener.
+ *                   the event listener.
+     * @param valueFactory
+     * @param idFactory
-                                 NamePathResolver resolver) {
+                                 NamePathResolver resolver,
+                                 ValueFactory valueFactory,
+                                 IdFactory idFactory) {
+        this.valueFactory = valueFactory;
+        this.idFactory = idFactory;
-            next = filter.accept(event, isLocal) ? new EventImpl(resolver, event) : null;
+            next = filter.accept(event, isLocal) ? new EventImpl(event, resolver, valueFactory, idFactory) : null;
