Some performance improvements
- Reuse Matcher instance in a threadlocal
- avoid string creation in QName.compareTo()

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@292691 13f79535-47bb-0310-9956-ffa450edef68

+     * Matcher instance as thread-local.
+     */
+    private static final ThreadLocal PATH_ELEMENT_MATCHER = new ThreadLocal() {
+        protected Object initialValue() {
+            return PATH_ELEMENT_PATTERN.matcher("dummy");
+        }
+    };
+
+    /**
-            Matcher matcher = PATH_ELEMENT_PATTERN.matcher(elem);
+            Matcher matcher = (Matcher) PATH_ELEMENT_MATCHER.get();
+            matcher.reset(elem);
