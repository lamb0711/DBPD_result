JCR-3117: Stats for the PersistenceManager

Don't require the full RepositoryContext to PMContext for simpler test cases

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1186727 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.RepositoryContext;
-     * @param context repository component context
+     * @param rootNodeId id of the root node
+     * @param nsReg        namespace registry
+     * @param ntReg        node type registry
-                     FileSystem fs,
-                     RepositoryContext context) {
+            FileSystem fs,
+            NodeId rootNodeId,
+            NamespaceRegistry nsReg,
+            NodeTypeRegistry ntReg,
+            DataStore dataStore,
+            RepositoryStatisticsImpl stats) {
-        this.rootNodeId = context.getRootNodeId();
-        this.nsReg = context.getNamespaceRegistry();
-        this.ntReg = context.getNodeTypeRegistry();
-        this.dataStore = context.getDataStore();
-        this.stats = context.getRepositoryStatistics();
+        this.rootNodeId = rootNodeId;
+        this.nsReg = nsReg;
+        this.ntReg = ntReg;
+        this.dataStore = dataStore;
+        this.stats = stats;
