JCR-1977: authentication order has changed from 1.4.x to 1.5.x

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@785981 13f79535-47bb-0310-9956-ffa450edef68

-        if (isJAAS()) {
-            return new JAASAuthContext(appName, cbHandler, subject);
-        } else if (isLocal()) {
+        if (isLocal()) {
+        } else if (isJAAS()) {
+            return new JAASAuthContext(appName, cbHandler, subject);
-        if (!initialized) {
+        if (!isLocal() && !initialized) {
-            isJAAS = null != entries && entries.length > 0;
+            isJAAS = entries != null && entries.length > 0;
-     * @return true if {@link #isJAAS()} is false and a login-module is configured
+     * @return true if a login-module is configured.
-        return !(isJAAS() || config == null);
+        return config != null;
-     * @return options configured for the LoginModules to use
+     * @return options configured for the LoginModules to use.
