JCR-258 - remove JDOM dependency from jcr-server contribution
JCR-295 - usage of Cache-Control header 
JCR-297 - log output while parsing xml
minor consistency issues and improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@368683 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.webdav.util.XmlUtil;
-import org.jdom.Element;
+import org.apache.jackrabbit.webdav.xml.DomUtil;
+import org.w3c.dom.Element;
+import org.w3c.dom.Document;
-                if (o instanceof Element && XML_HREF.equals(((Element)o).getName())) {
-                    String href = ((Element)o).getText();
+                if (o instanceof Element && XML_HREF.equals(((Element)o).getLocalName())) {
+                    String href = DomUtil.getText((Element)o);
-        } else if (val instanceof Element && XML_HREF.equals(((Element)val).getName())) {
-            String href = ((Element)val).getText();
+        } else if (val instanceof Element && XML_HREF.equals(((Element)val).getLocalName())) {
+            String href = DomUtil.getTextTrim((Element)val);
-     * @see XmlUtil#hrefToXml(String)
+     * @see org.apache.jackrabbit.webdav.xml.DomUtil#hrefToXml(String,org.w3c.dom.Document)
+     * @param document
-    public Element toXml() {
-        Element elem = getName().toXml();
+    public Element toXml(Document document) {
+        Element elem = getName().toXml(document);
-                    elem.addContent(XmlUtil.hrefToXml(hrefs[i]));
+                    elem.appendChild(DomUtil.hrefToXml(hrefs[i], document));
-                elem.addContent(XmlUtil.hrefToXml(value.toString()));
+                elem.appendChild(DomUtil.hrefToXml(value.toString(), document));
-     * that would be returned as child elements of this property on {@link #toXml()}
+     * that would be returned as child elements of this property on
+     * {@link org.apache.jackrabbit.webdav.xml.XmlSerializable#toXml(Document)}
-     * @return
+     * @return array of href String
