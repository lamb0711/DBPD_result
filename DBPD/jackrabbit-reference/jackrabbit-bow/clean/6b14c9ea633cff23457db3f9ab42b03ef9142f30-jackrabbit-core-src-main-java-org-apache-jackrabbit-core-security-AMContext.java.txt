JCR-1104 : JSR 283 support
JCR-1171 : Contribute Pluggable Permission and User Management to Jackrabbit

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@638834 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.security.authorization.WorkspaceAccessManager;
+import org.apache.jackrabbit.core.security.authorization.AccessControlProvider;
-import org.apache.jackrabbit.spi.commons.namespace.NamespaceResolver;
+import org.apache.jackrabbit.spi.commons.conversion.NamePathResolver;
+import javax.jcr.Session;
- * An <code>AMContext</code> is used to provide context information for an
- * <code>AccessManager</code>.
+ * An <code>AMContext</code> is used to provide <code>Session</code> specific
+ * context information for an <code>AccessManager</code>.
+ * @see AccessManager#init(AMContext, AccessControlProvider, WorkspaceAccessManager)
+    private final Session session;
+
-     * namespace resolver for resolving namespaces in qualified paths
+     * name and path resolver for resolving namespaces in qualified paths
-    private final NamespaceResolver nsResolver;
+    private final NamePathResolver resolver;
-     * @param nsResolver      namespace resolver
+     * @param resolver        name and path resolver
+                     Session session,
-                     NamespaceResolver nsResolver,
+                     NamePathResolver resolver,
+        this.session = session;
-        this.nsResolver = nsResolver;
+        this.resolver = resolver;
+     * Returns the session
+     *
+     * @return the session
+     */
+    public Session getSession() {
+        return session;
+    }
+
+    /**
-    public NamespaceResolver getNamespaceResolver() {
-        return nsResolver;
+    public NamePathResolver getNamePathResolver() {
+        return resolver;
