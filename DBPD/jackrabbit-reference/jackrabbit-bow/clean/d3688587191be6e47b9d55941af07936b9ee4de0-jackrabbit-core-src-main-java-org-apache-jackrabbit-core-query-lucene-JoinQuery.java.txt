JCR-2718: Incorrect results from joins on multivalued properties

Use full term lookups in EquiJoin instead of relying on comparators for the equality tests.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@986686 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.lucene.search.SortComparatorSource;
-     * The sort comparator source of the index.
+     * Namespace mappings of this index.
-    private final SortComparatorSource scs;
+    private final NamespaceMappings nsMappings;
-     * @param scs           the sort comparator source of the index.
+     * @param nsMappings namespace mappings of this index
-                     SortComparatorSource scs,
+                     NamespaceMappings nsMappings,
-        this.scs = scs;
+        this.nsMappings = nsMappings;
-                joinType, joinCondition, reader, resolver, scs, hmgr);
+                joinType, joinCondition, reader, resolver, nsMappings, hmgr);
