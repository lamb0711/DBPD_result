JCR-1871: use jcr names and path for log and exception message

+ some javadoc issues
+ SetMixin.java: add test for existance of jcr:mixinTypes property to avoid ItemNotFoundExc.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@719282 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.spi.ItemId;
+
+    /**
+     * Failsafe conversion of an <code>ItemId</code> to a human readable string
+     * resolving the path part of the specified id using the given path resolver.
+     *
+     * @param itemId
+     * @param pathResolver
+     * @return a String representation of the given <code>ItemId</code>.
+     */
+    public static String saveGetIdString(ItemId itemId, PathResolver pathResolver) {
+        Path p = itemId.getPath();
+        if (p == null || pathResolver == null) {
+            return itemId.toString();
+        } else {
+            StringBuffer bf = new StringBuffer();
+            String uniqueID = itemId.getUniqueID();
+            if (uniqueID != null) {
+                bf.append(uniqueID).append(" - ");
+            }
+            String jcrPath;
+            try {
+                jcrPath = pathResolver.getJCRPath(p);
+            } catch (NamespaceException e) {
+                jcrPath = p.toString();
+            }
+            bf.append(jcrPath);
+            return bf.toString();
+        }
+    }
