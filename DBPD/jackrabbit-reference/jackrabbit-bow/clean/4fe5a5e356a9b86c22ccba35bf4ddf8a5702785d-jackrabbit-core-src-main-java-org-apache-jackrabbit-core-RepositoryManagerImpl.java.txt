JCR-2640: Internal repository context

Address Stefan's point about not accessing the context variable directly from external classes

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@948770 13f79535-47bb-0310-9956-ffa450edef68

-        InternalVersionManagerImpl vm = rep.context.getInternalVersionManager();
+        InternalVersionManagerImpl vm =
+            rep.getRepositoryContext().getInternalVersionManager();
-            SessionImpl session =
-                SystemSession.create(rep.context, wspInfo.getConfig());
+            SessionImpl session = SystemSession.create(
+                    rep.getRepositoryContext(), wspInfo.getConfig());
