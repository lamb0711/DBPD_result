JCR-996 Name and Path interfaces in SPI
JCR-1169 Distribution of commons classes


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@586065 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.name.NamespaceResolver;
-import org.apache.jackrabbit.name.NameFormat;
-import org.apache.jackrabbit.name.IllegalNameException;
-import org.apache.jackrabbit.name.UnknownPrefixException;
+import org.apache.jackrabbit.conversion.NamePathResolver;
+import org.apache.jackrabbit.conversion.NameException;
+import javax.jcr.NamespaceException;
-     * @param nsResolver the namespace resolver in use.
+     * @param resolver
-     * @throws IllegalNameException   if the <code>node</code> name is illegal.
-     * @throws UnknownPrefixException if the name of the <code>node</code>
+     * @throws NameException   if the <code>node</code> name is illegal.
+     * @throws NamespaceException if the name of the <code>node</code>
-    public ChildInfoImpl(Node node, NamespaceResolver nsResolver)
-            throws RepositoryException, IllegalNameException, UnknownPrefixException {
-        super(NameFormat.parse(node.getName(), nsResolver),
+    public ChildInfoImpl(Node node, NamePathResolver resolver)
+            throws NamespaceException, NameException, RepositoryException {
+        super(resolver.getQName(node.getName()),
