remove ItemStateException (and subclasses) and replace their usage with RepositoryException and subclasses respectively

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@520315 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.jcr2spi.state.NoSuchItemStateException;
-import org.apache.jackrabbit.jcr2spi.state.ItemStateException;
-import org.apache.jackrabbit.jcr2spi.state.StaleItemStateException;
+import javax.jcr.InvalidItemStateException;
-    public void revert() throws ItemStateException {
+    public void revert() throws RepositoryException {
-    public void transientRemove() throws ItemStateException {
+    public void transientRemove() throws RepositoryException {
-    public void collectStates(ChangeLog changeLog, boolean throwOnStale) throws StaleItemStateException {
+    public void collectStates(ChangeLog changeLog, boolean throwOnStale) throws InvalidItemStateException {
-    public NodeState getNodeState()
-            throws NoSuchItemStateException, ItemStateException {
+    public NodeState getNodeState() throws ItemNotFoundException, RepositoryException {
-                * NoSuchItemStateException is thrown.
+                * ItemNotFoundException is thrown.
-                } catch (NoSuchItemStateException e) {
+                } catch (ItemNotFoundException e) {
-                    } catch (NoSuchItemStateException ise) {
+                    } catch (ItemNotFoundException ise) {
-                    } catch (ItemStateException ise) {
-                        throw new RepositoryException("Internal error", ise);
-                } catch (ItemStateException e) {
-                    throw new RepositoryException("Internal error", e);
-            } catch (ItemStateException e) {
-                // entry probably does not exist on the persistent layer
+            } catch (ItemNotFoundException e) {
+                // entry does not exist on the persistent layer
+            } catch (RepositoryException e) {
+                // some other error -> remove from properties map
+                properties.remove(propName);
-    ItemState doResolve() throws NoSuchItemStateException, ItemStateException {
+    ItemState doResolve() throws ItemNotFoundException, RepositoryException {
-        } catch (ItemStateException e) {
-            log.error("Internal Error", e);
-        } catch (NoSuchItemStateException e) {
+        } catch (ItemNotFoundException e) {
-        } catch (ItemStateException e) {
+        } catch (RepositoryException e) {
-        } catch (NoSuchItemStateException e) {
+        } catch (ItemNotFoundException e) {
-        } catch (ItemStateException e) {
+        } catch (RepositoryException e) {
-                } catch (ItemStateException e) {
+                } catch (RepositoryException e) {
