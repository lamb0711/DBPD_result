JCR-617 CachingHieraarchyManager may serve moved items


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@470745 13f79535-47bb-0310-9956-ffa450edef68

+     */
+    public void notifyNodeModified(NodeState state) {
+        // small optimization as there are only a few clients interested in node state modifications
+        if (!nsListeners.isEmpty()) {
+            NodeStateListener[] la;
+            synchronized (nsListeners) {
+                la = (NodeStateListener[]) nsListeners.toArray(new NodeStateListener[nsListeners.size()]);
+            }
+            for (int i = 0; i < la.length; i++) {
+                if (la[i] != null) {
+                    la[i].nodeModified(state);
+                }
+            }
+        }
+    }
+
+    /**
+     * Notify listeners about changes to some state.
+     * @param state node state that changed
