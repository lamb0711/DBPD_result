JCR-890: concurrent read-only access to a session

Inline NodeTypeInstanceHandler into NodeState to avoid the extra instance variable in SessionImpl

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@985273 13f79535-47bb-0310-9956-ffa450edef68

-        InternalValue[] genValues = session.getNodeTypeInstanceHandler()
-                .computeSystemGeneratedPropertyValues(parent, def);
-        if (genValues != null) {
-            prop.setValues(genValues);
-        } else if (def.getDefaultValues() != null) {
-            prop.setValues(InternalValue.create(def.getDefaultValues()));
-        }
+        prop.setDefaultValues(parent, def, session.getUserID());
