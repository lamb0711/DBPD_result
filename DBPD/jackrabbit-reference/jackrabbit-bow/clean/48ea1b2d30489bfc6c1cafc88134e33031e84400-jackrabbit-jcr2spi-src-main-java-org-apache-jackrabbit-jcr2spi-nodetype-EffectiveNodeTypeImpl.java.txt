JCR-1471 Error when registering nodetype with same propdef as supertype (reverting changes)


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@636949 13f79535-47bb-0310-9956-ffa450edef68

-                                    + "' conflicts with node type '"
+                                    + "' conflicts with the one of node type '"
-                                if (pd.getRequiredType() != epd.getRequiredType()
-                                        || pd.isMultiple() != epd.isMultiple()) {
+                                if (pd.getRequiredType() == epd.getRequiredType()
+                                        && pd.isMultiple() == epd.isMultiple()) {
-                                            + "' conflicts with node type '"
+                                            + "' conflicts with the one of node type '"
-                                            + "': ambiguous property definition";
+                                            + "': ambiguous property definition. "
+                                            + "they must differ in required type "
+                                            + "or cardinality.";
-                                        + "' conflicts with node type '"
+                                        + "' conflicts with the one of node type '"
-                                        + "': ambiguous child node definition";
+                                        + "': ambiguous child node definition. name must differ.";
