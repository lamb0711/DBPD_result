JCR-515: Enhance test data

Use the FilteredRangeIterator class to implement FilteredEventIterator so that getSize() will return a good value and we can run more tests.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1000867 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.ItemManager;
-     * The <code>ItemManager</code> for this <code>ObservationManager</code>.
-     */
-    private final ItemManager itemMgr;
-
-    /**
-            ItemManager itemMgr, ClusterNode clusterNode) {
+            ClusterNode clusterNode) {
-        if (itemMgr == null) {
-            throw new NullPointerException("itemMgr");
-        }
-        
+
-        this.itemMgr = itemMgr;
-        return new EventFilter(itemMgr, session, eventTypes, path,
-                isDeep, ids, nodeTypes, noLocal);
+        return new EventFilter(
+                session, eventTypes, path, isDeep, ids, nodeTypes, noLocal);
-                filter, clusterNode.getJournal(), clusterNode.getId());
+                filter, clusterNode.getJournal(), clusterNode.getId(), session);
