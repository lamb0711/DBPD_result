JCR-2710 Add support for large number of users in a group
UserImporter copes with node structure for group membership now

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@987181 13f79535-47bb-0310-9956-ffa450edef68

-            if (node.hasProperty(P_MEMBERS) || !node.hasNode(N_MEMBERS)) {
-                msp = new PropertyBasedMembershipProvider(node);
-            } else {
-                msp = new NodeBasedMembershipProvider(node);
-            }
+            msp = new PropertyBasedMembershipProvider(node);
-    private PropertySequence getPropertySequence(Node nMembers) throws RepositoryException {
+    static PropertySequence getPropertySequence(Node nMembers, UserManagerImpl userManager) throws RepositoryException {
-                        PropertySequence properties = getPropertySequence(nMembers);
+                        PropertySequence properties = getPropertySequence(nMembers, userManager);
-                        PropertySequence properties = getPropertySequence(nMembers);
+                        PropertySequence properties = getPropertySequence(nMembers, userManager);
-                for (Property member : getPropertySequence(node.getNode(N_MEMBERS))) {
+                for (Property member : getPropertySequence(node.getNode(N_MEMBERS), userManager)) {
