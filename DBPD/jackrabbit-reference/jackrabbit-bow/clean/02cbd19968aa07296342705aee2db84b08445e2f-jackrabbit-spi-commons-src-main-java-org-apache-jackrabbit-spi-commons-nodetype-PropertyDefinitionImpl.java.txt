JCR-2105: JSR 283 NodeType Management (work in progress)
JCR-1483: Move common node type functionality to jackrabbit-spi-commons

NOTE: intermediate checkin to avoid additional conflicts with stefans work


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@774294 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.jackrabbit.jcr2spi.nodetype;
+package org.apache.jackrabbit.spi.commons.nodetype;
-import javax.jcr.RepositoryException;
-import javax.jcr.Value;
-import javax.jcr.ValueFactory;
-import javax.jcr.NamespaceException;
-import javax.jcr.nodetype.PropertyDefinition;
-
+import org.slf4j.Logger;
+import org.slf4j.LoggerFactory;
-import org.apache.jackrabbit.spi.commons.nodetype.InvalidConstraintException;
-import org.apache.jackrabbit.spi.commons.nodetype.ValueConstraint;
-import org.slf4j.Logger;
-import org.slf4j.LoggerFactory;
+
+import javax.jcr.nodetype.PropertyDefinition;
+import javax.jcr.Value;
+import javax.jcr.RepositoryException;
+import javax.jcr.NamespaceException;
+import javax.jcr.ValueFactory;
-     * Logger instance for this class
+     * logger instance
-    private static Logger log = LoggerFactory.getLogger(PropertyDefinitionImpl.class);
+    private static final Logger log = LoggerFactory.getLogger(PropertyDefinitionImpl.class);
-     * @param ntMgr      node type manager
+     * @param valueFactory
-    PropertyDefinitionImpl(QPropertyDefinition propDef, NodeTypeManagerImpl ntMgr,
-                           NamePathResolver resolver, ValueFactory valueFactory) {
+    public PropertyDefinitionImpl(QPropertyDefinition propDef, NamePathResolver resolver,
+                                  ValueFactory valueFactory) {
+        this(propDef, null, resolver, valueFactory);
+    }
+
+    /**
+     *
+     * @param propDef
+     * @param ntMgr
+     * @param resolver
+     * @param valueFactory
+     */
+    public PropertyDefinitionImpl(QPropertyDefinition propDef,
+                                  AbstractNodeTypeManager ntMgr,
+                                  NamePathResolver resolver,
+                                  ValueFactory valueFactory) {
-    //---------------------------------------------------< PropertyDefinition >
+    //-------------------------------------------------< PropertyDefinition >---
-        return ((QPropertyDefinition) itemDef).isFullTextSearcheable();
+        return ((QPropertyDefinition) itemDef).isFullTextSearchable();
-
-}
+}
