JCR-3206 JSR-283 support for RMI / Implementation of the missing versioning parts

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1377571 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.UnsupportedRepositoryOperationException;
+import javax.jcr.Session;
-public class ClientRow implements Row {
+public class ClientRow extends ClientObject implements Row {
+
+    /** Current session. */
+    private Session session;
-    public ClientRow(RemoteRow remote) {
+    public ClientRow(Session session, RemoteRow remote,
+            LocalAdapterFactory factory) {
+        super(factory);
+        this.session = session;
+    /** {@inheritDoc} */
-        throw new UnsupportedRepositoryOperationException("TODO: JCR-3206");
+        try {
+            return getFactory().getNode(session, remote.getNode());
+        } catch (RemoteException ex) {
+            throw new RemoteRepositoryException(ex);
+        }
+    /** {@inheritDoc} */
-        throw new UnsupportedRepositoryOperationException("TODO: JCR-3206");
+        try {
+            return getFactory().getNode(session, remote.getNode(selectorName));
+        } catch (RemoteException ex) {
+            throw new RemoteRepositoryException(ex);
+        }
+    /** {@inheritDoc} */
-        throw new UnsupportedRepositoryOperationException("TODO: JCR-3206");
+        try {
+            return remote.getPath();
+        } catch (RemoteException ex) {
+            throw new RemoteRepositoryException(ex);
+        }
+    /** {@inheritDoc} */
-        throw new UnsupportedRepositoryOperationException("TODO: JCR-3206");
+        try {
+            return remote.getPath(selectorName);
+        } catch (RemoteException ex) {
+            throw new RemoteRepositoryException(ex);
+        }
+    /** {@inheritDoc} */
-        throw new UnsupportedRepositoryOperationException("TODO: JCR-3206");
+        try {
+            return remote.getScore();
+        } catch (RemoteException ex) {
+            throw new RemoteRepositoryException(ex);
+        }
+    /** {@inheritDoc} */
-        throw new UnsupportedRepositoryOperationException("TODO: JCR-3206");
+        try {
+            return remote.getScore(selectorName);
+        } catch (RemoteException ex) {
+            throw new RemoteRepositoryException(ex);
+        }
