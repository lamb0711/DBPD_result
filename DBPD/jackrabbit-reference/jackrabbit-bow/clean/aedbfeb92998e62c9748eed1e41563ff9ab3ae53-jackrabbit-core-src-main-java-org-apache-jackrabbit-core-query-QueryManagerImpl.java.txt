JCR-2093: Implement QueryObjectModelFactory.fullTextSearch() in QueryManagerImpl

Fix broken full text search tests

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@770738 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.UnsupportedRepositoryOperationException;
-import javax.jcr.query.qom.FullTextSearch;
-    public QueryManagerImpl(final SessionImpl session,
-                            final ItemManager itemMgr,
-                            final SearchManager searchMgr) {
+    public QueryManagerImpl(
+            final SessionImpl session,
+            final ItemManager itemMgr,
+            final SearchManager searchMgr)
+            throws RepositoryException {
-        this.qomFactory = new QueryObjectModelFactoryImpl(session) {
+        this.qomFactory = new QueryObjectModelFactoryImpl(
+                session, session.getValueFactory()) {
-
-            public FullTextSearch fullTextSearch(
-                    String arg0, String arg1, String arg2)
-                    throws RepositoryException {
-                throw new UnsupportedRepositoryOperationException("JCR-1104");
-            }
-
