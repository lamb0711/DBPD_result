JCR-1462 repository.xml: throw an exception on error

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@697709 13f79535-47bb-0310-9956-ffa450edef68

-     *         <code>required</code> is <code>true</code>.
+     *         <code>required</code> is <code>true</code>;
+     *         or if more than one element with this name exists.
+        Element found = null;
-                return (Element) child;
+                if (found != null)  {
+                    throw new ConfigurationException(
+                        "Duplicate configuration element " + name + " in "
+                        + parent.getNodeName() + ".");
+                }
+                found = (Element) child;
-        if (required) {
+        if (required && found == null) {
-        } else {
-            return null;
+        return found;
