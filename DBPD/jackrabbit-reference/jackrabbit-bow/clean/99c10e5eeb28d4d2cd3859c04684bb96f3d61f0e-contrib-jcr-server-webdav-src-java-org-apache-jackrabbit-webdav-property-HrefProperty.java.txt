- comitting latest changes from angela
- adding configuration for authorization header behaviour

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@159798 13f79535-47bb-0310-9956-ffa450edef68

-        if (! (prop.getValue() instanceof List)) {
-            throw new IllegalArgumentException("Expected a property with a List value object.");
-        }
-        Iterator it = ((List)prop.getValue()).iterator();
-        while (it.hasNext()) {
-            Object o = it.next();
-            if (o instanceof Element) {
-                String href = ((Element)o).getChildText(XML_HREF, NAMESPACE);
-                if (href != null) {
-                    hrefList.add(href);
+        Object val = prop.getValue();
+        if (val instanceof List) {
+            Iterator it = ((List)val).iterator();
+            while (it.hasNext()) {
+                Object o = it.next();
+                if (o instanceof Element) {
+                    String href = ((Element)o).getChildText(XML_HREF, NAMESPACE);
+                    if (href != null) {
+                        hrefList.add(href);
+                    } else {
+                        log.warn("Valid DAV:href element expected instead of " + o.toString());
+                    }
-                    log.warn("Valid DAV:href element expected instead of " + o.toString());
+                    log.warn("DAV: href element expected in the content of " + getName().toString());
+            }
+        } else if (val instanceof Element) {
+            String href = ((Element)val).getChildText(XML_HREF, NAMESPACE);
+            if (href != null) {
+                hrefList.add(href);
-                log.warn("DAV: href element expected in the content of " + getName().toString());
+                log.warn("Valid DAV:href element expected instead of " + val.toString());
