JCR-249, JCR-253

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@331281 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.webdav.io.OutputContext;
-import java.io.InputStream;
+import java.io.IOException;
-     * Constant indicating the undefined modification time.
-     */
-    public static final long UNDEFINED_MODIFICATIONTIME = -1;
-
-    /**
-     * Returns a stream to the resource content in order to respond to a 'GET'
-     * request.
+     * Spools the resource properties and ev. content to the specified context
+     * (e.g. to respond to a 'GET' or 'HEAD' request). The context could e.g.
+     * wrap the servlet response.
-     * @return stream to the resource content.
+     * @param outputContext
+     * @throws IOException
-    public InputStream getStream();
+    public void spool(OutputContext outputContext) throws IOException;
-     * @param inputCxt Context providing the content for the internal member.
+     * @param inputContext Context providing the properties and content for the
+     * internal member to be created or replaced.
-    public void addMember(DavResource resource, InputContext inputCxt) throws DavException;
-
-    /**
-     * Add the given resource as an internal member to this resource.
-     *
-     * @param resource webdav resource to be added as member.
-     * @throws DavException
-     */
-    public void addMember(DavResource resource) throws DavException;
+    public void addMember(DavResource resource, InputContext inputContext) throws DavException;
