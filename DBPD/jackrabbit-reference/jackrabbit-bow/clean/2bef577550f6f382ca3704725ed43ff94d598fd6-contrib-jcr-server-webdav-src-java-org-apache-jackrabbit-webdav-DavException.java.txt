JCR-258 - remove JDOM dependency from jcr-server contribution
JCR-295 - usage of Cache-Control header 
JCR-297 - log output while parsing xml
minor consistency issues and improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@368683 13f79535-47bb-0310-9956-ffa450edef68

-import org.jdom.Element;
+import org.apache.jackrabbit.webdav.xml.XmlSerializable;
+import org.w3c.dom.Element;
+import org.w3c.dom.Document;
-public class DavException extends Exception {
+public class DavException extends Exception implements XmlSerializable {
-    private static final String XML_ERROR = "error";
+    public static final String XML_ERROR = "error";
-    private Element conditionElement;
-     * Create a new <code>DavException</code>.
-     *
-     * @param errorCode integer specifying any of the status codes defined by
-     * {@link DavServletResponse}.
-     * @param message
-     * @param conditionElement
-     */
-    public DavException(int errorCode, String message, Element conditionElement) {
-        this(errorCode, message);
-        this.conditionElement = conditionElement;
-        log.debug("DavException: (" + errorCode + ") " + conditionElement.toString());
-    }
-
-    /**
-     * Returns the Xml representation of this <code>DavException</code>. In case
-     * no {@link Element} has been passed to the constructor, an empty DAV:error
-     * element is returned.
-     *
-     * @return Xml representation of this exception.
-     */
-    public Element getError() {
-        Element error = new Element(XML_ERROR, DavConstants.NAMESPACE);
-        if (conditionElement != null) {
-            error.addContent(conditionElement);
-        }
-        return error;
-    }
-
-    /**
+
+    /**
+     * @return Always false
+     */
+    public boolean hasErrorCondition() {
+        return false;
+    }
+
+    /**
+     * Returns <code>null</code>
+     *
+     * @param document
+     * @return <code>null</code>
+     * @see org.apache.jackrabbit.webdav.xml.XmlSerializable#toXml(Document)
+     */
+    public Element toXml(Document document) {
+        return null;
+    }
+
