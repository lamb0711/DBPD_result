minor improvement: remove unused instance fields
minor improvement: let TransientISFactory listen to states created by the WorkspaceItemStateFactory
JCR-1004 SPI: Add RepositoryService.getQNodeTypeDefinition 
         >> modify to RepositoryService.getQNodeTypeDefinitions(QName)
         >> adjust SPI implementations
         >> change NodeTypeRegistry to load definitions upon demand.



git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@555209 13f79535-47bb-0310-9956-ffa450edef68

-    public Iterator getQNodeTypeDefinitions(
-            SessionInfo sessionInfo) throws RepositoryException {
+    public Iterator getQNodeTypeDefinitions(SessionInfo sessionInfo) throws RepositoryException {
-            QNodeTypeDefinition[] ntDefs = remoteService.getQNodeTypeDefinitions(
-                    getRemoteSessionInfo(sessionInfo));
-            return Arrays.asList(ntDefs).iterator();
+            RemoteIterator it = remoteService.getQNodeTypeDefinitions(getRemoteSessionInfo(sessionInfo));
+            return new ClientIterator(it);
-    public QNodeTypeDefinition getQNodeTypeDefinition(SessionInfo sessionInfo, QName nodetypeName) throws RepositoryException {
+    public Iterator getQNodeTypeDefinitions(SessionInfo sessionInfo, QName[] nodetypeNames) throws RepositoryException {
-            return remoteService.getQNodeTypeDefinition(getRemoteSessionInfo(sessionInfo), nodetypeName);
+            RemoteIterator it = remoteService.getQNodeTypeDefinitions(getRemoteSessionInfo(sessionInfo), nodetypeNames);
+            return new ClientIterator(it);
-
+    /**
+     *
+     * @param sessionInfo
+     * @return
+     * @throws RepositoryException
+     */
