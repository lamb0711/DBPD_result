JCR-1813: Invalid journal records during XATransactions

Avoid empty journal records by not executing updates when no changes are included.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@708619 13f79535-47bb-0310-9956-ffa450edef68

-        update(changeLog);
-        changeLog.reset();
+        // JCR-1813: Only execute the update when there are some changes
+        if (changeLog.hasUpdates()) {
+            update(changeLog);
+            changeLog.reset();
+        }
