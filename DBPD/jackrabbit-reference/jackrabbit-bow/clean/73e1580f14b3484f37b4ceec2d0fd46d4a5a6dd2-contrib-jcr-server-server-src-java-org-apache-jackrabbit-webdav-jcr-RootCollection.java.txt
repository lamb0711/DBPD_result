applying patch from angela, fixing:

[JCR-122] cannot PUT changes to a resource in the simple webdav server
[JCR-123] Webdav: Error when accessing Simple-Server
[JCR-126] Jcr-Server Module: Remove Dependency from Jackrabbit-Core


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@180346 13f79535-47bb-0310-9956-ffa450edef68

+
+        // initialize the supported locks and reports
+        initLockSupport();
+        initSupportedReports();
-        if (exists()) {
-            supportedReports = new SupportedReportSetProperty(new ReportType[] {
-	    ReportType.EXPAND_PROPERTY,
-	    NodeTypesReport.NODETYPES_REPORT,
-                RegisteredNamespacesReport.REGISTERED_NAMESPACES_REPORT,
-                RepositoryDescriptorsReport.REPOSITORY_DESCRIPTORS_REPORT
-            });
-        }
+        supportedReports = new SupportedReportSetProperty(new ReportType[] {
+            ReportType.EXPAND_PROPERTY,
+            NodeTypesReport.NODETYPES_REPORT,
+            RegisteredNamespacesReport.REGISTERED_NAMESPACES_REPORT,
+            RepositoryDescriptorsReport.REPOSITORY_DESCRIPTORS_REPORT
+        });
-	Session session = this.getRepositorySession();
-	if (session != null) {
-	    String workspaceName = session.getWorkspace().getName();
-	    DavResourceLocator loc = getLocator().getFactory().createResourceLocator(getLocator().getPrefix(), "/"+workspaceName, ItemResourceConstants.ROOT_ITEM_PATH);
-	    return loc.getHref(true);
-	}
-	return null;
+        Session session = this.getRepositorySession();
+        if (session != null) {
+            String workspaceName = session.getWorkspace().getName();
+            DavResourceLocator loc = getLocator().getFactory().createResourceLocator(getLocator().getPrefix(), "/"+workspaceName, ItemResourceConstants.ROOT_ITEM_PATH);
+            return loc.getHref(true);
+        }
+        return null;
-}
+}
