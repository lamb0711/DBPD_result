cd root if the current working node becomes invalid

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@312959 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.InvalidItemStateException;
-            return n.getPath();
+            // the current node might be Invalid
+            try {
+                return n.getPath();
+            } catch (InvalidItemStateException e) {
+                CommandHelper.setCurrentNode(ctx, CommandHelper.getSession(ctx)
+                    .getRootNode());
+                return CommandHelper.getCurrentNode(ctx).getPath();
+            }
