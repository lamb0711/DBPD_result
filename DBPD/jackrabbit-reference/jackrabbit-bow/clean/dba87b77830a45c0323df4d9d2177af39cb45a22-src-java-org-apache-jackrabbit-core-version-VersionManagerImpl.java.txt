- fixing startup issue with empty repository

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@156152 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.state.NodeState;
+
+     * The root parent node UUID for the version storage
+     */
+    private final String VERSION_STORAGE_PARENT_NODE_UUID;
+
+    /**
-    public VersionManagerImpl(PersistentVersionManager vMgr, NodeTypeRegistry ntReg, String rootUUID) {
+    public VersionManagerImpl(PersistentVersionManager vMgr, NodeTypeRegistry ntReg,
+                              String rootUUID, String rootParentUUID) {
+        this.VERSION_STORAGE_PARENT_NODE_UUID = rootParentUUID;
-                NodeState virtRootState = (NodeState) base.getItemState(new NodeId(VERSION_STORAGE_NODE_UUID));
-                virtProvider = new VersionItemStateProvider(this, ntReg, VERSION_STORAGE_NODE_UUID, virtRootState.getParentUUID());
+                virtProvider = new VersionItemStateProvider(this, ntReg, VERSION_STORAGE_NODE_UUID, VERSION_STORAGE_PARENT_NODE_UUID);
