new commands, jmeter functions, and test plan examples.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@219423 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.Node;
+import javax.jcr.NodeIterator;
+import org.apache.jackrabbit.JcrConstants;
- * Saves the current Session.
+ * Clears the Workspace
-public class Save implements Command {
-	/*
-	 * (non-Javadoc)
-	 * 
-	 * @see org.apache.commons.chain.Command#execute(org.apache.commons.chain.Context)
-	 */
-	public boolean execute(Context ctx) throws Exception {
-		Session s = ContextHelper.getSession(ctx);
-		s.save() ;
-		return false;
-	}
+public class ClearWorkspace implements Command
+{
+
+    public boolean execute(Context ctx) throws Exception
+    {
+        Session s = ContextHelper.getSession(ctx) ;
+        NodeIterator iter = s.getRootNode().getNodes() ;
+        while (iter.hasNext())
+        {
+            Node n = (Node) iter.next();
+            if (!n.getName().equals(JcrConstants.JCR_SYSTEM)) {
+                n.remove() ;
+            }
+        }
+        return false;
+    }
