- Operation.persisted -> remove CacheBehaviour param (as suggested with TODO in WorkspaceManager).
- adjust TODO.txt

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@523334 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.jcr2spi.config.CacheBehaviour;
-     * @see Operation#persisted(CacheBehaviour)
-     * @param cacheBehaviour
+     * @see Operation#persisted()
-    public void persisted(CacheBehaviour cacheBehaviour) {
-        if (cacheBehaviour == CacheBehaviour.INVALIDATE) {
-            try {
-                mgr.getVersionHistoryNodeState(nodeState).invalidate(true);
-            } catch (RepositoryException e) {
-                log.warn("Internal error", e);
-            }
-            // non-recursive invalidation (but including all properties)
-            NodeEntry nodeEntry = (NodeEntry) nodeState.getHierarchyEntry();
-            Iterator entries = nodeEntry.getPropertyEntries();
-            while (entries.hasNext()) {
-                PropertyEntry pe = (PropertyEntry) entries.next();
-                pe.invalidate(false);
-            }
-            nodeEntry.invalidate(false);
+    public void persisted() {
+        try {
+            mgr.getVersionHistoryNodeState(nodeState).invalidate(true);
+        } catch (RepositoryException e) {
+            log.warn("Internal error", e);
+        // non-recursive invalidation (but including all properties)
+        NodeEntry nodeEntry = (NodeEntry) nodeState.getHierarchyEntry();
+        Iterator entries = nodeEntry.getPropertyEntries();
+        while (entries.hasNext()) {
+            PropertyEntry pe = (PropertyEntry) entries.next();
+            pe.invalidate(false);
+        }
+        nodeEntry.invalidate(false);
