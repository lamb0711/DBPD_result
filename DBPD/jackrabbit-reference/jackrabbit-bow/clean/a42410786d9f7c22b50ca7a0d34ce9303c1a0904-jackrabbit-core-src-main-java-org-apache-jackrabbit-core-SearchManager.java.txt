JCR-1922 Validate the SearchIndex configuration

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@734375 13f79535-47bb-0310-9956-ffa450edef68

-     * Name of the parameter that specifies the idle time for a query handler.
-     */
-    private static final String PARAM_IDLE_TIME = "idleTime";
-
-    /**
-     * Name of the default query implementation class.
-     */
-    private static final String DEFAULT_QUERY_IMPL_CLASS = QueryImpl.class.getName();
-
-    /**
-     * Fully qualified name of the query implementation class.
-     * This class must extend {@link org.apache.jackrabbit.core.query.AbstractQueryImpl}!
-     */
-    private final String queryImplClassName;
-
-    /**
-        Properties params = config.getParameters();
-        queryImplClassName = params.getProperty(PARAM_QUERY_IMPL, DEFAULT_QUERY_IMPL_CLASS);
-        if (params.containsKey(PARAM_IDLE_TIME)) {
-            String msg = "Parameter 'idleTime' is not supported anymore. "
-                + "Please use 'maxIdleTime' in the repository configuration.";
-            log.warn(msg);
-        }
-
+            String queryImplClassName = handler.getQueryClass();
-            throw new RepositoryException("Unable to create query: " + t.toString());
+            throw new RepositoryException("Unable to create query: " + t.toString(), t);
