JCR-2586: Missing synchronization in InternalVersionHistoryImpl

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@927898 13f79535-47bb-0310-9956-ffa450edef68

-    private void init() throws RepositoryException {
+    private synchronized void init() throws RepositoryException {
-    void reload() throws RepositoryException {
+    synchronized void reload() throws RepositoryException {
-    InternalVersionImpl createVersionInstance(Name name) {
+    synchronized InternalVersionImpl createVersionInstance(Name name) {
-    InternalVersionImpl createVersionInstance(NodeStateEx child) {
+    synchronized InternalVersionImpl createVersionInstance(NodeStateEx child) {
-    public InternalVersion getVersion(Name versionName) throws VersionException {
+    public synchronized InternalVersion getVersion(Name versionName)
+            throws VersionException {
-    public boolean hasVersion(Name versionName) {
+    public synchronized boolean hasVersion(Name versionName) {
-    private InternalVersion getCachedVersion(NodeId id) {
+    private synchronized InternalVersion getCachedVersion(NodeId id) {
-    public InternalVersion getVersionByLabel(Name label) {
+    public synchronized InternalVersion getVersionByLabel(Name label) {
-    public Name[] getVersionNames() {
+    public synchronized Name[] getVersionNames() {
-    public int getNumVersions() {
+    public synchronized int getNumVersions() {
-    public Name[] getVersionLabels() {
+    public synchronized Name[] getVersionLabels() {
-    void removeVersion(Name versionName) throws RepositoryException {
+    synchronized void removeVersion(Name versionName) throws RepositoryException {
-    InternalVersion setVersionLabel(Name versionName, Name label, boolean move)
+    synchronized InternalVersion setVersionLabel(Name versionName, Name label, boolean move)
-    InternalVersionImpl checkin(Name name, NodeStateEx src, Calendar created)
+    synchronized InternalVersionImpl checkin(
+            Name name, NodeStateEx src, Calendar created)
