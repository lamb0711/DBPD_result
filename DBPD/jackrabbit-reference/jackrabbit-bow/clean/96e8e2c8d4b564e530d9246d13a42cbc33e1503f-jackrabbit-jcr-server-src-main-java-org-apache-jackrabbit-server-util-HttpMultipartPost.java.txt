JCR-2553 : Batch fails to create/modify properties with non-ascii characters names


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@921283 13f79535-47bb-0310-9956-ffa450edef68

+        // make sure the content disposition headers are read with the charset
+        // specified in the request content type (or UTF-8 if no charset is specified).
+        // see JCR
+        if (request.getCharacterEncoding() == null) {
+            upload.setHeaderEncoding("UTF-8");
+        }
-            List<Object> fileItems = upload.parseRequest(request);
-            for (Object fileItem : fileItems) {
-                addItem((FileItem) fileItem);
+            @SuppressWarnings("unchecked")
+            List<FileItem> fileItems = upload.parseRequest(request);
+            for (FileItem fileItem : fileItems) {
+                addItem(fileItem);
