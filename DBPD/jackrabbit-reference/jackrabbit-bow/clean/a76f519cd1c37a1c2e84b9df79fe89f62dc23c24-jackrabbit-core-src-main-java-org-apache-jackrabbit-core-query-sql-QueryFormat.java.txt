Minor query format fixes
- XPath: element test not used for node type query node
- SQL: format may produce invalid statement
- JCRSQL parser: create node type query node as direct child of location step node

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@504476 13f79535-47bb-0310-9956-ffa450edef68

-            String and = "";
+            // are there any relevant predicates?
-                if (i == 0) {
+                if (predicates[i].getType() != QueryNode.TYPE_NODETYPE) {
-                tmp.append(and);
+            }
+            String and = "";
+            for (int i = 0; i < predicates.length; i++) {
+                if (predicates[i].getType() != QueryNode.TYPE_NODETYPE) {
+                    tmp.append(and);
+                    and = " AND ";
+                }
-                and = " AND ";
+            } else if (steps.length == 1
+                    && steps[0].getIncludeDescendants()
+                    && steps[0].getNameTest() == null) {
+                // then this query selects all paths
