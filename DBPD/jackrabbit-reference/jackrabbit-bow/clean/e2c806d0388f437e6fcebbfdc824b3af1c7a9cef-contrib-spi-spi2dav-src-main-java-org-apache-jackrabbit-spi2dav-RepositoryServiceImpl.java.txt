- Adjust jackrabbit dependency to version 1.1-SNAPSHOT
- Remove javax.security.auth.Subject from SPI interfaces. Whether JAAS is supported and how is specific to the SPI implementation.
- Add JavaDoc to RepositoryService.login()

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@434074 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.LoginException;
-        Iterator allCreds = sessionInfo.getSubject().getPublicCredentials(Credentials.class).iterator();
-        if (allCreds.hasNext()) {
-            credentials = (Credentials) allCreds.next();
+        if (sessionInfo instanceof SessionInfoImpl) {
+            credentials = ((SessionInfoImpl) sessionInfo).getCredentials();
+     * TODO: handle impersonation
-    public SessionInfo login(Credentials credentials, String workspaceName) throws RepositoryException {
+    public SessionInfo login(Credentials credentials, String workspaceName)
+            throws LoginException, NoSuchWorkspaceException, RepositoryException {
+        if (credentials == null) {
+            // no credentials provided, use JAAS
+            throw new RepositoryException("JAAS authentication not implemented");
+        }
+
