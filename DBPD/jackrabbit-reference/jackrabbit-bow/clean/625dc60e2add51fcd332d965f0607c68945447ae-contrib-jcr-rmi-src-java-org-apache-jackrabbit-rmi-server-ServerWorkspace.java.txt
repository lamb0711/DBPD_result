Clean up exceptions thrown by a remote repository to avoid deserialization problems.
(applying patch supplied by jukka)

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@152652 13f79535-47bb-0310-9956-ffa450edef68

-        workspace.copy(from, to);
+        try {
+            workspace.copy(from, to);
+        } catch (RepositoryException ex) {
+            throw getRepositoryException(ex);
+        }
-        this.workspace.copy(from, to, workspace);
+        try {
+            this.workspace.copy(from, to, workspace);
+        } catch (RepositoryException ex) {
+            throw getRepositoryException(ex);
+        }
-        this.workspace.clone(workspace, from, to, removeExisting);
+        try {
+            this.workspace.clone(workspace, from, to, removeExisting);
+        } catch (RepositoryException ex) {
+            throw getRepositoryException(ex);
+        }
-        workspace.move(from, to);
+        try {
+            workspace.move(from, to);
+        } catch (RepositoryException ex) {
+            throw getRepositoryException(ex);
+        }
-        NodeTypeManager manager = workspace.getNodeTypeManager();
-        return factory.getRemoteNodeTypeManager(manager);
+        try {
+            NodeTypeManager manager = workspace.getNodeTypeManager();
+            return factory.getRemoteNodeTypeManager(manager);
+        } catch (RepositoryException ex) {
+            throw getRepositoryException(ex);
+        }
-        NamespaceRegistry registry = workspace.getNamespaceRegistry();
-        return factory.getRemoteNamespaceRegistry(registry);
+        try {
+            NamespaceRegistry registry = workspace.getNamespaceRegistry();
+            return factory.getRemoteNamespaceRegistry(registry);
+        } catch (RepositoryException ex) {
+            throw getRepositoryException(ex);
+        }
-        return workspace.getAccessibleWorkspaceNames();
+        try {
+            return workspace.getAccessibleWorkspaceNames();
+        } catch (RepositoryException ex) {
+            throw getRepositoryException(ex);
+        }
-        workspace.importXML(path, new ByteArrayInputStream(xml), uuidBehaviour);
+        try {
+            workspace.importXML(path, new ByteArrayInputStream(xml), uuidBehaviour);
+        } catch (RepositoryException ex) {
+            throw getRepositoryException(ex);
+        }
