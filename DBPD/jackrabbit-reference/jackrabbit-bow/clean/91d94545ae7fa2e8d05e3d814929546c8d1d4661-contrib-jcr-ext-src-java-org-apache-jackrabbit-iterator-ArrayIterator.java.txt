JCR-EXT: Cleaned up, documented and extended the array iterator classes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@169151 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.NoSuchElementException;
+
- * 
- * @author Jukka Zitting
-public class ArrayIterator implements RangeIterator {
+class ArrayIterator implements RangeIterator {
-    
+
-    private Object[] array;
-    
+    private final Object[] array;
+
-     * 
+     *
-    public ArrayIterator(Object[] array) {
+    protected ArrayIterator(Object[] array) {
-    
-    /** {@inheritDoc} */
+
+    /**
+     * Checks whether there are more elements in the array.
+     *
+     * @return <code>true</code> if more elements are available,
+     *         <code>false</code> otherwise
+     * @see Iterator#hasNext()
+     */
-    /** {@inheritDoc} */
+    /**
+     * Returns the next array element and advances the array position.
+     *
+     * @return next element
+     * @see Iterator#next()
+     */
-    /** {@inheritDoc} */
-    public void remove() {
+    /**
+     * Element removal is not supported.
+     *
+     * @throws UnsupportedOperationException always thrown
+     * @see Iterator#remove()
+     */
+    public void remove() throws UnsupportedOperationException {
-    /** {@inheritDoc} */
-    public void skip(long items) {
-        position += items;
+    /**
+     * Advances the array position the given number of elements.
+     *
+     * @param items number of items to skip
+     * @throws IllegalArgumentException if the given number of items is negative
+     * @throws NoSuchElementException if skipping past the end of the array
+     * @see RangeIterator#skip(long)
+     */
+    public void skip(long items)
+            throws IllegalArgumentException, NoSuchElementException {
+        if (items < 0) {
+            throw new IllegalArgumentException("Negative number of items");
+        } else if (position + items < array.length) {
+            position += items;
+        } else {
+            throw new NoSuchElementException("No more elements in the array");
+        }
-    /** {@inheritDoc} */
+    /**
+     * Returns the length of the array.
+     *
+     * @return array length
+     * @see RangeIterator#getSize()
+     */
-    /** {@inheritDoc} */
-    public long getPos() {
+    /**
+     * Returns the current array position
+     *
+     * @return array position
+     * @see RangeIterator#getPosition()
+     */
+    public long getPosition() {
