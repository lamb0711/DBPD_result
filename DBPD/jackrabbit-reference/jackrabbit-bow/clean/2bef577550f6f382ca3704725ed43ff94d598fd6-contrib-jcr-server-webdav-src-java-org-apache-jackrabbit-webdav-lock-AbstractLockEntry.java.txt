JCR-258 - remove JDOM dependency from jcr-server contribution
JCR-295 - usage of Cache-Control header 
JCR-297 - log output while parsing xml
minor consistency issues and improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@368683 13f79535-47bb-0310-9956-ffa450edef68

-import org.jdom.Element;
+import org.apache.jackrabbit.webdav.xml.DomUtil;
+import org.w3c.dom.Element;
+import org.w3c.dom.Document;
- * <code>AbstractLockEntry</code> provides the generic {@link #toXml} method.
+ * <code>AbstractLockEntry</code> provides the generic {@link org.apache.jackrabbit.webdav.xml.XmlSerializable#toXml} method.
+     * @see org.apache.jackrabbit.webdav.xml.XmlSerializable#toXml(Document)
+     * @param document
-    public Element toXml() {
-        Element entry = new Element(XML_LOCKENTRY, NAMESPACE);
-        Element prop = new Element(XML_LOCKSCOPE, NAMESPACE);
-        prop.addContent(getScope().toXml());
-        entry.addContent(prop);
-        prop = new Element(XML_LOCKTYPE, NAMESPACE);
-        prop.addContent(getType().toXml());
-        entry.addContent(prop);
+    public Element toXml(Document document) {
+        Element entry = DomUtil.createElement(document, XML_LOCKENTRY, NAMESPACE);
+        entry.appendChild(getScope().toXml(document));
+        entry.appendChild(getType().toXml(document));
+
