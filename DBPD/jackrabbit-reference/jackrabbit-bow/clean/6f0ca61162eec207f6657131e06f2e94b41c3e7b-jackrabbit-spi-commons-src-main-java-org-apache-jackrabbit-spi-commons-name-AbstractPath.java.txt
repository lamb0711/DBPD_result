JCR-2744: Avoid element arrays in PathImpl

Replace the inner PathImpl class in PathFactoryImpl with the new path classes.

Minor fixes and tweaks to the way in which especially identifier-based paths are handled.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@995735 13f79535-47bb-0310-9956-ffa450edef68

-        if (other != null && isAbsolute() == other.isAbsolute()) {
+        if (other != null
+                && isAbsolute() == other.isAbsolute()
+                && denotesIdentifier() == other.denotesIdentifier()) {
-        if (other != null && isAbsolute() == other.isAbsolute()) {
+        if (other != null
+                && isAbsolute() == other.isAbsolute()
+                && denotesIdentifier() == other.denotesIdentifier()) {
