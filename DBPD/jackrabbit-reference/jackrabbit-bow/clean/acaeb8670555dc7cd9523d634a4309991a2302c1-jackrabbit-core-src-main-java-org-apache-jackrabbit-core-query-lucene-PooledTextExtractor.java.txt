JCR-2219: Improved background text extraction

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@799610 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.IOException;
-import java.io.IOException;
-    public Reader extractText(InputStream stream,
-                              String type,
-                              String encoding) throws IOException {
+    public Reader extractText(
+            InputStream stream, String type, String encoding)
+            throws IOException {
-        return new TextExtractorReader(job, executor, timout);
+        try {
+            executor.execute(job);
+        } catch (InterruptedException e) {
+            log.warn("Failed to start a background text extraction task", e);
+            stream.close();
+        }
+        return new TextExtractorReader(job, timout);
