JCR-2010: Retrieve row path via hierarchy manager instead of node

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@758193 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.state.SharedItemStateManager;
-import org.apache.jackrabbit.core.HierarchyManagerImpl;
+import org.apache.jackrabbit.core.CachingHierarchyManager;
-    private final ItemStateManager stateMgr;
+    private final SharedItemStateManager stateMgr;
-    private final HierarchyManager hmgr;
+    private final CachingHierarchyManager hmgr;
-                               ItemStateManager stateMgr,
+                               SharedItemStateManager stateMgr,
-        this.hmgr = new HierarchyManagerImpl(rootId, stateMgr);
+        this.hmgr = new CachingHierarchyManager(rootId, stateMgr);
+        this.stateMgr.addListener(hmgr);
