JCR-2956 SQL2: Implement LIKE support for node names
this fix has already been applied to 2.2 in rev #1099087, just making sure trunk does not get left behind

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1127001 13f79535-47bb-0310-9956-ffa450edef68

-                    || ((!JCR_OPERATOR_EQUAL_TO.equals(operator)
-                            || transform.transform != TRANSFORM_NONE)
-                            && (left instanceof NodeName
-                                    || left instanceof NodeLocalName))) {
+                    || (((!JCR_OPERATOR_EQUAL_TO.equals(operator) && !JCR_OPERATOR_LIKE
+                            .equals(operator)) || transform.transform != TRANSFORM_NONE) && (left instanceof NodeName || left instanceof NodeLocalName))) {
-    protected Query getNodeLocalNameQuery(
-            int transform, String operator, StaticOperand right)
-            throws RepositoryException {
+    protected Query getNodeLocalNameQuery(int transform, String operator,
+            StaticOperand right) throws RepositoryException {
-                || !JCR_OPERATOR_EQUAL_TO.equals(operator)) {
+                || (!JCR_OPERATOR_EQUAL_TO.equals(operator) && !JCR_OPERATOR_LIKE
+                        .equals(operator))) {
-
+
+        if (JCR_OPERATOR_LIKE.equals(operator)) {
+            return new WildcardQuery(LOCAL_NAME, null, name, transform, cache);
+        }
