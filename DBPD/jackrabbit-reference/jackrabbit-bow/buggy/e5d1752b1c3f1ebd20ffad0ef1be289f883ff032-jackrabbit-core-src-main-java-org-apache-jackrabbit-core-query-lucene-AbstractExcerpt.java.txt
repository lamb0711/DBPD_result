JCR-2415: Update Lucene to 3.0
- Merge all from JCR-2415-lucene-3.0 at 1064038 (reintegration)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1064058 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.lucene.analysis.Token;
+import org.apache.lucene.analysis.tokenattributes.OffsetAttribute;
+import org.apache.lucene.analysis.tokenattributes.TermAttribute;
-        Token t = new Token();
-            while ((t = ts.next(t)) != null) {
-                String termText = t.term();
+            while (ts.incrementToken()) {
+                OffsetAttribute offset = ts.getAttribute(OffsetAttribute.class);
+                TermAttribute term = ts.getAttribute(TermAttribute.class);
+                String termText = term.term();
-                        t.startOffset(), t.endOffset());
+                    offset.startOffset(), offset.endOffset());
+            ts.end();
+            ts.close();
