JCR-RMI: Use remote iterators instead of arrays to avoid memory and network problems with large result sets.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@365458 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.NodeIterator;
+import javax.jcr.PropertyIterator;
+import javax.jcr.nodetype.NodeTypeIterator;
+import javax.jcr.query.RowIterator;
+import javax.jcr.version.VersionIterator;
+import org.apache.jackrabbit.rmi.client.iterator.ClientNodeIterator;
+import org.apache.jackrabbit.rmi.client.iterator.ClientNodeTypeIterator;
+import org.apache.jackrabbit.rmi.client.iterator.ClientPropertyIterator;
+import org.apache.jackrabbit.rmi.client.iterator.ClientRowIterator;
+import org.apache.jackrabbit.rmi.client.iterator.ClientVersionIterator;
+import org.apache.jackrabbit.rmi.remote.RemoteIterator;
+
+    /**
+     * Creates and returns a {@link ClientNodeIterator} instance.
+     * {@inheritDoc}
+     */
+    public NodeIterator getNodeIterator(
+            Session session, RemoteIterator remote) {
+        return new ClientNodeIterator(remote, session, this);
+    }
+
+    /**
+     * Creates and returns a {@link ClientPropertyIterator} instance.
+     * {@inheritDoc}
+     */
+    public PropertyIterator getPropertyIterator(
+            Session session, RemoteIterator remote) {
+        return new ClientPropertyIterator(remote, session, this);
+    }
+
+    /**
+     * Creates and returns a {@link ClientVersionIterator} instance.
+     * {@inheritDoc}
+     */
+    public VersionIterator getVersionIterator(
+            Session session, RemoteIterator remote) {
+        return new ClientVersionIterator(remote, session, this);
+    }
+
+    /**
+     * Creates and returns a {@link ClientNodeTypeIterator} instance.
+     * {@inheritDoc}
+     */
+    public NodeTypeIterator getNodeTypeIterator(RemoteIterator remote) {
+        return new ClientNodeTypeIterator(remote, this);
+    }
+
+    /**
+     * Creates and returns a {@link ClientRowIterator} instance.
+     * {@inheritDoc}
+     */
+    public RowIterator getRowIterator(RemoteIterator remote) {
+        return new ClientRowIterator(remote, this);
+    }
+
