Use namespace prefixes supplied with request to execute the query.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@483369 13f79535-47bb-0310-9956-ffa450edef68

+import org.w3c.dom.NamedNodeMap;
+     * Returns the namespace attributes of the given element.
+     *
+     * @param element
+     * @return the namespace attributes.
+     */
+    public static Attr[] getNamespaceAttributes(Element element) {
+        NamedNodeMap attributes = element.getAttributes();
+        List nsAttr = new ArrayList();
+        for (int i = 0; i < attributes.getLength(); i++) {
+            Attr attr = (Attr) attributes.item(i);
+            if (Namespace.XMLNS_NAMESPACE.getURI().equals(attr.getNamespaceURI())) {
+                nsAttr.add(attr);
+            }
+        }
+        return (Attr[]) nsAttr.toArray(new Attr[nsAttr.size()]);
+    }
+
+    /**
+     * Adds a namespace attribute on the given element.
+     *
+     * @param element
+     * @param prefix
+     * @param uri
+     */
+    public static void setNamespaceAttribute(Element element, String prefix, String uri) {
+        setAttribute(element, prefix, Namespace.XMLNS_NAMESPACE, uri);
+    }
+
+    /**
