JCR-2744: Avoid element arrays in PathImpl

Avoid using Path.getNameElement() where possible

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@997303 13f79535-47bb-0310-9956-ffa450edef68

-        // Get the last path element and check that it's a simple name
-        Path.Element last = path.getNameElement();
-        if (!last.denotesName() || last.getIndex() != 0) {
+        // Check that the last path element is a simple name
+        if (!path.denotesName() || path.getIndex() != Path.INDEX_UNDEFINED) {
-        return parentNode.addNode(last.getName(), typeName, id);
+        return parentNode.addNode(path.getName(), typeName, id);
