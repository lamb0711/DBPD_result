- adjusting version labels to spec 0.16.2

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@153381 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.util.Text;
-            String name = (String) lNode.getPropertyValue(NativePVM.PROPNAME_NAME).internalValue();
+            QName name = (QName) lNode.getPropertyValue(NativePVM.PROPNAME_NAME).internalValue();
-    public InternalVersion getVersionByLabel(String label) {
+    public InternalVersion getVersionByLabel(QName label) {
-            String[] labels = v.internalGetLabels();
+            QName[] labels = v.internalGetLabels();
-                QName name = new QName("", Text.md5(labels[i]));
-                labelNode.removeNode(name);
+                labelNode.removeNode(labels[i]);
-     * @see InternalVersionHistory#addVersionLabel(org.apache.jackrabbit.core.QName, String, boolean)
+     * @see InternalVersionHistory#addVersionLabel(QName, QName, boolean)
-    public InternalVersion addVersionLabel(QName versionName, String label, boolean move)
+    public InternalVersion addVersionLabel(QName versionName, QName label, boolean move)
-        QName name = new QName("", Text.md5(label));
-
-            PersistentNode lNode = labelNode.addNode(name, NodeTypeRegistry.NT_UNSTRUCTURED);
+            PersistentNode lNode = labelNode.addNode(label, NodeTypeRegistry.NT_UNSTRUCTURED);
-     * @see InternalVersionHistory#removeVersionLabel(String)
+     * @see InternalVersionHistory#removeVersionLabel(QName)
-    public InternalVersion removeVersionLabel(String label) throws VersionException {
+    public InternalVersion removeVersionLabel(QName label) throws VersionException {
-        QName name = new QName("", Text.md5(label));
-
-            labelNode.removeNode(name);
+            labelNode.removeNode(label);
-    public String[] getVersionLabels() {
-        return (String[]) labelCache.keySet().toArray(new String[labelCache.size()]);
+    public QName[] getVersionLabels() {
+        return (QName[]) labelCache.keySet().toArray(new QName[labelCache.size()]);
