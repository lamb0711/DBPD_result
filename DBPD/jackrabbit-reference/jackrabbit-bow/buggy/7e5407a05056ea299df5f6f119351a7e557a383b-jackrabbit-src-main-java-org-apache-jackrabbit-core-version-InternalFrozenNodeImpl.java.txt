[JCR-317] replace UUID strings by UUID classes in NodeId, etc..

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@378221 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.NodeId;
-    private String frozenUUID = null;
+    private UUID frozenUUID = null;
-                frozenUUID = node.getPropertyValue(QName.JCR_FROZENUUID).internalValue().toString();
+                frozenUUID = UUID.fromString(node.getPropertyValue(QName.JCR_FROZENUUID).internalValue().toString());
-    public String getId() {
-        return node.getUUID();
+    public NodeId getId() {
+        return node.getNodeId();
-                freezes[i++] = (InternalFreeze) vMgr.getItem(entry.getUUID());
+                freezes[i++] = (InternalFreeze) vMgr.getItem(entry.getId());
-    public boolean hasFrozenHistory(String uuid) {
+    public boolean hasFrozenHistory(UUID uuid) {
-            NodeState.ChildNodeEntry entry  = node.getState().getChildNodeEntry(uuid);
+            NodeId id = new NodeId(uuid);
+            NodeState.ChildNodeEntry entry  = node.getState().getChildNodeEntry(id);
-                return vMgr.getItem(uuid) instanceof InternalFrozenVersionHistory;
+                return vMgr.getItem(id) instanceof InternalFrozenVersionHistory;
-    public String getFrozenUUID() {
+    public UUID getFrozenUUID() {
-                                            NodeImpl src)
+                                         NodeImpl src)
-                                            NodeImpl src, int mode)
+                                       NodeImpl src, int mode)
