JCR-72 Session.impersonate non-functional: 'impersonate' is now delegated to LoginModule; added dummy 'impersonator' handling to SimpleLoginModule

- also fixed Session.getAccessibleWorkspaceNames()


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@158069 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.Constants;
-                    // @todo implement simple username/password authentication
+
+                    Object attr = sc.getAttribute(Constants.IMPERSONATOR_ATTRIBUTE);
+                    if (attr != null && attr instanceof Subject) {
+                        Subject impersonator = (Subject) attr;
+                        // @todo check privileges to 'impersonate' the user represented by the supplied credentials
+                    } else {
+                        // @todo implement simple username/password authentication
+                    }
+
