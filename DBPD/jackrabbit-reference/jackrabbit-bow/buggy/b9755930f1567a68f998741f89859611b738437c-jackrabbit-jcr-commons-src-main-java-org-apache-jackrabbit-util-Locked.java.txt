JCR-1331: Improper deprecation of Locked class
    - Reverted revisions 613834 and 613841 as requested by Angela

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@614158 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.name.NameFormat;
+import org.apache.jackrabbit.name.NoPrefixDeclaredException;
+import org.apache.jackrabbit.name.QName;
+import org.apache.jackrabbit.name.SessionNamespaceResolver;
+
+ *
+ * @deprecated Use the Locked class from 
+ *             the org.apache.jackrabbit.spi.commons.lock package of
+ *             the jackrabbit-spi-commons component.
-    /** The mixin namespace */
-    private static final String MIX = "http://www.jcp.org/jcr/mix/1.0";
-
+        SessionNamespaceResolver resolver = new SessionNamespaceResolver(session);
+        Lock lock;
-            String mix = session.getNamespacePrefix(MIX);
-            if (!lockable.isNodeType(mix + ":lockable")) {
+            if (!lockable.isNodeType(NameFormat.format(QName.MIX_LOCKABLE, resolver))) {
-            Lock lock = tryLock(lockable, isDeep);
+            lock = tryLock(lockable, isDeep);
+        } catch (NoPrefixDeclaredException e) {
+            throw new RepositoryException(e);
