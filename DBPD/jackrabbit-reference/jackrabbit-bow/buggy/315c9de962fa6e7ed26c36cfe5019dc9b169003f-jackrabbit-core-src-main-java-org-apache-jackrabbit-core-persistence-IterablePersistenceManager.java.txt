JCR-3185: refactor consistency checks in BundleDBPersistenceManager into a standalone class that could be re-used for other PMs

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1221428 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.List;
+
-     * @return an iterator of all bundles.
+     * @return a list of all bundles.
-    Iterable<NodeId> getAllNodeIds(NodeId after, int maxCount)
+    List<NodeId> getAllNodeIds(NodeId after, int maxCount)
