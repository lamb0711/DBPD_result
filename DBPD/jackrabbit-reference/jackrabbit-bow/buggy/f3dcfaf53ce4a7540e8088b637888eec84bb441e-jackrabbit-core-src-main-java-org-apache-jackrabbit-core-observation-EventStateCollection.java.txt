JCR-1169 Distribution of commons classes (adjust jackrabbit-core)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@590014 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.name.MalformedPathException;
-import org.apache.jackrabbit.name.Path;
-import org.apache.jackrabbit.name.QName;
+import org.apache.jackrabbit.spi.Path;
+import org.apache.jackrabbit.spi.Name;
+import org.apache.jackrabbit.name.PathFactoryImpl;
+import org.apache.jackrabbit.name.PathBuilder;
-                         SessionImpl session,
-                         Path pathPrefix) {
+                                SessionImpl session,
+                                Path pathPrefix) {
-                                        oldPath = Path.create(parentPath, moved.getName(), false);
+                                        oldPath = PathFactoryImpl.getInstance().create(parentPath, moved.getName(), false);
-                                        oldPath = Path.create(parentPath, moved.getName(), moved.getIndex(), false);
+                                        oldPath = PathFactoryImpl.getInstance().create(parentPath, moved.getName(), moved.getIndex(), false);
-                                } catch (MalformedPathException e) {
+                                } catch (RepositoryException e) {
-                        QName name = child.getName();
+                        Name name = child.getName();
-                        Path.PathElement addedElem = Path.create(name, index).getNameElement();
+                        Path.Element addedElem = PathFactoryImpl.getInstance().create(name, index).getNameElement();
-                        Path.PathElement removedElem = Path.create(name, oldIndex).getNameElement();
+                        Path.Element removedElem = PathFactoryImpl.getInstance().create(name, oldIndex).getNameElement();
-        Path.PathBuilder builder = new Path.PathBuilder(pathPrefix.getElements());
-        Path.PathElement[] elements = p.getElements();
+        PathBuilder builder = new PathBuilder(pathPrefix.getElements());
+        Path.Element[] elements = p.getElements();
-        try {
-            return builder.getPath();
-        } catch (MalformedPathException e) {
-            throw new RepositoryException(e);
-        }
+        return builder.getPath();
