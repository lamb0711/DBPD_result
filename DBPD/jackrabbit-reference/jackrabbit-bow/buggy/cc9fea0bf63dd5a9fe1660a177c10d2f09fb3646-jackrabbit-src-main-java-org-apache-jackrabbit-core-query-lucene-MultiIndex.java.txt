JCR-257: Use separate index for jcr:system tree

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@357961 13f79535-47bb-0310-9956-ffa450edef68

+     * Set&lt;String> of uuids that should not be indexed.
+     */
+    private final Set excludedUUIDs;
+
+    /**
-     * @param indexDir the base file system
-     * @param handler the search handler
-     * @param stateMgr shared item state manager
-     * @param rootUUID uuid of the root node
+     * @param indexDir      the base file system
+     * @param handler       the search handler
+     * @param stateMgr      shared item state manager
+     * @param rootUUID      uuid of the root node
+     * @param excludedUUIDs Set&lt;String> that contains uuids that should not
+     *                      be indexed nor further traversed.
-               String rootUUID) throws IOException {
+               String rootUUID,
+               Set excludedUUIDs) throws IOException {
-        this.redoLog = new RedoLog(new File(indexDir, REDO_LOG)); 
+        this.redoLog = new RedoLog(new File(indexDir, REDO_LOG));
+        this.excludedUUIDs = new HashSet(excludedUUIDs);
+        if (excludedUUIDs.contains(uuid)) {
+            return;
+        }
