Implement 'order by' syntax for XPath and SQL. Actual ordering on the query result is not yet done.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@126598 13f79535-47bb-0310-9956-ffa450edef68

-            //int propIdx = sb.length();
-        // @todo implement
+        StringBuffer sb = (StringBuffer) data;
+        sb.append(" order by");
+        OrderQueryNode.OrderSpec[] specs = node.getOrderSpecs();
+        String comma = "";
+        try {
+            for (int i = 0; i < specs.length; i++) {
+                sb.append(comma);
+                QName prop = ISO9075.encode(specs[i].getProperty());
+                sb.append(" @").append(prop.toJCRName(resolver));
+                if (!specs[i].isAscending()) {
+                    sb.append(" descending");
+                }
+                comma = ",";
+            }
+        } catch (NoPrefixDeclaredException e) {
+            exceptions.add(e);
+        }
+    /**
+     * Appends the value of a relation node to the <code>StringBuffer</code>
+     * <code>sb</code>.
+     * @param node the relation node.
+     * @param b where to append the value.
+     * @throws NoPrefixDeclaredException if a prefix declaration is missing for
+     *  a namespace URI. 
+     */
-
