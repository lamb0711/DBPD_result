JCR-546: Consistently use the try-finally pattern for acquiring locks

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@478641 13f79535-47bb-0310-9956-ffa450edef68

-
-        NodeState state;
-            state = (NodeState) stateMgr.getItemState(history.getId());
+            NodeState state = (NodeState) stateMgr.getItemState(history.getId());
+            NodeStateEx stateEx = new NodeStateEx(stateMgr, ntReg, state, null);
+            return new InternalVersionHistoryImpl(this, stateEx);
-        NodeStateEx stateEx = new NodeStateEx(stateMgr, ntReg, state, null);
-        return new InternalVersionHistoryImpl(this, stateEx);
