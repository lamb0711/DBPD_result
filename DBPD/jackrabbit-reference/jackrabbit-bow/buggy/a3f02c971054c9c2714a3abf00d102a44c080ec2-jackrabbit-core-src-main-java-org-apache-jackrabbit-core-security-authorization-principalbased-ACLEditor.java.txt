JCR-2700 : Allow for wildcard restriction in resource-based ACEs

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@983906 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.api.security.JackrabbitAccessControlEntry;
+import org.apache.jackrabbit.core.security.authorization.AccessControlEntryImpl;
+import java.util.Set;
-            JackrabbitAccessControlEntry ace = (JackrabbitAccessControlEntry) ace1;
+            AccessControlEntryImpl ace = (AccessControlEntryImpl) ace1;
-            String[] restrNames = ace.getRestrictionNames();
-            for (String restrName : restrNames) {
-                Name pName = session.getQName(restrName);
+            Set<Name> restrNames = ace.getRestrictions().keySet();
+            for (Name restrName : restrNames) {
-                setProperty(aceNode, pName, value);
+                setProperty(aceNode, restrName, value);
