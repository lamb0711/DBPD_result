- added lazy-loading item iterator
- optimized Node.has/getNodes(), Node.has/getProperties()

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@56953 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.util.ChildrenCollector;
-        ArrayList nodes = new ArrayList();
-        // traverse children using a 'collector'
-        accept(new ChildrenCollector(nodes, true, false, 1));
-        return (nodes.size() > 0);
+        return itemMgr.hasChildNodes((NodeId) id);
-        ArrayList props = new ArrayList();
-        // traverse children using a 'collector'
-        accept(new ChildrenCollector(props, false, true, 1));
-        return (props.size() > 0);
+        return itemMgr.hasChildProperties((NodeId) id);
-            Iterator iter = refs.getReferences().iterator();
-            ArrayList list = new ArrayList();
-            while (iter.hasNext()) {
-                PropertyId propId = (PropertyId) iter.next();
-                list.add(itemMgr.getItem(propId));
-            }
-            return new IteratorHelper(list);
+            // refs.getReferences returns a list of PropertyId's
+            List idList = refs.getReferences();
+            return new LazyItemIterator(itemMgr, idList);
