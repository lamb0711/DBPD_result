JCR-1934 DbDataStore: delete temporary files using finalize()

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@740262 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.commons.io.input.AutoCloseInputStream;
- * An input stream from a temp file that self-destructs when fully read or closed.
+ * An input stream from a temporary file. The file is deleted when the stream is
+ * closed, fully read, or garbage collected.
-public class TempFileInputStream extends InputStream {
+public class TempFileInputStream extends AutoCloseInputStream {
-    private final InputStream in;
+        super(new BufferedInputStream(new FileInputStream(file)));
-        in = new BufferedInputStream(new FileInputStream(file));
