JCR-2087 Upgrade to Java 5 as the base platform

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@794641 13f79535-47bb-0310-9956-ffa450edef68

-    private List events;
+    private List<EventState> events;
-    public ChangeLogRecord(ChangeLog changes, List events,
+    public ChangeLogRecord(ChangeLog changes, List<EventState> events,
-        this.events = new ArrayList();
+        this.events = new ArrayList<EventState>();
-        Set mixins = new HashSet();
+        Set<Name> mixins = new HashSet<Name>();
-        Map info = null;
+        Map<String, InternalValue> info = null;
-            info = new HashMap();
+            info = new HashMap<String, InternalValue>();
-                                        Name ntName, Set mixins, String userId) {
+                                        Name ntName, Set<Name> mixins, String userId) {
-        Iterator iter = events.iterator();
-        while (iter.hasNext()) {
-            EventState event = (EventState) iter.next();
+        for (EventState event : events) {
-        Set mixins = event.getMixinNames();
+        Set<Name> mixins = event.getMixinNames();
-        Iterator iter = mixins.iterator();
+        Iterator<Name> iter = mixins.iterator();
-            record.writeQName((Name) iter.next());
+            record.writeQName(iter.next());
-            Map info = event.getInfo();
+            Map<String, InternalValue> info = event.getInfo();
-            for (Iterator it = info.entrySet().iterator(); it.hasNext(); ) {
-                Map.Entry entry = (Map.Entry) it.next();
-                String key = (String) entry.getKey();
-                InternalValue value = (InternalValue) entry.getValue();
+            for (Map.Entry<String, InternalValue> entry : info.entrySet()) {
+                String key = entry.getKey();
+                InternalValue value = entry.getValue();
-    public List getEvents() {
+    public List<EventState> getEvents() {
