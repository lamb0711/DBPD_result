JCR-996 Name and Path interfaces in SPI
JCR-1169 Distribution of commons classes


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@586065 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.name.QName;
+import org.apache.jackrabbit.spi.Name;
-            definition = getQNodeDefinition(ent, entTarget, nodeState.getQName());
+            definition = getQNodeDefinition(ent, entTarget, nodeState.getName());
-        } catch (NodeTypeConflictException e) {
-            definition = service.getNodeDefinition(sessionInfo, nodeState.getNodeEntry().getWorkspaceId());
-    public QNodeDefinition getQNodeDefinition(NodeState parentState, QName name, QName nodeTypeName)
+    public QNodeDefinition getQNodeDefinition(NodeState parentState, Name name, Name nodeTypeName)
-    public QNodeDefinition getQNodeDefinition(EffectiveNodeType ent, QName name, QName nodeTypeName) throws NoSuchNodeTypeException, ConstraintViolationException {
+    public QNodeDefinition getQNodeDefinition(EffectiveNodeType ent, Name name, Name nodeTypeName) throws NoSuchNodeTypeException, ConstraintViolationException {
-            definition = getQPropertyDefinition(ent, propertyState.getQName(), propertyState.getType(), propertyState.isMultiValued(), true);
+            definition = getQPropertyDefinition(ent, propertyState.getName(), propertyState.getType(), propertyState.isMultiValued(), true);
-        } catch (NodeTypeConflictException e) {
-            definition = service.getPropertyDefinition(sessionInfo, ((PropertyEntry) propertyState.getHierarchyEntry()).getWorkspaceId());
-    public QPropertyDefinition getQPropertyDefinition(QName ntName, QName propName,
+    public QPropertyDefinition getQPropertyDefinition(Name ntName, Name propName,
-                                                      QName name, int type,
+                                                      Name name, int type,
-                                                      QName name, int type)
+                                                      Name name, int type)
-    private EffectiveNodeType getEffectiveNodeType(QName ntName) throws NoSuchNodeTypeException {
+    private EffectiveNodeType getEffectiveNodeType(Name ntName) throws NoSuchNodeTypeException {
-                                              QName name)
+                                              Name name)
-                                                              QName name, int type,
+                                                              Name name, int type,
-                                                              QName name, int type)
+                                                              Name name, int type)
