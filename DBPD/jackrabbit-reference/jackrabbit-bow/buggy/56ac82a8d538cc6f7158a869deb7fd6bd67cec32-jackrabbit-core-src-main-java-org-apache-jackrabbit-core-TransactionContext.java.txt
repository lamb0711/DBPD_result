JCR-2554 Deadlock inside XASession on Weblogic

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@923277 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Arrays;
-
-    /**
-     * Helper Method to check if the given {@link Xid} has the same globalTransactionId
-     * as the current {@link Xid} bind to the {@link #CURRENT_XID} ThreadLocal
-     * @param xid Xid to check
-     * @param fallback if either the given {@link Xid} or the current {@link Xid} is null we can not check if they
-     *        are same, the fallback value will be returned
-     * @return true if the same otherwise false
-     */
-    public static boolean isCurrentXid(Xid xid, boolean fallback) {
-        Xid currentXid = CURRENT_XID.get();
-        return fallback ? true : (currentXid == null || xid == null) ? fallback : Arrays.equals(xid.getGlobalTransactionId(), currentXid.getGlobalTransactionId());
-    }
