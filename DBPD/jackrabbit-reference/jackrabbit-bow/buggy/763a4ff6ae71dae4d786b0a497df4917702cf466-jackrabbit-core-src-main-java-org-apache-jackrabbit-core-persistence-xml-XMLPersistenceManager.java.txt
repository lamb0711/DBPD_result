JCR-2087: Upgrade to Java 5 as the base platform

Various cleanups here and there.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@793283 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Iterator;
-            Set mixins = new HashSet();
+            Set<Name> mixins = new HashSet<Name>();
-        ArrayList values = new ArrayList();
+        ArrayList<InternalValue> values = new ArrayList<InternalValue>();
-                Iterator iter = state.getMixinTypeNames().iterator();
-                while (iter.hasNext()) {
+                for (Name mixin : state.getMixinTypeNames()) {
-                            + NAME_ATTRIBUTE + "=\"" + Text.encodeIllegalXMLCharacters(iter.next().toString()) + "\"/>\n");
+                            + NAME_ATTRIBUTE + "=\"" + Text.encodeIllegalXMLCharacters(mixin.toString()) + "\"/>\n");
-                iter = state.getPropertyNames().iterator();
-                while (iter.hasNext()) {
-                    Name propName = (Name) iter.next();
+                for (Name propName : state.getPropertyNames()) {
-                iter = state.getChildNodeEntries().iterator();
-                while (iter.hasNext()) {
-                    ChildNodeEntry entry = (ChildNodeEntry) iter.next();
+                for (ChildNodeEntry entry : state.getChildNodeEntries()) {
-                Iterator iter = refs.getReferences().iterator();
-                while (iter.hasNext()) {
-                    PropertyId propId = (PropertyId) iter.next();
+                for (PropertyId propId : refs.getReferences()) {
