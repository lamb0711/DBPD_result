JCR-1232: Merge UUID to NodeId

Use NodeIds instead of UUIDs in ReferenceChangeTracker.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@792469 13f79535-47bb-0310-9956-ffa450edef68

-                refTracker.mappedUUID(nodeInfo.getId().getUUID(), node.getNodeId().getUUID());
+                refTracker.mappedId(nodeInfo.getId(), node.getNodeId());
-                    UUID original = UUID.fromString(val.getString());
-                    UUID adjusted = refTracker.getMappedUUID(original);
+                    NodeId original = new NodeId(UUID.fromString(val.getString()));
+                    NodeId adjusted = refTracker.getMappedId(original);
-                                session.getNodeByUUID(adjusted),
+                                session.getNodeByUUID(adjusted.getUUID()),
-                UUID original = UUID.fromString(val.getString());
-                UUID adjusted = refTracker.getMappedUUID(original);
+                NodeId original = new NodeId(UUID.fromString(val.getString()));
+                NodeId adjusted = refTracker.getMappedId(original);
-                    prop.setValue(session.getNodeByUUID(adjusted));
+                    prop.setValue(session.getNodeById(adjusted).getUUID());
