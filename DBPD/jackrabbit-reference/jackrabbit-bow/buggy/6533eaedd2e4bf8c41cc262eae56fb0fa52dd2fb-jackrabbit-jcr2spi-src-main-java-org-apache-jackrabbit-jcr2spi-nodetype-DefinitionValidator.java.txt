JCR-1547: JCR2SPI: remove dependency to state-package within entprovider interface

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@650417 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.spi.commons.nodetype.NodeTypeConflictException;
+import javax.jcr.nodetype.ConstraintViolationException;
-    public EffectiveNodeTypeImpl validateNodeTypeDef(QNodeTypeDefinition ntDef, Map validatedDefs)
+    public EffectiveNodeType validateNodeTypeDef(QNodeTypeDefinition ntDef, Map validatedDefs)
-        EffectiveNodeTypeImpl ent = null;
+        EffectiveNodeType ent = null;
-            } catch (NodeTypeConflictException ntce) {
+            } catch (ConstraintViolationException e) {
-                throw new InvalidNodeTypeDefException(msg, ntce);
-            } catch (NoSuchNodeTypeException nsnte) {
+                throw new InvalidNodeTypeDefException(msg, e);
+            } catch (NoSuchNodeTypeException e) {
-                throw new InvalidNodeTypeDefException(msg, nsnte);
+                throw new InvalidNodeTypeDefException(msg, e);
-                        ent = EffectiveNodeTypeImpl.create(entProvider, ntDef, validatedDefs);
+                        ent = entProvider.getEffectiveNodeType(ntDef, validatedDefs);
-                } catch (NodeTypeConflictException ntce) {
+                } catch (ConstraintViolationException e) {
-                    throw new InvalidNodeTypeDefException(msg, ntce);
-                } catch (NoSuchNodeTypeException nsnte) {
+                    throw new InvalidNodeTypeDefException(msg, e);
+                } catch (NoSuchNodeTypeException e) {
-                    throw new InvalidNodeTypeDefException(msg, nsnte);
+                    throw new InvalidNodeTypeDefException(msg, e);
-                                ent = EffectiveNodeTypeImpl.create(entProvider, ntDef, validatedDefs);
+                                ent = entProvider.getEffectiveNodeType(ntDef, validatedDefs);
-                    } catch (NodeTypeConflictException ntce) {
+                    } catch (ConstraintViolationException e) {
-                        throw new InvalidNodeTypeDefException(msg, ntce);
-                    } catch (NoSuchNodeTypeException nsnte) {
+                        throw new InvalidNodeTypeDefException(msg, e);
+                    } catch (NoSuchNodeTypeException e) {
-                        throw new InvalidNodeTypeDefException(msg, nsnte);
+                        throw new InvalidNodeTypeDefException(msg, e);
-                ent = EffectiveNodeTypeImpl.create(entProvider, ntDef, validatedDefs);
-            } catch (NodeTypeConflictException ntce) {
+                ent = entProvider.getEffectiveNodeType(ntDef, validatedDefs);
+            } catch (ConstraintViolationException e) {
-                throw new InvalidNodeTypeDefException(msg, ntce);
-            } catch (NoSuchNodeTypeException nsnte) {
+                throw new InvalidNodeTypeDefException(msg, e);
+            } catch (NoSuchNodeTypeException e) {
-                throw new InvalidNodeTypeDefException(msg, nsnte);
+                throw new InvalidNodeTypeDefException(msg, e);
-            } catch (NodeTypeConflictException e) {
+            } catch (ConstraintViolationException e) {
