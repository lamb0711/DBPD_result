Work in progress
- Add SessionInfo parameter to RepositoryService.createEventFilter()
- Move creation of event filter in ObservationManagerImpl.addEventListener() out of synchronized block
- Make sure subscription is in place before batch
- NodeTypeDefinitions are not cached in RepositoryServiceImpl
- Return empty EventBundle array if there were no events
- Decide whether an event bundle is local based on lastBatchId in SessionInfo and transactionId in EventBundle.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@482631 13f79535-47bb-0310-9956-ffa450edef68

+     * @param sessionInfo the session info which requests an event filter.
+     * @throws RepositoryException if an error occurs while creating the
+     * EventFilter.
-    public EventFilter createEventFilter(int eventTypes, Path absPath,
-                                         boolean isDeep, String[] uuid,
-                                         QName[] nodeTypeName, boolean noLocal)
-            throws UnsupportedRepositoryOperationException;
+    public EventFilter createEventFilter(SessionInfo sessionInfo, int eventTypes,
+                                         Path absPath, boolean isDeep,
+                                         String[] uuid, QName[] nodeTypeName,
+                                         boolean noLocal)
+            throws UnsupportedRepositoryOperationException, RepositoryException;
