JCR-1588: Access Control

- dispose user manager upon session.logout

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@758654 13f79535-47bb-0310-9956-ffa450edef68

-                SessionImpl s = (SessionImpl) sImpl.createSession(workspaceName);
-                return new UserManagerImpl(s, adminId);
+                UserManagerImpl uMgr;
+                if (workspaceName.equals(sImpl.getWorkspace().getName())) {
+                    uMgr = new UserManagerImpl(sImpl, adminId);
+                } else {
+                    SessionImpl s = (SessionImpl) sImpl.createSession(workspaceName);
+                    uMgr = new UserManagerImpl(s, adminId);
+                    sImpl.addListener(uMgr);
+                }
+                return uMgr;
