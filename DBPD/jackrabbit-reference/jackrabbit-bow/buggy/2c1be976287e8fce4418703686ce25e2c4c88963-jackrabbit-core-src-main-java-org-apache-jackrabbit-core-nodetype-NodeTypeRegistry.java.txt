JCR-2640: Internal repository context

Streamline namespace and node type registry creation

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@948818 13f79535-47bb-0310-9956-ffa450edef68

+
-            "custom_nodetypes.xml";
+            "nodetypes/custom_nodetypes.xml";
-    /**
-     * Create a new <code>NodeTypeRegistry</codes>
-     *
-     * @param nsReg namespace registry
-     * @param ntStore node type store
-     * @return <code>NodeTypeRegistry</codes> object
-     * @throws RepositoryException if an error occurs
-     */
-    public static NodeTypeRegistry create(NamespaceRegistry nsReg, FileSystem ntStore)
-            throws RepositoryException {
-        return new NodeTypeRegistry(nsReg, ntStore);
-    }
-
-     * Protected constructor
+     * Constructor
-     * @param ntStore store
+     * @param fs repository file system
-    protected NodeTypeRegistry(NamespaceRegistry nsReg, FileSystem ntStore)
+    public NodeTypeRegistry(NamespaceRegistry nsReg, FileSystem fs)
-                new FileSystemResource(ntStore, CUSTOM_NODETYPES_RESOURCE_NAME);
+            new FileSystemResource(fs, CUSTOM_NODETYPES_RESOURCE_NAME);
