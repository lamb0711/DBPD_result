JCR-2509 : Reduce number of compiler warning by adding @Override and generics where appropriate [step 2: jackrabbit-jcr-server]

in addition:
- minor improvements in comments, typos
- use foreach loops where possible
- remove redundant Tika imports in server/io package
- remove redundant casts
- add missing index increment in SubscriptionManagerImpl.SubscriptionMap

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@915339 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Map;
+import java.util.Set;
-        private SessionMap sessionMap = new SessionMap();
-        private HashMap referenceToSessionMap = new HashMap();
+        private Map<DavSession, Set<Object>> sessionMap = new HashMap<DavSession, Set<Object>>();
+        private Map<Object, DavSession> referenceToSessionMap = new HashMap<Object, DavSession>();
-                for (Iterator it = ifHeader.getAllTokens(); it.hasNext();) {
-                    String token = it.next().toString();
+                for (Iterator<String> it = ifHeader.getAllTokens(); it.hasNext();) {
+                    String token = it.next();
-                sessionMap.put(session, new HashSet());
+                sessionMap.put(session, new HashSet<Object>());
-            HashSet referenceSet = sessionMap.get(session);
+            Set<Object> referenceSet = sessionMap.get(session);
-            HashSet referenceSet = sessionMap.get(session);
+            Set<Object> referenceSet = sessionMap.get(session);
-                        // should not occure, since we original built a DavSessionImpl
-                        // that wraps a repository session.
+                        // should not occur, since we originally built a
+                        // DavSessionImpl that wraps a repository session.
-            return (DavSession) referenceToSessionMap.get(reference);
+            return referenceToSessionMap.get(reference);
-
-    /**
-     * Simple inner class extending the {@link HashMap}.
-     */
-    private static class SessionMap extends HashMap {
-
-        public HashSet get(DavSession key) {
-            return (HashSet) super.get(key);
-        }
-
-        public HashSet put(DavSession key, HashSet value) {
-            return (HashSet) super.put(key, value);
-        }
-
-        public HashSet remove(DavSession key) {
-            return (HashSet) super.remove(key);
-        }
-    }
