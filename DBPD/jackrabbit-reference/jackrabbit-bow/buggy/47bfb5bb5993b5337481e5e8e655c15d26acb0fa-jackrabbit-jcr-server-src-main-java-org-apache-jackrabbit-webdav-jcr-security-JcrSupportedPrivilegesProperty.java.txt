JCR-2113 : WIP (Contribution by Alfusainey Jallow)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1640892 13f79535-47bb-0310-9956-ffa450edef68

+    private final Set<Privilege> privileges = new HashSet<Privilege>();
+     * Build supported privileges for the jcr:all privilege.
+     *
+     * @param session The reading session
+     */
+    public JcrSupportedPrivilegesProperty(Session session) throws RepositoryException {
+        this.session = session;
+        this.absPath = null;
+        AccessControlManager acMgr = session.getAccessControlManager();
+        Privilege jcrAll = acMgr.privilegeFromName(Privilege.JCR_ALL);
+        privileges.add(jcrAll);
+    }
+
+    /**
-        AccessControlManager acMgr = session.getAccessControlManager();
-        Set<Privilege> privs = new HashSet<Privilege>(Arrays.asList(acMgr.getSupportedPrivileges(absPath)));
-        for (Privilege p : privs) {
+        if (privileges.isEmpty()) {
+            AccessControlManager acMgr = session.getAccessControlManager();
+            privileges.addAll(Arrays.asList(acMgr.getSupportedPrivileges(absPath)));
+        }
+        for (Privilege p : privileges) {
