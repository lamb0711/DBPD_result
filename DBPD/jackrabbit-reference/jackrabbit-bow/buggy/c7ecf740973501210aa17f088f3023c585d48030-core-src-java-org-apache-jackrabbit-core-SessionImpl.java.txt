- fixed Serializable support of ItemId, ItemState and derived classes
- new internal utility interface util.Dumpable providing diagnostic
  output
- added Dumpable support to several internal components
- extracted ItemStateStore interface from ItemStateMap concrete class


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@230483 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.util.Dumpable;
-public class SessionImpl implements Session {
+public class SessionImpl implements Session, Dumpable {
-     * Dumps the state of this <code>Session</code> instance
-     * (used for diagnostic purposes).
-     *
-     * @param ps
-     * @throws RepositoryException
-     */
-    public void dump(PrintStream ps) throws RepositoryException {
-        ps.print("Session: ");
-        if (userId == null) {
-            ps.print("unknown");
-        } else {
-            ps.print(userId);
-        }
-        ps.println(" (" + this + ")");
-        ps.println();
-        itemMgr.dump(ps);
-        ps.println();
-        itemStateMgr.dump(ps);
-    }
-
-    /**
+
+    //-------------------------------------------------------------< Dumpable >
+    /**
+     * {@inheritDoc}
+     */
+    public void dump(PrintStream ps) {
+        ps.print("Session: ");
+        if (userId == null) {
+            ps.print("unknown");
+        } else {
+            ps.print(userId);
+        }
+        ps.println(" (" + this + ")");
+        ps.println();
+        itemMgr.dump(ps);
+        ps.println();
+        itemStateMgr.dump(ps);
+    }
