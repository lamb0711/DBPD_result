JCR-3816: [aws-ext]S3DS not able update lastModified of record > 5GB
JCR-3817: [jackrabbit-aws-ext] Performance of operation degrades while running DS GC

Applying patch from Shashank Gupta

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1632482 13f79535-47bb-0310-9956-ffa450edef68

-     * Write file to backend in asynchronous mode. Backend implmentation may
-     * choose not to write asynchronously but it requires to call
-     * {@link AsyncUploadCallback#call(DataIdentifier, File, com.day.crx.cloud.s3.ds.AsyncUploadCallback.RESULT)}
-     * after upload succeed or failed.
+     * Write file to backend in asynchronous mode.
+   
+    /**
+     * Update the lastModified of record if it's lastModified < minModifiedDate.
+     * 
+     * @param identifier
+     * @param minModifiedDate
+     * @throws DataStoreException
+     */
+    void touch(final DataIdentifier identifier, long minModifiedDate)
+            throws DataStoreException;
+    
+    /**
+     * Update the lastModified of record if it's lastModified < minModifiedDate
+     * asynchronously. Result of update is passed using appropriate
+     * {@link AsyncTouchCallback} methods. If identifier's lastModified >
+     * minModified {@link AsyncTouchCallback#onAbort(AsyncTouchResult)} is
+     * called. Any exception is communicated through
+     * {@link AsyncTouchCallback#onFailure(AsyncTouchResult)} . On successful
+     * update of lastModified,
+     * {@link AsyncTouchCallback#onSuccess(AsyncTouchResult)(AsyncTouchResult)}
+     * is invoked.
+     * 
+     * @param identifier
+     * @param minModifiedDate
+     * @param callback
+     * @throws DataStoreException
+     */
+    void touchAsync(final DataIdentifier identifier, long minModifiedDate,
+            final AsyncTouchCallback callback) throws DataStoreException;
