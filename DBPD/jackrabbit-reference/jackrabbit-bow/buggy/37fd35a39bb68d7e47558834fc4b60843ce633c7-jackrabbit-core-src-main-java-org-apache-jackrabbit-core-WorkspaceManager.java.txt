JCR-2640: Internal repository context

Use the RepositoryContext to track the ItemStateCacheFactory instance.
Remove the RepositoryImpl member variables from SessionImpl and WorkspaceImpl.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@948874 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.AccessDeniedException;
+import javax.security.auth.Subject;
+    // FIXME: There should be a better place for this. Refactor...
+    public SessionImpl createSession(Subject subject, String workspaceName)
+        throws RepositoryException {
+        return repository.createSession(subject, workspaceName);
+    }
+
