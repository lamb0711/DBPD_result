JCR-2882 DatabaseJournal: java.lang.IllegalStateException: already in batch mode

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1067983 13f79535-47bb-0310-9956-ffa450edef68

- * 
+ *
- * 
+ *
- * 
+ *
- * 
+ *
- * 
+ *
- * 
+ *
-    private static Logger log = LoggerFactory.getLogger(ConnectionHelper.class);
+    static Logger log = LoggerFactory.getLogger(ConnectionHelper.class);
-    private final boolean blockOnConnectionLoss;
+    final boolean blockOnConnectionLoss;
-    
+
-     * 
+     *
-     * 
+     *
-     * 
+     *
-     * 
+     *
-     * 
+     *
-     * 
+     *
-            throw new IllegalStateException("already in batch mode");
+            throw new SQLException("already in batch mode");
-     * 
+     *
-     * 
+     *
-            
+
-    
-    private void reallyExec(String sql, Object... params) throws SQLException {
+
+    void reallyExec(String sql, Object... params) throws SQLException {
-     * 
+     *
-            
+
-    private int reallyUpdate(String sql, Object[] params) throws SQLException {
+    int reallyUpdate(String sql, Object[] params) throws SQLException {
-     * 
+     *
-            
+
-    
-    private ResultSet reallyExec(String sql, Object[] params, boolean returnGeneratedKeys, int maxRows)
+
+    ResultSet reallyExec(String sql, Object[] params, boolean returnGeneratedKeys, int maxRows)
-     * 
+     *
-     * 
+     *
-     * 
+     *
-    
+
-     * 
+     *
-        
+
