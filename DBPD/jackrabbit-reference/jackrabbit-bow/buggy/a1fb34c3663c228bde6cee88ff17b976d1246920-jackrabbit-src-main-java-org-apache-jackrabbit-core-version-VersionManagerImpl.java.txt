JCR-414 jcr:successors property not persisted correctly within a transaction

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@398589 13f79535-47bb-0310-9956-ffa450edef68

-                InternalVersion version = checkin((InternalVersionHistoryImpl)
+                return checkin((InternalVersionHistoryImpl) 
-
-                // invalidate predecessors successor properties
-                InternalVersion[] preds = version.getPredecessors();
-                for (int i = 0; i < preds.length; i++) {
-                    PropertyId propId = new PropertyId(preds[i].getId(), QName.JCR_SUCCESSORS);
-                    versProvider.onPropertyChanged(propId);
-                }
-                return version;
-                AbstractVersion version = (AbstractVersion) historyImpl.getNode(name);
-                InternalVersion[] preds = version.getInternalVersion().getPredecessors();
-
-
-                // invalidate predecessors successor properties
-                for (int i = 0; i < preds.length; i++) {
-                    PropertyId propId = new PropertyId(preds[i].getId(), QName.JCR_SUCCESSORS);
-                    versProvider.onPropertyChanged(propId);
-                }
