Fix for JCR-1325 and review support for Collection & Map. 
The mapping definition can be simplified with parameterized collections and maps. In this case the ElementClass setting is not necessary.


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@650283 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.ocm.manager.collectionconverter.ManageableCollection;
+import org.apache.jackrabbit.ocm.manager.collectionconverter.ManageableMap;
+ * No very useful class.
+ * This is just there to test custom ManageableMap implementation
-public class HashMapElement extends HashMap implements ManageableCollection
+public class HashMapElement implements ManageableMap
+	private HashMap<String , Element> map = new HashMap<String, Element>();
-            this.put(((Element)object).getId(), object);
+        	map.put(((Element)object).getId(), (Element)object);
+        }
+    }
+
+    public void addObject(Object key, Object object)
+    {
+        if (object instanceof Element)
+        {
+        	map.put((String) key, (Element)object);
-       return  this.values().iterator();
+       return  map.values().iterator();
-		return this.size();
+		return map.size();
+	public Object getObjects()
+	{
+		return map;
+	}
