fixing potential concurrency issue: NodeState/PropertyState.copy() must be synchronized

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@209610 13f79535-47bb-0310-9956-ffa450edef68

-    protected void copy(ItemState state) {
+    protected synchronized void copy(ItemState state) {
-        mixinTypeNames.clear();
-        mixinTypeNames.addAll(nodeState.getMixinTypeNames());
+        mixinTypeNames = new HashSet(nodeState.getMixinTypeNames());
-        propertyNames.clear();
-        propertyNames.addAll(nodeState.getPropertyNames());
-        childNodeEntries.removeAll();
+        propertyNames = new HashSet(nodeState.getPropertyNames());
+        childNodeEntries = new ChildNodeEntries();
