JCR-3089 javax.jcr.RepositoryException when a JOIN SQL2 query is send via Davex and has results

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1179124 13f79535-47bb-0310-9956-ffa450edef68

-            // get the path for the first selector and build
-            // a webdav compliant resource path of it.
-            String itemPath = row.getPath();
+            /*
+             * get the path for the first selector and build a webdav compliant
+             * resource path based on it.
+             * 
+             * Use Row#getPath(String) which works for both simple rows and join
+             * rows (in contrast to Row#getPath()).
+             * 
+             * see also https://issues.apache.org/jira/browse/JCR-3089
+             */
+            final String itemPath = row.getPath(sn.get(0));
