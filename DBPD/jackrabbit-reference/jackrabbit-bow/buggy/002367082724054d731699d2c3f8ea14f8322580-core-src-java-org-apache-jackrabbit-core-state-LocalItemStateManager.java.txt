fixed concurrency issue reported by walter raboch:
http://www.mail-archive.com/jackrabbit-dev@incubator.apache.org/msg02127.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@233511 13f79535-47bb-0310-9956-ffa450edef68

-    public void update() throws ItemStateException, IllegalStateException {
+    public void update()
+            throws StaleItemStateException, ItemStateException,
+            IllegalStateException {
+     * @throws StaleItemStateException if at least one of the affected item
+     *                                 states has become stale in the meantime
+     * @throws ItemStateException if an error occurs
-            throws ItemStateException {
+            throws StaleItemStateException, ItemStateException {
