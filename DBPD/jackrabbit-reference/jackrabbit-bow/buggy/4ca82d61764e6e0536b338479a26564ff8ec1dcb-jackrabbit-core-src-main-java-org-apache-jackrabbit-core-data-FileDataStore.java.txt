JCR-1395: Use Commons IO 1.4
    - Use IOUtils.closeQuietly to simplify code
    - Use IOUtils.copy to simplify code
    - Use FileUtils.copyFile to simplify code
    - Use DataInputStream.readFully to simplify code
    - Use DigestOutputStream to simplify code
    

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@632252 13f79535-47bb-0310-9956-ffa450edef68

+import java.security.DigestOutputStream;
+import org.apache.commons.io.IOUtils;
+
-            OutputStream output = new FileOutputStream(temporary);
+            OutputStream output = new DigestOutputStream(
+                    new FileOutputStream(temporary), digest);
-                byte[] b = new byte[4096];
-                for (int n = input.read(b); n != -1; n = input.read(b)) {
-                    output.write(b, 0, n);
-                    digest.update(b, 0, n);
-                    length += n;
-                }
+                length = IOUtils.copyLarge(input, output);
