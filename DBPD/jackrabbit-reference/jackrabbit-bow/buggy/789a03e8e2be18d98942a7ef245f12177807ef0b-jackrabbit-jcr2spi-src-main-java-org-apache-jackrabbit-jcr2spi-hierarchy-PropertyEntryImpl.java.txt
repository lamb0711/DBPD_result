JCR-2050: Optimize refresh operations

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@771280 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.InvalidItemStateException;
+import javax.jcr.ItemNotFoundException;
+import javax.jcr.RepositoryException;
+
+import org.apache.jackrabbit.jcr2spi.operation.Operation;
+import org.apache.jackrabbit.jcr2spi.operation.SetPropertyValue;
+import org.apache.jackrabbit.jcr2spi.state.ItemState;
+import org.apache.jackrabbit.jcr2spi.state.PropertyState;
+import org.apache.jackrabbit.jcr2spi.state.Status;
-import org.apache.jackrabbit.jcr2spi.state.PropertyState;
-import org.apache.jackrabbit.jcr2spi.state.ItemState;
-import org.apache.jackrabbit.jcr2spi.state.Status;
-import org.apache.jackrabbit.jcr2spi.operation.Operation;
-import org.apache.jackrabbit.jcr2spi.operation.SetPropertyValue;
-
-import javax.jcr.RepositoryException;
-import javax.jcr.ItemNotFoundException;
-import javax.jcr.InvalidItemStateException;
-        return factory.getItemStateFactory().createPropertyState(getWorkspaceId(), this);
+        return getItemStateFactory().createPropertyState(getWorkspaceId(), this);
-        return factory.getPathFactory().create(parentPath, getName(), true);
+        return getPathFactory().create(parentPath, getName(), true);
-        return factory.getIdFactory().createPropertyId(parent.getId(), getName());
+        return getIdFactory().createPropertyId(parent.getId(), getName());
-        return factory.getIdFactory().createPropertyId(parent.getWorkspaceId(), getName());
+        return getIdFactory().createPropertyId(parent.getWorkspaceId(), getName());
+
+    public void calculateStatus() {
+        parent.calculateStatus();
+    }
