JCR-996 Name and Path interfaces in SPI
JCR-1169 Distribution of commons classes


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@586065 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.name.PathFormat;
-import org.apache.jackrabbit.name.Path;
-import org.apache.jackrabbit.name.NamespaceResolver;
-import org.apache.jackrabbit.name.MalformedPathException;
+import org.apache.jackrabbit.spi.Path;
+import org.apache.jackrabbit.conversion.NamePathResolver;
+import org.apache.jackrabbit.conversion.NameException;
-     * @param nsResolver    the namespace resolver in use.
+     * @param resolver
-                              NamespaceResolver nsResolver,
+                              NamePathResolver resolver,
-            path = PathFormat.parse(jcrPath, nsResolver);
-        } catch (MalformedPathException e) {
+            path = resolver.getQPath(jcrPath);
+        } catch (NameException e) {
-                values[i] = ValueFormat.getQValue(v, nsResolver, qValueFactory);
+                values[i] = ValueFormat.getQValue(v, resolver, qValueFactory);
