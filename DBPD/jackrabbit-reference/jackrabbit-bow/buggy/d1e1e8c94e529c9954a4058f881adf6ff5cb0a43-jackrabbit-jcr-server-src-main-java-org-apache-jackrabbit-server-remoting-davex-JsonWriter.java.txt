JCR-2508: JsonWriter: missing handling of new JCR 2.0 property types

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@914994 13f79535-47bb-0310-9956-ffa450edef68

-            if (type == PropertyType.NAME || type == PropertyType.PATH ||
-                    type == PropertyType.REFERENCE || type == PropertyType.DATE ||
-                    (isMultiple && p.getValues().length == 0)) {
+            if (requiresTypeInfo(type) || (isMultiple && p.getValues().length == 0)) {
-            /* append key-value pair containg the jcr value(s).
+            /* append key-value pair containing the jcr value(s).
+    private static boolean requiresTypeInfo(int type) {
+        switch (type) {
+            case PropertyType.NAME:
+            case PropertyType.PATH:
+            case PropertyType.REFERENCE:
+            case PropertyType.DATE:
+            case PropertyType.WEAKREFERENCE:
+            case PropertyType.URI:
+            case PropertyType.DECIMAL:
+                return true;
+            default:
+                // any other property type
+                return false;
+        }
+    }
+
