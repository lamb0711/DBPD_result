JCR-623 Clustering


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@471760 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.nodetype.NodeTypeImpl;
-     * The node type of the parent node.
+     * The node type name of the parent node.
-    private final NodeTypeImpl nodeType;
+    private final QName nodeType;
-                       NodeTypeImpl nodeType,
+                       QName nodeType,
-                                            NodeTypeImpl nodeType,
+                                            QName nodeType,
-                                              NodeTypeImpl nodeType,
+                                              QName nodeType,
-                                           NodeTypeImpl nodeType,
+                                           QName nodeType,
-                                             NodeTypeImpl nodeType,
+                                             QName nodeType,
-                                             NodeTypeImpl nodeType,
+                                             QName nodeType,
-    public NodeTypeImpl getNodeType() {
+    public QName getNodeType() {
-            tmp.add(nodeType);
+            try {
+                tmp.add(ntMgr.getNodeType(nodeType));
+            } catch (NoSuchNodeTypeException e) {
+                log.warn("Unknown node type: " + nodeType);
+            }
-            return "PropertyChanged";
+            return "PropertyOperation";
