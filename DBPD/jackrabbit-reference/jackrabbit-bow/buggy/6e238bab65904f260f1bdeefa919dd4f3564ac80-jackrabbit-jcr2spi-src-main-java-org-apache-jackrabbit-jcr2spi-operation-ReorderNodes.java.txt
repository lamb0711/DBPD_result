JCR-2744: Avoid element arrays in PathImpl

Avoid using Path.getNameElement() where possible

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@997303 13f79535-47bb-0310-9956-ffa450edef68

-    public static Operation create(NodeState parentState, Path.Element srcName,
-                                   Path.Element beforeName) throws ItemNotFoundException, RepositoryException {
+    public static Operation create(
+            NodeState parentState, Path srcPath, Path beforePath)
+            throws ItemNotFoundException, RepositoryException {
-        NodeState insert = parentState.getChildNodeState(srcName.getName(), srcName.getNormalizedIndex());
-        NodeState before = (beforeName == null) ? null : parentState.getChildNodeState(beforeName.getName(), beforeName.getNormalizedIndex());
+        NodeState insert = parentState.getChildNodeState(
+                srcPath.getName(), srcPath.getNormalizedIndex());
+        NodeState before = null;
+        if (beforePath != null) {
+            before = parentState.getChildNodeState(
+                    beforePath.getName(), beforePath.getNormalizedIndex());
+        }
