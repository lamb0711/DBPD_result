JCR-996 Name and Path interfaces in SPI
JCR-1169 Distribution of commons classes


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@586065 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.name.NamespaceResolver;
-import org.apache.jackrabbit.name.Path;
+import org.apache.jackrabbit.spi.Path;
+import org.apache.jackrabbit.spi.NameFactory;
+import org.apache.jackrabbit.spi.PathFactory;
+import org.apache.jackrabbit.conversion.NameResolver;
+import org.apache.jackrabbit.conversion.PathResolver;
+import org.apache.jackrabbit.conversion.NamePathResolver;
+import org.apache.jackrabbit.namespace.NamespaceResolver;
-        Operation op = Move.create(srcPath, destPath, getHierarchyManager(), getNamespaceResolver(), false);
+        Operation op = Move.create(srcPath, destPath, getHierarchyManager(), getPathResolver(), false);
-                session.getItemManager(), session.getHierarchyManager(), wspManager);
+                    session.getNamePathResolver(), session.getItemManager(),
+                    session.getHierarchyManager(), wspManager);
-            obsManager = createObservationManager(getNamespaceResolver(), getNodeTypeRegistry());
+            obsManager = createObservationManager(getNamePathResolver(), getNodeTypeRegistry());
+     * @see ManagerProvider#getNamePathResolver()
+     */
+    public org.apache.jackrabbit.conversion.NamePathResolver getNamePathResolver() {
+        return session.getNamePathResolver();
+    }
+
+    /**
+     * @see ManagerProvider#getNameResolver()
+     */
+    public NameResolver getNameResolver() {
+        return session.getNameResolver();
+    }
+
+    /**
+     * @see ManagerProvider#getPathResolver()
+     */
+    public PathResolver getPathResolver() {
+        return session.getPathResolver();
+    }
+
+    /**
-    IdFactory getIdFactory() {
+    NameFactory getNameFactory() throws RepositoryException {
+        return wspManager.getNameFactory();
+    }
+
+    PathFactory getPathFactory() throws RepositoryException {
+        return wspManager.getPathFactory();
+    }
+
+    IdFactory getIdFactory() throws RepositoryException {
-    protected ObservationManager createObservationManager(NamespaceResolver nsResolver, NodeTypeRegistry ntRegistry) {
-        return new ObservationManagerImpl(wspManager, nsResolver, ntRegistry);
+    protected ObservationManager createObservationManager(NamePathResolver resolver, NodeTypeRegistry ntRegistry) {
+        return new ObservationManagerImpl(wspManager, resolver, ntRegistry);
