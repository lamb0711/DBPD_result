JCR-3637 : JackrabbitAccessControlEntry: Add support for multi-valued restrictions

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1512273 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.ValueFormatException;
-     * <code>null</code> if no such restriction exists.
+     * <code>null</code> if no such restriction exists. In case the restriction
+     * with the specified name contains multiple value this method will call
+     * {@code ValueFormatException}.
-     * <code>null</code> if no such restriction exists
+     * <code>null</code> if no such restriction exists.
+     * @throws ValueFormatException If the restriction with the specified name
+     * contains multiple values.
+     * @see {@link #getRestrictions(String)}
-    Value getRestriction(String restrictionName) throws RepositoryException;
+    Value getRestriction(String restrictionName) throws ValueFormatException, RepositoryException;
+
+    /**
+     * Return the values of the restriction with the specified name or
+     * <code>null</code> if no such restriction exists. For restrictions that
+     * contain just a single value this method is expected to return an array
+     * with a single element even if the underlying implementation stored the
+     * restriction in single-value JCR property.
+     *
+     * @param restrictionName The of the restriction as obtained through
+     * {@link #getRestrictionNames()}.
+     * @return the values of the restriction with the specified name as an array
+     * or <code>null</code> if no such restriction exists. The array may contain
+     * zero, one or multiple values.
+     * @throws RepositoryException if an error occurs.
+     * @see {@link #getRestriction(String)}
+     */
+    Value[] getRestrictions(String restrictionName) throws RepositoryException;
