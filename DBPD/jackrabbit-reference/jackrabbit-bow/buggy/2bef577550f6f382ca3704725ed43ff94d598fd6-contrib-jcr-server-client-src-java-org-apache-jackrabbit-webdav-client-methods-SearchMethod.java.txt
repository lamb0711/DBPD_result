JCR-258 - remove JDOM dependency from jcr-server contribution
JCR-295 - usage of Cache-Control header 
JCR-297 - log output while parsing xml
minor consistency issues and improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@368683 13f79535-47bb-0310-9956-ffa450edef68

-import org.jdom.Namespace;
+import org.apache.jackrabbit.webdav.DavConstants;
+import org.apache.jackrabbit.webdav.xml.Namespace;
+
+import java.io.IOException;
-    public SearchMethod(String uri, String statement, String language) {
-        this(uri, statement, language, Namespace.NO_NAMESPACE);
+    public SearchMethod(String uri, String statement, String language) throws IOException {
+        this(uri, statement, language, Namespace.EMPTY_NAMESPACE);
-    public SearchMethod(String uri, String statement, String language, Namespace languageNamespace) {
+    public SearchMethod(String uri, String statement, String language, Namespace languageNamespace) throws IOException {
+            setRequestHeader(DavConstants.HEADER_CONTENT_TYPE, "text/xml; charset=UTF-8");            
-            SearchInfo sInfo = new SearchInfo(language, languageNamespace, statement);
-            setRequestBody(sInfo.toXml());
+            SearchInfo searchInfo = new SearchInfo(language, languageNamespace, statement);
+            setRequestBody(searchInfo);
+    public SearchMethod(String uri, SearchInfo searchInfo) throws IOException {
+        super(uri);
+        setRequestHeader(DavConstants.HEADER_CONTENT_TYPE, "text/xml; charset=UTF-8");
+        setRequestBody(searchInfo);
+    }
+
+    /**
+     * @see org.apache.commons.httpclient.HttpMethod#getName()
+     */
