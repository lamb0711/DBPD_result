Transaction patch submitted by Dominique.
Moved test classes out of api.xa package because the UserTransactionImpl class uses the implementation specifc XASessionImpl class.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@155314 13f79535-47bb-0310-9956-ffa450edef68

-     * Flag indicating whether rollback only is allowed
-     */
-    private boolean rollbackOnly;
-
-    /**
-     * Commit this transaction. Commits all changes to items contained in the
-     * transaction. After having successfully committed the transaction, it
-     * may no longer be used.
-     *
-     * @throws org.apache.jackrabbit.core.state.TransactionException if an error occurs
-     */
-    public void commit() throws TransactionException {
-        if (rollbackOnly) {
-            throw new TransactionException("Transaction set to rollback only.");
-        }
-        notifyCommitted();
-    }
-
-    /**
-     * Set outcome of this transaction to rollback only.
-     */
-    public void setRollbackOnly() {
-        rollbackOnly = true;
-    }
-
-    /**
-     * Rollback this transaction. Rollbacks all changes to items contained in
-     * the transaction. After having successfully rolled back the transaction,
-     * it may no longer be used.
-     *
-     * @throws org.apache.jackrabbit.core.state.TransactionException if an error occurs
-     */
-    public void rollback() throws TransactionException {
-        notifyRolledBack();
-    }
-
-    /**
-    private void notifyCommitted() throws TransactionException {
+    void notifyCommitted() {
-    private void notifyRolledBack() throws TransactionException {
+    void notifyRolledBack() {
