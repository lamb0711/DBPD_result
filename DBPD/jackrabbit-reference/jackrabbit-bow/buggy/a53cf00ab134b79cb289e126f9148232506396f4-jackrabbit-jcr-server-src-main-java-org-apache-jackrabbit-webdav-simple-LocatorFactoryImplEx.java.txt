JCR-825 LocatorFactoryImplEx doesn't properly evaluate resource path.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@523637 13f79535-47bb-0310-9956-ffa450edef68

-        if (resourcePath.startsWith(wspPath)) {
+        if (resourcePath.equals(wspPath) || startsWithWorkspace(resourcePath, wspPath)) {
-        return (wspPath == null || repositoryPath.startsWith(wspPath)) ? repositoryPath : wspPath + repositoryPath;
+        return (startsWithWorkspace(repositoryPath, wspPath)) ? repositoryPath : wspPath + repositoryPath;
+    }
+
+    private boolean startsWithWorkspace(String repositoryPath, String wspPath) {
+        if (wspPath == null) {
+            return true;
+        } else {
+            return repositoryPath.startsWith(wspPath + "/");
+        }
