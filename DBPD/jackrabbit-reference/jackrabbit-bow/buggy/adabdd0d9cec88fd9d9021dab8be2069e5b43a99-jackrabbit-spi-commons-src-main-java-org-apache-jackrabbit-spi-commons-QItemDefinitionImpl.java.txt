JCR-1169 Distribution of commons classes
JCR-996 Name and Path interfaces in SPI

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@586058 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.name.QName;
+import org.apache.jackrabbit.spi.Name;
+import org.apache.jackrabbit.name.NameFactoryImpl;
+     * TODO don't rely on specific factory impl
-    public static final QName ANY_NAME = new QName("", "*");
+    public static final Name ANY_NAME = NameFactoryImpl.getInstance().create("", "*");
-    private final QName name;
+    private final Name name;
-    private final QName declaringNodeType;
+    private final Name declaringNodeType;
-    QItemDefinitionImpl(QName name, QName declaringNodeType,
+    QItemDefinitionImpl(Name name, Name declaringNodeType,
-    public QName getDeclaringNodeType() {
+    public Name getDeclaringNodeType() {
-    public QName getQName() {
+    public Name getName() {
-        return name.equals(ANY_NAME);
+        return Name.NS_DEFAULT_URI.equals(name.getNamespaceURI()) && "*".equals(name.getLocalName());
-                    && (name == null ? other.getQName() == null : name.equals(other.getQName()))
+                    && (name == null ? other.getName() == null : name.equals(other.getName()))
