mis. minor changes & bug fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@156946 13f79535-47bb-0310-9956-ffa450edef68

+import javax.security.auth.Subject;
-     * @param loginContext credentials
+     * @param loginContext login context containing authenticated subject
-    public XASessionImpl(RepositoryImpl rep, LoginContext loginContext,
-                         WorkspaceConfig wspConfig)
+    protected XASessionImpl(RepositoryImpl rep, LoginContext loginContext,
+                            WorkspaceConfig wspConfig)
+    /**
+     * Create a new instance of this class.
+     *
+     * @param rep       repository
+     * @param subject   authenticated subject
+     * @param wspConfig workspace configuration
+     * @throws RepositoryException if an error occurs
+     */
+    protected XASessionImpl(RepositoryImpl rep, Subject subject,
+                            WorkspaceConfig wspConfig)
+            throws RepositoryException {
+
+        super(rep, subject, wspConfig);
+    }
+
-        TransactionContext tx = null;
+        TransactionContext tx;
