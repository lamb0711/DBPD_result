JCR-2674 FileDataStore ignores return code from setLastModified

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@964365 13f79535-47bb-0310-9956-ffa450edef68

-    private int testDelay;
+    protected int testDelay;
-    private void recurse(final Node n, long sleep) throws RepositoryException {
+    void recurse(final Node n, long sleep) throws RepositoryException {
-                            p.getLengths();
+                            checkLengths(p.getLengths());
-                            p.getLength();
+                        	checkLengths(p.getLength());
+    private void checkLengths(long... lengths) throws RepositoryException {
+        for (long length : lengths) {
+            if (length == -1) {
+                throw new RepositoryException("mark failed to access a property");
+            }
+        }
+    }
+
