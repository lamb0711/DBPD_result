JCR-996 Name and Path interfaces in SPI
JCR-1169 Distribution of commons classes


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@586065 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.jcr2spi.nodetype.ItemDefinitionProvider;
+import org.apache.jackrabbit.jcr2spi.hierarchy.NodeEntry;
+import org.apache.jackrabbit.jcr2spi.hierarchy.PropertyEntry;
+import org.apache.jackrabbit.jcr2spi.hierarchy.HierarchyEntry;
+import org.apache.jackrabbit.name.NameConstants;
-import org.apache.jackrabbit.jcr2spi.nodetype.ItemDefinitionProvider;
-import org.apache.jackrabbit.jcr2spi.hierarchy.NodeEntry;
-import org.apache.jackrabbit.jcr2spi.hierarchy.PropertyEntry;
-import org.apache.jackrabbit.jcr2spi.hierarchy.HierarchyEntry;
-import org.apache.jackrabbit.name.QName;
-import org.apache.jackrabbit.name.Path;
-import org.apache.jackrabbit.name.MalformedPathException;
+import org.apache.jackrabbit.spi.Name;
+import org.apache.jackrabbit.spi.Path;
-        if (entry.getUniqueID() == null || !entry.hasPropertyEntry(QName.JCR_UUID)) {
+        if (entry.getUniqueID() == null || !entry.hasPropertyEntry(NameConstants.JCR_UUID)) {
-            QName propertyName = pId.getQName();
+            Name propertyName = pId.getName();
-            Path.PathElement[] missingElems = relPath.getElements();
+            Path.Element[] missingElems = relPath.getElements();
-                QName name = missingElems[i].getName();
+                Name name = missingElems[i].getName();
-        } catch (MalformedPathException e) {
-            throw new RepositoryException(e.getMessage(), e);
-            Path.PathElement[] missingElems = relPath.getElements();
+            Path.Element[] missingElems = relPath.getElements();
-                QName name = missingElems[i].getName();
+                Name name = missingElems[i].getName();
-            QName propName = missingElems[i].getName();
+            Name propName = missingElems[i].getName();
-        } catch (MalformedPathException e) {
-            throw new RepositoryException(e.getMessage());
-    private static NodeEntry createIntermediateNodeEntry(NodeEntry parentEntry, QName name, int index) throws RepositoryException {
+    private static NodeEntry createIntermediateNodeEntry(NodeEntry parentEntry, Name name, int index) throws RepositoryException {
