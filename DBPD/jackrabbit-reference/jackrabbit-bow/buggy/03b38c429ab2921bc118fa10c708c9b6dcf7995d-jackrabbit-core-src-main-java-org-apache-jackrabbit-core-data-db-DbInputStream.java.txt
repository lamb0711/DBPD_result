JCR-1456: Database connection pooling

Merge back all changes from the JCR-1456 sandbox branch.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@886191 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.persistence.bundle.util.ConnectionRecoveryManager;
+import org.apache.jackrabbit.core.util.db.DbUtility;
-    
-    protected ConnectionRecoveryManager conn;
+
-                DatabaseHelper.closeSilently(rs);
+                DbUtility.close(rs);
-            if (conn != null) {
-                try {
-                    store.putBack(conn);
-                } catch (DataStoreException e) {
-                    log.info("Error closing DbResource", e);
-                }
-            }
-     * Set the database connection of this input stream. This object must be
-     * closed once the stream is closed.
-     * 
-     * @param conn the connection
-     */
-    void setConnection(ConnectionRecoveryManager conn) {
-        this.conn = conn;
-    }
-
-    /**
-
