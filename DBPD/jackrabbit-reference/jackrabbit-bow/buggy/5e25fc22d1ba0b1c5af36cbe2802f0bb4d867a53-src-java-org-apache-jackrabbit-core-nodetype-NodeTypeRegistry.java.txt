porting jackrabbit to v0.16.2 of jsr170 spec 
(work in progress...)

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@148894 13f79535-47bb-0310-9956-ffa450edef68

-    // nt:mimeResource
-    public static final QName NT_MIME_RESOURCE =
-            new QName(NamespaceRegistryImpl.NS_NT_URI, "mimeResource");
+    // nt:resource
+    public static final QName NT_RESOURCE =
+            new QName(NamespaceRegistryImpl.NS_NT_URI, "resource");
-        def.setPrimaryItem(false);
-        ChildItemDef primaryItem = null;
-
-                String msg = "[" + name + "#" + pd.getName() + "] invalid declaring node type specified";
+                String msg = "[" + name + "#" + pd.getName()
+                        + "] invalid declaring node type specified";
-            // check primary item flag
-            if (pd.isPrimaryItem()) {
-                if (pd.definesResidual()) {
-                    String msg = "[" + name + "#" + pd.getName() + "] primary item must specify a name";
-                    log.error(msg);
-                    throw new InvalidNodeTypeDefException(msg);
-                }
-                if (primaryItem != null) {
-                    String msg = "[" + name + "#" + pd.getName() + "] more than one primary item specified";
-                    log.error(msg);
-                    throw new InvalidNodeTypeDefException(msg);
-                } else {
-                    primaryItem = pd;
-                }
-            }
-                String msg = "[" + name + "#" + cnd.getName() + "] invalid declaring node type specified";
+                String msg = "[" + name + "#" + cnd.getName()
+                        + "] invalid declaring node type specified";
-            // check primary item flag
-            if (cnd.isPrimaryItem()) {
-                if (cnd.definesResidual()) {
-                    String msg = "[" + name + "#" + cnd.getName()
-                            + "] primary item must specify a name";
-                    log.error(msg);
-                    throw new InvalidNodeTypeDefException(msg);
-                }
-                if (primaryItem != null) {
-                    String msg = "[" + name + "#" + cnd.getName()
-                            + "] more than one primary item specified";
-                    log.error(msg);
-                    throw new InvalidNodeTypeDefException(msg);
-                } else {
-                    primaryItem = cnd;
-                }
-            }
+            ps.println("\tPrimaryItemName\t" + (ntd.getPrimaryItemName() == null ? "<null>" : ntd.getPrimaryItemName().toString()));
-                ps.println("\t\tPrimaryItem\t" + pd[i].isPrimaryItem());
-                ps.println("\t\tPrimaryItem\t" + nd[i].isPrimaryItem());
