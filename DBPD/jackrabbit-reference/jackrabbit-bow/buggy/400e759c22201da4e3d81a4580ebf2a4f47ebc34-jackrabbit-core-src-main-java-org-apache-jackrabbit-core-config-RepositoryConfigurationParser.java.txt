JCR-2710 Add support for large number of users in a group
UserImporter copes with node structure for group membership now

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@987181 13f79535-47bb-0310-9956-ffa450edef68

+    private static final String IMPORT_PII_ELEMENT = "ProtectedItemImporter";
-        List<BeanConfig> protectedNodeImporters = new ArrayList<BeanConfig>();
-        List<BeanConfig> protectedPropertyImporters = new ArrayList<BeanConfig>();
-
+        List<BeanConfig> protectedItemImporters = new ArrayList<BeanConfig>();
-                    if (IMPORT_PNI_ELEMENT.equals(child.getNodeName())) {
+                    if (IMPORT_PNI_ELEMENT.equals(child.getNodeName()) ||
+                            IMPORT_PPI_ELEMENT.equals(child.getNodeName()) ||
+                            IMPORT_PII_ELEMENT.equals(child.getNodeName())) {
-                        protectedNodeImporters.add(bc);
-                    } else if (IMPORT_PPI_ELEMENT.equals(child.getNodeName())) {
-                        String className = getAttribute((Element) child, CLASS_ATTRIBUTE);
-                        BeanConfig bc = new BeanConfig(className, parseParameters((Element) child));
-                        bc.setValidate(false);
-                        protectedPropertyImporters.add(bc);
+                        protectedItemImporters.add(bc);
-            return new ImportConfig(protectedNodeImporters, protectedPropertyImporters);
+            return new ImportConfig(protectedItemImporters);
