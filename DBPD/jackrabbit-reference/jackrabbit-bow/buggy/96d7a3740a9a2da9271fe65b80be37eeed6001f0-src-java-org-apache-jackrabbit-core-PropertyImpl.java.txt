fixed incorrect test cases and fixed code that caused valid testcases to fail

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@160691 13f79535-47bb-0310-9956-ffa450edef68

+        if (values != null) {
+            // check type of values
+            int valueType = PropertyType.UNDEFINED;
+            for (int i = 0; i < values.length; i++) {
+                if (values[i] == null) {
+                    // skip null values as those will be purged later
+                    continue;
+                }
+                if (valueType == PropertyType.UNDEFINED) {
+                    valueType = values[i].getType();
+                } else if (valueType != values[i].getType()) {
+                    // inhomogeneous types
+                    String msg = "inhomogeneous type of values";
+                    log.debug(msg);
+                    throw new ValueFormatException(msg);
+                }
+            }
+        }
+
