Added ItemStateManager#hasNodeReferences()
Added check for targets of modified node references in XAResource#prepare
Removed duplicated checkLock() in NodeImpl#addMixin


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@164071 13f79535-47bb-0310-9956-ffa450edef68

+
+    /**
+     * Return a flag indicating whether a node references object
+     * for a given target id exists.
+     * @param id target id
+     * @return <code>true</code> if an item state exists,
+     *         otherwise <code>false</code>
+     */
+    boolean hasNodeReferences(NodeReferencesId id);
