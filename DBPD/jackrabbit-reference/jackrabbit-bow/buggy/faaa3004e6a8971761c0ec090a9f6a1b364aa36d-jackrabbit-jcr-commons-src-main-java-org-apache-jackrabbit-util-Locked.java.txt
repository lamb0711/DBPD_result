JCR-1331: Improper deprecation of Locked class
    - Removed deprecation and the use of name resolver classes

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@613834 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.name.NameFormat;
-import org.apache.jackrabbit.name.NoPrefixDeclaredException;
-import org.apache.jackrabbit.name.QName;
-import org.apache.jackrabbit.name.SessionNamespaceResolver;
-
- *
- * @deprecated Use the Locked class from 
- *             the org.apache.jackrabbit.spi.commons.lock package of
- *             the jackrabbit-spi-commons component.
+    /** The mixin namespace */
+    private static final String MIX = "http://www.jcp.org/jcr/mix/1.0";
+
-        SessionNamespaceResolver resolver = new SessionNamespaceResolver(session);
-        Lock lock;
-            if (!lockable.isNodeType(NameFormat.format(QName.MIX_LOCKABLE, resolver))) {
+            String mix = session.getNamespacePrefix(MIX);
+            if (!lockable.isNodeType(mix + ":lockable")) {
-            lock = tryLock(lockable, isDeep);
+            Lock lock = tryLock(lockable, isDeep);
-        } catch (NoPrefixDeclaredException e) {
-            throw new RepositoryException(e);
