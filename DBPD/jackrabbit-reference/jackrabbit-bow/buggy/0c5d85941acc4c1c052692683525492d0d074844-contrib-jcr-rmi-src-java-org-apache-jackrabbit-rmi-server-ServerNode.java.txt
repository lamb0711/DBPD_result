Encapsulated ServerObject.factory with a getter method.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@155781 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.Property;
+import javax.jcr.lock.Lock;
-            return factory.getRemoteNode(node.addNode(path));
+            return getFactory().getRemoteNode(node.addNode(path));
-            return factory.getRemoteNode(node.addNode(path, type));
+            return getFactory().getRemoteNode(node.addNode(path, type));
-            return factory.getRemoteProperty(node.getProperty(path));
+            return getFactory().getRemoteProperty(node.getProperty(path));
-            return factory.getRemoteNodeType(node.getPrimaryNodeType());
+            return getFactory().getRemoteNodeType(node.getPrimaryNodeType());
-            return factory.getRemoteNode(node.getNode(path));
+            return getFactory().getRemoteNode(node.getNode(path));
-            return factory.getRemoteProperty(node.setProperty(name, value));
+            return getFactory().getRemoteProperty(node.setProperty(name, value));
-            return factory.getRemoteProperty(node.setProperty(name, values));
+            Property property = node.setProperty(name, values);
+            return getFactory().getRemoteProperty(property);
-            return factory.getRemoteNodeDef(node.getDefinition());
+            return getFactory().getRemoteNodeDef(node.getDefinition());
-            return factory.getRemoteProperty(node.setProperty(name, values, type));
+            Property property = node.setProperty(name, values, type);
+            return getFactory().getRemoteProperty(property);
-            return factory.getRemoteLock(node.getLock());
+            return getFactory().getRemoteLock(node.getLock());
-            return factory.getRemoteLock(node.lock(isDeep, isSessionScoped));
+            Lock lock = node.lock(isDeep, isSessionScoped);
+            return getFactory().getRemoteLock(lock);
