JCR-2087 Upgrade to Java 5 as the base platform

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@771693 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.NodeIdIterator;
-    private final ArrayList listeners = new ArrayList();
+    private final ArrayList<Listener> listeners = new ArrayList<Listener>();
-            for (int i = 0; i < sessionList.length; i++) {
-                scanNodes(sessionList[i]);
+            for (Session s : sessionList) {
+                scanNodes(s);
-        for (int i = 0; i < pmList.length; i++) {
-            IterablePersistenceManager pm = pmList[i];
-            Iterator it = pm.getAllNodeIds(null, 0);
+        for (IterablePersistenceManager pm : pmList) {
+            NodeIdIterator it = pm.getAllNodeIds(null, 0);
-                NodeId id = (NodeId) it.next();
+                NodeId id = it.nextNodeId();
-                            InternalValue[] values = ps.getValues();
-                            for (int j = 0; j < values.length; j++) {
-                                values[j].getBLOBFileValue().getLength();
+                            for (InternalValue v : ps.getValues()) {
+                                v.getBLOBFileValue().getLength();
-        for (int i = 0; i < listeners.size(); i++) {
-            Listener listener = (Listener) listeners.get(i);
+        for (Listener listener : listeners) {
