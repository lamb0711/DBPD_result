JCR-2804: Add isDeclaredMember() method to Group

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1031115 13f79535-47bb-0310-9956-ffa450edef68

+    public boolean isDeclaredMember(Authorizable authorizable) throws RepositoryException {
+        if (authorizable == null || !(authorizable instanceof AuthorizableImpl)
+                || getNode().isSame(((AuthorizableImpl) authorizable).getNode())) {
+            return false;
+        }
+        else {
+            return getMembershipProvider(getNode()).hasMember((AuthorizableImpl) authorizable);
+        }
+    }
+
+        boolean hasMember(AuthorizableImpl authorizable) throws RepositoryException;
+        public boolean hasMember(AuthorizableImpl authorizable) throws RepositoryException {
+            if (node.hasProperty(P_MEMBERS)) {
+                Value[] members = node.getProperty(P_MEMBERS).getValues();
+                for (Value v : members) {
+                    if (authorizable.getNode().getIdentifier().equals(v.getString())) {
+                        return true;
+                    }
+                }
+                return false;
+            }
+            else {
+                return false;
+            }
+        }
+
+        public boolean hasMember(AuthorizableImpl authorizable) throws RepositoryException {
+            if (node.hasNode(N_MEMBERS)) {
+                PropertySequence members = getPropertySequence(node.getNode(N_MEMBERS), userManager);
+                return members.hasItem(authorizable.getID());
+            }
+            else {
+                return false;
+            }
+        }
+
