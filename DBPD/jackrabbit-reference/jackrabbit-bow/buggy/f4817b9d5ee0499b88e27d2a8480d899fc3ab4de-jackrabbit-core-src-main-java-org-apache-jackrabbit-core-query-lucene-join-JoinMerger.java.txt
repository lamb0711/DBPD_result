JCR-2715: Improved join query performance

Handle query offset and limit only after sorting.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1025643 13f79535-47bb-0310-9956-ffa450edef68

-    public QueryResult merge(
-            RowIterator leftRows, RowIterator rightRows, long offset, long limit)
+    public QueryResult merge(RowIterator leftRows, RowIterator rightRows)
-        while ((offset-- > 0 || limit == 0) && joinRows.hasNext()) {
-            joinRows.nextRow();
-        }
-        if (limit > 0) {
-            List<Row> rows = new ArrayList<Row>((int) limit);
-            for (int i = 0; i < limit && joinRows.hasNext(); i++) {
-                rows.add(joinRows.nextRow());
-            }
-            joinRows = new RowIteratorAdapter(rows);
-        }
