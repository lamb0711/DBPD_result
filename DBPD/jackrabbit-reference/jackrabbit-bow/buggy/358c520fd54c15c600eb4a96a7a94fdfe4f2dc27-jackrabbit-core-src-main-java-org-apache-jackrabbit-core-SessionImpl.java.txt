JCR-2595: SessionImpl.createSession uses same Subject/LoginContext

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@931919 13f79535-47bb-0310-9956-ffa450edef68

-        if (loginContext != null) {
-            return rep.createSession(loginContext, workspaceName);
-        } else {
-            return rep.createSession(getSubject(), workspaceName);
-        }
+        Subject old = getSubject();
+        Subject newSubject = new Subject(old.isReadOnly(), old.getPrincipals(), old.getPublicCredentials(), old.getPrivateCredentials());
+        return rep.createSession(newSubject, workspaceName);
+    @Override
+    @Override
+    @Override
+    @Override
+    @Override
+    @Override
+    @Override
+    @Override
+    @Override
+    @Override
+    @Override
