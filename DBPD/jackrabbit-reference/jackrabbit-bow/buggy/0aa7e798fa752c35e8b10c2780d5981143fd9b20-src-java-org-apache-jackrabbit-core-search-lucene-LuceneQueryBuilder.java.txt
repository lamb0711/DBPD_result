JCR-56: allow case insensitive searches

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@160047 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.Constants;
+            String fieldname;
+            if (node.getPropertyName() == null) {
+                // fulltext on node
+                fieldname = FieldNames.FULLTEXT;
+            } else {
+                StringBuffer tmp = new StringBuffer();
+                tmp.append(nsMappings.getPrefix(node.getPropertyName().getNamespaceURI()));
+                tmp.append(":").append(FieldNames.FULLTEXT_PREFIX);
+                tmp.append(node.getPropertyName().getLocalName());
+                fieldname = tmp.toString();
+            }
-                    = new org.apache.lucene.queryParser.QueryParser(FieldNames.FULLTEXT, analyzer);
+                    = new org.apache.lucene.queryParser.QueryParser(fieldname, analyzer);
+        } catch (NamespaceException e) {
+            exceptions.add(e);
