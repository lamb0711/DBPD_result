JCR-835: Replaced the factory interface with an abstract factory method to avoid the troublesome anonymous inner instances.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@526677 13f79535-47bb-0310-9956-ffa450edef68

+     * Name of the field to match.
+     */
+    private final String field;
+
+    /**
+     * @param field name of the field to match 
-    MatchAllWeight(Query query, Searcher searcher, final String field) {
-        super(searcher, new ScorerFactory() {
-            public Scorer createScorer(IndexReader reader) throws IOException {
-                return new MatchAllScorer(reader, field);
-            }
-        });
+    MatchAllWeight(Query query, Searcher searcher, String field) {
+        super(searcher);
+        this.field = field;
+    }
+
+    /**
+     * Creates a {@link MatchAllScorer} instance.
+     *
+     * @param reader index reader
+     * @return a {@link MatchAllScorer} instance
+     */
+    protected Scorer createScorer(IndexReader reader) throws IOException {
+        return new MatchAllScorer(reader, field);
