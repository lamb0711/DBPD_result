JCR-178: Allow concurrent index updates and queries

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@232801 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.lucene.search.Hits;
+        QueryHits result = null;
-            Hits result = index.executeQuery(query, orderProperties, ascSpecs);
+            result = index.executeQuery(query, orderProperties, ascSpecs);
+        } finally {
+            if (result != null) {
+                try {
+                    result.close();
+                } catch (IOException e) {
+                    log.warn("Unable to close query result: " + e);
+                }
+            }
