JCR-749 Add mysql ddl for clustering (DatabaseJournal)
JCR-756 Concurrent add/remove child node operations in a cluster may corrupt repository
JCR-757 Allow multiple producers to feed/consume journal


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@509624 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.jackrabbit.core.cluster;
+package org.apache.jackrabbit.core.journal;
-class FileRevision {
+class LockableFileRevision {
-    private static final Logger log = LoggerFactory.getLogger(FileRevision.class);
+    private static final Logger log = LoggerFactory.getLogger(LockableFileRevision.class);
-    public FileRevision(File file) {
+    public LockableFileRevision(File file) {
-                String msg = "I/O error occurred: " + e.getMessage();
-                throw new JournalException(msg);
+                String msg = "I/O error occurred.";
+                throw new JournalException(msg, e);
