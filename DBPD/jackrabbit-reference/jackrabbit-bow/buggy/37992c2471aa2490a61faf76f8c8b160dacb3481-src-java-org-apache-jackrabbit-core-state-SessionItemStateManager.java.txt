first implementation of jta support

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@55234 13f79535-47bb-0310-9956-ffa450edef68

-   *
+ *
-    private final PersistentItemStateManager persistentStateMgr;
+    private final PersistentItemStateProvider persistentStateMgr;
-
-    public SessionItemStateManager(String rootNodeUUID, PersistentItemStateManager persistentStateMgr, NamespaceResolver nsResolver) {
+    public SessionItemStateManager(String rootNodeUUID, PersistentItemStateProvider persistentStateMgr, NamespaceResolver nsResolver) {
-        persistentStateMgr.dump(ps);
+        //persistentStateMgr.dump(ps);
-                    Path p0 = paths[i];	// path to transient state
+                    Path p0 = paths[i]; // path to transient state
-                            Path p0 = pa[k];	// path to removed parent
+                            Path p0 = pa[k];   // path to removed parent
-/*
-	ArrayList descendents = new ArrayList();
-	collectDescendantItemStates(parentId, descendents);
-	return Collections.unmodifiableList(descendents).iterator();
-*/
-                    Path p0 = paths[i];	// path to transient state in attic
+                    Path p0 = paths[i]; // path to transient state in attic
-/*
-	ArrayList descendents = new ArrayList();
-	collectDescendantItemStatesInAttic(parentId, descendents);
-	return Collections.unmodifiableList(descendents).iterator();
-*/
