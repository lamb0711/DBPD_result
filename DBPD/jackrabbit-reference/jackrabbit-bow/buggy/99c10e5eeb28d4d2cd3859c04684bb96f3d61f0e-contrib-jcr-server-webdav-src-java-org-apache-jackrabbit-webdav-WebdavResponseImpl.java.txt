- comitting latest changes from angela
- adding configuration for authorization header behaviour

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@159798 13f79535-47bb-0310-9956-ffa450edef68

-        Element errorElem = exception.getError();
-        if (errorElem == null || errorElem.getChildren().size() == 0) {
+        // special handling for unauthorized, should be done nicer
+        if (exception.getErrorCode() == HttpServletResponse.SC_UNAUTHORIZED) {
+            httpResponse.setHeader("WWW-Authenticate", "Basic Realm=Jackrabbit Webdav Server");
-            sendXmlResponse(new Document(exception.getError()), exception.getErrorCode());
+            Element errorElem = exception.getError();
+            if (errorElem == null || errorElem.getChildren().size() == 0) {
+                httpResponse.sendError(exception.getErrorCode(), exception.getStatusPhrase());
+            } else {
+                sendXmlResponse(new Document(exception.getError()), exception.getErrorCode());
+            }
