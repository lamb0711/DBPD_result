JCR-2415: Update Lucene to 3.0
- Merge all from JCR-2415-lucene-3.0 at 1064038 (reintegration)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1064058 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.lucene.index.Term;
+import org.apache.lucene.util.ToStringUtils;
+@SuppressWarnings("serial")
+    @Override
-        Query stdWildcardQuery = new MultiTermQuery(new Term(field, pattern)) {
+        Query stdWildcardQuery = new MultiTermQuery() {
+
+            /** Prints a user-readable version of this query. */
+            @Override
+            public String toString(String field) {
+                StringBuffer buffer = new StringBuffer();
+                buffer.append(field);
+                buffer.append(':');
+                buffer.append(ToStringUtils.boost(getBoost()));
+                return buffer.toString();
+            }
-    protected Weight createWeight(Searcher searcher) {
+    @Override
+    public Weight createWeight(Searcher searcher) {
+    @Override
-    /**
-     * {@inheritDoc}
-     */
+    @Override
-        protected Scorer createScorer(IndexReader reader) {
+        protected Scorer createScorer(IndexReader reader, boolean scoreDocsInOrder,
+                boolean topScorer) {
+        @Override
-        /**
-         * {@inheritDoc}
-         */
+        @Override
-        /**
-         * {@inheritDoc}
-         */
+        @Override
-        /**
-         * {@inheritDoc}
-         */
+        @Override
-        /**
-         * {@inheritDoc}
-         */
+        @Override
-        /**
-         * {@inheritDoc}
-         */
-        public boolean next() throws IOException {
+        @Override
+        public int nextDoc() throws IOException {
+            if (nextDoc == NO_MORE_DOCS) {
+                return nextDoc;
+            }
+
-            return nextDoc > -1;
-        }
-
-        /**
-         * {@inheritDoc}
-         */
-        public int doc() {
+            if (nextDoc < 0) {
+                nextDoc = NO_MORE_DOCS;
+            }
-        /**
-         * {@inheritDoc}
-         */
+        @Override
+        public int docID() {
+            return nextDoc;
+        }
+
+        @Override
-        /**
-         * {@inheritDoc}
-         */
-        public boolean skipTo(int target) throws IOException {
+        @Override
+        public int advance(int target) throws IOException {
+            if (nextDoc == NO_MORE_DOCS) {
+                return nextDoc;
+            }
+
-            return nextDoc > -1;
-        }
-
-        /**
-         * Returns an empty Explanation object.
-         * @return an empty Explanation object.
-         */
-        public Explanation explain(int doc) {
-            return new Explanation();
+            if (nextDoc < 0) {
+                nextDoc = NO_MORE_DOCS;
+            }
+            return nextDoc;
