JCR-2744: Avoid element arrays in PathImpl

Avoid using Path.getNameElement() where possible

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@997303 13f79535-47bb-0310-9956-ffa450edef68

+        } else if (from < to - 1) {
+            return parent.subPath(from, to - 1).resolve(getLastElement());
-            Element element = getNameElement();
-            if (from < to - 1) {
-                return parent.subPath(from, to - 1).resolve(element);
-            } else if (element.denotesName()) {
-                return new NamePath(null, element);
-            } else if (element.denotesParent()) {
-                return new ParentPath(null);
-            } else if (element.denotesCurrent()) {
-                return new CurrentPath(null);
-            } else {
-                throw new IllegalStateException(
-                        "Unknown path element type: " + element);
-            }
+            return getLastElement();
-    public final boolean equals(Object that) {
+    public boolean equals(Object that) {
-            if (!getNameElement().equals(path.getNameElement())) {
-                return false;
-            } else if (parent != null) {
+            if (parent != null) {
-    public final int hashCode() {
-        int h = 17;
+    public int hashCode() {
-            h = h * 37 + parent.hashCode();
+            return parent.hashCode();
+        } else {
+            return 17;
-        h = h * 37 + getNameElement().hashCode();
-        return h;
