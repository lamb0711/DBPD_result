JCR-1064: Optimize queries that check for the existence of a property

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@578711 13f79535-47bb-0310-9956-ffa450edef68

+     * The index format version of this multi index.
+     */
+    private final IndexFormatVersion version;
+
+    /**
+        // set index format version
+        IndexReader reader = getIndexReader();
+        try {
+            version = IndexFormatVersion.getVersion(reader);
+        } finally {
+            reader.close();
+        }
+
+     * @return the index format version for this multi index.
+     */
+    IndexFormatVersion getIndexFormatVersion() {
+        return version;
+    }
+
+    /**
-        return handler.createDocument(node, nsMappings);
+        return handler.createDocument(node, nsMappings, version);
