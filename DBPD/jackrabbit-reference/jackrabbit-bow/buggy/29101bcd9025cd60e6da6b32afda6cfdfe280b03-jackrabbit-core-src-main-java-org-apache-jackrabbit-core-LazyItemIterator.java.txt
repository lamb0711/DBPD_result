JCR-1104 - JSR 283 support
- shareble nodes (work in progress)
- import/export


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@644638 13f79535-47bb-0310-9956-ffa450edef68

+    /** parent node id (when returning children nodes) or <code>null</code> */
+    private final NodeId parentId;
+
+        this(itemMgr, idList, null);
+    }
+
+    /**
+     * Creates a new <code>LazyItemIterator</code> instance, additionally taking
+     * a parent id as parameter. This version should be invoked to strictly return
+     * children nodes of a node.
+     *
+     * @param itemMgr item manager
+     * @param idList  list of item id's
+     * @param parentId parent id.
+     */
+    public LazyItemIterator(ItemManager itemMgr, List idList, NodeId parentId) {
+        this.parentId = parentId;
-                next = itemMgr.getItem(id);
+                if (parentId != null) {
+                    next = itemMgr.getNode((NodeId) id, parentId);
+                } else {
+                    next = itemMgr.getItem(id);
+                }
