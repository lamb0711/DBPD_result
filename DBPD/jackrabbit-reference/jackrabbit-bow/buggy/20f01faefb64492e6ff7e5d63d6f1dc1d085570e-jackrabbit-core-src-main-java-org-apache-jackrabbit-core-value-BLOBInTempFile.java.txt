JCR-1154: Throw DataStoreException instead of IOException

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@591286 13f79535-47bb-0310-9956-ffa450edef68

+     * The input stream is always closed by this method.
-    private BLOBInTempFile(InputStream in, boolean temp) throws IOException {
+    private BLOBInTempFile(InputStream in, boolean temp) throws RepositoryException {
+        } catch (IOException e) {
+            throw new RepositoryException("Error creating temporary file", e); 
-            if (out != null) {
-                out.close();
+            try {
+                in.close();
+            } catch (IOException e) {
+                // ignore
-            in.close();
+            if (out != null) {
+                try {
+                    out.close();
+                } catch (IOException e) {
+                    throw new RepositoryException("Error creating temporary file", e); 
+                }
+            }
-    static BLOBInTempFile getInstance(InputStream in, boolean temp) throws IOException {
+    static BLOBInTempFile getInstance(InputStream in, boolean temp) throws RepositoryException {
