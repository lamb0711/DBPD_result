JCR-890: concurrent read-only access to a session

Leverage SessionContext in more places.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@957141 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.data.DataStore;
-     * The data store of this repository, or <code>null</code>
-     */
-    private final DataStore dataStore;
-
-    /**
-     * @param dataStore  the data store of this repository, or <code>null</code>
-            PropertyData data, DataStore dataStore) {
+            PropertyData data) {
-        this.dataStore = dataStore;
-            internalValue = InternalValue.create(targetValue, session, dataStore);
+            internalValue = InternalValue.create(
+                    targetValue, session, sessionContext.getDataStore());
-                        internalValue = InternalValue.create(targetValue, session, dataStore);
+                        internalValue = InternalValue.create(
+                                targetValue, session,
+                                sessionContext.getDataStore());
-            internalValue = InternalValue.create(targetVal, session, dataStore);
+            internalValue = InternalValue.create(
+                    targetVal, session, sessionContext.getDataStore());
-            internalValue = InternalValue.create(value, session, dataStore);
+            internalValue = InternalValue.create(
+                    value, session, sessionContext.getDataStore());
-                    internalValues[i] =
-                        InternalValue.create(value, session, dataStore);
+                    internalValues[i] = InternalValue.create(
+                            value, session, sessionContext.getDataStore());
