JCR-388: add support for RFC 3253 to the simple server

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@559335 13f79535-47bb-0310-9956-ffa450edef68

-                if (def.isMultiple()) {
-                    log.debug("Multivalued property '" + name + "' not added to webdav property set.");
+                if (def.isMultiple() || isDefinedByFilteredNodeType(def)) {
+                    log.debug("Skip property '" + name + "': not added to webdav property set.");
+
+    private static boolean isDefinedByFilteredNodeType(PropertyDefinition def) {
+        String ntName = def.getDeclaringNodeType().getName();
+        return ntName.equals(JcrConstants.NT_BASE)
+               || ntName.equals(JcrConstants.MIX_REFERENCEABLE)
+               || ntName.equals(JcrConstants.MIX_VERSIONABLE)
+               || ntName.equals(JcrConstants.MIX_LOCKABLE);
+    }
