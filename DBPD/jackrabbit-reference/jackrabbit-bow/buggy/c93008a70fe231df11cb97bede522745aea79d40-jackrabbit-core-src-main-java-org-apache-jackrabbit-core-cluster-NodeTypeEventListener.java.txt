JCR-699: Clustering: re-registration of nodetypes is not synchronized


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@541585 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.nodetype.NodeTypeDef;
+import javax.jcr.nodetype.NoSuchNodeTypeException;
+
+    /**
+     * Called when a node type has been externally re-registered.
+     *
+     * @param ntDef node type definition
+     * @throws RepositoryException if an error occurs
+     * @throws NoSuchNodeTypeException if the node type had not yet been registered
+     * @throws InvalidNodeTypeDefException if the node type definition is invalid
+     */
+    public void externalReregistered(NodeTypeDef ntDef)
+        throws NoSuchNodeTypeException, InvalidNodeTypeDefException, RepositoryException;
+
+    /**
+     * Called when one or more node types have been externally unregistered.
+     *
+     * @param ntNames node type qnames
+     * @throws RepositoryException if an error occurs
+     * @throws NoSuchNodeTypeException if a node type is already unregistered
+     */
+    public void externalUnregistered(Collection ntNames)
+        throws RepositoryException, NoSuchNodeTypeException;
