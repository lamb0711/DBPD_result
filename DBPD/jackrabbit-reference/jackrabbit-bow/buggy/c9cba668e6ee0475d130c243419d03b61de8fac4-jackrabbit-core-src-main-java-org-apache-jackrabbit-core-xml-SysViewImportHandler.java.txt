JCR-2195 Provide possibility to import protected items using Session/Workspace import functionality

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@808923 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.spi.commons.conversion.NameException;
-import org.apache.jackrabbit.spi.Name;
-import org.apache.jackrabbit.spi.commons.name.NameFactoryImpl;
-import org.apache.jackrabbit.spi.commons.name.NameConstants;
-import org.apache.jackrabbit.core.id.NodeId;
-import org.xml.sax.Attributes;
-import org.xml.sax.SAXException;
-
-import javax.jcr.InvalidSerializedDataException;
-import javax.jcr.PropertyType;
-import javax.jcr.RepositoryException;
-import javax.jcr.NamespaceException;
-import javax.jcr.ValueFactory;
+import java.util.List;
+import javax.jcr.InvalidSerializedDataException;
+import javax.jcr.NamespaceException;
+import javax.jcr.PropertyType;
+import javax.jcr.RepositoryException;
+import javax.jcr.ValueFactory;
+
+import org.apache.jackrabbit.core.id.NodeId;
+import org.apache.jackrabbit.spi.Name;
+import org.apache.jackrabbit.spi.commons.conversion.NameException;
+import org.apache.jackrabbit.spi.commons.name.NameConstants;
+import org.apache.jackrabbit.spi.commons.name.NameFactoryImpl;
+import org.xml.sax.Attributes;
+import org.xml.sax.SAXException;
+
+@SuppressWarnings({"ThrowableInstanceNeverThrown"})
-     * @param importer
+     * @param importer the underlying importer
+     * @param valueFactory the value factory
-                ImportState current = (ImportState) stack.peek();
+                ImportState current = stack.peek();
-        ImportState state = (ImportState) stack.peek();
+        ImportState state = stack.peek();
-                BufferedStringValue val = (BufferedStringValue) currentPropValues.get(0);
+                BufferedStringValue val = currentPropValues.get(0);
-                for (int i = 0; i < currentPropValues.size(); i++) {
-                    BufferedStringValue val =
-                            (BufferedStringValue) currentPropValues.get(i);
+                for (BufferedStringValue val : currentPropValues) {
-                BufferedStringValue val = (BufferedStringValue) currentPropValues.get(0);
+                BufferedStringValue val = currentPropValues.get(0);
-                        currentPropName, currentPropType,
-                        (TextValue[]) currentPropValues.toArray(
-                                new TextValue[currentPropValues.size()]));
+                        currentPropName,
+                        currentPropType,
+                        currentPropValues.toArray(new TextValue[currentPropValues.size()]));
-        ArrayList<Name> mixinNames;
+        List<Name> mixinNames;
-        ArrayList<PropInfo> props = new ArrayList<PropInfo>();
+        List<PropInfo> props = new ArrayList<PropInfo>();
