JCR-2542: spi2dav: EventFilters not respected

Add node type information to Jackrabbit events through an extension interface; serialize them in JCR server, process them in spi2dav repository service; this fixes filtering by node types. 

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1202201 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Set;
+import org.apache.jackrabbit.spi.commons.AdditionalEventInfo;
+import org.apache.jackrabbit.spi.Name;
-public final class EventImpl implements JackrabbitEvent, Event {
+public final class EventImpl implements JackrabbitEvent, AdditionalEventInfo, Event {
+     * @return the primary node type of the node associated with the event
+     * @see AdditionalEventInfo#getPrimaryNodeTypeName()
+     */
+    public Name getPrimaryNodeTypeName() {
+        return eventState.getNodeType();
+    }
+    
+    /**
+     * @return the mixin node types of the node associated with the event
+     * @see AdditionalEventInfo#getMixinTypeNames()
+     */
+    public Set<Name> getMixinTypeNames() {
+        return eventState.getMixinNames();
+    }
+
+    /**
