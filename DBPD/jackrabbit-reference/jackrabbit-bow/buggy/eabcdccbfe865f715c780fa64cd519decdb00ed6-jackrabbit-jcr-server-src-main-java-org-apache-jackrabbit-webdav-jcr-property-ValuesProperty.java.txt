JCR-2509 : Reduce number of compiler warning by adding @Override and generics where appropriate [step 2: jackrabbit-jcr-server]

in addition:
- minor improvements in comments, typos
- use foreach loops where possible
- remove redundant Tika imports in server/io package
- remove redundant casts
- add missing index increment in SubscriptionManagerImpl.SubscriptionMap

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@915339 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Iterator;
-public class ValuesProperty extends AbstractDavProperty implements ItemResourceConstants {
+public class ValuesProperty extends AbstractDavProperty<Value[]> implements ItemResourceConstants {
-    public ValuesProperty(DavProperty property, int defaultType,
+    public ValuesProperty(DavProperty<?> property, int defaultType,
-        List valueElements = new ArrayList();
+        List<Element> valueElements = new ArrayList<Element>();
-                valueElements.add(propValue);
+                valueElements.add((Element) propValue);
-                Iterator elemIt = ((List)property.getValue()).iterator();
-                while (elemIt.hasNext()) {
-                    Object el = elemIt.next();
+                for (Object el : ((List<?>) property.getValue())) {
-                        valueElements.add(el);
+                        valueElements.add((Element) el);
-            Element[] elems = (Element[])valueElements.toArray(new Element[valueElements.size()]);
-            jcrValues = new Value[elems.length];
-            for (int i = 0; i < elems.length; i++) {
-                jcrValues[i] = getJcrValue(elems[i], defaultType, valueFactory);
+            jcrValues = new Value[valueElements.size()];
+            int i = 0;
+            for (Element element : valueElements) {
+                jcrValues[i] = getJcrValue(element, defaultType, valueFactory);
+                i++;
-    public Object getValue() {
+    public Value[] getValue() {
+    @Override
-            for (int i = 0; i < jcrValues.length; i++) {
-                Value v = jcrValues[i];
+            for (Value v : jcrValues) {
-}
+}
