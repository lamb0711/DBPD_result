JCR-1438: Replace Config classes with factories

Replace SearchConfig with a QueryHandlerFactory.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@816678 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.commons.io.IOExceptionWithCause;
+import org.apache.jackrabbit.core.fs.FileSystem;
+import org.apache.jackrabbit.core.fs.FileSystemException;
+     * Search index file system, or <code>null</code>
+     */
+    protected FileSystem fs;
+
+    /**
+     * @param fs search index file system, or <code>null</code>
-    public final void init(QueryHandlerContext context) throws IOException {
+    public final void init(FileSystem fs, QueryHandlerContext context)
+            throws IOException {
+        this.fs = fs;
+    public void close() throws IOException {
+        if (fs != null) {
+            try {
+                fs.close();
+            } catch (FileSystemException e) {
+                throw new IOExceptionWithCause(
+                        "Unable to close search index file system: " + fs, e);
+            }
+        }
+    }
+
-        
+
