JCR-978: Remove circular dependency between VersionManagerImpl and VersionItemStateProvider

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@550466 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.state.SharedItemStateManager;
-     * The version manager
-     */
-    private final VersionManagerImpl vMgr;
-
-    /**
-    private final SharedItemStateManager stateMgr;
+    private final VersionItemStateManager stateMgr;
-     * Creates a bew vesuion manager
+     * Creates a new version manager
-    public VersionItemStateProvider(VersionManagerImpl vMgr, SharedItemStateManager stateMgr) {
-        this.vMgr = vMgr;
+    public VersionItemStateProvider(NodeId historyRootId,
+                                    VersionItemStateManager stateMgr) {
+        this.historyRootId = historyRootId;
-        this.historyRootId = vMgr.getHistoryRootId();
-        return vMgr.setNodeReferences(refs);
+        return stateMgr.setNodeReferences(refs);
