JCR-1538: [patch] add toString for NodeImpl and PropertyImpl

Type-specific toString() on all ItemImpl descendants

Use the toString() method instead of safeGetPath() in diagnostics.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@698402 13f79535-47bb-0310-9956-ffa450edef68

-                    throw new LockException("Node already locked: " + node.safeGetJCRPath());
+                    throw new LockException("Node already locked: " + node);
-                    throw new LockException("Parent node has deep lock.");
+                    throw new LockException(
+                            "Parent node has a deep lock: " + node);
-            PathMap.Element element = lockMap.map(
-                    getPath(node.getId()), true);
+            PathMap.Element element = lockMap.map(getPath(node.getId()), true);
-                throw new LockException("Node not locked: " + node.safeGetJCRPath());
+                throw new LockException("Node not locked: " + node);
-                throw new LockException("Node not locked: " + node.safeGetJCRPath());
+                throw new LockException("Node not locked: " + node);
-                throw new LockException("Node not locked by session: " + node.safeGetJCRPath());
+                throw new LockException("Node not locked by session: " + node);
-            if (info == null) {
-                throw new LockException("Node not locked: " + node.safeGetJCRPath());
-            }
-            if (element.hasPath(path) || info.deep) {
+            if (info != null && (element.hasPath(path) || info.deep)) {
-                throw new LockException("Node not locked: " + node.safeGetJCRPath());
+                throw new LockException("Node not locked: " + node);
-            throw new LockException("Node not locked: " + node.safeGetJCRPath());
+            throw new LockException("Node not locked: " + node);
