- adapted versioning again to spec 0.15
- added VirtualItemStateManager for reflecting virtual content


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@55615 13f79535-47bb-0310-9956-ffa450edef68

+    /** the parent 'freeze' */
+    private final InternalFreeze parent;
+
+    /**
+     * Creates a new 'Freeze'
+     * @param parent
+     */
+    protected InternalFreeze(InternalFreeze parent) {
+        this.parent = parent;
+    }
+
+
+    /**
+     * returns the version manager
+     * @return
+     */
+    public PersistentVersionManager getVersionManager() {
+        return parent==null ? null : parent.getVersionManager();
+    }
+
+    public InternalFreeze getParent() {
+        return parent;
+    }
