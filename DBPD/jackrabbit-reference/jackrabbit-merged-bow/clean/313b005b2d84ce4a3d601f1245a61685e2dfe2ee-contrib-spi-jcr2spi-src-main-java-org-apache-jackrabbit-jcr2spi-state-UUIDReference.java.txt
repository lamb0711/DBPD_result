SPI:
- remove ItemStateFactory parameter from resolve methods
- add create[Node|Property]State methods to ItemStateFactory which take a parent NodeState
- use PropertyReference in NodeState instead of plain property QNames
- add getNodeState() and getPropertyState() on NodeState for state traversal

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@426582 13f79535-47bb-0310-9956-ffa450edef68

+     * @param name    the name of the child node.
+     * @param isf     the item state factory to create the node state.
-    public UUIDReference(NodeState parent, NodeId childId, QName name) {
-        super(parent, name);
+    public UUIDReference(NodeState parent, NodeId childId, ItemStateFactory isf, QName name) {
+        super(parent, name, isf);
-     * @see ChildItemReference#doResolve(ItemStateFactory, ItemStateManager)
+     * @see ChildItemReference#doResolve()
-    protected ItemState doResolve(ItemStateFactory isf, ItemStateManager ism)
+    protected ItemState doResolve()
-        return isf.createNodeState(childId, ism);
+        return isf.createNodeState(childId, getParent());

MOV44 INS65 INS65 INS42 INS66 INS42 INS66 INS42 INS32 UPD42 MOV42 DEL42 DEL43 DEL69 DEL42 DEL43 DEL69 DEL42 DEL43 DEL42 DEL44