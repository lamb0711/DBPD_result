- fixing serialization problems when defaultPrimaryType or declaring (for root node) is NULL

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@178638 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.nodetype.NodeType;
-        return getFactory().getRemoteNodeType(def.getDefaultPrimaryType());
+        NodeType nt = def.getDefaultPrimaryType();
+        if (nt == null) {
+            return null;
+        } else {
+            return getFactory().getRemoteNodeType(def.getDefaultPrimaryType());
+        }

INS26 INS40 INS8 INS60 INS25 INS43 INS59 INS27 INS8 MOV8 INS42 INS42 INS32 INS42 INS33 INS41 INS42 INS42 INS33