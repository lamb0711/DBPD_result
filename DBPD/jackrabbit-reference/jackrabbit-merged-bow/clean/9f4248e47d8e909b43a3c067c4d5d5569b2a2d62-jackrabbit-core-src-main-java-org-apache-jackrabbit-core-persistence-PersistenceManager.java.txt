JCR-2699: Improve read/write concurrency

Use more fine-grained synchronization in the bundle persistence managers to allow readers to concurrently access the bundle cache.
Document these concurrency assumptions (guaranteed by the SISM and ISMLocking classes) in the PersistenceManager interface.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1003423 13f79535-47bb-0310-9956-ffa450edef68

+ *
+ * <h2>Concurrency</h2>
+ * <p>
+ * A persistence manager instance should be thread-safe and guarantee that
+ * the {@link #store(ChangeLog)} method calls are atomic. Any load() or
+ * exists() calls started after a store() call has returned must access
+ * the updated content. The client accessing a persistence manager must
+ * guarantee that no two concurrent {@link #store(ChangeLog)} calls will
+ * modify the same items.

INS66 INS66 INS66 INS66 INS65 INS66 INS66 INS66 INS66 INS65 INS66 INS66 INS68 INS68 INS42 INS69 INS42 INS69 INS43 INS43 INS42 INS42