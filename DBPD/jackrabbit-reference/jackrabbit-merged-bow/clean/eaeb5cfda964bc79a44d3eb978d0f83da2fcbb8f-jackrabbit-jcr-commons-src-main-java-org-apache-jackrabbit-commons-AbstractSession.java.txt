JCR-3312: add support for identifier paths in AbstractSession.getItem(String)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1339166 13f79535-47bb-0310-9956-ffa450edef68

-     * <li>Throws a {@link PathNotFoundException} if the given path
-     *     does not start with a slash.
-     * <li>Calls {@link Node#getNode(String)} on the root node with the
-     *     part of the given path after the first slash
-     * <li>Calls {@link Node#getProperty(String)} similarly in case the
-     *     above call fails with a {@link PathNotFoundException}
+     * <li>Delegates to {@link Node#getNodeByIdentifier(String)} for identifier
+     * paths
+     * <li>Throws a {@link PathNotFoundException} if the given path does not
+     * start with a slash.
+     * <li>Calls {@link Node#getNode(String)} on the root node with the part of
+     * the given path after the first slash
+     * <li>Calls {@link Node#getProperty(String)} similarly in case the above
+     * call fails with a {@link PathNotFoundException}
-     *
+     * 
-     * @param absPath absolute path
+     * @param absPath
+     *            absolute path
-     * @throws PathNotFoundException if the given path is invalid or not found
-     * @throws RepositoryException if another error occurs
+     * @throws PathNotFoundException
+     *             if the given path is invalid or not found
+     * @throws RepositoryException
+     *             if another error occurs
-    public Item getItem(String absPath)
-            throws PathNotFoundException, RepositoryException {
+    public Item getItem(String absPath) throws PathNotFoundException, RepositoryException {
+        } else if (absPath.startsWith("[") && absPath.endsWith("]")) {
+            return getNodeByIdentifier(absPath.substring(1, absPath.length() - 1));

INS66 INS66 INS65 INS66 INS66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 INS25 INS68 INS27 INS8 MOV8 INS42 INS42 INS69 INS32 INS32 INS41 INS43 INS42 INS42 INS45 INS42 INS42 INS45 INS32 INS42 INS42 INS32 INS42 INS42 INS34 INS27 INS32 INS34 INS42 INS42 DEL66