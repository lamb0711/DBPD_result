JCR-2199: Improvements to user management

- change content structure to allow for fast lookup by ID
- groupID: unescaped before being exposed in the API.
- adjust defautl ac-provider on the security workspace according to the new structure
- same for impl tests
- extend security config. user mgr impl defines a couple of config options

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@794702 13f79535-47bb-0310-9956-ffa450edef68

-    private final BeanConfig workspaceAccessConfig; 
+    private final BeanConfig workspaceAccessConfig;
+    private final BeanConfig userManagerConfig;
+     * @param workspaceName the security workspace name
+     * @param workspaceAccessConfig the configuration for the workspace access.
+        this(config, workspaceName, workspaceAccessConfig, null);
+    }
+
+    /**
+     * Creates an security manager configuration object from the
+     * given bean configuration.
+     *
+     * @param config bean configuration
+     * @param workspaceName the security workspace name
+     * @param workspaceAccessConfig the configuration for the workspace access.
+     * @param userManagerConfig Configuration options for the user manager.
+     */
+    public SecurityManagerConfig(BeanConfig config, String workspaceName,
+                                 BeanConfig workspaceAccessConfig,
+                                 BeanConfig userManagerConfig) {
+        this.userManagerConfig = userManagerConfig;
+
+    /**
+     * @return the configuration for the user manager.
+     * May be <code>null</code> if the configuration entry is missing (i.e.
+     * the system default should be used).
+     */
+    public BeanConfig getUserManagerConfig() {
+        return userManagerConfig;
+    }

INS23 INS31 INS31 INS83 INS83 INS43 INS59 MOV29 INS83 INS42 INS44 INS44 INS44 INS8 INS29 INS44 INS29 INS83 INS43 INS42 INS8 INS42 INS42 INS65 INS65 INS43 INS42 INS43 INS42 INS43 INS42 INS17 INS65 INS65 INS65 INS65 INS65 INS43 INS42 INS21 INS65 INS42 INS41 INS42 INS66 INS42 INS66 INS42 INS42 INS42 INS42 INS42 INS42 INS33 INS66 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS7 INS66 INS66 INS66 INS42 INS22 INS42 INS52 INS42