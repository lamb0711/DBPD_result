JCR-2313 - Improvements to user management (2) [work in progress] 

- remove 'administrators' group from set of pre-installed users as it has no special meaning
   neither within the user administration nor within the ac-evaluation code.

- remove SystemUserManager and move the special admin-handling to the UserManagerImpl
- add explicit check for uuid-conflict to UserManagerImpl#createAuthorizableNode
- make sure the admin-user is properly recreated upon reconfiguration of the usersPath (UserManager config) 
- make sure the admin-user is created in case of other uuid-conflict

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@881215 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.security.principal.PrincipalImpl;
-                log.debug("... Privilege.ALL for administrators.");
-                Principal administrators;
-                    administrators = pMgr.getPrincipal(pName);
+                    Principal administrators = pMgr.getPrincipal(pName);
+                    log.debug("... Privilege.ALL for administrators.");
+                    Privilege[] privs = new Privilege[]{acMgr.privilegeFromName(Privilege.JCR_ALL)};
+                    acl.addAccessControlEntry(administrators, privs);
-                    log.warn("Administrators principal group is missing.");
-                    administrators = new PrincipalImpl(pName);
+                    log.info("Administrators principal group is missing -> omitting initialization of default permissions.");
-                Privilege[] privs = new Privilege[]{acMgr.privilegeFromName(Privilege.JCR_ALL)};
-                acl.addAccessControlEntry(administrators, privs);
-                privs = new Privilege[]{acMgr.privilegeFromName(Privilege.JCR_READ)};
+                Privilege[] privs = new Privilege[]{acMgr.privilegeFromName(Privilege.JCR_READ)};
-                log.warn("No applicable ACL available for the root node -> skip initialization of the root node's ACL.");
+                log.info("No applicable ACL available for the root node -> skip initialization of the root node's ACL.");

INS25 INS60 MOV32 INS8 INS8 INS5 INS59 MOV60 MOV21 MOV60 MOV21 MOV21 INS43 INS85 INS42 MOV3 UPD42 UPD42 MOV42 MOV32 UPD42 UPD45 DEL40 DEL26 DEL42 DEL7 DEL21 DEL8 DEL42 DEL43 DEL42 DEL14 DEL7 DEL21 DEL8 DEL25 DEL42 DEL7 DEL21