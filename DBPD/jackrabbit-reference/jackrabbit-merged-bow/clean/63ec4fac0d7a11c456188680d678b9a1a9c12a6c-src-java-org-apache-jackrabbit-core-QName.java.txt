redesigned transaction support & PersistenceManager

orginal code contributed by dominique pfister, required a lot of tweaking to make it run & work; not thoroughly tested

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@126221 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.regex.Pattern;
+import java.util.regex.Pattern;
- * <p>
+ * <p/>
- *           name ::= [prefix ':'] simplename
- *         prefix ::= << Any valid XML Name >>
- *     simplename ::= nonspacestring [[string] nonspacestring]
- *         string ::= [string] char
- *           char ::= nonspace | space
+ * name ::= [prefix ':'] simplename
+ * prefix ::= << Any valid XML Name >>
+ * simplename ::= nonspacestring [[string] nonspacestring]
+ * string ::= [string] char
+ * char ::= nonspace | space
- *          space ::= << ' ' (the space character) >>
- *       nonspace ::= << Any Unicode character except
- *                    '/', ':', '[', ']', '*',
- *                    '''(the single quote),
- *                    '"'(the double quote),
- *                    any whitespace character >>
+ * space ::= << ' ' (the space character) >>
+ * nonspace ::= << Any Unicode character except
+ * '/', ':', '[', ']', '*',
+ * '''(the single quote),
+ * '"'(the double quote),
+ * any whitespace character >>
- *
-        if (resolver==null) {
+        if (resolver == null) {
-     * @param rawName the jcr name to parse
+     * @param rawName  the jcr name to parse
-        if (resolver==null) {
+        if (resolver == null) {

MOV26 UPD66 UPD66