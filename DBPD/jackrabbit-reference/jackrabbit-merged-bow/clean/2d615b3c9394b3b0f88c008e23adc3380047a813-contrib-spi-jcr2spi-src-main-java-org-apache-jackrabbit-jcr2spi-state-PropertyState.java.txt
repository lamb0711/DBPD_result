work in progress

- NodeInfo does not load information about child-node-entries
  -> add separate SPI call
  -> add initial draft ChildInfo interface
  -> ChildNodeEntries are not built upon creation of the NodeState
  -> ItemStateFactory: add method to retrieve ChildNodeEntries

- respect CacheBehaviour while persisting transient modifications

- LockInfo.getNodeId() -> not used so far -> remove

- SessionItemStateManager: getHierarchyManager() only used by SessionImpl -> moved

- Improve TODO comments
- Javadoc


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@482657 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.jcr2spi.config.CacheBehaviour;
-import java.util.Collection;
-                PropertyState tmp = isf.createPropertyState(getPropertyId(), parent);
+                PropertyState tmp = isf.createPropertyState(getPropertyId(), getParent());
-                // TODO: make sure the property-entry is removed from the parent state
+                // TODO: improve. make sure the property-entry is removed from the parent state
-                // todo rather throw? remove from parent?
+                // TODO: rather throw? remove from parent?
-            // todo only invalidate if existing?
+            // TODO: only invalidate if existing?
-     * @see ItemState#persisted(ChangeLog)
+     * @see ItemState#persisted(ChangeLog, CacheBehaviour)
-    void persisted(ChangeLog changeLog) throws IllegalStateException {
+    void persisted(ChangeLog changeLog, CacheBehaviour cacheBehaviour)
+        throws IllegalStateException {
+        checkIsSessionState();

MOV26 UPD40 INS44 INS43 INS42 INS21 INS42 INS32 INS69 INS42 INS43 INS42 INS32 UPD42 MOV42