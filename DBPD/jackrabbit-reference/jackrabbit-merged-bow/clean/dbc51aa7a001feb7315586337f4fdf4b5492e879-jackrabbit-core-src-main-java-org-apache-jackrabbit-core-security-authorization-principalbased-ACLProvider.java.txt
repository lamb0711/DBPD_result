JCR-2814 Login performance drop when using DefaultAccessManager
implemented growable LRU for compiled permissions

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1036450 13f79535-47bb-0310-9956-ffa450edef68

-        // TODO find optimal cache size and ev. make it configurable (see also JCR-2573).        
-        private final Map<ItemId, Boolean> readCache = new LRUMap(5000);
+        @SuppressWarnings("unchecked")
+        private final Map<ItemId, Boolean> readCache = new LRUMap(1024) {
+            @Override
+            protected boolean removeLRU(LinkEntry entry) {
+                return size() > 5000;
+            }
+        };
+

INS79 INS42 INS45 INS34 INS1 INS31 INS78 INS83 INS39 INS42 INS44 INS8 INS42 INS43 INS42 INS41 INS42 INS27 INS32 INS34 INS42 DEL34