JCR-3534: Efficient copying of binaries across repositories with the same data store

Add a default implementation of the getRecord() method to the new AbstractDataStore base class

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1484442 13f79535-47bb-0310-9956-ffa450edef68

-    public DataRecord getRecordIfStored(DataIdentifier identifier) throws DataStoreException {
-        return getRecord(identifier, true);
-    }
-
-     * This method only checks if the file exists if the verify flag is set.
-     * If the verify flag is set and the file doesn't exist, the method returns null.
-     * @param verify whether to check if the file exists
-    private DataRecord getRecord(DataIdentifier identifier, boolean verify) throws DataStoreException {
+    public DataRecord getRecordIfStored(DataIdentifier identifier) throws DataStoreException {
-            if (verify && !file.exists()) {
+            if (!file.exists()) {
-    /**
-     * Returns the record with the given identifier. Note that this method
-     * performs no sanity checks on the given identifier. It is up to the
-     * caller to ensure that only identifiers of previously created data
-     * records are used.
-     *
-     * @param identifier data identifier
-     * @return identified data record
-     */
-    public DataRecord getRecord(DataIdentifier identifier) throws DataStoreException {
-        return getRecord(identifier, false);
-    }
-

UPD83 UPD42 MOV38 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL42 DEL9 DEL32 DEL41 DEL8 DEL31 DEL66 DEL66 DEL42 DEL66 DEL65 DEL39 DEL42 DEL44 DEL42 DEL27 DEL66 DEL66 DEL66 DEL66 DEL65 DEL42 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL42 DEL9 DEL32 DEL41 DEL8 DEL31