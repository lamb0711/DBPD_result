Transaction patch submitted by Dominique.
Moved test classes out of api.xa package because the UserTransactionImpl class uses the implementation specifc XASessionImpl class.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@155314 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.state.TransactionalItemStateManager;
-            tx.setRollbackOnly();
-        try {
-            tx.rollback();
-        } catch (TransactionException e) {
-            log.error("Unable to rollback transaction.", e);
-            throw new XAException(XAException.XAER_RMERR);
-        }
+        wsp.getItemStateManager().rollback(tx);
-            tx.commit();
+            wsp.getItemStateManager().commit(tx);
-            throw new XAException(XAException.XAER_RMERR);
+            throw new XAException(XAException.XA_RBOTHER);

MOV21 INS32 UPD42 INS42 UPD42 MOV42 UPD42 MOV42 INS32 INS42 UPD42 MOV42 INS42 UPD40 DEL40 DEL26 DEL42 DEL42 DEL32 DEL21 DEL45 DEL42 DEL42 DEL32 DEL21 DEL8 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL40 DEL14 DEL53 DEL8 DEL12 DEL54