Transaction patch submitted by Dominique.
Moved test classes out of api.xa package because the UserTransactionImpl class uses the implementation specifc XASessionImpl class.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@155314 13f79535-47bb-0310-9956-ffa450edef68

-     * Flag indicating whether rollback only is allowed
-     */
-    private boolean rollbackOnly;
-
-    /**
-     * Commit this transaction. Commits all changes to items contained in the
-     * transaction. After having successfully committed the transaction, it
-     * may no longer be used.
-     *
-     * @throws org.apache.jackrabbit.core.state.TransactionException if an error occurs
-     */
-    public void commit() throws TransactionException {
-        if (rollbackOnly) {
-            throw new TransactionException("Transaction set to rollback only.");
-        }
-        notifyCommitted();
-    }
-
-    /**
-     * Set outcome of this transaction to rollback only.
-     */
-    public void setRollbackOnly() {
-        rollbackOnly = true;
-    }
-
-    /**
-     * Rollback this transaction. Rollbacks all changes to items contained in
-     * the transaction. After having successfully rolled back the transaction,
-     * it may no longer be used.
-     *
-     * @throws org.apache.jackrabbit.core.state.TransactionException if an error occurs
-     */
-    public void rollback() throws TransactionException {
-        notifyRolledBack();
-    }
-
-    /**
-    private void notifyCommitted() throws TransactionException {
+    void notifyCommitted() {
-    private void notifyRolledBack() throws TransactionException {
+    void notifyRolledBack() {

DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL59 DEL23 DEL66 DEL66 DEL66 DEL65 DEL40 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL42 DEL43 DEL45 DEL14 DEL53 DEL8 DEL25 DEL42 DEL32 DEL21 DEL8 DEL31 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL9 DEL7 DEL21 DEL8 DEL31 DEL66 DEL66 DEL66 DEL65 DEL40 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL32 DEL21 DEL8 DEL31 DEL83 DEL42 DEL43 DEL83 DEL42 DEL43