JCR-2744: Avoid element arrays in PathImpl

Avoid using Path.getNameElement() where possible

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@997303 13f79535-47bb-0310-9956-ffa450edef68

+        } else if (from < to - 1) {
+            return parent.subPath(from, to - 1).resolve(getLastElement());
-            Element element = getNameElement();
-            if (from < to - 1) {
-                return parent.subPath(from, to - 1).resolve(element);
-            } else if (element.denotesName()) {
-                return new NamePath(null, element);
-            } else if (element.denotesParent()) {
-                return new ParentPath(null);
-            } else if (element.denotesCurrent()) {
-                return new CurrentPath(null);
-            } else {
-                throw new IllegalStateException(
-                        "Unknown path element type: " + element);
-            }
+            return getLastElement();
-    public final boolean equals(Object that) {
+    public boolean equals(Object that) {
-            if (!getNameElement().equals(path.getNameElement())) {
-                return false;
-            } else if (parent != null) {
+            if (parent != null) {
-    public final int hashCode() {
-        int h = 17;
+    public int hashCode() {
-            h = h * 37 + parent.hashCode();
+            return parent.hashCode();
+        } else {
+            return 17;
-        h = h * 37 + getNameElement().hashCode();
-        return h;

MOV8 INS25 MOV27 MOV8 MOV25 INS8 MOV62 INS8 INS41 INS41 MOV25 MOV60 MOV25 MOV32 INS34 MOV27 MOV8 INS32 INS32 INS42 UPD42 MOV42 DEL42 DEL42 DEL32 DEL42 DEL43 DEL33 DEL42 DEL14 DEL42 DEL42 DEL32 DEL42 DEL43 DEL33 DEL14 DEL41 DEL8 DEL42 DEL42 DEL32 DEL42 DEL43 DEL33 DEL14 DEL41 DEL8 DEL42 DEL43 DEL45 DEL42 DEL27 DEL14 DEL53 DEL8 DEL25 DEL25 DEL42 DEL43 DEL42 DEL42 DEL32 DEL59 DEL60 DEL25 DEL8 DEL83 DEL42 DEL32 DEL42 DEL42 DEL42 DEL32 DEL32 DEL38 DEL25 DEL25 DEL8 DEL83 DEL39 DEL42 DEL34 DEL59 DEL60 DEL42 DEL42 DEL34 DEL27 DEL27 DEL7 DEL21 DEL42 DEL42 DEL34 DEL27 DEL42 DEL32 DEL42 DEL32 DEL27 DEL7 DEL21 DEL42 DEL41