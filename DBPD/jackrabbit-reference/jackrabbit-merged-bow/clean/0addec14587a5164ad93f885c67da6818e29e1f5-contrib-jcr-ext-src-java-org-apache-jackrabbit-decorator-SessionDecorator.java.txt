JCR-256: Improve jcr decorator in jcr-ext
- added decoration for all required jcr interfaces
- added more factory methods to DecoratorFactory
- renamed SimpleDecoratorFactory to DefaultDecoratorFactory
- removed ChainedDecoratorFactory and ChainedItemDecorator
- added sample decorator: TrussDecoratorFactory

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@326437 13f79535-47bb-0310-9956-ffa450edef68

- * TODO
-    private DecoratorFactory factory;
+    protected final DecoratorFactory factory;
-    private Repository repository;
+    protected final Repository repository;
-    private Session session;
+    protected final Session session;
+    /**
+     * @param factory
+     * @param repository the repository (decorator) that was used to create the
+     *                   session decorator.
+     * @param session
+     */
-        return factory.getNodeDecorator(session, root);
+        return factory.getNodeDecorator(this, root);
-        return factory.getNodeDecorator(session, node);
+        return factory.getNodeDecorator(this, node);
-        if (item instanceof Node) {
-            return factory.getNodeDecorator(session, (Node) item);
-        } else if (item instanceof Property) {
-            return factory.getPropertyDecorator(session, (Property) item);
-        } else {
-            return factory.getItemDecorator(session, item);
-        }
+        return factory.getItemDecorator(this, item);
-        return session.getNamespacePrefix(prefix);
+        return session.getNamespaceURI(prefix);
-        return session.getValueFactory();
+        return factory.getValueFactoryDecorator(this, session.getValueFactory());

UPD83 INS83 UPD83 INS83 UPD83 INS83 INS29 INS8 INS65 INS65 INS65 MOV60 MOV41 INS42 INS42 INS66 INS66 INS42 INS32 INS52 INS52 INS52 UPD42 INS42 INS42 INS52 MOV32 DEL66 DEL65 DEL42 DEL42 DEL42 DEL42 DEL42 DEL43 DEL62 DEL42 DEL42 DEL42 DEL42 DEL43 DEL42 DEL11 DEL32 DEL41 DEL8 DEL42 DEL42 DEL43 DEL62 DEL42 DEL42 DEL42 DEL42 DEL43 DEL42 DEL11 DEL32 DEL41 DEL8 DEL8 DEL25 DEL25 DEL8