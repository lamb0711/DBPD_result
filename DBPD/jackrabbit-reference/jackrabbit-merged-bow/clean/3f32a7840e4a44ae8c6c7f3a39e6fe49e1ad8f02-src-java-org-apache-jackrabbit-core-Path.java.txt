Initial checkin of QueryManager with support for JCRQL (search implementation is not complete, some features are missing: searching for distinct same name sibling, sorting not yet implemented, indexing contains potential for optimizing)

Changed observation to support SynchronousEventListeners. The search registers itself as synchronous event listener. Also changed access checking on events sent out, because checking access on removed nodes need to be performed before they actually get removed.

Extended config.xml, which allows now to specify an index location for the QueryManager.

Added jar files needed for search.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@47399 13f79535-47bb-0310-9956-ffa450edef68

+	public void addFirst(QName name) {
+	    queue.addFirst(new PathElement(name));
+	}
+
+	public void addFirst(QName name, int index) {
+	    queue.addFirst(new PathElement(name, index));
+	}
+
+	public void addLast(QName name) {
+	    queue.addLast(new PathElement(name));
+	}
+
+	public void addLast(QName name, int index) {
+	    queue.addLast(new PathElement(name, index));
+	}
+
-	    name = new QName(namespaceURI, localName);
-	    this.index = 0;
+	    this(new QName(namespaceURI, localName));
-	    name = new QName(namespaceURI, localName);
+	    this(new QName(namespaceURI, localName), index);
+	}
+
+	private PathElement(QName name) {
+	    if (name == null) {
+		throw new IllegalArgumentException("name must not be null");
+	    }
+	    this.name = name;
+	    this.index = 0;
+	}
+
+	private PathElement(QName name, int index) {
+	    if (name == null) {
+		throw new IllegalArgumentException("name must not be null");
+	    }
+	    this.name = name;

INS31 INS31 INS31 INS31 INS31 INS31 INS83 INS39 INS42 INS44 INS8 INS83 INS39 INS42 INS44 INS44 INS8 INS83 INS39 INS42 INS44 INS8 INS83 INS39 INS42 INS44 INS44 INS8 INS83 INS42 MOV44 MOV44 INS8 INS44 INS83 INS42 INS44 INS8 INS44 MOV21 INS43 INS42 INS21 INS43 INS42 INS39 INS42 INS21 INS43 INS42 INS21 INS43 INS42 INS39 INS42 INS21 INS17 INS39 INS42 INS17 INS43 INS42 INS25 INS21 MOV21 INS43 INS42 INS25 INS42 INS32 INS42 INS32 INS42 INS32 INS42 INS32 MOV14 MOV14 INS42 INS42 INS27 INS8 INS7 INS42 INS27 INS8 INS42 INS42 INS14 INS42 INS42 INS14 INS42 INS42 INS14 INS42 INS42 INS14 INS42 INS33 INS53 INS22 INS42 INS42 INS33 INS53 INS22 INS42 INS43 INS42 INS43 INS42 INS42 INS43 INS42 INS43 INS42 INS42 INS14 INS52 INS42 INS14 INS52 INS42 INS42 INS42 INS42 INS42 INS43 INS45 INS43 INS45 INS42 INS42 DEL42 DEL7 DEL21 DEL42