- extracting repository descriptions to own properties file

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@153929 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.HashMap;
-import java.util.Iterator;
-import java.util.Map;
-import java.util.Properties;
+import java.util.*;
-    // pre-defined values of well known repository properties
-    // @todo update as necessary
-    private static final String SPEC_VERSION = "0.16.2";
-    private static final String SPEC_NAME = "Content Repository API for Java(TM) Technology Specification";
-    private static final String REP_VENDOR = "Apache Software Foundation";
-    private static final String REP_VENDOR_URL = "http://www.apache.org/";
-    private static final String REP_NAME = "Jackrabbit";
-    private static final String REP_VERSION = "0.16.2";
-
-                repProps.setProperty(SPEC_VERSION_DESC, SPEC_VERSION);
-                repProps.setProperty(SPEC_NAME_DESC, SPEC_NAME);
-                repProps.setProperty(REP_VENDOR_DESC, REP_VENDOR);
-                repProps.setProperty(REP_VENDOR_URL_DESC, REP_VENDOR_URL);
-                repProps.setProperty(REP_NAME_DESC, REP_NAME);
-                repProps.setProperty(REP_VERSION_DESC, REP_VERSION);
+                InputStream in = RepositoryImpl.class.getResourceAsStream("repository.properties");
+                repProps.load(in);
+                in.close();
-                // @todo check repository descriptor values with current state of implementation
-                repProps.setProperty(LEVEL_1_SUPPORTED, "true");
-                repProps.setProperty(LEVEL_2_SUPPORTED, "true");
-                repProps.setProperty(OPTION_TRANSACTIONS_SUPPORTED, "true");
-                repProps.setProperty(OPTION_VERSIONING_SUPPORTED, "true");
-                repProps.setProperty(OPTION_OBSERVATION_SUPPORTED, "true");
-                repProps.setProperty(OPTION_LOCKING_SUPPORTED, "true");
-                repProps.setProperty(OPTION_QUERY_SQL_SUPPORTED, "true");
-                repProps.setProperty(QUERY_XPATH_POS_INDEX, "true");
-                repProps.setProperty(QUERY_XPATH_DOC_ORDER, "true");
-                repProps.setProperty(QUERY_JCRPATH, "true");
-                repProps.setProperty(QUERY_JCRSCORE, "true");
-
+                // set counts
-        return (String[]) repProps.keySet().toArray(new String[repProps.keySet().size()]);
+        String[] keys = (String[]) repProps.keySet().toArray(new String[repProps.keySet().size()]);
+        Arrays.sort(keys);
+        return keys;

UPD40 INS5 INS43 INS85 INS60 INS21 INS42 MOV5 INS59 INS32 INS42 INS42 MOV11 INS42 INS42 INS42 INS60 INS43 INS59 INS42 INS42 INS32 UPD42 UPD42 UPD42 UPD42 INS57 UPD42 MOV42 UPD45 MOV45 INS43 INS42 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL83 DEL83 DEL83 DEL42 DEL43 DEL42 DEL45 DEL59 DEL23 DEL83 DEL83 DEL83 DEL42 DEL43 DEL42 DEL45 DEL59 DEL23 DEL83 DEL83 DEL83 DEL42 DEL43 DEL42 DEL45 DEL59 DEL23 DEL83 DEL83 DEL83 DEL42 DEL43 DEL42 DEL45 DEL59 DEL23 DEL83 DEL83 DEL83 DEL42 DEL43 DEL42 DEL45 DEL59 DEL23 DEL83 DEL83 DEL83 DEL42 DEL43 DEL42 DEL45 DEL59 DEL23 DEL42 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL32 DEL21 DEL45 DEL42 DEL45 DEL42 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL45 DEL32 DEL21 DEL42 DEL42 DEL42 DEL45 DEL32 DEL21