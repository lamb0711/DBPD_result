JCR-1104 : JSR 283 support
JCR-1171 : Contribute Pluggable Permission and User Management to Jackrabbit

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@638834 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.security.authorization.WorkspaceAccessManager;
+import org.apache.jackrabbit.core.security.authorization.AccessControlProvider;
-import org.apache.jackrabbit.spi.commons.namespace.NamespaceResolver;
+import org.apache.jackrabbit.spi.commons.conversion.NamePathResolver;
+import javax.jcr.Session;
- * An <code>AMContext</code> is used to provide context information for an
- * <code>AccessManager</code>.
+ * An <code>AMContext</code> is used to provide <code>Session</code> specific
+ * context information for an <code>AccessManager</code>.
+ * @see AccessManager#init(AMContext, AccessControlProvider, WorkspaceAccessManager)
+    private final Session session;
+
-     * namespace resolver for resolving namespaces in qualified paths
+     * name and path resolver for resolving namespaces in qualified paths
-    private final NamespaceResolver nsResolver;
+    private final NamePathResolver resolver;
-     * @param nsResolver      namespace resolver
+     * @param resolver        name and path resolver
+                     Session session,
-                     NamespaceResolver nsResolver,
+                     NamePathResolver resolver,
+        this.session = session;
-        this.nsResolver = nsResolver;
+        this.resolver = resolver;
+     * Returns the session
+     *
+     * @return the session
+     */
+    public Session getSession() {
+        return session;
+    }
+
+    /**
-    public NamespaceResolver getNamespaceResolver() {
-        return nsResolver;
+    public NamePathResolver getNamePathResolver() {
+        return resolver;

INS26 INS26 INS26 INS40 INS40 UPD40 INS40 INS23 INS31 INS65 INS83 INS83 INS43 INS59 UPD43 INS44 INS29 INS83 INS43 INS42 INS8 UPD43 UPD42 UPD66 UPD66 INS68 INS42 INS42 UPD42 UPD42 INS43 INS42 UPD43 UPD42 INS21 INS65 INS65 INS42 INS41 UPD42 INS42 INS42 INS69 INS69 INS69 UPD66 UPD42 UPD66 INS42 UPD42 INS7 INS66 INS66 INS42 UPD42 INS43 INS43 INS43 INS22 INS42 UPD42 INS42 INS42 INS42 INS52 INS42 UPD42