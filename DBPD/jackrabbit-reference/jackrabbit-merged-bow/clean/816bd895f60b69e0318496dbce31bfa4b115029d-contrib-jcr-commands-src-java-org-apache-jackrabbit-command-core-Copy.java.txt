- handle absolute paths in addnode, copy and move commands
- add setnamespaceprefix command
- lookup jcr session in httpsession in jcrcommandservlet

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@477140 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.Item;
- * given <code>Node</code> from the current working <code>Workspace</code>.
+ * given <code>Node</code> from the current working <code>Workspace</code>.<br>
+ * If the target path ends with '/' the source node will be copied as a child of
+ * the target node maintaining the name.
+        if (destAbsPath.endsWith("/")) {
+            Item source = CommandHelper.getSession(ctx).getItem(srcAbsPath);
+            destAbsPath = destAbsPath + source.getName();
+        }
+
+     * 
-     *        the destination absolute path key
+     *            the destination absolute path key
+     * 
-     *        the source absolute path key
+     *            the source absolute path key
+     * 
-     *        the source <code>Workspace</code> key
+     *            the source <code>Workspace</code> key

INS26 INS40 UPD66 INS66 INS66 INS25 INS32 INS8 INS42 INS42 INS45 INS60 INS21 INS43 INS59 INS7 INS42 INS42 INS32 INS42 INS27 INS32 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS42