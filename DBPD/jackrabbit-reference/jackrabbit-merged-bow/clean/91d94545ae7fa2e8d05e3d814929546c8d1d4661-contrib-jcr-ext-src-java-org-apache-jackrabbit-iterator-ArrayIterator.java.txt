JCR-EXT: Cleaned up, documented and extended the array iterator classes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@169151 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.NoSuchElementException;
+
- * 
- * @author Jukka Zitting
-public class ArrayIterator implements RangeIterator {
+class ArrayIterator implements RangeIterator {
-    
+
-    private Object[] array;
-    
+    private final Object[] array;
+
-     * 
+     *
-    public ArrayIterator(Object[] array) {
+    protected ArrayIterator(Object[] array) {
-    
-    /** {@inheritDoc} */
+
+    /**
+     * Checks whether there are more elements in the array.
+     *
+     * @return <code>true</code> if more elements are available,
+     *         <code>false</code> otherwise
+     * @see Iterator#hasNext()
+     */
-    /** {@inheritDoc} */
+    /**
+     * Returns the next array element and advances the array position.
+     *
+     * @return next element
+     * @see Iterator#next()
+     */
-    /** {@inheritDoc} */
-    public void remove() {
+    /**
+     * Element removal is not supported.
+     *
+     * @throws UnsupportedOperationException always thrown
+     * @see Iterator#remove()
+     */
+    public void remove() throws UnsupportedOperationException {
-    /** {@inheritDoc} */
-    public void skip(long items) {
-        position += items;
+    /**
+     * Advances the array position the given number of elements.
+     *
+     * @param items number of items to skip
+     * @throws IllegalArgumentException if the given number of items is negative
+     * @throws NoSuchElementException if skipping past the end of the array
+     * @see RangeIterator#skip(long)
+     */
+    public void skip(long items)
+            throws IllegalArgumentException, NoSuchElementException {
+        if (items < 0) {
+            throw new IllegalArgumentException("Negative number of items");
+        } else if (position + items < array.length) {
+            position += items;
+        } else {
+            throw new NoSuchElementException("No more elements in the array");
+        }
-    /** {@inheritDoc} */
+    /**
+     * Returns the length of the array.
+     *
+     * @return array length
+     * @see RangeIterator#getSize()
+     */
-    /** {@inheritDoc} */
-    public long getPos() {
+    /**
+     * Returns the current array position
+     *
+     * @return array position
+     * @see RangeIterator#getPosition()
+     */
+    public long getPosition() {

INS26 INS40 INS83 UPD83 INS43 INS43 INS43 INS8 UPD42 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS42 INS65 INS65 INS65 INS65 INS65 INS42 INS42 INS25 INS65 INS65 INS65 INS65 INS65 INS65 INS66 UPD66 MOV66 INS66 INS68 INS66 UPD66 MOV66 INS68 INS66 INS42 UPD66 MOV66 INS68 INS66 INS42 INS66 INS42 INS66 INS42 UPD66 MOV66 INS68 INS27 INS8 INS25 INS66 UPD66 MOV66 INS68 INS66 UPD66 MOV66 INS68 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS69 INS42 INS34 INS53 INS27 MOV8 INS8 INS42 INS42 INS42 INS42 INS39 INS14 INS27 INS40 INS53 INS43 INS45 INS42 INS42 INS14 INS42 INS43 INS45 INS42 DEL66 DEL65 DEL83 DEL65 DEL65 DEL65 DEL65 DEL65 DEL65 DEL65 DEL65 DEL65 DEL65 DEL65 DEL65