work in progress

- event processing upon saving transient modifications
- extend ItemState.refresh: add Event and ev. ChangeLog as param
- EventImpl: parentId missing
- remove ItemStateListener
- all state changes are covered by ItemStateLifeCycleListener.statusChanged(ItemState, int)


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@453514 13f79535-47bb-0310-9956-ffa450edef68

-     * @see ItemStateListener#stateCreated(ItemState)
-     */
-    public void stateCreated(ItemState created) {
-    }
-
-    /**
-     * @inheritDoc
-     * @see ItemStateListener#stateModified(ItemState)
-     */
-    public void stateModified(ItemState modified) {
-    }
-
-    /**
-     * @inheritDoc
-     * @see ItemStateListener#stateDestroyed(ItemState)
-     */
-    public void stateDestroyed(ItemState destroyed) {
-        changeLog.deletedStates.remove(destroyed);
-    }
-
-    /**
-     * @inheritDoc
-        // TODO: cleanup operations as well.
-                        // state needs to be connected to the overlayed-state now
-                        try {
-                            ItemState overlayedState = parent.getItemState(state.getId());
-                            state.connect(overlayedState);
-                        } catch (ItemStateException e) {
-                            // TODO, handle property
-                            log.error(e.getMessage());
-                        }
+                    // todo: remove operation(s) as well
-                    // TODO remove the 'add' operation as well
+                    // TODO: remove operation as well
+                // TODO: remove operation as well
-                log.warn("ItemState has invalid status: " + state.getStatus());
+                log.error("ItemState has invalid status: " + state.getStatus());

UPD42 DEL65 DEL42 DEL42 DEL42 DEL43 DEL69 DEL68 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL8 DEL31 DEL65 DEL42 DEL42 DEL42 DEL43 DEL69 DEL68 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL8 DEL31 DEL65 DEL42 DEL42 DEL42 DEL43 DEL69 DEL68 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL40 DEL42 DEL42 DEL32 DEL21 DEL8 DEL31 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL8 DEL12 DEL54