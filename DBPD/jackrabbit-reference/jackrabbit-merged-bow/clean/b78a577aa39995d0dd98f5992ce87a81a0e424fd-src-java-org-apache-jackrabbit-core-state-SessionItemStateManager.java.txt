JCR-129: applied patch supplied by serge as-is
(http://issues.apache.org/jira/browse/JCR-129)misc. NodeState optimizations:
- removed PropertyEntry class; the relevant
  NodeState methods (e.g. getPropertyEntries())
  now return QName's instead of PropertyEntry
  to avoid unneccessary object creation
- reimplemented internal ChildNodeEntries class
  for improved speed and efficiency


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@201999 13f79535-47bb-0310-9956-ffa450edef68

+
-            /**
-             * walk through list of transient states in attic and check if
-             * they are descendants of the specified parent
-             */
+             // walk through list of transient states in attic and check if
+             // they are descendants of the specified parent
-
+/*
+        TreeMap descendants = new TreeMap();
+        Iterator iter = transientStateMgr.getEntriesInAttic();
+        while (iter.hasNext()) {
+            ItemState state = (ItemState) iter.next();
+            int depth = getAncestorCount(state, parentId.getUUID());
+            if (depth >= 0) {
+                descendants.put(new ItemStateKey(state, depth), state);
+            }
+        }
+*/

