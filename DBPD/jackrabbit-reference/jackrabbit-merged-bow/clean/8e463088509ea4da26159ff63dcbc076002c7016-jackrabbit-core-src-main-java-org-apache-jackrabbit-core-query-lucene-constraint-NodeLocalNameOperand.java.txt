JCR-2444: Exception executing SQL2/JQOM with non-admin session

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@892263 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.ItemNotFoundException;
-import org.apache.jackrabbit.core.query.lucene.ScoreNode;
+import org.apache.jackrabbit.core.query.lucene.ScoreNode;
-        String name = session.getNodeById(sn.getNodeId()).getName();
-        return new Value[]{session.getValueFactory().createValue(
-                Text.getLocalName(name))};
+        try {
+            String name = session.getNodeById(sn.getNodeId()).getName();
+            return new Value[]{session.getValueFactory().createValue(
+                    Text.getLocalName(name))};
+        } catch (ItemNotFoundException e) {
+            // access denied to score node
+            return new Value[0];
+        }

MOV26 INS26 INS40 INS8 MOV60 INS54 MOV8 INS12 INS44 INS8 INS43 INS42 INS41 INS42 INS3 INS5 INS34 INS43 INS85 INS42