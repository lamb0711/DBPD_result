JCR-3345: ACL evaluation may return non-fresh results

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1357265 13f79535-47bb-0310-9956-ffa450edef68

-            if (segment.containsKey(id)) {
+            ItemState s = segment.put(id, state);
+            // overwriting the same instance is OK
+            if (s != null && s != state) {
-            segment.put(id, state);

INS60 INS43 INS59 INS27 INS42 INS42 MOV32 INS27 INS27 INS42 INS33 INS42 INS42 DEL42 DEL42 DEL42 DEL32 DEL21