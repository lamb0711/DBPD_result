JCR-3399 - Shared ISM does not release the internal Writelock if something unexpectedly is happening in externalUpdate

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1368796 13f79535-47bb-0310-9956-ffa450edef68

-        try {
-            wLock = acquireWriteLock(external);
-            holdingWriteLock = true;
-
-            doExternalUpdate(external);
-        } catch (ItemStateException e) {
-            String msg = "Unable to acquire write lock.";
-            log.error(msg);
-        }
-
+	        try {
+	            wLock = acquireWriteLock(external);
+	            holdingWriteLock = true;
+	
+	            doExternalUpdate(external);
+	        } catch (ItemStateException e) {
+	            String msg = "Unable to acquire write lock.";
+	            log.error(msg);
+	        }
+

MOV54