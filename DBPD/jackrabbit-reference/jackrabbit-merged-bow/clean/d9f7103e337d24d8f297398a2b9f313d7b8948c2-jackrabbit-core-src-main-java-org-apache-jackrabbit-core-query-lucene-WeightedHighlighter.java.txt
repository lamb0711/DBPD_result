JCR-3075 incorrect HTML excerpt generation for queries on japanese text content

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1173694 13f79535-47bb-0310-9956-ffa450edef68

-                                   Set<Term> queryTerms,
+                                   Set<Term[]> queryTerms,
-                                   Set<Term> queryTerms,
+                                   Set<Term[]> queryTerms,
-        PriorityQueue bestFragments = new FragmentInfoPriorityQueue(maxFragments);
+        PriorityQueue<FragmentInfo> bestFragments = new FragmentInfoPriorityQueue(maxFragments);
-    private static class FragmentInfoPriorityQueue extends PriorityQueue {
+    private static class FragmentInfoPriorityQueue extends PriorityQueue<FragmentInfo> {
-        protected boolean lessThan(Object a, Object b) {
-            FragmentInfo infoA = (FragmentInfo) a;
-            FragmentInfo infoB = (FragmentInfo) b;
+        protected boolean lessThan(FragmentInfo infoA, FragmentInfo infoB) {

INS74 UPD74 UPD74 MOV43 MOV43 INS5 INS5 INS74 MOV43 INS42 MOV43 INS42 MOV43 INS85 MOV43 INS85 MOV43 MOV43 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL42 DEL42 DEL11 DEL59 DEL60 DEL42 DEL42 DEL11 DEL59 DEL60