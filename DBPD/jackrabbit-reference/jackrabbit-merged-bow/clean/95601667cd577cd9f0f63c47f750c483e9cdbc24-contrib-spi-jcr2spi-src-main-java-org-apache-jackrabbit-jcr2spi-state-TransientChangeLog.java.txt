- Attach listener to item states created by transient item state manager

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@429623 13f79535-47bb-0310-9956-ffa450edef68

-        NodeState nodeState = new NodeState(id, parent, null, ItemState.STATUS_NEW, true, this);
+        NodeState nodeState = new NodeState(id, parent, null,
+                ItemState.STATUS_NEW, true, this);
-        PropertyState propState = new PropertyState(id, parent, ItemState.STATUS_NEW, true);
+        PropertyState propState = new PropertyState(id, parent,
+                ItemState.STATUS_NEW, true);
-        return new NodeState(overlayedState, parentState, ItemState.STATUS_EXISTING, true, this);
+        NodeState nodeState = new NodeState(overlayedState, parentState,
+                ItemState.STATUS_EXISTING, true, this);
+        nodeState.addListener(this);
+        return nodeState;
-        return new NodeState(overlayedState, parentState, ItemState.STATUS_EXISTING, true, this);
+        NodeState nodeState = new NodeState(overlayedState, parentState,
+                ItemState.STATUS_EXISTING, true, this);
+        nodeState.addListener(this);
+        return nodeState;
-        return new PropertyState(overlayedState, parentState, ItemState.STATUS_EXISTING, true);
+        PropertyState propState = new PropertyState(overlayedState, parentState,
+                ItemState.STATUS_EXISTING, true);
+        propState.addListener(this);
+        return propState;
-        return new PropertyState(overlayedState, parentState, ItemState.STATUS_EXISTING, true);
+        PropertyState propState = new PropertyState(overlayedState, parentState,
+                ItemState.STATUS_EXISTING, true);
+        propState.addListener(this);
+        return propState;

INS60 INS21 INS60 INS21 INS60 INS21 INS60 INS21 INS43 INS59 INS32 INS42 INS43 INS59 INS32 INS42 INS43 INS59 INS32 INS42 INS43 INS59 INS32 INS42 INS42 INS42 MOV14 INS42 INS42 INS52 INS42 INS42 MOV14 INS42 INS42 INS52 INS42 INS42 MOV14 INS42 INS42 INS52 INS42 INS42 MOV14 INS42 INS42 INS52