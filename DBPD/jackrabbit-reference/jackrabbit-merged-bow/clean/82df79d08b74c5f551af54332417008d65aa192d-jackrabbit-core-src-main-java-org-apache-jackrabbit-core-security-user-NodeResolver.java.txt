- resolving TODOs (retrieve group by ID)
- improved NodeResolver (replacing SessionImpl by Session/NamePathResolver pair)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@641898 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.SessionImpl;
+import org.apache.jackrabbit.spi.commons.conversion.NamePathResolver;
+import javax.jcr.Session;
-    private final SessionImpl session;
+    private final Session session;
+    private final NamePathResolver resolver;
-    NodeResolver(SessionImpl session)
-            throws RepositoryException {
-
+    NodeResolver(Session session, NamePathResolver resolver) throws RepositoryException {
+        this.resolver = resolver;
+     * Get the first node that matches <code>ntName</code> and whose name
+     * exactly matches the given <code>nodeName</code>.
+     *
+     * @param nodeName
+     * @param ntName
+     * @return A matching node or <code>null</code>.
+     * @throws RepositoryException
+     */
+    public abstract Node findNode(Name nodeName, Name ntName) throws RepositoryException;
+
+    /**
-    SessionImpl getSession() {
+    Session getSession() {
+    NamePathResolver getNamePathResolver() {
+        return resolver;
+    }
+

MOV26 INS26 UPD40 INS40 INS23 INS31 INS31 UPD43 INS83 INS83 INS43 INS59 INS44 INS29 INS83 INS83 INS43 INS42 INS44 INS44 INS43 UPD43 INS43 INS42 INS8 UPD42 INS42 INS42 UPD43 INS43 INS42 INS21 INS65 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS43 INS42 INS42 UPD42 INS42 INS41 UPD42 INS42 INS7 INS66 INS66 INS42 INS42 INS66 INS42 INS42 INS42 INS42 INS22 INS42 INS52 INS42