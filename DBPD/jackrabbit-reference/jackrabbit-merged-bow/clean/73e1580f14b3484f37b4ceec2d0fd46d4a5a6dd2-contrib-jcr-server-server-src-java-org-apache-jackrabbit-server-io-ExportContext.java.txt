applying patch from angela, fixing:

[JCR-122] cannot PUT changes to a resource in the simple webdav server
[JCR-123] Webdav: Error when accessing Simple-Server
[JCR-126] Jcr-Server Module: Remove Dependency from Jackrabbit-Core


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@180346 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.commons.chain.impl.ContextBase;
-
+import java.util.Properties;
-public class ExportContext extends ContextBase {
+public class ExportContext extends AbstractContext {
-     * @param node
+     * @param exportRoot
-    public ExportContext(Node node) {
-        this.node = node;
+    public ExportContext(Node exportRoot) {
+        this(null, exportRoot);
+     * Creats a new import context with the given root node and property defaults.
+     * @param props
+     * @param exportRoot
+     */
+    public ExportContext(Properties props, Node exportRoot) {
+        super(props);
+        if (exportRoot == null) {
+            throw new IllegalArgumentException("exportRoot can not be null.");
+        }
+        this.node = exportRoot;
+    }
+
+    /**
+     * Creates a new sub context which bases on this contexts properties
+     * @param node
+     * @return
+     */
+    public ExportContext createSubContext(Node node) {
+        return new ExportContext(this, node);
+    }
+
+
+    /**

MOV26 UPD40 UPD43 INS31 INS31 UPD42 INS44 INS8 INS29 INS83 INS42 INS44 INS44 MOV8 INS29 INS83 INS43 INS42 MOV44 INS8 INS65 INS43 INS42 INS17 INS65 INS65 INS65 INS43 INS42 INS43 INS42 INS46 INS25 INS65 MOV65 INS65 INS42 INS41 INS42 INS42 INS33 INS42 INS66 INS42 INS42 INS42 INS42 INS42 INS27 INS8 INS66 INS14 INS42 INS33 INS53 UPD42 INS43 INS52 INS42 INS14 INS42 INS43 INS45 INS42