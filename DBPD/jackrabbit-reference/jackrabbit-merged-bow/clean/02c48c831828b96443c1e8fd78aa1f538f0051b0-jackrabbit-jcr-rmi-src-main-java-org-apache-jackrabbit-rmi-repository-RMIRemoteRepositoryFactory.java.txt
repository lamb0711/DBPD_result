JCR-956: Clarified naming and packaging of the new classes

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@543987 13f79535-47bb-0310-9956-ffa450edef68

-package org.apache.jackrabbit.rmi.client;
+package org.apache.jackrabbit.rmi.repository;
+import java.rmi.Naming;
-import javax.jcr.Repository;
-import org.apache.jackrabbit.commons.repository.RepositoryFactory;
+import org.apache.jackrabbit.rmi.client.LocalAdapterFactory;
+import org.apache.jackrabbit.rmi.remote.RemoteRepository;
- * Factory that looks up a repository from RMI.
+ * Factory that looks up a remote repository from an RMI registry.
-public class RMIRepositoryFactory implements RepositoryFactory {
+public class RMIRemoteRepositoryFactory
+        extends AbstractRemoteRepositoryFactory {
-     * Local adapter factory.
-     */
-    private final LocalAdapterFactory factory;
-
-    /**
-     * RMI URL of the repository.
+     * RMI URL of the remote repository.
-     * Creates a factory for looking up a repository from the given RMI URL.
+     * Creates a factory for looking up a remote repository from
+     * an RMI registry.
-    public RMIRepositoryFactory(LocalAdapterFactory factory, String url) {
-        this.factory = factory;
+    public RMIRemoteRepositoryFactory(LocalAdapterFactory factory, String url) {
+        super(factory);
-     * Looks up and returns a repository from the configured RMI URL.
+     * Looks up a remote repository from the RMI registry.
-     * @return local adapter for the remote repository
-     * @throws RepositoryException if the repository could not be accessed
+     * @return remote repository reference
+     * @throws RepositoryException if the remote repository is not available
-    public Repository getRepository() throws RepositoryException {
+    protected RemoteRepository getRemoteRepository()
+            throws RepositoryException {
-            return new ClientRepositoryFactory(factory).getRepository(url);
+            return (RemoteRepository) Naming.lookup(url);

MOV26 INS26 UPD40 UPD40 INS40 UPD40 UPD42 UPD43 UPD42 UPD42 UPD83 UPD43 UPD42 UPD66 INS46 UPD42 UPD66 UPD66 INS66 INS42 UPD66 UPD66 UPD66 INS11 INS43 INS32 UPD42 MOV42 INS42 UPD42 MOV42 MOV42 DEL66 DEL65 DEL29 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL43 DEL42 DEL14 DEL32