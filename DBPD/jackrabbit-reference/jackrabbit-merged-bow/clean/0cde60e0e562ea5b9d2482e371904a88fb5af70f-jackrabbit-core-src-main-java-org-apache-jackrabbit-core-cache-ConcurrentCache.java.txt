JCR-3013: ArrayIndexOutOfBoundsException: ConcurrentCache

The previous fix had a potential concurrency issue where another thread could still access an overflown access count through getAccessCount() right before the accessCount.set(0) call was made.

I prevented that problem by switching to a long counter which should make overflows highly unlikely (you'd need to have multiple processors just repeatedly accessing the cache for at least decades to get an overflow), and by using Math.abs() in the ConcurrentCache.shrinkIfNeeded() where the actual problem would then occur.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1155431 13f79535-47bb-0310-9956-ffa450edef68

-        int start = (int) getAccessCount() % segments.length;
+        int start = (int) Math.abs(getAccessCount() % segments.length);

INS11 INS39 INS32 INS42 INS42 MOV27 MOV32 DEL39 DEL11