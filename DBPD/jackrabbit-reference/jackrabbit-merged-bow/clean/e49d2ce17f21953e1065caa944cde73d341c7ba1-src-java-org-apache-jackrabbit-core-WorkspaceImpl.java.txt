porting to v0.16.4 of the jsr170 specification

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@161260 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.nodetype.ChildNodeDef;
+import org.apache.jackrabbit.core.nodetype.NodeDef;
-        ChildNodeDef def = ntReg.getNodeDef(nodeState.getDefinitionId());
+        NodeDef def = ntReg.getNodeDef(nodeState.getDefinitionId());
-        ChildNodeDef[] cnda = ent.getMandatoryNodeDefs();
+        NodeDef[] cnda = ent.getMandatoryNodeDefs();
-            ChildNodeDef cnd = cnda[i];
+            NodeDef cnd = cnda[i];
-            ChildNodeDef parentDef = ntReg.getNodeDef(parentState.getDefinitionId());
+            NodeDef parentDef = ntReg.getNodeDef(parentState.getDefinitionId());
-            ChildNodeDef newNodeDef =
+            NodeDef newNodeDef =
-                ChildNodeDef conflictingTargetDef =
+                NodeDef conflictingTargetDef =
-                if (!conflictingTargetDef.allowSameNameSibs()
-                        || !newNodeDef.allowSameNameSibs()) {
+                if (!conflictingTargetDef.allowsSameNameSiblings()
+                        || !newNodeDef.allowsSameNameSiblings()) {
-            ChildNodeDef parentDef = ntReg.getNodeDef(parentState.getDefinitionId());
+            NodeDef parentDef = ntReg.getNodeDef(parentState.getDefinitionId());
-            ChildNodeDef targetDef = ntReg.getNodeDef(targetState.getDefinitionId());
+            NodeDef targetDef = ntReg.getNodeDef(targetState.getDefinitionId());
-     * @return a <code>ChildNodeDef</code>
+     * @return a <code>NodeDef</code>
-    public ChildNodeDef findApplicableNodeDefinition(QName name,
-                                                     QName nodeTypeName,
-                                                     NodeState parentState)
+    public NodeDef findApplicableNodeDefinition(QName name,
+                                                QName nodeTypeName,
+                                                NodeState parentState)
-            ChildNodeDef newNodeDef =
+            NodeDef newNodeDef =
-            ChildNodeDef newTargetDef =
+            NodeDef newTargetDef =
-            VersionHistory vh = v.getContainingVersionHistory();
+            VersionHistory vh = v.getContainingHistory();

MOV26 UPD40 UPD43 UPD42 UPD43 UPD5 UPD66 UPD42 UPD43 UPD42 UPD43 UPD43 UPD43 UPD43 UPD43 UPD43 UPD43 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD43 UPD42 UPD42 UPD42 UPD42