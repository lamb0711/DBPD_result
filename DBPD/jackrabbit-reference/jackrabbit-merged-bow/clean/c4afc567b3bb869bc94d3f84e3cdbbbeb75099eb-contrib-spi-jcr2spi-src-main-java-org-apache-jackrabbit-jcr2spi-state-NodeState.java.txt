IdFactory is not properly initialized in NodeState

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@430321 13f79535-47bb-0310-9956-ffa450edef68

+     * @param idFactory     the <code>IdFactory</code> to create new id
+     *                      instance.
-                     int initialStatus, boolean isTransient, ItemStateFactory isf) {
+                     int initialStatus, boolean isTransient,
+                     ItemStateFactory isf, IdFactory idFactory) {
-        this.idFactory = parent.idFactory;
+        this.idFactory = idFactory;
+     * @param idFactory      the <code>IdFactory</code> to create new id
+     *                       instance.
-    public NodeState(NodeState overlayedState, NodeState parent, int initialStatus,
-                     boolean isTransient, ItemStateFactory isf) {
+    public NodeState(NodeState overlayedState, NodeState parent,
+                     int initialStatus, boolean isTransient,
+                     ItemStateFactory isf, IdFactory idFactory) {
-        idFactory = parent.idFactory;
+        this.idFactory = idFactory;

INS44 INS44 INS65 INS43 INS42 INS65 INS43 INS42 INS42 INS66 INS66 INS42 INS42 INS66 INS66 INS42 INS42 INS22 INS42 INS52 INS42 DEL40 DEL42 DEL40