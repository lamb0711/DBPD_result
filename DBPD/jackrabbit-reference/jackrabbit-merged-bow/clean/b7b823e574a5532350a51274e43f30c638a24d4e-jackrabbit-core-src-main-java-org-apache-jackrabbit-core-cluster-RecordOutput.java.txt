JCR-702: Allow database as backend for clustering
JCR-703: Add signature and major/minor version to the journal files used for clustering 


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@495239 13f79535-47bb-0310-9956-ffa450edef68

- * Allows writing data to a <code>FileRecord</code>.
+ * Allows writing data to a <code>DataOutputStream</code>.
-class FileRecordOutput {
-
-    /**
-     * File record.
-     */
-    private final FileRecord record;
+class RecordOutput {
-     * @param record   file record
-    public FileRecordOutput(FileRecord record, DataOutputStream out, NamespaceResolver resolver) {
-        this.record = record;
+    public RecordOutput(DataOutputStream out, NamespaceResolver resolver) {
-            writeByte(FileRecord.UUID_INDEX);
+            writeByte(Record.UUID_INDEX);
-                writeByte(FileRecord.UUID_INDEX);
+                writeByte(Record.UUID_INDEX);
-                writeByte(FileRecord.UUID_LITERAL);
+                writeByte(Record.UUID_LITERAL);
-            record.closed();

UPD42 UPD42 UPD66 UPD40 UPD40 UPD40 DEL66 DEL65 DEL29 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL42 DEL66 DEL65 DEL42 DEL43 DEL42 DEL44 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL42 DEL42 DEL32 DEL21