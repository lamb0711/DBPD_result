JCR-1143 NullPointerException in ClassDescriptor

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@579257 13f79535-47bb-0310-9956-ffa450edef68

-	
+
-	
+
-    private Map fieldDescriptors = new HashMap();    
-    private Map beanDescriptors = new HashMap();        
+    private Map fieldDescriptors = new HashMap();
+    private Map beanDescriptors = new HashMap();
-        
+
-    private String extendsStrategy;    
-    private boolean isAbstract = false;    
+    private String extendsStrategy;
+    private boolean isAbstract = false;
-    private boolean hasDiscriminator = true; 
-   
-       
+    private boolean hasDiscriminator = true;
+
+
-    
+
-       
+
-    
+
-        this.hasDiscriminator = flag;	
+        this.hasDiscriminator = flag;
-    
-    public boolean hasDiscriminator() {        
+
+    public boolean hasDiscriminator() {
- }    
-    
+ }
+
-    public void setClassName(String className) {    	   
+    public void setClassName(String className) {
-        interfaces.add(implementDescriptor.getInterfaceName());	
+        interfaces.add(implementDescriptor.getInterfaceName());
-    
+
-    }    
+    }
-    public boolean hasIdField() {        
+    public boolean hasIdField() {
-            return this.getJcrNameFromDescendants(this, fieldName);          
+            return this.getJcrNameFromDescendants(this, fieldName);
-        
+
-    
+
-    	
+
-    
+
-    	
+
-    public void setJcrMixinTypes(String mixinTypes) {                
+    public void setJcrMixinTypes(String mixinTypes) {
-        validateClassName();   
+        validateClassName();
-		} catch (JcrMappingException e) {			
+		} catch (JcrMappingException e) {
-	
+
-                this.collectionDescriptors = mergeCollections(this.collectionDescriptors, this.superClassDescriptor.getCollectionDescriptors());            
+                this.collectionDescriptors = mergeCollections(this.collectionDescriptors, this.superClassDescriptor.getCollectionDescriptors());
-        
+
-	
+
-    
+
-    
+
-     * 
+     *
-     * 
-     * @todo : maybe we have to review this implementation to have better performance. 
+     *
+     * @todo : maybe we have to review this implementation to have better performance.
-  
-            if (descendantClassDescriptor.getJcrType().equals(nodeType)) {
+
+            if (nodeType.equals(descendantClassDescriptor.getJcrType())) {
-  
+
-    
+
-    
+
-   
+
-    
+
-    
+
-    
+
-    }    
-    
-       
-    
+    }
+
+
+

UPD66 MOV32 INS42 DEL42