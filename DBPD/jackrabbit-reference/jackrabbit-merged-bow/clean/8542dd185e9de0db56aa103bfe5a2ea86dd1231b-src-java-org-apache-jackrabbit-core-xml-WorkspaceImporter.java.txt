- fixed bug in EffectiveNodeType.getApplicableChildNodeDef()
- some minor cosmetical changes
- WorkspaceImporter: work in progress...

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@157109 13f79535-47bb-0310-9956-ffa450edef68

+    private final NodeState importTarget;
-    public WorkspaceImporter(NodeState importTargetState,
+    public WorkspaceImporter(NodeState importTarget,
+        this.importTarget = importTarget;
-        parents.push(importTargetState);
+        parents.push(importTarget);
-            // update operation failed, cancel all modifications
+                // update operation failed, cancel all modifications
-            // update operation failed, cancel all modifications
+                // update operation failed, cancel all modifications
-
-            // finally pop the last item from the stack, the import target node
-            NodeState importTarget = (NodeState) parents.pop();
-            // we're done with it, store its state
+            // finally store the state of the import target
+            // (the parent of the imported subtree)
-            // update operation failed, cancel all modifications
+                // update operation failed, cancel all modifications

INS23 INS83 INS83 MOV43 INS59 INS42 UPD42 INS21 INS7 INS22 INS42 UPD42 INS52 INS42 DEL42 DEL42 DEL43 DEL42 DEL42 DEL32 DEL11 DEL59 DEL60