JCR-73: Improved Javadocs for org.apache.jackrabbit.core.fs
Also fixed some typos with s/save/safe/i in FileSystemPathUtil

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@354592 13f79535-47bb-0310-9956-ffa450edef68

- * The <code>FileSystemPathUtil</code> utility class ...
+ * Utility class for handling paths in a file system.
-    private static final char[] hexTable = "0123456789abcdef".toCharArray();
+    /**
+     * Array of lowercase hexadecimal characters used in creating hex escapes.
+     */
+    private static final char[] HEX_TABLE = "0123456789abcdef".toCharArray();
+    /**
+     * The escape character used to mark hex escape sequences. 
+     */
-     * which can savely be used in file names:
+     * which can safely be used in file names:
-    public static final BitSet SAVE_NAMECHARS;
+    public static final BitSet SAFE_NAMECHARS;
-     * which can savely be used in file paths:
+     * which can safely be used in file paths:
-    public static final BitSet SAVE_PATHCHARS;
+    public static final BitSet SAFE_PATHCHARS;
-        SAVE_NAMECHARS = new BitSet(256);
+        SAFE_NAMECHARS = new BitSet(256);
-            SAVE_NAMECHARS.set(i);
+            SAFE_NAMECHARS.set(i);
-            SAVE_NAMECHARS.set(i);
+            SAFE_NAMECHARS.set(i);
-            SAVE_NAMECHARS.set(i);
+            SAFE_NAMECHARS.set(i);
-        SAVE_NAMECHARS.set('-');
-        SAVE_NAMECHARS.set('_');
-        SAVE_NAMECHARS.set('.');
+        SAFE_NAMECHARS.set('-');
+        SAFE_NAMECHARS.set('_');
+        SAFE_NAMECHARS.set('.');
-        SAVE_PATHCHARS = (BitSet) SAVE_NAMECHARS.clone();
-        SAVE_PATHCHARS.set(FileSystem.SEPARATOR_CHAR);
+        SAFE_PATHCHARS = (BitSet) SAFE_NAMECHARS.clone();
+        SAFE_PATHCHARS.set(FileSystem.SEPARATOR_CHAR);
-    private static String escape(String s, BitSet saveChars) {
+    /**
+     * Escapes the given string using URL encoding for all bytes not included
+     * in the given set of safe characters.
+     *
+     * @param s the string to escape
+     * @param safeChars set of safe characters (bytes)
+     * @return escaped string
+     */
+    private static String escape(String s, BitSet safeChars) {
-            if (saveChars.get(c) && c != ESCAPE_CHAR) {
+            if (safeChars.get(c) && c != ESCAPE_CHAR) {
-                out.append(hexTable[(c >> 4) & 0x0f]);
-                out.append(hexTable[(c) & 0x0f]);
+                out.append(HEX_TABLE[(c >> 4) & 0x0f]);
+                out.append(HEX_TABLE[(c) & 0x0f]);
-        return escape(path, SAVE_PATHCHARS);
+        return escape(path, SAFE_PATHCHARS);
-        return escape(name, SAVE_NAMECHARS);
+        return escape(name, SAFE_NAMECHARS);
+

INS29 INS29 INS29 UPD66 INS65 UPD42 INS65 UPD42 UPD42 INS65 INS65 INS65 INS65 UPD42 INS66 INS66 UPD66 UPD66 INS66 INS66 INS42 INS66 INS42 INS66 INS66 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42