JCR-623 - Clustering
+ Journal file was considered bogus
+ RepositoryImpl derived classes did not setup version manager channel; moved up


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@485714 13f79535-47bb-0310-9956-ffa450edef68

-    private static final String LOG_EXTENSION = ".log";
+    private static final String LOG_EXTENSION = "log";
+     * Journal file.
+     */
+    private File journal;
+
+    /**
+        journal = new File(root, basename + "." + LOG_EXTENSION);
+
-            File journalFile = new File(root, basename + LOG_EXTENSION);
-
-            FileRecordLog recordLog = new FileRecordLog(journalFile);
+            FileRecordLog recordLog = new FileRecordLog(journal);
-                    recordLog = new FileRecordLog(journalFile);
+                    recordLog = new FileRecordLog(journal);

INS23 INS29 INS83 MOV43 INS59 UPD45 INS65 INS42 INS21 INS66 INS7 INS42 INS14 MOV43 INS42 INS27 MOV43 INS42 INS45 INS42 MOV43 UPD42 UPD42 DEL42 DEL42 DEL42 DEL42 DEL27 DEL14 DEL59 DEL60