work in progress

- NodeInfo does not load information about child-node-entries
  -> add separate SPI call
  -> add initial draft ChildInfo interface
  -> ChildNodeEntries are not built upon creation of the NodeState
  -> ItemStateFactory: add method to retrieve ChildNodeEntries

- respect CacheBehaviour while persisting transient modifications

- LockInfo.getNodeId() -> not used so far -> remove

- SessionItemStateManager: getHierarchyManager() only used by SessionImpl -> moved

- Improve TODO comments
- Javadoc


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@482657 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.jcr2spi.config.CacheBehaviour;
-    protected ItemState(NodeState parent, int initialStatus, ItemStateFactory isf, IdFactory idFactory,
-                        boolean isWorkspaceState) {
+    protected ItemState(NodeState parent, int initialStatus, ItemStateFactory isf,
+                        IdFactory idFactory, boolean isWorkspaceState) {
-     * @throws IllegalStateException if this state is a 'session' state.
+     * @throws IllegalStateException if this state is a 'workspace' state.
-    abstract void persisted(ChangeLog changeLog) throws IllegalStateException;
+    abstract void persisted(ChangeLog changeLog, CacheBehaviour cacheBehaviour) throws IllegalStateException;

INS26 INS40 INS44 INS43 INS42 UPD66 INS42