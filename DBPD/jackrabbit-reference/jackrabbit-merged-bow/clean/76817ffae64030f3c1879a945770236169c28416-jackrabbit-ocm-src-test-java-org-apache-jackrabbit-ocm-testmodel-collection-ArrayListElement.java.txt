Fix for JCR-1325 and review support for Collection & Map. 
The mapping definition can be simplified with parameterized collections and maps. In this case the ElementClass setting is not necessary.


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@650283 13f79535-47bb-0310-9956-ffa450edef68

+ * No very useful class.
+ * This is just there to test custom ManageableCollection implementation
-public class ArrayListElement extends ArrayList implements ManageableCollection
+public class ArrayListElement implements ManageableCollection
-    /**
+	private ArrayList<Element> collection = new ArrayList<Element>();
+     /**
-        if (object instanceof Element)
-        {
-            this.add(object);
-        }
+    	if (object instanceof Element)
+        	collection.add((Element)object);
-    public Iterator getIterator()
+    public Iterator<Element> getIterator()
-       return  this.iterator();
+       return  collection.iterator();
-		
-		return this.size();
+
+		return collection.size();
+	}
+
+	public Object getObjects() {
+
+		return collection;

INS23 INS31 INS65 INS83 INS74 INS59 INS74 INS83 INS43 INS42 INS8 INS66 INS66 MOV43 INS43 INS42 INS14 MOV43 INS43 INS42 INS41 INS42 INS74 INS21 INS42 INS42 INS43 INS43 MOV32 INS42 INS42 INS42 INS42 INS42 INS11 INS43 INS42 INS42 DEL52 DEL42 DEL21 DEL8 DEL52 DEL52