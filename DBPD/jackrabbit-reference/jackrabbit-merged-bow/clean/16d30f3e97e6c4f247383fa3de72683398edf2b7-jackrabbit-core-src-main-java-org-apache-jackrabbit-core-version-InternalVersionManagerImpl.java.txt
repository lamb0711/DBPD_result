JCR-3139: missing sync in InternalVersionManagerImpl.externalUpdate can cause ConcurrentModificationException

added synchronization

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1198827 13f79535-47bb-0310-9956-ffa450edef68

-        for (Map.Entry<ItemId, InternalVersionItem> entry : versionItems.entrySet()) {
-            if (changes.has(entry.getKey())) {
-                items.add(entry.getValue());
+        synchronized (versionItems) {
+            for (Map.Entry<ItemId, InternalVersionItem> entry : versionItems
+                    .entrySet()) {
+                if (changes.has(entry.getKey())) {
+                    items.add(entry.getValue());
+                }

INS51 INS42 INS8 MOV70