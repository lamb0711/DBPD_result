fixed bug that occured when calling Node.setProperty(String, String[], int) with a string array containing null entries

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@164049 13f79535-47bb-0310-9956-ffa450edef68

-        return convert(new StringValue(srcValue), targetType);
+        if (srcValue == null) {
+            return null;
+        } else {
+            return convert(new StringValue(srcValue), targetType);
+        }
+        if (srcValue == null) {
+            return null;
+        }
+
-     * @param srcVal
+     * @param srcValue
-    public static Value copy(Value srcVal) throws IllegalStateException {
+    public static Value copy(Value srcValue) throws IllegalStateException {
+        if (srcValue == null) {
+            return null;
+        }
+
-            switch (srcVal.getType()) {
+            switch (srcValue.getType()) {
-                    newVal = new BinaryValue(srcVal.getStream());
+                    newVal = new BinaryValue(srcValue.getStream());
-                    newVal = new BooleanValue(srcVal.getBoolean());
+                    newVal = new BooleanValue(srcValue.getBoolean());
-                    newVal = new DateValue(srcVal.getDate());
+                    newVal = new DateValue(srcValue.getDate());
-                    newVal = new DoubleValue(srcVal.getDouble());
+                    newVal = new DoubleValue(srcValue.getDouble());
-                    newVal = new LongValue(srcVal.getLong());
+                    newVal = new LongValue(srcValue.getLong());
-                    newVal = PathValue.valueOf(srcVal.getString());
+                    newVal = PathValue.valueOf(srcValue.getString());
-                    newVal = NameValue.valueOf(srcVal.getString());
+                    newVal = NameValue.valueOf(srcValue.getString());
-                    newVal = ReferenceValue.valueOf(srcVal.getString());
+                    newVal = ReferenceValue.valueOf(srcValue.getString());
-                    newVal = new StringValue(srcVal.getString());
+                    newVal = new StringValue(srcValue.getString());
+

INS8 INS25 INS25 UPD42 INS25 INS27 INS8 MOV8 INS27 INS8 UPD42 INS27 INS8 INS42 INS33 INS41 INS42 INS33 INS41 INS42 INS33 INS41 INS33 INS33 INS33 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42