more NodeState optimizations: 
- changed get/setPropertyNames from List to Set since the spec does not
  mandate that properties have to maintain order


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@202166 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.lucene.document.Document;
-import org.apache.lucene.document.Field;
-import org.apache.jackrabbit.core.state.NodeState;
+import org.apache.jackrabbit.core.Constants;
+import org.apache.jackrabbit.core.NoPrefixDeclaredException;
+import org.apache.jackrabbit.core.NodeId;
+import org.apache.jackrabbit.core.Path;
+import org.apache.jackrabbit.core.PropertyId;
+import org.apache.jackrabbit.core.QName;
+import org.apache.jackrabbit.core.query.TextFilterService;
+import org.apache.jackrabbit.core.state.ItemStateException;
-import org.apache.jackrabbit.core.state.ItemStateException;
+import org.apache.jackrabbit.core.state.NodeState;
-import org.apache.jackrabbit.core.NodeId;
-import org.apache.jackrabbit.core.NoPrefixDeclaredException;
-import org.apache.jackrabbit.core.PropertyId;
-import org.apache.jackrabbit.core.QName;
-import org.apache.jackrabbit.core.Path;
-import org.apache.jackrabbit.core.Constants;
-import org.apache.jackrabbit.core.query.TextFilterService;
+import org.apache.lucene.document.Document;
+import org.apache.lucene.document.Field;
+import java.io.Reader;
-import java.util.List;
-import java.io.Reader;
+import java.util.Set;
-                        ItemStateManager stateProvider,
-                        NamespaceMappings mappings) {
+                          ItemStateManager stateProvider,
+                          NamespaceMappings mappings) {
-        List props = node.getPropertyNames();
+        Set props = node.getPropertyNames();
-     * @param doc the lucene document.
+     *
+     * @param doc  the lucene document.
-     * <p>
+     * <p/>
-     * @param doc The document to which to add the field
-     * @param fieldName The name of the field to add
+     * @param doc           The document to which to add the field
+     * @param fieldName     The name of the field to add
-                    (PropertyState) stateProvider.getItemState(new PropertyId(node.getUUID(), JCR_MIMETYPE));
+                        (PropertyState) stateProvider.getItemState(new PropertyId(node.getUUID(), JCR_MIMETYPE));
-                        (PropertyState) stateProvider.getItemState(new PropertyId(node.getUUID(), JCR_ENCODING));
+                            (PropertyState) stateProvider.getItemState(new PropertyId(node.getUUID(), JCR_ENCODING));
-     * @param doc The document to which to add the field
-     * @param fieldName The name of the field to add
+     * @param doc           The document to which to add the field
+     * @param fieldName     The name of the field to add
-            FieldNames.createNamedValue(fieldName, internalValue.toString()),
-            false,
-            true,
-            false));
+                FieldNames.createNamedValue(fieldName, internalValue.toString()),
+                false,
+                true,
+                false));
-     * @param doc The document to which to add the field
-     * @param fieldName The name of the field to add
+     * @param doc           The document to which to add the field
+     * @param fieldName     The name of the field to add
-     * @param doc The document to which to add the field
-     * @param fieldName The name of the field to add
+     * @param doc           The document to which to add the field
+     * @param fieldName     The name of the field to add
-     * @param doc The document to which to add the field
-     * @param fieldName The name of the field to add
+     * @param doc           The document to which to add the field
+     * @param fieldName     The name of the field to add
-     * @param doc The document to which to add the field
-     * @param fieldName The name of the field to add
+     * @param doc           The document to which to add the field
+     * @param fieldName     The name of the field to add
-     * @param doc The document to which to add the field
-     * @param fieldName The name of the field to add
+     * @param doc           The document to which to add the field
+     * @param fieldName     The name of the field to add
-     * @param doc The document to which to add the field
-     * @param fieldName The name of the field to add
+     * @param doc           The document to which to add the field
+     * @param fieldName     The name of the field to add
-            + FieldNames.FULLTEXT_PREFIX + fieldName.substring(idx + 1);
+                + FieldNames.FULLTEXT_PREFIX + fieldName.substring(idx + 1);
-     * @param doc The document to which to add the field
-     * @param fieldName The name of the field to add
+     * @param doc           The document to which to add the field
+     * @param fieldName     The name of the field to add

MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 UPD40 UPD43 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD42