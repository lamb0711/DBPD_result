work in progress

- removeVersion missing
- LockManager/VersionManager: should not rely on observation (todo added)
- Add Operation.persisted() (Impl. still missing) in analogy to ChangeLog.persisted.
- ItemImpl.refresh behaves according to CacheBehaviour flag.
- NodeState: fix classcastexception when accessing state from propertiesInAttic
- ItemState: rename 'refresh()' to 'reload()
- ItemState: move code common to PropertyState and NodeState to ItemState
- ItemState: rename 'reset' to 'merge'
- add common interface ChildItemEntry
- SessionItemStateManager: avoid traversing twice during 'undo'

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@477095 13f79535-47bb-0310-9956-ffa450edef68

-abstract class ChildItemReference {
+abstract class ChildItemReference implements ChildItemEntry {
+     * The name of the target item state.
+     */
+    private final QName name;
+
+    /**
-     * The name of the target item state.
-     */
-    protected final QName name;
-
-    /**
+
+    /**
+     * @inheritDoc
+     * @see ChildItemEntry#getName()
+     */
+    public QName getName() {
+        return name;
+    }
+
+    /**
+     * @inheritDoc
+     * @see ChildItemEntry#isAvailable()
+     */
+    public boolean isAvailable() {
+        return isResolved();
+    }

MOV23 INS43 INS31 INS31 INS42 UPD83 INS29 INS83 INS43 INS42 INS8 INS29 INS83 INS39 INS42 INS8 INS65 INS65 INS42 INS41 INS65 INS65 INS41 INS68 INS42 INS68 INS32 INS42 INS42 INS42 INS42 INS42