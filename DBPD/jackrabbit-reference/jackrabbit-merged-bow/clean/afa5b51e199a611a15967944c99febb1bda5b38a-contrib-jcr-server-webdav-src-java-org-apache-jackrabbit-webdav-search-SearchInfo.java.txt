[JCR-000] Adjusting to spec 0.16.4 changes
[JCR-107] Typos in jcr-server io package javadocs
[JCR-104] Contrib/Jcr-Server: Improve package structure


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@161660 13f79535-47bb-0310-9956-ffa450edef68

- * <code>SearchRequest</code> parses the 'searchrequest' element of a SEARCH
+ * <code>SearchInfo</code> parses the 'searchrequest' element of a SEARCH
- *    getQuery()    -&gt; //sv:node[@sv:name='myapp:paragraph'][1]
+ *    getQuery()        -&gt; //sv:node[@sv:name='myapp:paragraph'][1]
-public class SearchRequest implements SearchConstants {
+public class SearchInfo implements SearchConstants {
-    private static Logger log = Logger.getLogger(SearchRequest.class);
+    private static Logger log = Logger.getLogger(SearchInfo.class);
-    private final Element language;
+    private final Element languageElem;
-     * Create a new <code>SearchRequest</code> from the specified element.
+     * Create a new <code>SearchInfo</code> instance.
-     * @param searchRequest
-     * @throws IllegalArgumentException if the element's name is other than
+     * @param language
+     * @param languageNamespace
+     * @param query
+     */
+    public SearchInfo(String language, Namespace languageNamespace, String query) {
+        languageElem = new Element(language, languageNamespace).setText(query);
+    }
+
+    /**
+     * Create a new <code>SearchInfo</code> from the specifying document
+     * retrieved from the request body.
+     *
+     * @param searchDocument
+     * @throws IllegalArgumentException if the root element's name is other than
-    public SearchRequest(Element searchRequest) {
+    public SearchInfo(Document searchDocument) {
+        Element searchRequest = searchDocument.getRootElement();
-        language = (Element) child.detach();
-    }
-
-    /**
-     * Create a new <code>SearchRequest</code> from the specifying document
-     * retrieved from the request body.
-     *
-     * @param searchDocument
-     * @see #SearchRequest(Element)
-     */
-    public SearchRequest(Document searchDocument) {
-        this(searchDocument.getRootElement());
+        languageElem = (Element) child.detach();
-        return language.getName();
+        return languageElem.getName();
-        return language.getNamespace();
+        return languageElem.getNamespace();
-        return language.getText();
+        return languageElem.getText();
+    }
+
+    /**
+     * Return the xml representation of this <code>SearchInfo</code> instance.
+     *
+     * @return xml representation
+     */
+    public Document toXml() {
+        Element sRequestElem = new Element(XML_SEARCHREQUEST, NAMESPACE);
+        sRequestElem.addContent(languageElem);
+        return new Document(sRequestElem);

UPD42 INS31 INS31 MOV29 MOV83 UPD42 MOV42 INS44 INS44 INS44 INS8 UPD42 INS29 INS83 INS43 INS42 MOV8 UPD66 UPD66 UPD42 INS65 UPD65 INS43 INS42 INS43 INS42 INS43 INS42 INS21 MOV43 UPD42 INS60 INS65 INS65 MOV42 INS60 INS21 INS41 UPD66 UPD42 INS42 INS42 INS42 INS42 INS42 INS7 UPD66 INS66 UPD42 UPD66 INS42 MOV43 INS59 INS66 INS66 INS43 INS59 INS32 INS14 UPD43 INS42 INS32 INS42 MOV32 UPD42 UPD42 UPD42 UPD42 INS42 INS42 INS14 INS42 UPD42 MOV42 UPD42 MOV42 INS43 INS42 UPD42 INS14 INS42 INS42 INS42 INS42 INS43 INS42 INS42 INS42 MOV43 INS42 INS42 INS42 DEL66 DEL42 DEL69 DEL68 DEL31 DEL17