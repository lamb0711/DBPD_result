JCR-1445: [PATCH] Use entrySet iterators to avoid map look ups in loops

Applied patch by Dave Brosius.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@691313 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.PropertyType;
+import java.util.Map;
+
+import javax.jcr.PropertyType;
-        Iterator iter = defs1.keySet().iterator();
+        Iterator iter = defs1.entrySet().iterator();
-            PropDefId id = (PropDefId) iter.next();
-            PropDef def1 = (PropDef) defs1.get(id);
+            Map.Entry entry = (Map.Entry) iter.next();
+            PropDefId id = (PropDefId) entry.getKey();
+            PropDef def1 = (PropDef) entry.getValue();
-        iter = defs2.keySet().iterator();
+        iter = defs2.entrySet().iterator();
-            PropDefId id = (PropDefId) iter.next();
-            PropDef def = (PropDef) defs2.get(id);
+            Map.Entry entry = (Map.Entry) iter.next();
+            PropDefId id = (PropDefId) entry.getKey();
+            PropDef def = (PropDef) entry.getValue();
-        Iterator iter = defs1.keySet().iterator();
+        Iterator iter = defs1.entrySet().iterator();
-            NodeDefId id = (NodeDefId) iter.next();
-            NodeDef def1 = (NodeDef) defs1.get(id);
+            Map.Entry entry = (Map.Entry) iter.next();
+            NodeDefId id = (NodeDefId) entry.getKey();
+            NodeDef def1 = (NodeDef) entry.getValue();
-        iter = defs2.keySet().iterator();
+        iter = defs2.entrySet().iterator();
-            NodeDefId id = (NodeDefId) iter.next();
-            NodeDef def = (NodeDef) defs2.get(id);
+            Map.Entry entry = (Map.Entry) iter.next();
+            NodeDefId id = (NodeDefId) entry.getKey();
+            NodeDef def = (NodeDef) entry.getValue();

MOV26 INS26 INS40 INS60 INS60 INS60 INS60 INS43 MOV43 INS59 MOV43 INS43 MOV43 INS59 MOV43 INS43 MOV43 INS59 MOV43 INS43 MOV43 INS59 MOV43 UPD42 INS40 UPD42 INS42 INS11 UPD42 INS40 UPD42 INS42 INS11 UPD42 INS40 UPD42 INS42 INS11 UPD42 INS40 UPD42 INS42 INS11 INS43 MOV43 INS32 MOV43 INS43 MOV43 INS32 MOV43 INS43 MOV43 INS32 MOV43 INS43 MOV43 INS32 MOV43 INS40 INS42 INS42 UPD42 UPD42 INS40 INS42 INS42 UPD42 UPD42 INS40 INS42 INS42 UPD42 UPD42 INS40 INS42 INS42 UPD42 UPD42 DEL42 DEL42 DEL42 DEL42