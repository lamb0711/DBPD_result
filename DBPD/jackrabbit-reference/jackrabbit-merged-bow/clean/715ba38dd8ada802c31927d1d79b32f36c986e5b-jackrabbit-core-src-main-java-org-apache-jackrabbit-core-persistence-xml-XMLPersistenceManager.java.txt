JCR-2206: Replace NodeReferencesId with NodeId

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@793243 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.id.NodeReferencesId;
-    private String buildNodeReferencesFilePath(NodeReferencesId id) {
-        return buildNodeFolderPath(id.getTargetId()) + "/" + NODEREFSFILENAME;
+    private String buildNodeReferencesFilePath(NodeId id) {
+        return buildNodeFolderPath(id) + "/" + NODEREFSFILENAME;
-        if (!refs.getId().equals(NodeReferencesId.valueOf(walker.getAttribute(TARGETID_ATTRIBUTE)))) {
+        if (!refs.getTargetId().equals(NodeId.valueOf(walker.getAttribute(TARGETID_ATTRIBUTE)))) {
-    public synchronized NodeReferences load(NodeReferencesId id)
+    public synchronized NodeReferences loadReferencesTo(NodeId id)
-        NodeReferencesId id = refs.getId();
-        String refsFilePath = buildNodeReferencesFilePath(id);
+        String refsFilePath = buildNodeReferencesFilePath(refs.getTargetId());
-                        + TARGETID_ATTRIBUTE + "=\"" + refs.getId() + "\">\n");
+                        + TARGETID_ATTRIBUTE + "=\"" + refs.getTargetId() + "\">\n");
-            String msg = "failed to store references: " + id;
+            String msg = "failed to store " + refs;
-        NodeReferencesId id = refs.getId();
-        String refsFilePath = buildNodeReferencesFilePath(id);
+        String refsFilePath = buildNodeReferencesFilePath(refs.getTargetId());
-            String msg = "failed to delete references: " + id;
+            String msg = "failed to delete " + refs;
-    public synchronized boolean exists(NodeReferencesId id)
+    public synchronized boolean existsReferencesTo(NodeId id)

UPD42 UPD42 UPD43 UPD43 UPD43 UPD42 UPD42 UPD42 MOV42 INS32 INS32 UPD42 UPD42 INS42 UPD42 MOV42 INS42 UPD42 MOV42 UPD45 UPD42 UPD45 UPD42 UPD42 DEL40 DEL26 DEL42 DEL32 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60