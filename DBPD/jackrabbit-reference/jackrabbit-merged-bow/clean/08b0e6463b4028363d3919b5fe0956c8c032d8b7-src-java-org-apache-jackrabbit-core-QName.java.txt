internalize localName and namespaceURI fields of QName to improve performance of equals() as this is called heavily

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@161914 13f79535-47bb-0310-9956-ffa450edef68

-    /** The namespace URI of this qualified name. */
+    /** The internalized namespace URI of this qualified name. */
-    /** The local part of this qualified name. */
+    /** The internalized local part of this qualified name. */
-        this.namespaceURI = namespaceURI;
-        this.localName = localName;
+        // internalize both namespaceURI and localName to improve performance
+        // of QName comparisons
+        this.namespaceURI = namespaceURI.intern();
+        this.localName = localName.intern();
-            return localName.equals(other.localName)
-                    && namespaceURI.equals(other.namespaceURI);
+            // localName & namespaceURI are internalized,
+            // we only have to compare their references
+            return localName == other.localName
+                    && namespaceURI == other.namespaceURI;
-

UPD66 UPD66 INS32 INS32 INS42 INS42 INS42 INS42 INS27 INS27 INS42 INS40 INS42 INS40 DEL42 DEL42 DEL42 DEL42 DEL40 DEL32 DEL42 DEL42 DEL40 DEL32