work in progress

- invalidation of itemstates in case of CacheBehaviour != Observation
- CacheBehaviour.Observation not dependent on Observation-RepositoryDescriptor
- SPI-observation may be implemented even if Observation is not supported according
  jcr-Repository descriptor

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@478211 13f79535-47bb-0310-9956-ffa450edef68

+
+    /**
+     * @see Operation#accept(OperationVisitor)
+     */
+    /**
+     * Invalidate the target <code>NodeState</code>.
+     *
+     * @see Operation#persisted()
+     */
+    public void persisted() {
+        nodeState.invalidate(false);
+        // TODO: invalidate the corresponding part of the version storage
+    }
+    /**
+     *
+     * @return The nodeState to be checked in.
+     */
-    /**
-     * @see Operation#persisted()
-     */
-    public void persisted() {
-        // TODO
-    }
+    /**
+     *
+     * @param nodeState
+     * @return
+     */

MOV31 INS29 INS29 INS29 INS65 INS65 INS21 INS65 INS65 INS65 INS68 INS66 INS32 INS66 INS42 INS42 INS42 INS69 INS42 INS42 INS9 INS43 INS42