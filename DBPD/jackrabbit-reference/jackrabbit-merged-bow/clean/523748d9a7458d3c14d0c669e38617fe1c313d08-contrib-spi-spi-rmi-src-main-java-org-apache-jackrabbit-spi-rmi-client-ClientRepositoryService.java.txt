minor improvement: remove unused instance fields
minor improvement: let TransientISFactory listen to states created by the WorkspaceItemStateFactory
JCR-1004 SPI: Add RepositoryService.getQNodeTypeDefinition 
         >> modify to RepositoryService.getQNodeTypeDefinitions(QName)
         >> adjust SPI implementations
         >> change NodeTypeRegistry to load definitions upon demand.



git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@555209 13f79535-47bb-0310-9956-ffa450edef68

-    public Iterator getQNodeTypeDefinitions(
-            SessionInfo sessionInfo) throws RepositoryException {
+    public Iterator getQNodeTypeDefinitions(SessionInfo sessionInfo) throws RepositoryException {
-            QNodeTypeDefinition[] ntDefs = remoteService.getQNodeTypeDefinitions(
-                    getRemoteSessionInfo(sessionInfo));
-            return Arrays.asList(ntDefs).iterator();
+            RemoteIterator it = remoteService.getQNodeTypeDefinitions(getRemoteSessionInfo(sessionInfo));
+            return new ClientIterator(it);
-    public QNodeTypeDefinition getQNodeTypeDefinition(SessionInfo sessionInfo, QName nodetypeName) throws RepositoryException {
+    public Iterator getQNodeTypeDefinitions(SessionInfo sessionInfo, QName[] nodetypeNames) throws RepositoryException {
-            return remoteService.getQNodeTypeDefinition(getRemoteSessionInfo(sessionInfo), nodetypeName);
+            RemoteIterator it = remoteService.getQNodeTypeDefinitions(getRemoteSessionInfo(sessionInfo), nodetypeNames);
+            return new ClientIterator(it);
-
+    /**
+     *
+     * @param sessionInfo
+     * @return
+     * @throws RepositoryException
+     */

UPD43 UPD42 INS29 UPD42 INS5 UPD42 INS65 INS65 INS65 MOV43 INS85 INS42 INS42 INS60 INS43 INS14 INS43 INS59 INS14 UPD42 MOV42 UPD42 INS43 INS42 INS42 INS42 MOV32 INS43 INS42 INS42 UPD42 UPD42 INS42 DEL43 DEL85 DEL5 DEL42 DEL42 DEL42 DEL32 DEL42 DEL32