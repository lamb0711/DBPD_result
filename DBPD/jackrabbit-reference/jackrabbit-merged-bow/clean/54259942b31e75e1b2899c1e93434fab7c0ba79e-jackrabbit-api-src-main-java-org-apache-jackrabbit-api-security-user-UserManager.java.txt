JCR 3006 - UserManager: concurrent user creation using same intermediate path fails - updated javadoc to mention that retries may be necessary, added updated test cases

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1177648 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.RepositoryException;
-import javax.jcr.UnsupportedRepositoryOperationException;
+import javax.jcr.RepositoryException;
+import javax.jcr.Session;
+import javax.jcr.UnsupportedRepositoryOperationException;
+
+ * <p>
+ * Note that all <code>create</code> calls will modify the session associated
+ * with the {@linkplain UserManager} (whether this is the current session or not
+ * depends on the repository configuration). If the user manager is <em>not</em>
+ * in "autosave" mode (see {@link UserManager#isAutoSave()}), problems like
+ * overlapping creation of intermediate nodes may only surface upon a subsequent
+ * {@link Session#save()} operation; callers should be prepared to repeat them
+ * in case this happens.

MOV26 MOV26 INS26 INS40 INS66 INS66 INS66 INS65 INS66 INS66 INS66 INS65 INS66 INS66 INS65 INS66 INS66 INS42 INS68 INS68 INS42 INS42 INS42 INS42