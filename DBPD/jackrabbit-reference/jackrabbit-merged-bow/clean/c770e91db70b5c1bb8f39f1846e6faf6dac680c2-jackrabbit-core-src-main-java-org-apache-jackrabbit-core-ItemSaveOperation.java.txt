JCR-890: concurrent read-only access to a session

Turn Item.refresh() into a SessionOperation

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@957205 13f79535-47bb-0310-9956-ffa450edef68

-    private final boolean isNode;
-
-    public ItemSaveOperation(boolean isNode, ItemState state) {
+    public ItemSaveOperation(ItemState state) {
-        this.isNode = isNode;
-        if (isNode) {
+        if (state.isNode()) {
-        if (isNode) {
+        if (state.isNode()) {

INS32 INS32 INS42 INS42 INS42 INS42 DEL83 DEL83 DEL39 DEL42 DEL59 DEL23 DEL39 DEL42 DEL44 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL42 DEL42