JCR-890: concurrent read-only access to a session

Add SessionState.perform(SessionOperation) for centralizing the control of any kinds of session operations.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@956896 13f79535-47bb-0310-9956-ffa450edef68

-     * Checks whether this session is alive, and throws an exception if not.
+     * Performs the given session operation.
-     * @throws RepositoryException if this session is not alive
+     * @param operation the session operation
+     * @throws RepositoryException if the operation fails or can not
+     *                             for some other reason be performed
-    void checkAlive() throws RepositoryException;
+    void perform(SessionOperation operation) throws RepositoryException;

UPD42 INS44 INS65 INS43 INS42 UPD66 INS42 INS66 UPD66 INS66 INS42