JCR-1483: Move common node type functionality to jackrabbit-spi-commons
- replaced NodeTypeDef (jackrabbit-core) with QNodeTypeDefinition
- QNodeTypeDefinitionImpl is not immutable, hence no cloning needed anymore
- introduced QNodeTypeDefinitionBuilder
- moved constructors of Q*DefinitionImpl classes in spi2jcr to spi-commons
- fixed a bug in RepositoryServiceImpl in spi2jcr

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@816551 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.PropertyType;
+import javax.jcr.query.qom.QueryObjectModelConstants;
+        private static final String[] ALL_OPERATORS = new String[]{
+                QueryObjectModelConstants.JCR_OPERATOR_EQUAL_TO,
+                QueryObjectModelConstants.JCR_OPERATOR_GREATER_THAN,
+                QueryObjectModelConstants.JCR_OPERATOR_GREATER_THAN_OR_EQUAL_TO,
+                QueryObjectModelConstants.JCR_OPERATOR_LESS_THAN,
+                QueryObjectModelConstants.JCR_OPERATOR_LESS_THAN_OR_EQUAL_TO,
+                QueryObjectModelConstants.JCR_OPERATOR_LIKE,
+                QueryObjectModelConstants.JCR_OPERATOR_NOT_EQUAL_TO
+        };
+
-        protected int requiredType;
+        protected int requiredType = PropertyType.UNDEFINED;
-        protected boolean isMultiple;
+        protected boolean isMultiple = false;
-        protected boolean fullTextSearchable;
+        protected boolean fullTextSearchable = true;
-        protected boolean queryOrderable;
+        protected boolean queryOrderable = true;
-        protected String[] queryOperators;
+        protected String[] queryOperators = ALL_OPERATORS;
+            if (queryOperators == null) {
+                throw new NullPointerException("queryOperators");
+            }

INS26 INS26 INS40 INS40 INS23 INS83 INS83 INS83 INS5 INS59 INS43 INS85 INS42 INS3 INS40 INS9 INS9 INS9 INS42 INS25 INS42 INS5 INS4 INS27 INS8 INS43 INS85 INS40 INS40 INS40 INS40 INS40 INS40 INS40 INS42 INS33 INS53 INS42 INS14 INS43 INS45 INS42