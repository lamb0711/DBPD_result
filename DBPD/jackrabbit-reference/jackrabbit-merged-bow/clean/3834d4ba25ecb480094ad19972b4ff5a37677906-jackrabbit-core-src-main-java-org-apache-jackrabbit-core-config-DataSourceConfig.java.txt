JCR-2422 Add the new DataSource element to the repository DTD

* Applied proposed patch.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@888298 13f79535-47bb-0310-9956-ffa450edef68

-    public static final String LOGICAL_NAME = "logicalName";
-
-    public void addDataSourceDefinition(Properties props) throws ConfigurationException {
-        DataSourceDefinition def = new DataSourceDefinition(props);
+    public void addDataSourceDefinition(String name, Properties props) throws ConfigurationException {
+        DataSourceDefinition def = new DataSourceDefinition(name, props);
-            Arrays
-                .asList(LOGICAL_NAME, DRIVER, URL, USER, PASSWORD, DB_TYPE, VALIDATION_QUERY, MAX_POOL_SIZE);
+            Arrays.asList(DRIVER, URL, USER, PASSWORD, DB_TYPE, VALIDATION_QUERY, MAX_POOL_SIZE);
-            Arrays.asList(LOGICAL_NAME, DRIVER, URL, USER, PASSWORD, DB_TYPE);
+            Arrays.asList(DRIVER, URL, USER, PASSWORD, DB_TYPE);
+         * @param name the logical name of the data source
-        public DataSourceDefinition(Properties props) throws ConfigurationException {
-            this.logicalName = (String) props.getProperty(LOGICAL_NAME);
+        public DataSourceDefinition(String name, Properties props) throws ConfigurationException {
+            this.logicalName = name;
-            if (logicalName == null || "".equals(logicalName)) {
+            if (logicalName == null || "".equals(logicalName.trim())) {

INS44 MOV43 INS42 INS44 MOV43 INS65 MOV43 INS42 INS42 INS66 MOV43 INS42 INS42 INS32 MOV42 INS42 DEL83 DEL83 DEL83 DEL42 DEL45 DEL59 DEL23 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL11