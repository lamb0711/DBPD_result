JCR-2095: Use an enumeration for QOM join types

Implement the o.a.j.spi.commons.query.qom.JoinType enumeration and use it in the generic query engine.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@770712 13f79535-47bb-0310-9956-ffa450edef68

-    private static final Set<String> VALID_JOIN_TYPES = new HashSet<String>();
-
-        VALID_JOIN_TYPES.add(QueryObjectModelConstants.JCR_JOIN_TYPE_INNER);
-        VALID_JOIN_TYPES.add(QueryObjectModelConstants.JCR_JOIN_TYPE_LEFT_OUTER);
-        VALID_JOIN_TYPES.add(QueryObjectModelConstants.JCR_JOIN_TYPE_RIGHT_OUTER);
-
-     * @param joinType      either <ul> <li>{@link QueryObjectModelConstants#JCR_JOIN_TYPE_INNER},</li>
+     * @param joinTypeName  either <ul> <li>{@link QueryObjectModelConstants#JCR_JOIN_TYPE_INNER},</li>
-                     String joinType,
+                     String joinTypeName,
-        if (!VALID_JOIN_TYPES.contains(joinType)) {
-            throw new RepositoryException("Invalid joinType");
-        }
-        return new JoinImpl(resolver, (SourceImpl) left, (SourceImpl) right,
-                joinType, (JoinConditionImpl) joinCondition);
+        return new JoinImpl(
+                resolver,
+                (SourceImpl) left,
+                (SourceImpl) right,
+                JoinType.getJoinTypeByName(joinTypeName),
+                (JoinConditionImpl) joinCondition);

UPD42 UPD42 UPD66 INS32 INS42 INS42 INS42 DEL83 DEL83 DEL83 DEL42 DEL43 DEL42 DEL43 DEL74 DEL42 DEL42 DEL43 DEL42 DEL43 DEL74 DEL14 DEL59 DEL23 DEL42 DEL42 DEL40 DEL32 DEL21 DEL42 DEL42 DEL40 DEL32 DEL21 DEL42 DEL42 DEL40 DEL32 DEL21 DEL42 DEL42 DEL42 DEL32 DEL38 DEL42 DEL43 DEL45 DEL14 DEL53 DEL8 DEL25 DEL42