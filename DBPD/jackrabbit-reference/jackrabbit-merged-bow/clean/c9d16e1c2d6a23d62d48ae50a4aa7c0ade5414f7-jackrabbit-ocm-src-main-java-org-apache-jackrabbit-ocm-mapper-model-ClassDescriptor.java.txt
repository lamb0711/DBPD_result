Patch for JCR-1759 (Simplify the usage of OCM annotations)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@699627 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.HashSet;
+import java.util.Set;
-    private Collection descendantClassDescriptors = new ArrayList();
+    private HashSet descendantClassDescriptors = new HashSet();
-    private List interfaces = new ArrayList();
+    private Set interfaces = new HashSet();
+    
-            this.hasDiscriminator = superClassDescriptor.hasDiscriminator();
+            
+        	//Check some attributes defined on the ancestor class descriptor
+        	this.hasDiscriminator = superClassDescriptor.hasDiscriminator();
+        	
+        	// If there is no mixin type on the current classdescriptor, check if there is one on the ancestor class. 
+        	if(jcrMixinTypes == null || jcrMixinTypes.length == 0)
+        		jcrMixinTypes = superClassDescriptor.jcrMixinTypes;
+        	
-    public Collection getImplements()
+    public Set getImplements()
+    
+    public void setImplements(Set interfaces)
+    {
+    	this.interfaces = interfaces;
+    }

INS26 INS26 INS40 INS40 INS31 UPD43 UPD43 UPD43 INS83 INS39 INS42 INS44 INS8 UPD42 UPD42 UPD42 INS43 INS42 INS21 UPD43 UPD43 INS42 INS7 UPD42 UPD42 INS25 INS22 INS42 INS27 INS21 INS52 INS42 INS27 INS27 INS7 INS42 INS33 INS40 INS34 INS42 INS40