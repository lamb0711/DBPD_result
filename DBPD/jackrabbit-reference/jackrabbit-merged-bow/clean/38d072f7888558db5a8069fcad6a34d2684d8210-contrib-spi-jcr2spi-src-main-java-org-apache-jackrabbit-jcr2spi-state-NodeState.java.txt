work in progress

- Restore: pass NodeState(s) and Path instead of NodeId(s)
- LockManager: make sure lockmanager only remembers workspace states
- LockManager: make sure operations are executed using workspace states
- LockManager: improve isLocked/getLock/checkIsLocked and respect locks that
have been accessed before.
- VersionManager: make sure operations are executed using workspace states
- VersionManager: add checkIsCheckedOut
- VersionManager: force manager to have a WorkspaceManager
- NodeReferences:
  > make interface package protected
  > clarify method naming
  > add implementation to WorkspaceItemStateFactory
  > add NodeReferences field to NodeState
  > TO_IMPROVE: references are currently always retrieve from the SPI.
- ItemStateManager + NodeReferences
  > rename interfaces methods
  > change method signature to take NodeState instead of NodeId
  > 'getReferences' returns the property states directly

- remove some JR DIFFs. 

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@432234 13f79535-47bb-0310-9956-ffa450edef68

+     * NodeReferences for this node state.
+     */
+    private NodeReferences references;
+
+    /**
-    
+
+    void addNodeReferences(NodeReferences references) {
+        this.references = references;
+    }
+
+    NodeReferences getNodeReferences() {
+        return references;
+    }
+

INS23 INS31 INS31 INS29 INS83 INS43 INS59 INS39 INS42 INS44 INS8 INS43 INS42 INS8 INS65 INS42 INS42 INS43 INS42 INS21 INS42 INS41 INS66 INS42 INS7 INS42 INS22 INS42 INS52 INS42