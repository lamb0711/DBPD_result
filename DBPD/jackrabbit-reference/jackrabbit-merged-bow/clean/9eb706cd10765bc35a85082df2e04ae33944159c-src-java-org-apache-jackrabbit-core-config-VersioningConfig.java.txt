Refactoring step 1 (JCR-53)
 - Moved common configuration fields to a new BeanConfig base class
 - Moved XML parsing to static factory methods

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@156047 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.fs.FileSystem;
-import org.jdom.Element;
+import java.io.File;
+import java.util.Map;
-import java.util.*;
-import java.io.File;
+
+import org.apache.jackrabbit.core.fs.FileSystem;
+import org.jdom.Element;
-    /** Parameters for configuring the versioning */
-    private Map params = new HashMap();
-
-        pmConfig = new PersistenceManagerConfig(pmElem, vars);
-
-        // gather params
-        List paramList = config.getChildren(AbstractConfig.PARAM_ELEMENT);
-        for (Iterator i = paramList.iterator(); i.hasNext();) {
-            Element param = (Element) i.next();
-            String paramName = param.getAttributeValue(AbstractConfig.NAME_ATTRIB);
-            String paramValue = param.getAttributeValue(AbstractConfig.VALUE_ATTRIB);
-            // replace variables in param value
-            params.put(paramName, AbstractConfig.replaceVars(paramValue, vars));
-        }
-        // seal
-        params = Collections.unmodifiableMap(params);
+        pmConfig = PersistenceManagerConfig.parse(pmElem, vars);

MOV26 MOV26 MOV26 UPD40 INS32 INS42 INS42 INS42 INS42 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL14 DEL59 DEL23 DEL42 DEL43 DEL42 DEL42 DEL14 DEL42 DEL43 DEL42 DEL42 DEL42 DEL40 DEL32 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL58 DEL42 DEL42 DEL32 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL42 DEL32 DEL11 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL42 DEL40 DEL32 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL42 DEL40 DEL32 DEL59 DEL60 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL8 DEL24 DEL42 DEL42 DEL42 DEL42 DEL32 DEL7 DEL21