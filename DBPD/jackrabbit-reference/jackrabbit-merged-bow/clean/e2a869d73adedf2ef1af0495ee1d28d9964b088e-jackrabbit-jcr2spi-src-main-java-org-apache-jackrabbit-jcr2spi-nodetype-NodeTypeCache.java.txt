JCR-2087: parametrize generic types

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@816593 13f79535-47bb-0310-9956-ffa450edef68

-    private static final Map CACHES_PER_SERVICE = new WeakHashMap();
+    private static final Map<RepositoryService, Map> CACHES_PER_SERVICE = new WeakHashMap<RepositoryService, Map>();
-    private final Map nodeTypes = new HashMap();
+    private final Map<Name, QNodeTypeDefinition> nodeTypes = new HashMap<Name, QNodeTypeDefinition>();
-            caches = (Map) CACHES_PER_SERVICE.get(service);
+            caches = CACHES_PER_SERVICE.get(service);
-    public Iterator getAllDefinitions(NodeTypeStorage storage)
+    public Iterator<QNodeTypeDefinition> getAllDefinitions(NodeTypeStorage storage)
-        Map allNts = new HashMap();
-        for (Iterator it = storage.getAllDefinitions(); it.hasNext(); ) {
-            QNodeTypeDefinition def = (QNodeTypeDefinition) it.next();
+        Map<Name, QNodeTypeDefinition> allNts = new HashMap<Name, QNodeTypeDefinition>();
+        for (Iterator<QNodeTypeDefinition> it = storage.getAllDefinitions(); it.hasNext(); ) {
+            QNodeTypeDefinition def = it.next();
-    public Iterator getDefinitions(NodeTypeStorage storage, Name[] nodeTypeNames)
+    public Iterator<QNodeTypeDefinition> getDefinitions(NodeTypeStorage storage, Name[] nodeTypeNames)
-        List nts = new ArrayList();
-        List missing = null;
+        List<QNodeTypeDefinition> nts = new ArrayList<QNodeTypeDefinition>();
+        List<Name> missing = null;
-                QNodeTypeDefinition def = (QNodeTypeDefinition) nodeTypes.get(nodeTypeNames[i]);
+                QNodeTypeDefinition def = nodeTypes.get(nodeTypeNames[i]);
-                        missing = new ArrayList();
+                        missing = new ArrayList<Name>();
-            Name[] ntNames = (Name[]) missing.toArray(new Name[missing.size()]);
-            Iterator it = storage.getDefinitions(ntNames);
+            Name[] ntNames = missing.toArray(new Name[missing.size()]);
+            Iterator<QNodeTypeDefinition> it = storage.getDefinitions(ntNames);
-                    QNodeTypeDefinition def = (QNodeTypeDefinition) it.next();
+                    QNodeTypeDefinition def = it.next();
-            public Iterator getAllDefinitions() throws RepositoryException {
+            public Iterator<QNodeTypeDefinition> getAllDefinitions() throws RepositoryException {
-            public Iterator getDefinitions(Name[] nodeTypeNames)
+            public Iterator<QNodeTypeDefinition> getDefinitions(Name[] nodeTypeNames)

INS74 INS74 INS74 INS74 INS43 INS43 MOV43 MOV43 INS43 INS43 MOV43 MOV43 MOV43 MOV43 INS42 INS42 INS74 INS42 INS42 INS74 INS74 INS74 INS74 MOV43 INS43 MOV43 MOV43 INS43 INS43 MOV43 INS43 INS43 INS74 MOV43 INS43 MOV14 MOV43 INS43 INS42 INS42 INS42 INS42 INS42 INS74 MOV43 INS43 MOV43 INS42 INS74 INS42 MOV5 INS74 MOV32 MOV43 INS43 INS43 INS42 MOV32 MOV43 INS43 MOV32 MOV43 MOV43 INS74 INS74 INS42 INS42 INS42 MOV43 MOV43 INS43 MOV43 INS43 MOV32 INS42 INS42 UPD42 MOV42 MOV43 MOV32 MOV14 INS74 MOV43 INS43 INS42 DEL11 DEL11 DEL11 DEL42 DEL43 DEL85 DEL5 DEL11 DEL11