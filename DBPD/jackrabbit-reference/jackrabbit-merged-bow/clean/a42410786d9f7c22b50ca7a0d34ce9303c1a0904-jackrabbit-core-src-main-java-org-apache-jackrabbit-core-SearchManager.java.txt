JCR-1922 Validate the SearchIndex configuration

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@734375 13f79535-47bb-0310-9956-ffa450edef68

-     * Name of the parameter that specifies the idle time for a query handler.
-     */
-    private static final String PARAM_IDLE_TIME = "idleTime";
-
-    /**
-     * Name of the default query implementation class.
-     */
-    private static final String DEFAULT_QUERY_IMPL_CLASS = QueryImpl.class.getName();
-
-    /**
-     * Fully qualified name of the query implementation class.
-     * This class must extend {@link org.apache.jackrabbit.core.query.AbstractQueryImpl}!
-     */
-    private final String queryImplClassName;
-
-    /**
-        Properties params = config.getParameters();
-        queryImplClassName = params.getProperty(PARAM_QUERY_IMPL, DEFAULT_QUERY_IMPL_CLASS);
-        if (params.containsKey(PARAM_IDLE_TIME)) {
-            String msg = "Parameter 'idleTime' is not supported anymore. "
-                + "Please use 'maxIdleTime' in the repository configuration.";
-            log.warn(msg);
-        }
-
+            String queryImplClassName = handler.getQueryClass();
-            throw new RepositoryException("Unable to create query: " + t.toString());
+            throw new RepositoryException("Unable to create query: " + t.toString(), t);

INS60 MOV43 INS59 INS42 INS32 INS42 INS42 INS42 DEL66 DEL65 DEL29 DEL83 DEL83 DEL83 DEL42 DEL43 DEL42 DEL45 DEL59 DEL23 DEL66 DEL65 DEL29 DEL83 DEL83 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL57 DEL42 DEL32 DEL59 DEL23 DEL66 DEL66 DEL40 DEL65 DEL66 DEL65 DEL29 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL7 DEL21 DEL42 DEL42 DEL42 DEL32 DEL42 DEL45 DEL45 DEL27 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL25