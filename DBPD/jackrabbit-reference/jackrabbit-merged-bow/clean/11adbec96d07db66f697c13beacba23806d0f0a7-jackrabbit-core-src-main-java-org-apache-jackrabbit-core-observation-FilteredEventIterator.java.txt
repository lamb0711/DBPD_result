JCR-1672: Adding Event interface and isLocal()

Reverted revision 677261 that introduced the LocalEventListener interface.

We can reintroduce the interface once we can leverage the extra information it gives to the observation manager, but until that it's better to avoid having two different mechanisms for the same functionality.


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@679750 13f79535-47bb-0310-9956-ffa450edef68

-     * Is this a local event listener
-     */
-    private final boolean isLocalEventListener;
-    /**
-                                 Set denied,
-                                 boolean isLocalEventListener) {
+                                 Set denied) {
-        this.isLocalEventListener = isLocalEventListener;
-            if ( !state.isExternal() || !isLocalEventListener ) {
-                // check denied set
-                if (denied == null || !denied.contains(state.getTargetId())) {
-                    try {
-                        next = filter.blocks(state) ? null : new EventImpl(filter.getSession(), state);
-                    } catch (RepositoryException e) {
-                        log.error("Exception while applying filter.", e);
-                    }
+            // check denied set
+            if (denied == null || !denied.contains(state.getTargetId())) {
+                try {
+                    next = filter.blocks(state) ? null : new EventImpl(filter.getSession(), state);
+                } catch (RepositoryException e) {
+                    log.error("Exception while applying filter.", e);

MOV8 MOV60 MOV21 INS61 MOV27 MOV8 MOV21 DEL66 DEL65 DEL29 DEL83 DEL83 DEL39 DEL42 DEL59 DEL23 DEL39 DEL42 DEL44 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL42 DEL42 DEL32 DEL38 DEL42 DEL38 DEL27 DEL25 DEL61 DEL8