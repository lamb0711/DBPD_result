work in progress

- HierarchyManager: changes methods to take ItemState instead of ItemId
- HierarchyManager: remove log-utility methods (saveGetJCRPath)
- HierarchyManager: remove CachingHierachyManager. not used
- ItemManager: changes methods to take ItemState instead of ItemId
- ItemStateValidator: remove utility methods not related to validation
- new class LogUtil that provides static saveGetJCRPath methods previously
  present on HierarchyManager, ItemStateValidator
- NodeState: add method 'getPropertyEntries()'
- create interface ChildPropertyEntry
- let PropertyReference implement ChildPropertyEntry

TODO: query/NodeIteratorImpl needs to be fixed. 


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@429652 13f79535-47bb-0310-9956-ffa450edef68

+     * Also allows for removed items.
+     */
+    protected NodeState getParentState(ItemState state) {
+        if (state.hasOverlayedState()) {
+            // use 'old' parent in case item has been removed
+            return state.getOverlayedState().getParent();
+        }
+        // delegate to base class
+        return super.getParentState(state);
+    }
+
+    /**
+     * {@inheritDoc}
+     * <p/>

INS31 INS29 INS83 INS43 INS42 INS44 INS8 INS65 INS42 INS43 INS42 INS25 INS41 INS65 INS66 INS66 INS42 INS32 INS8 INS48 INS42 INS42 INS41 INS42 INS42 INS32 INS32 INS42 INS42 INS42