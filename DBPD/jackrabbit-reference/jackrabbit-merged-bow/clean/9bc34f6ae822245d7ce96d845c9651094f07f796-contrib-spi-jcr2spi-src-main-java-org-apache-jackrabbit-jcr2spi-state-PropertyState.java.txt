- new interface EffectiveNodeTypeProvider
- new interface ItemDefinitionProvider
- limit access to NodeTypeRegistry and simplify the NodeTypeRegistry
  interface.
- avoid duplicate code dealing with logic of EffectiveNodeType
  and retrieval of QItemDefinitions.


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@520408 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.jcr2spi.nodetype.NodeTypeRegistry;
+import org.apache.jackrabbit.jcr2spi.nodetype.ItemDefinitionProvider;
-                            ItemStateFactory isf, NodeTypeRegistry ntReg) {
-        super(initialStatus, isWorkspaceState, isf, ntReg);
+                            ItemStateFactory isf, ItemDefinitionProvider definitionProvider) {
+        super(initialStatus, isWorkspaceState, isf, definitionProvider);
-            definition = getEffectiveParentNodeType().getApplicablePropertyDefinition(getQName(), getType(), isMultiValued());
+            definition = definitionProvider.getQPropertyDefinition(this);

UPD40 UPD43 UPD42 UPD42 UPD42 UPD42 MOV42 UPD42 INS52 DEL32 DEL42 DEL32 DEL42 DEL32 DEL42 DEL32