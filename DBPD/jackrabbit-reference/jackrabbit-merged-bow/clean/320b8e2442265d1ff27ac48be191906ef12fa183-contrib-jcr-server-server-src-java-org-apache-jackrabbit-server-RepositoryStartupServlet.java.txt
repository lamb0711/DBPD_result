- adapting server to latest api 0.16.4.1
- adding support for better repository extensibility
- add primary-item export command

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@165294 13f79535-47bb-0310-9956-ffa450edef68

-    private static RepositoryImpl repository;
+    private static Repository repository;
-	    InputSource is = new InputSource(in);
-	    RepositoryConfig config = RepositoryConfig.create(is, repositoryHome.getAbsolutePath());
-	    repository = RepositoryImpl.create(config);
+	    repository = createRepository(new InputSource(in), repositoryHome);
+     * Creates the repository for the given config and homedir.
+     *
+     * @param is
+     * @param homedir
+     * @return
+     * @throws RepositoryException
+     */
+    protected Repository createRepository(InputSource is, File homedir)
+            throws RepositoryException {
+        RepositoryConfig config = RepositoryConfig.create(is, homedir.getAbsolutePath());
+        return RepositoryImpl.create(config);
+    }
+
+    /**
-	    Remote remote = null;
+	    Remote remote;

INS31 UPD43 INS29 INS83 INS43 INS42 INS44 INS44 INS43 INS8 UPD42 INS65 INS65 INS65 INS65 INS65 INS42 MOV43 INS42 INS43 INS42 INS42 INS60 INS41 INS66 INS42 INS42 INS42 INS42 MOV43 INS59 MOV32 INS21 INS42 INS32 INS7 INS42 INS42 INS42 INS32 INS42 INS32 INS42 INS42 UPD42 MOV42 MOV14 MOV42 DEL42 DEL59 DEL60 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL59 DEL60 DEL42 DEL7 DEL21 DEL33