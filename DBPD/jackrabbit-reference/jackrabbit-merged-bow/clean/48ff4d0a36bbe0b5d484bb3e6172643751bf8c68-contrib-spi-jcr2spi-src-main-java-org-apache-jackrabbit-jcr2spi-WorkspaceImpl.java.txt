work in progress

- simplify: don't check for supported-option (locking, versioning) on the client.


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@479646 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.jcr2spi.lock.DefaultLockManager;
-import org.apache.jackrabbit.jcr2spi.version.DefaultVersionManager;
-        session.checkSupportedOption(Repository.OPTION_VERSIONING_SUPPORTED);
-        if (session.isSupportedOption(Repository.OPTION_LOCKING_SUPPORTED)) {
-            LockManager lMgr = new LockManagerImpl(wspManager, itemManager);
-            session.addListener((LockManagerImpl) lMgr);
-            return lMgr;
-        } else {
-            return new DefaultLockManager();
-        }
+        LockManager lMgr = new LockManagerImpl(wspManager, itemManager);
+        session.addListener((LockManagerImpl) lMgr);
+        return lMgr;
-        if (session.isSupportedOption(Repository.OPTION_VERSIONING_SUPPORTED)) {
-            return new VersionManagerImpl(wspManager);
-        } else {
-            return new DefaultVersionManager();
-        }
+        return new VersionManagerImpl(wspManager);

MOV8 MOV8 DEL40 DEL26 DEL40 DEL26 DEL42 DEL42 DEL40 DEL32 DEL21 DEL42 DEL42 DEL40 DEL32 DEL42 DEL43 DEL14 DEL41 DEL8 DEL25 DEL8 DEL42 DEL42 DEL40 DEL32 DEL42 DEL43 DEL14 DEL41 DEL8 DEL25 DEL8