JCR-3816: [aws-ext]S3DS not able update lastModified of record > 5GB
JCR-3817: [jackrabbit-aws-ext] Performance of operation degrades while running DS GC

Applying patch from Shashank Gupta

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1632482 13f79535-47bb-0310-9956-ffa450edef68

-     * Write file to backend in asynchronous mode. Backend implmentation may
-     * choose not to write asynchronously but it requires to call
-     * {@link AsyncUploadCallback#call(DataIdentifier, File, com.day.crx.cloud.s3.ds.AsyncUploadCallback.RESULT)}
-     * after upload succeed or failed.
+     * Write file to backend in asynchronous mode.
+   
+    /**
+     * Update the lastModified of record if it's lastModified < minModifiedDate.
+     * 
+     * @param identifier
+     * @param minModifiedDate
+     * @throws DataStoreException
+     */
+    void touch(final DataIdentifier identifier, long minModifiedDate)
+            throws DataStoreException;
+    
+    /**
+     * Update the lastModified of record if it's lastModified < minModifiedDate
+     * asynchronously. Result of update is passed using appropriate
+     * {@link AsyncTouchCallback} methods. If identifier's lastModified >
+     * minModified {@link AsyncTouchCallback#onAbort(AsyncTouchResult)} is
+     * called. Any exception is communicated through
+     * {@link AsyncTouchCallback#onFailure(AsyncTouchResult)} . On successful
+     * update of lastModified,
+     * {@link AsyncTouchCallback#onSuccess(AsyncTouchResult)(AsyncTouchResult)}
+     * is invoked.
+     * 
+     * @param identifier
+     * @param minModifiedDate
+     * @param callback
+     * @throws DataStoreException
+     */
+    void touchAsync(final DataIdentifier identifier, long minModifiedDate,
+            final AsyncTouchCallback callback) throws DataStoreException;

INS31 INS31 INS29 INS39 INS42 INS44 INS44 INS43 INS29 INS39 INS42 INS44 INS44 INS44 INS43 INS65 INS65 INS65 INS65 INS83 MOV43 INS42 INS39 INS42 INS42 INS65 INS65 INS65 INS65 INS65 INS83 INS43 INS42 INS39 INS42 INS83 INS43 INS42 INS42 UPD66 INS66 INS42 INS42 INS42 INS66 INS66 INS65 INS66 INS66 INS65 INS66 INS66 INS65 INS66 INS66 INS65 INS66 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS68 INS68 INS66 INS42 INS42 INS69 INS42 INS42 INS69 INS43 INS43 INS42 INS42 DEL66 DEL42 DEL42 DEL69 DEL42 DEL43 DEL69 DEL40 DEL43 DEL69 DEL68 DEL65 DEL66