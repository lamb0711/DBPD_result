JCR-1819 : Add specific deep loading of Nodes and Properties
JCR-1843 : wrong status change upon conflicting removal (CacheBehaviour.OBSERVATION)
JCR-1293 : ReorderReferenceableSNSTest failure
JCR-1811 : ExportSysViewTest#testExportSysView_handler_session_saveBinary_occasionally failing


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@709211 13f79535-47bb-0310-9956-ffa450edef68

-            HierarchyEntry lockedEntry = wspManager.getHierarchyManager().getHierarchyEntry(lockNodeId);
-            if (lockedEntry.denotesNode()) {
-                try {
-                    lockHoldingState = ((NodeEntry) lockedEntry).getNodeState();
-                } catch (RepositoryException e) {
-                    log.warn("Cannot build LockState");
-                    throw new RepositoryException("Cannot build LockState", e);
-                }
-            } else {
-                // should never occur
-                throw new RepositoryException("Internal error: NodeId points to a Property.");
+            NodeEntry lockedEntry = wspManager.getHierarchyManager().getNodeEntry(lockNodeId);
+            try {
+                lockHoldingState = ((NodeEntry) lockedEntry).getNodeState();
+            } catch (RepositoryException e) {
+                log.warn("Cannot build LockState");
+                throw new RepositoryException("Cannot build LockState", e);
-                        itemManager.getItem(lockHoldingState.getNodeEntry().getPath());
+                        itemManager.getItem(lockHoldingState.getNodeEntry());

MOV8 MOV60 MOV60 MOV60 MOV25 MOV60 MOV25 MOV32 MOV8 MOV60 UPD43 UPD42 UPD42 MOV32 MOV32 INS42 UPD42 DEL42 DEL42 DEL32 DEL42 DEL43 DEL45 DEL14 DEL53 DEL8 DEL25 DEL8 DEL42 DEL42 DEL32