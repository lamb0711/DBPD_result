JCR-1588 - JSR 283: Access Control (work in progress)
JCR-1590 - JSR 283: Locking
JCR-1915 - Node.setPrimaryNodeType should only redefine child-definitions that are not covered by the new effective nt
JCR-1875 - Failing Node.unlock() might leave inconsistent transient state
JCR-538 - Failing Node.checkin() or Node.checkout() might leave inconsistent transient state

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@732693 13f79535-47bb-0310-9956-ffa450edef68

+     *      * Determines whether the specified <code>permissions</code> are granted
+     * on the item with the specified <code>id</code> (i.e. the <i>target</i> item).
+     *
+     * @param absPath
+     * @param permissions A combination of one or more of the
+     * {@link org.apache.jackrabbit.core.security.authorization.Permission}
+     * constants encoded as a bitmask value.
+     * @throws AccessDeniedException if permission is denied
+     * @throws RepositoryException   it another error occurs
+     */
+    void checkPermission(Path absPath, int permissions) throws AccessDeniedException, RepositoryException;
+    
+    /**
-     * @param permissions A combination of one or more of the following constants
-     *                    encoded as a bitmask value:
-     * <ul>
-     * <li>{@link org.apache.jackrabbit.core.security.authorization.Permission#READ READ}</li>
-     * <li>{@link org.apache.jackrabbit.core.security.authorization.Permission#ADD_NODE ADD_NODE}</code></li>
-     * <li>{@link org.apache.jackrabbit.core.security.authorization.Permission#REMOVE_NODE REMOVE_NODE}</li>
-     * <li>{@link org.apache.jackrabbit.core.security.authorization.Permission#SET_PROPERTY SET_PROPERTY}</li>
-     * <li>{@link org.apache.jackrabbit.core.security.authorization.Permission#REMOVE_PROPERTY REMOVE_PROPERTY}</li>
-     * </ul>
+     * @param permissions A combination of one or more of the
+     * {@link org.apache.jackrabbit.core.security.authorization.Permission}
+     * constants encoded as a bitmask value.
-     * @param permissions A combination of one or more of the following constants
-     *                    encoded as a bitmask value:
-     * <ul>
-     * <li>{@link org.apache.jackrabbit.core.security.authorization.Permission#READ READ}</li>
-     * <li>{@link org.apache.jackrabbit.core.security.authorization.Permission#ADD_NODE ADD_NODE}</code></li>
-     * <li>{@link org.apache.jackrabbit.core.security.authorization.Permission#REMOVE_NODE REMOVE_NODE}</li>
-     * <li>{@link org.apache.jackrabbit.core.security.authorization.Permission#SET_PROPERTY SET_PROPERTY}</li>
-     * <li>{@link org.apache.jackrabbit.core.security.authorization.Permission#REMOVE_PROPERTY REMOVE_PROPERTY}</li>
-     * </ul>
+     * @param permissions A combination of one or more of the
+     * {@link org.apache.jackrabbit.core.security.authorization.Permission}
+     * constants encoded as a bitmask value.

INS31 INS31 INS29 INS39 INS42 INS44 INS44 INS43 INS43 INS29 MOV39 MOV42 MOV44 MOV44 MOV43 INS65 INS65 INS65 INS65 INS65 INS43 INS42 INS39 INS42 INS42 INS42 MOV65 MOV65 INS65 MOV65 MOV65 UPD66 MOV66 UPD66 MOV66 INS42 INS42 UPD66 MOV66 MOV65 UPD66 MOV66 INS42 UPD66 MOV66 INS42 UPD66 MOV66 INS42 INS42 UPD66 MOV66 MOV65 UPD66 MOV66 UPD66 UPD66 INS40 INS40 INS40 DEL40 DEL42 DEL67 DEL66 DEL40 DEL42 DEL67 DEL66 DEL42 DEL66 DEL66 DEL40 DEL42 DEL67 DEL66 DEL65 DEL66 DEL66 DEL40 DEL42 DEL67 DEL65 DEL66 DEL66 DEL40 DEL42 DEL67 DEL65 DEL66 DEL66 DEL65 DEL29 DEL31 DEL66 DEL66 DEL66 DEL40 DEL42 DEL67 DEL66 DEL66 DEL66 DEL40 DEL42 DEL67 DEL66 DEL65 DEL66 DEL40 DEL42 DEL67 DEL66 DEL65 DEL66 DEL66 DEL40 DEL42 DEL67 DEL66 DEL65 DEL66 DEL66 DEL40 DEL42 DEL67 DEL66 DEL65 DEL66 DEL66