Implement location step with context position index.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@156923 13f79535-47bb-0310-9956-ffa450edef68

+    /** Constant value for position index = last() */
+    public static final int LAST = Integer.MIN_VALUE;
+
+    /** Constant value to indicate no position index */
+    public static final int NONE = Integer.MIN_VALUE + 1;
+
-     * If <code>index</code> is larger than 0 this location step contains
-     * a position index.
+     * The context position <code>index</code>. Initially {@link #NONE}.
-    private int index = 0;
+    private int index = NONE;
-     * Returns the predicate nodes for this location step. This method will
-     * not return a position predicate. Use {@link #getIndex} to retrieve
-     * this information.
+     * Returns the predicate nodes for this location step. This method may
+     * also return a position predicate.
-     * Sets the position index for this step. A value of 0 (zero) indicates
+     * Sets the position index for this step. A value of {@link #NONE} indicates
-     * @exception IllegalArgumentException if index < 0.
-        if (index < 0) {
-            throw new IllegalArgumentException("index < 0");
-        }
-     * Returns the position index for this step. A value of 0 (zero) indicates
+     * Returns the position index for this step. A value of {@link #NONE} indicates

INS23 INS23 INS29 INS83 INS83 INS83 INS39 INS59 INS29 INS83 INS83 INS83 INS39 INS59 INS65 INS42 INS40 INS65 INS42 INS27 INS42 INS66 INS66 INS40 INS34 UPD66 INS65 UPD66 UPD66 UPD66 UPD66 INS65 INS66 UPD66 INS65 INS66 INS67 INS67 INS67 INS42 INS42 INS42 DEL34 DEL42 DEL67 DEL65 DEL66 DEL66 DEL42 DEL66 DEL65 DEL42 DEL34 DEL27 DEL42 DEL43 DEL45 DEL14 DEL53 DEL8 DEL25