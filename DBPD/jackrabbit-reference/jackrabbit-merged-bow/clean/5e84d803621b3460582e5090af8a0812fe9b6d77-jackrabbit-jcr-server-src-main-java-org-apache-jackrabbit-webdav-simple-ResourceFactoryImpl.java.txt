JCR-1319: NullPointerException when accessing the SimpleWebdavServlet at the prefix path

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@677939 13f79535-47bb-0310-9956-ffa450edef68

-            Item item = ((JcrDavSession)sessionImpl).getRepositorySession().getItem(locator.getRepositoryPath());
-            if (item instanceof Node) {
-                node = (Node)item;
-            } // else: item is a property -> return null
+            String repoPath = locator.getRepositoryPath();
+            if (repoPath != null) {
+                Session session = ((JcrDavSession)sessionImpl).getRepositorySession();
+                Item item = session.getItem(repoPath);
+                if (item instanceof Node) {
+                    node = (Node)item;
+                } // else: item is a property -> return null
+            }
-            // item does not exist (yet) -> create null-resource
-            node = null;
+            // item does not exist (yet). return null -> create null-resource
-     * @param request
+     * @param isCollection
+     * @param node
-     * @param sessionImpl
-     * @return DavResource representing a repository item.
-     * @throws RepositoryException if {@link javax.jcr.Session#getItem(String)} fails.
+     * @param session
+     * @return
+     * @throws DavException

INS65 INS8 UPD42 INS42 UPD42 UPD42 INS60 INS25 MOV43 INS59 INS27 MOV8 INS42 MOV32 INS42 INS33 INS60 INS43 MOV43 INS59 INS42 UPD42 MOV32 INS42 INS32 INS42 INS42 INS42 DEL42 DEL32 DEL42 DEL33 DEL7 DEL21 DEL66 DEL66 DEL40 DEL42 DEL69 DEL68 DEL65 DEL66