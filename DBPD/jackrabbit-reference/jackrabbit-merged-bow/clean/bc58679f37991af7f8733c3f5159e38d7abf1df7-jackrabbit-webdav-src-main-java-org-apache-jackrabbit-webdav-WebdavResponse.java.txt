JCR-4591: basic trailer field support

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1879178 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Map;
+import java.util.function.Supplier;
+
- * defined by {@link org.apache.jackrabbit.webdav.DavServletResponse} encapsulating
- * for the core WebDAV specification (RFC 2518) as well as the various extensions
- * used for observation and transaction support, ordering of collections, search
- * and versioning.
+ * defined by {@link org.apache.jackrabbit.webdav.DavServletResponse}
+ * encapsulating for the core WebDAV specification (RFC 2518) as well as the
+ * various extensions used for observation and transaction support, ordering of
+ * collections, search and versioning.
-public interface WebdavResponse extends DavServletResponse,
-        ObservationDavServletResponse {
+public interface WebdavResponse extends DavServletResponse, ObservationDavServletResponse {
+
+    // can be removed when we move to Servlet API 4.0
+    public default void setTrailerFields(Supplier<Map<String, String>> supplier) {
+        // nop
+    }
+
+    // can be removed when we move to Servlet API 4.0
+    public default Supplier<Map<String, String>> getTrailerFields() {
+        return null;
+    }

INS26 INS26 INS40 INS40 INS31 INS31 INS83 INS83 INS39 INS42 INS44 INS8 INS83 INS83 INS74 INS42 INS8 UPD66 UPD66 UPD66 INS74 INS42 INS43 INS74 INS41 INS43 INS74 INS42 INS43 INS43 INS43 INS33 INS42 INS43 INS43 INS43 INS42 INS42 INS42 INS42 INS42 INS42 DEL66