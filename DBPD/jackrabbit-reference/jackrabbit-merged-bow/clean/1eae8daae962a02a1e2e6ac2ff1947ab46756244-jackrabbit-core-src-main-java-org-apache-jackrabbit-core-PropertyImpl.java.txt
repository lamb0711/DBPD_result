JCR-3007: setProperty access control evaluation does not properly cope with XA transactions

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1141141 13f79535-47bb-0310-9956-ffa450edef68

-        NodeImpl parent = (NodeImpl) getParent();
+        NodeImpl parent = (NodeImpl) getParent(false);
+    protected Node getParent(boolean checkPermission) throws RepositoryException {
+        return (Node) itemMgr.getItem(getPropertyState().getParentId(), checkPermission);
+    }
+
-        return (Node) itemMgr.getItem(getPropertyState().getParentId());
+        return getParent(true);

MOV31 INS31 UPD83 INS43 INS44 MOV29 INS83 MOV43 INS42 INS43 INS8 INS42 INS39 INS42 INS42 INS41 INS32 INS42 INS9 INS42 INS9