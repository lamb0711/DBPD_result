JCR-1741: Flush volatile index when size limit is reached

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@706697 13f79535-47bb-0310-9956-ffa450edef68

+     * @throws IOException if an error occurs while updating the index.
-     * SearchIndex#getMinMergeDocs()}.
+     * SearchIndex#getMaxVolatileIndexSize()}.
-        if (volatileIndex.getNumDocuments() >= handler.getMinMergeDocs()) {
+        if (volatileIndex.getRamSizeInBytes() >= handler.getMaxVolatileIndexSize()) {

INS65 INS42 INS66 UPD42 UPD42 UPD42