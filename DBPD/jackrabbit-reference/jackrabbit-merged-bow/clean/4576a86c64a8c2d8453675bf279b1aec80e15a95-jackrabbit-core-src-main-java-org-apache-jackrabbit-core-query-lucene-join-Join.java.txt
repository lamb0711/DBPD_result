JCR-2092: make spi query code compatible with JCR 2.0

Update jackrabbit-core to use JCR 2.0 interfaces instead of the SPI versions

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@770284 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.query.qom.QueryObjectModelConstants;
+
-import org.apache.jackrabbit.spi.commons.query.jsr283.qom.QueryObjectModelConstants;
-                              final int joinType,
+                              final String joinType,
-                private boolean isInner = joinType == JOIN_TYPE_INNER;
+                private boolean isInner =
+                    JCR_JOIN_TYPE_INNER.equals(joinType);
-                    if (isInner || descendant == left && joinType == JOIN_TYPE_LEFT_OUTER
-                            || descendant == right && joinType == JOIN_TYPE_RIGHT_OUTER) {
+                    if (isInner || descendant == left
+                            && JCR_JOIN_TYPE_LEFT_OUTER.equals(joinType)
+                            || descendant == right
+                            && JCR_JOIN_TYPE_RIGHT_OUTER.equals(joinType)) {
-                    if (isInner || src1 == left && joinType == JOIN_TYPE_LEFT_OUTER
-                            || src1 == right && joinType == JOIN_TYPE_RIGHT_OUTER) {
+                    if (isInner || src1 == left
+                            && JCR_JOIN_TYPE_LEFT_OUTER.equals(joinType)
+                            || src1 == right
+                            && JCR_JOIN_TYPE_RIGHT_OUTER.equals(joinType)) {
-                    if (child == left && joinType == JOIN_TYPE_LEFT_OUTER
-                            || child == right && joinType == JOIN_TYPE_RIGHT_OUTER) {
+                    if (child == left
+                            && JCR_JOIN_TYPE_LEFT_OUTER.equals(joinType)
+                            || child == right
+                            && JCR_JOIN_TYPE_RIGHT_OUTER.equals(joinType)) {
-                    if (isInner || src1 == left && joinType == JOIN_TYPE_LEFT_OUTER
-                            || src1 == right && joinType == JOIN_TYPE_RIGHT_OUTER) {
+                    if (isInner || src1 == left
+                            && JCR_JOIN_TYPE_LEFT_OUTER.equals(joinType)
+                            || src1 == right
+                            && JCR_JOIN_TYPE_RIGHT_OUTER.equals(joinType)) {

MOV26 UPD40 INS43 INS42 INS32 INS42 INS42 INS42 INS32 INS32 INS32 INS32 INS32 INS32 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 DEL39 DEL42 DEL42 DEL27 DEL42 DEL42 DEL27 DEL42 DEL42 DEL27 DEL42 DEL42 DEL27 DEL42 DEL42 DEL27 DEL42 DEL42 DEL27 DEL42 DEL42 DEL27 DEL42 DEL42 DEL27 DEL42 DEL42 DEL27