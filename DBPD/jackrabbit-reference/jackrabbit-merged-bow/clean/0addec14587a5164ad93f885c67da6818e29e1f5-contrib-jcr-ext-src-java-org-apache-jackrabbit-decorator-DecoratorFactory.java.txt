JCR-256: Improve jcr decorator in jcr-ext
- added decoration for all required jcr interfaces
- added more factory methods to DecoratorFactory
- renamed SimpleDecoratorFactory to DefaultDecoratorFactory
- removed ChainedDecoratorFactory and ChainedItemDecorator
- added sample decorator: TrussDecoratorFactory

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@326437 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.ValueFactory;
+import javax.jcr.ItemVisitor;
+import javax.jcr.query.QueryResult;
+import javax.jcr.query.Query;
+import javax.jcr.query.QueryManager;
+import javax.jcr.version.Version;
+import javax.jcr.version.VersionHistory;
+     * <p/>
+     * Note: this method must also take care to create appropriate decorators
+     * for subtypes of node: Version and VersionHistory!
-     * @param node the node (decorator) instance to which the lock is bound
-     * @param lock the underlying lock instance
+     * @param session the session (decorator) instance used to create the
+     *                lock decorator
+     * @param lock    the underlying lock instance
-    Lock getLockDecorator(Node node, Lock lock);
+    Lock getLockDecorator(Session session, Lock lock);
+    /**
+     * Creates a version decorator.
+     *
+     * @param session the session (decorator) instance used to create the version
+     *                decorator
+     * @param version the underlying version instance
+     * @return version decorator
+     */
+    Version getVersionDecorator(Session session, Version version);
+
+    /**
+     * Creates a version history decorator.
+     *
+     * @param session        the session (decorator) instance used to create the
+     *                       version history decorator.
+     * @param versionHistory the underlying version history instance
+     * @return version history decorator
+     */
+    VersionHistory getVersionHistoryDecorator(Session session,
+                                              VersionHistory versionHistory);
+
+    /**
+     * Creates a query manager decorator.
+     *
+     * @param session      the session (decorator) instance used to create the
+     *                     query manager decorator.
+     * @param queryManager the underlying query manager instance.
+     * @return query manager decorator.
+     */
+    QueryManager getQueryManagerDecorator(Session session, QueryManager queryManager);
+
+    /**
+     * Creates a query decorator.
+     *
+     * @param session the session (decorator) instance used to create the query
+     *                decorator.
+     * @param query   the underlying query instance.
+     * @return query decorator.
+     */
+    Query getQueryDecorator(Session session, Query query);
+
+    /**
+     * Creates a query result decorator.
+     *
+     * @param session the session (decorator) instance used to create the query
+     *                result decorator.
+     * @param result  the underlying query result instance.
+     * @return query result decorator.
+     */
+    QueryResult getQueryResultDecorator(Session session, QueryResult result);
+
+    /**
+     * Creates a value factory decorator.
+     *
+     * @param session      the session (decorator) instance used to create the
+     *                     value factory decorator.
+     * @param valueFactory the underlying value factory instance.
+     * @return value factory decorator.
+     */
+    ValueFactory getValueFactoryDecorator(Session session, ValueFactory valueFactory);
+
+    /**
+     * Creates a item visitor decorator.
+     *
+     * @param session the session (decorator) instance used to create the item
+     *                visitor decorator.
+     * @param visitor the underlying item visitor instance.
+     * @return item visitor decorator.
+     */
+    ItemVisitor getItemVisitorDecorator(Session session, ItemVisitor visitor);

INS26 INS26 INS26 INS26 INS26 INS26 INS26 INS40 INS40 INS40 INS40 INS40 INS40 INS40 INS31 INS31 INS31 INS31 INS31 INS31 INS31 INS29 INS43 INS42 INS44 INS44 INS29 INS43 INS42 INS44 INS44 INS29 INS43 INS42 INS44 INS44 INS29 INS43 INS42 INS44 INS44 INS29 INS43 INS42 INS44 INS44 INS29 INS43 INS42 INS44 INS44 INS29 INS43 INS42 INS44 INS44 UPD43 UPD42 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS43 INS42 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS43 INS42 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS43 INS42 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS43 INS42 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS43 INS42 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS43 INS42 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS43 INS42 INS66 INS66 INS66 UPD42 UPD66 INS66 UPD66 UPD42 INS66 INS42 INS66 INS66 INS42 INS66 INS66 INS42 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS66 INS42 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS66 INS42 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS66 INS42 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS66 INS42 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS66 INS42 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS66 INS42 INS42