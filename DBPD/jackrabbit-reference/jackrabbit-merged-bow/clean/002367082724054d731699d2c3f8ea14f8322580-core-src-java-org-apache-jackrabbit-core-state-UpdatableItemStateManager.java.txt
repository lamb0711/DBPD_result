fixed concurrency issue reported by walter raboch:
http://www.mail-archive.com/jackrabbit-dev@incubator.apache.org/msg02127.html

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@233511 13f79535-47bb-0310-9956-ffa450edef68

-     * @throws ItemStateException    if the operation failed
-     * @throws IllegalStateException if the manager is not in edit mode.
+     * @throws StaleItemStateException if at least one of the affected items
+     *                                 has become stale in the meantime 
+     * @throws ItemStateException      if the operation failed for another reason
+     * @throws IllegalStateException   if the manager is not in edit mode.
-    void update() throws ItemStateException, IllegalStateException;
+    void update() throws StaleItemStateException, ItemStateException,
+            IllegalStateException;

INS43 INS65 INS42 INS42 INS66 INS66 UPD66 UPD66