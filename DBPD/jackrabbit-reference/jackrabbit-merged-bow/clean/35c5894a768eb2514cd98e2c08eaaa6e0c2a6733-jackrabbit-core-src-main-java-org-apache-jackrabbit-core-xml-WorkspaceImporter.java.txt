JCR-1775: Transaction-safe versioning

All calls to VersionManager's getVersionHistory and createVersionHistory followed this pattern:

    VersionHistory vh = manager.getVersionHistory(...);
    if (vh == null) {
        vh = manager.createVersionHistory(...);
    }

Simplified things by making getVersionHistory() automatically create the version history if it doesn't already exist. This simplifies the client code to:

    VersionHistory vh = manager.getVersionHistory(...);


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@702425 13f79535-47bb-0310-9956-ffa450edef68

-            VersionHistory history = versionManager.getVersionHistory(session, node);
-            if (history == null) {
-                history = versionManager.createVersionHistory(session, node);
-            }
+            VersionHistory history =
+                versionManager.getVersionHistory(session, node);

DEL42 DEL33 DEL27 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL7 DEL21 DEL8 DEL25