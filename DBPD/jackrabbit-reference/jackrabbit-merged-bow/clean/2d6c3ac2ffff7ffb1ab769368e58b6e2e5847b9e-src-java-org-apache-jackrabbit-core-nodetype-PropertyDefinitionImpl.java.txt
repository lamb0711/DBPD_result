- PropDef and NodeDef adaptions
- adjusting to 0.16.4

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@161308 13f79535-47bb-0310-9956-ffa450edef68

- * A <code>PropertyDefinitionImpl</code> ...
+ * This class implements the PropertyDef interface.
-public class PropertyDefinitionImpl extends ItemDefinitionImpl
-        implements PropertyDefinition {
+public class PropertyDefinitionImpl extends ItemDefinitionImpl implements PropertyDefinition {
+    /**
+     * the default logger
+     */
-    private final PropDef propDef;
-
-
-    PropertyDefinitionImpl(PropDef propDef, NodeTypeManagerImpl ntMgr,
-                           NamespaceResolver nsResolver) {
+    PropertyDefinitionImpl(PropDef propDef, NodeTypeManagerImpl ntMgr, NamespaceResolver nsResolver) {
-        this.propDef = propDef;
+    /**
+     * Returns the underlaying prop def
+     * @return
+     */
-        return propDef;
+        return (PropDef) itemDef;
-        InternalValue[] defVals = propDef.getDefaultValues();
+        InternalValue[] defVals = ((PropDef) itemDef).getDefaultValues();
-                log.error("illegal default value specified for property "
-                        + propName + " in node type " + getDeclaringNodeType(),
-                        re);
+                log.error("illegal default value specified for property " + propName + " in node type " + getDeclaringNodeType(), re);
-        return propDef.getRequiredType();
+        return ((PropDef) itemDef).getRequiredType();
-        ValueConstraint[] constraints = propDef.getValueConstraints();
+        ValueConstraint[] constraints = ((PropDef) itemDef).getValueConstraints();
-        return propDef.isMultiple();
+        return ((PropDef) itemDef).isMultiple();

INS29 INS29 MOV43 UPD66 INS65 INS65 INS65 INS66 INS66 INS11 MOV43 INS42 INS36 INS36 INS36 INS11 INS36 INS11 INS11 INS43 INS42 INS11 INS43 INS42 INS43 INS42 INS42 INS43 INS42 INS42 INS42 INS42 DEL83 DEL83 DEL42 DEL59 DEL23 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL42 DEL42 DEL42 DEL42 DEL42