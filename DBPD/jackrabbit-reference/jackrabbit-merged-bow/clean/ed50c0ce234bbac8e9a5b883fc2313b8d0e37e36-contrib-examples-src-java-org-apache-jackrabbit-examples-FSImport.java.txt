improved mime-type support for fs import

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@170365 13f79535-47bb-0310-9956-ffa450edef68

-import java.io.InputStream;
+import sun.net.www.MimeTable;
+
- * The File System import example class.
+ * The First Steps example class.
-     * @throws RepositoryException, IOException on errors
+     * @throws RepositoryException on repository errors, IOException on io errors
-        // add some other means to extract mime type from filename
-        String mimeType = "application/octet-stream";
+        MimeTable mt = MimeTable.getDefaultTable();
+        String mimeType = mt.getContentTypeFor(file.getName());
+        if (mimeType==null) mimeType="application/octet-stream";
-     * @throws RepositoryException, IOException on errors
+     * @throws RepositoryException on repository errors, IOException on io errors
-        File[] direntries =directory.listFiles();
+        File[] direntries = directory.listFiles();
-

MOV26 UPD40 UPD66 INS60 INS60 INS25 UPD66 INS43 INS59 MOV43 INS59 INS27 INS21 UPD66 INS42 INS42 INS32 MOV42 INS32 INS42 INS33 INS7 INS42 INS42 INS42 INS42 INS32 INS42 INS45 INS42 INS42 DEL45 DEL59 DEL60