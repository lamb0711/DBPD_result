JCR-565: Renamed ObservationManagerFactory to ObservationDispatcher and inlined the factory method

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@446866 13f79535-47bb-0310-9956-ffa450edef68

-     * The <code>ObservationManagerFactory</code>
+     * The <code>ObservationDispatcher</code>
-    private final ObservationManagerFactory obsMgrFactory;
+    private final ObservationDispatcher dispatcher;
+     * @param dispatcher observation dispatcher
-    ObservationManagerImpl(ObservationManagerFactory obsMgrFactory,
+    public ObservationManagerImpl(ObservationDispatcher dispatcher,
-        this.obsMgrFactory = obsMgrFactory;
+        this.dispatcher = dispatcher;
-        EventConsumer consumer =
-                new EventConsumer(session, listener, filter);
-        obsMgrFactory.addConsumer(consumer);
+        dispatcher.addConsumer(new EventConsumer(session, listener, filter));
-        EventConsumer consumer =
-                new EventConsumer(session, listener, EventFilter.BLOCK_ALL);
-        obsMgrFactory.removeConsumer(consumer);
+        dispatcher.removeConsumer(
+                new EventConsumer(session, listener, EventFilter.BLOCK_ALL));
-        return new EventListenerIteratorImpl(session,
-                obsMgrFactory.getSynchronousConsumers(),
-                obsMgrFactory.getAsynchronousConsumers());
+        return new EventListenerIteratorImpl(
+                session,
+                dispatcher.getSynchronousConsumers(),
+                dispatcher.getAsynchronousConsumers());
-        return new EventStateCollection(obsMgrFactory, session, null);
+        return new EventStateCollection(dispatcher, session, null);

UPD43 INS83 UPD42 UPD42 INS65 UPD43 UPD42 UPD66 INS42 INS66 UPD42 UPD42 UPD42 MOV14 UPD42 MOV14 UPD42 UPD42 UPD42 UPD42 DEL42 DEL43 DEL42 DEL59 DEL60 DEL42 DEL42 DEL43 DEL42 DEL59 DEL60 DEL42