JCR-2887 : Split PrivilegeRegistry in a per-session manager instance and a repository level registry [work in progress]

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1076600 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.api.JackrabbitWorkspace;
-import org.apache.jackrabbit.core.WorkspaceImpl;
+import org.apache.jackrabbit.core.security.authorization.PrivilegeManagerImpl;
-        readBits = ((WorkspaceImpl) session.getWorkspace()).getPrivilegeManager().getBits(new String[] {Privilege.JCR_READ});
+        JackrabbitWorkspace wsp = (JackrabbitWorkspace) session.getWorkspace();
+        readBits = ((PrivilegeManagerImpl) wsp.getPrivilegeManager()).getBits(new String[] {Privilege.JCR_READ});

MOV26 INS26 UPD40 INS40 INS60 INS43 INS59 INS42 INS42 MOV11 UPD43 INS36 UPD42 INS11 INS43 INS32 INS42 INS42 MOV42 DEL36 DEL32