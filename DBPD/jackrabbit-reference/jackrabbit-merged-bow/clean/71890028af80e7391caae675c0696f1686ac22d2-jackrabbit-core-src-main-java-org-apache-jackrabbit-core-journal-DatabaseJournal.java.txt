JCR-2832: Crash when adding node to cluster with big journal on PSQL DB

Minor cleanup (better try-finally construct, throw exception instead of logging)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1060434 13f79535-47bb-0310-9956-ffa450edef68

-     * Override to do it in batchMode, since some databases (PSQL) when 
+     * Override to do it in batchMode, since some databases (PSQL) when
-            super.doSync(startRevision);
-        } catch (SQLException e) {
-            // Should throw journal exception instead of just logging it?
-            log.error("couldn't sync the cluster node", e);
-        } finally {
+                super.doSync(startRevision);
+            } finally {
-            } catch (SQLException e) {
-                log.warn("couldn't close connection", e);
+        } catch (SQLException e) {
+            throw new JournalException("Couldn't sync the cluster node", e);

UPD66 MOV12 INS54 MOV44 INS8 INS8 MOV8 INS53 MOV21 INS14 INS43 INS45 INS42 UPD42 MOV42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL45 DEL42 DEL32 DEL21 DEL8 DEL42 DEL42 DEL45 DEL42 DEL32 DEL21 DEL8 DEL12 DEL54 DEL8