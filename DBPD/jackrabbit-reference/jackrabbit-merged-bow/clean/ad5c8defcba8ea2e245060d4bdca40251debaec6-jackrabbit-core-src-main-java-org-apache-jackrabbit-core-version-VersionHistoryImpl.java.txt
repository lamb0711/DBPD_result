JCR-890: concurrent read-only access to a session

Turn Item.save() into a managed operation.

Introduce SessionContext to avoid having to pass a yet another reference around.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@956912 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.SessionImpl;
+import org.apache.jackrabbit.core.session.SessionContext;
-     * @param session session
+     * @param sessionContext component context of the associated session
-    public VersionHistoryImpl(ItemManager itemMgr, SessionImpl session, AbstractNodeData data) {
-        super(itemMgr, session, data);
+    public VersionHistoryImpl(
+            ItemManager itemMgr, SessionContext sessionContext,
+            AbstractNodeData data) {
+        super(itemMgr, sessionContext, data);

MOV26 UPD40 UPD43 UPD42 UPD42 UPD66 UPD42 UPD42