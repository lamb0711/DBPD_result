JCR-2888 - Namespace comparison in Namespace.java doesn't work, if a node return null, but it expects an empty string

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1071573 13f79535-47bb-0310-9956-ffa450edef68

-    public static final Namespace EMPTY_NAMESPACE = Namespace.getNamespace("","");
-    public static final Namespace XML_NAMESPACE = Namespace.getNamespace("xml", "http://www.w3.org/XML/1998/namespace");
-    public static final Namespace XMLNS_NAMESPACE = Namespace.getNamespace("xmlns", "http://www.w3.org/2000/xmlns/");
+    public static final Namespace EMPTY_NAMESPACE = new Namespace("","");
+    public static final Namespace XML_NAMESPACE = new Namespace("xml", "http://www.w3.org/XML/1998/namespace");
+    public static final Namespace XMLNS_NAMESPACE = new Namespace("xmlns", "http://www.w3.org/2000/xmlns/");
+    /**
+     * Returns <code>true</code> if the a <code>Namespace</code> built from the
+     * specified <code>namespaceURI</code> is equal to this namespace object.
+     *
+     * @param namespaceURI A namespace URI to be compared to this namespace instance.
+     * @return true if the a <code>Namespace</code> built from the
+     * specified <code>namespaceURI</code> is equal to this namespace object;
+     * false otherwise.
+     */
-        return uri.equals(namespaceURI);
+        Namespace other = getNamespace(namespaceURI);
+        return this.equals(other);

INS29 INS14 INS14 INS14 INS65 INS65 INS65 INS60 INS43 INS45 INS45 INS43 INS45 INS45 INS43 INS45 INS45 INS66 INS66 INS42 INS66 INS66 INS66 INS66 INS43 INS59 INS42 INS42 INS42 INS42 INS42 INS32 INS52 UPD42 INS42 INS42 DEL42 DEL42 DEL45 DEL45 DEL32 DEL42 DEL42 DEL45 DEL45 DEL32 DEL42 DEL42 DEL45 DEL45 DEL32 DEL42