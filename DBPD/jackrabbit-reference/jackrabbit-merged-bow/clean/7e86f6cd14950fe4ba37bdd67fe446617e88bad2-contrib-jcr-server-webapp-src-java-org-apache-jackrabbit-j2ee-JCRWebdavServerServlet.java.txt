JCR-289 - jcr-server: make auth-header configurable for JCR-Server

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@368754 13f79535-47bb-0310-9956-ffa450edef68

+    /**
+     * Name of the optional init parameter that defines the value of the
+     * 'WWW-Authenticate' header.<p/>
+     * If the parameter is omitted the default value
+     * {@link #DEFAULT_AUTHENTICATE_HEADER "Basic Realm=Jackrabbit Webdav Server"}
+     * is used.
+     *
+     * @see #getAuthenticateHeaderValue()
+     */
+    public static final String INIT_PARAM_AUTHENTICATE_HEADER = "authenticate-header";
+
+    private String authenticate_header;
+
+        authenticate_header = getInitParameter(INIT_PARAM_AUTHENTICATE_HEADER);
+        if (authenticate_header == null) {
+            authenticate_header = DEFAULT_AUTHENTICATE_HEADER;
+        }
+        log.debug(INIT_PARAM_AUTHENTICATE_HEADER + " = " + authenticate_header);
+
-     * Returns {@link #DEFAULT_AUTHENTICATE_HEADER}.
+     * Returns the init param of the servlet configuration or
+     * {@link #DEFAULT_AUTHENTICATE_HEADER} as default value.
-     * @return {@link #DEFAULT_AUTHENTICATE_HEADER}.
+     * @return corresponding init parameter or {@link #DEFAULT_AUTHENTICATE_HEADER}.
+     * @see #INIT_PARAM_AUTHENTICATE_HEADER
-        return DEFAULT_AUTHENTICATE_HEADER;
+        return authenticate_header;

INS23 INS23 INS29 INS83 INS83 INS83 INS43 INS59 INS83 INS43 INS59 MOV65 INS65 INS65 INS42 INS42 INS45 INS42 INS42 INS21 INS25 INS21 UPD65 UPD65 INS65 INS66 INS66 INS66 INS65 INS66 INS68 INS7 INS27 INS8 INS32 UPD66 UPD66 UPD66 INS67 UPD42 INS67 INS66 INS42 INS42 INS32 INS42 INS33 INS21 INS42 INS42 INS27 INS42 INS42 INS42 INS42 INS7 INS42 INS45 INS42 INS42 INS42