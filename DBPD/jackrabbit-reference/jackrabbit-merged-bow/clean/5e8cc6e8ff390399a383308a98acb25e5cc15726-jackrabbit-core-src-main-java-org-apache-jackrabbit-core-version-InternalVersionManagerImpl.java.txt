JCR-3507 add ability to remove version history objects from the version storage via the internal version management API

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1440917 13f79535-47bb-0310-9956-ffa450edef68

+    public void removeVersionHistory(Session session, final InternalVersionHistory history) throws RepositoryException {
+        escFactory.doSourced((SessionImpl) session, new SourcedTarget() {
+            public Object run() throws RepositoryException {
+                internalRemoveVersionHistory((InternalVersionHistoryImpl) history);
+                return null;
+            }
+        });
+    }
+
+    /**
+     * {@inheritDoc}
+     * <p/>
+     * This method must not be synchronized since it could cause deadlocks with
+     * item-reading listeners in the observation thread.
+     */

INS31 INS29 INS83 INS39 INS42 INS44 INS44 INS43 INS8 INS65 INS43 INS42 INS83 INS43 INS42 INS42 INS21 INS65 INS66 INS66 INS66 INS42 INS42 INS32 INS42 INS42 INS11 INS14 INS43 INS42 INS43 INS1 INS42 INS42 INS31 INS83 INS43 INS42 INS43 INS8 INS42 INS42 INS21 INS41 INS32 INS33 INS42 INS11 INS43 INS42 INS42