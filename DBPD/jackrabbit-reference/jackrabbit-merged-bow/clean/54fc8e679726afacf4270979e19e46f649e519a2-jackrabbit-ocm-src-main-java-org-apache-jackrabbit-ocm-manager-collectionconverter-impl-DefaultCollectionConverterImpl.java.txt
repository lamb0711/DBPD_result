Apply patch for JCR-1721 : make collection element names configureable provided by Oliver Lietz

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@697391 13f79535-47bb-0310-9956-ffa450edef68

-    private static final String COLLECTION_ELEMENT_NAME = "collection-element";
+    protected static final String COLLECTION_ELEMENT_NAME = "collection-element";
-           insertManageableCollection(session, objects, collectionNode, elementClassDescriptor);
+           insertManageableCollection(session, objects, collectionNode, elementClassDescriptor, collectionDescriptor);
-			ClassDescriptor elementClassDescriptor) {
+			ClassDescriptor elementClassDescriptor,
+            CollectionDescriptor collectionDescriptor) {
-                elementJcrName = COLLECTION_ELEMENT_NAME;
+                elementJcrName = collectionDescriptor.getJcrElementName();
+                if (elementJcrName == null) { // use PathFormat.checkFormat() here?
+                    elementJcrName = COLLECTION_ELEMENT_NAME;
+                }
-                elementJcrName = COLLECTION_ELEMENT_NAME ;
+                elementJcrName = collectionDescriptor.getJcrElementName();
+                if (elementJcrName == null) { // use PathFormat.checkFormat() here?
+                    elementJcrName = COLLECTION_ELEMENT_NAME;
+                }

UPD83 INS44 INS43 INS42 INS42 INS42 INS8 INS8 INS21 INS25 INS21 INS25 MOV21 INS7 INS27 MOV8 INS7 INS27 MOV8 INS42 INS32 INS42 INS33 INS42 INS32 INS42 INS33 INS42 INS42 INS42 INS42