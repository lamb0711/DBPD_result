JCR-4458: When JcrRemotingServlet deployed on non-root context, AclResource Webdav request fails (patch by woon_san)

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1866280 13f79535-47bb-0310-9956-ffa450edef68

-                String versionPath = getLocatorFromHref(hrefs[0]).getRepositoryPath();
+                final String href = normalizeResourceHref(hrefs[0]);
+                String versionPath = getLocatorFromHref(href).getRepositoryPath();
-                String href = obtainAbsolutePathFromUri(updateInfo.getWorkspaceHref());
+                String href = normalizeResourceHref(obtainAbsolutePathFromUri(updateInfo.getWorkspaceHref()));
-            String workspaceName = getLocatorFromHref(mergeInfo.getSourceHrefs()[0]).getWorkspaceName();
+            final String href = normalizeResourceHref(mergeInfo.getSourceHrefs()[0]);
+            String workspaceName = getLocatorFromHref(href).getWorkspaceName();

INS60 INS83 INS43 INS59 INS60 UPD42 MOV32 INS42 INS42 INS32 INS83 INS43 INS59 UPD42 INS32 INS42 UPD42 MOV32 INS42 INS42 INS32 INS42 INS42 UPD42 INS32 INS42 INS42 INS42 INS32 INS42 MOV32 DEL42 DEL32 DEL42 DEL32