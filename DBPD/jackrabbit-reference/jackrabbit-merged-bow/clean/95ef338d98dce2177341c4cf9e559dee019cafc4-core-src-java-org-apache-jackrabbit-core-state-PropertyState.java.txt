fixing concurrency issue that could lead to inconsistent repository content

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@240263 13f79535-47bb-0310-9956-ffa450edef68

-        super.copy(state);
+        synchronized (state) {
+            super.copy(state);
-        PropertyState propState = (PropertyState) state;
-        name = propState.getName();
-        type = propState.getType();
-        defId = propState.getDefinitionId();
-        values = propState.getValues();
-        multiValued = propState.isMultiValued();
+            PropertyState propState = (PropertyState) state;
+            name = propState.getName();
+            type = propState.getType();
+            defId = propState.getDefinitionId();
+            values = propState.getValues();
+            multiValued = propState.isMultiValued();
+        }

INS8 INS51 INS42 MOV8