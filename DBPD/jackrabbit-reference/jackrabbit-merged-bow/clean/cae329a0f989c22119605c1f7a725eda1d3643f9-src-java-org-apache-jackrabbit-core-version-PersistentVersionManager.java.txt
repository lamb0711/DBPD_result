reworked transaction support, contributed by dominique

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@151380 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.state.UpdatableItemStateManager;
-     *
-     * @param history
-     * @param versionName
-     * @throws VersionException
+     * Return the item state manager of this version manager
+     * @return item state manager
-    public void removeVersion(InternalVersionHistory history, QName versionName) throws VersionException;
-
-
-    /**
-     *
-     * @param versionName
-     * @param label
-     * @param move
-     * @return
-     * @throws VersionException
-     */
-    public InternalVersion addVersionLabel(InternalVersionHistory history, QName versionName, String label, boolean move) throws VersionException;
-
-    /**
-     *
-     * @param label
-     * @return
-     * @throws VersionException
-     */
-    public InternalVersion removeVersionLabel(InternalVersionHistory history, String label) throws VersionException;
+    public UpdatableItemStateManager getItemStateMgr();

INS26 INS40 UPD43 UPD42 UPD65 UPD42 INS66 INS66 DEL42 DEL65 DEL42 DEL65 DEL42 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL31 DEL42 DEL42 DEL65 DEL42 DEL65 DEL42 DEL65 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL39 DEL42 DEL44 DEL42 DEL43 DEL42 DEL65 DEL65 DEL42 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL31