work on JCR-922 : 
Review method lock in the PersistenceManager. Now it returns a Lock object.
Add unit test. See the data value object 'Lockable' in the pck testmodel. 


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@544291 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.Session;
+import org.apache.jackrabbit.ocm.lock.Lock;
-     * @return lock token - see JCR spec: 8.4.6 Lock Token; Other user  with this token can perform unlock
+     * @return lock - Wrapper object for a JCR lock
-    public String lock(String path, boolean isDeep, boolean isSessionScoped) throws LockedException;
+    public Lock lock(String path, boolean isDeep, boolean isSessionScoped) throws LockedException;
-     * Refrsh the underlying jcr session (see the jcr spec)
+     * Refresh the underlying jcr session (see the jcr spec)
+    /**
+     * This method returns the JCR session. The JCR session could be used to make some JCR specific calls.
+     * @return the associated JCR session 
+     */
+    public Session getSession();

INS26 INS26 INS40 INS40 INS31 UPD43 INS29 INS83 INS43 INS42 UPD42 INS65 INS65 INS42 UPD66 UPD66 INS66 INS66