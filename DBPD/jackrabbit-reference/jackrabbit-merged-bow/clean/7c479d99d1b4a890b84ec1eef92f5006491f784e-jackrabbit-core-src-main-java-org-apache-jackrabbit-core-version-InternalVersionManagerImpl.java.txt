JCR-2857 Support sequential (non-random) node ids

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1057220 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.id.NodeIdFactory;
-    
+
-                              ISMLocking ismLocking) throws RepositoryException {
-        super(ntReg, historiesId, activitiesId);
+                              ISMLocking ismLocking,
+                              NodeIdFactory nodeIdFactory) throws RepositoryException {
+        super(ntReg, historiesId, activitiesId, nodeIdFactory);
-            sharedStateMgr = createItemStateManager(pMgr, systemId, ntReg, cacheFactory, ismLocking);
+            sharedStateMgr = createItemStateManager(pMgr, systemId, ntReg, cacheFactory, ismLocking, nodeIdFactory);
-                                                             ISMLocking ismLocking)
+                                                             ISMLocking ismLocking,
+                                                             NodeIdFactory nodeIdFactory)
-        return new VersionItemStateManager(pMgr, rootId, ntReg, cacheFactory, ismLocking);
+        return new VersionItemStateManager(pMgr, rootId, ntReg, cacheFactory, ismLocking, nodeIdFactory);

INS26 INS40 INS44 INS44 INS43 INS42 INS43 INS42 INS42 INS42 INS42 INS42 INS42