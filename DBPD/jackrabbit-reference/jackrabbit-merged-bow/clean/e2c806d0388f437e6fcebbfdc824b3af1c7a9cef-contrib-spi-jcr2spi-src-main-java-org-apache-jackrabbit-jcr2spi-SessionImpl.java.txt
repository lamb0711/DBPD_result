- Adjust jackrabbit dependency to version 1.1-SNAPSHOT
- Remove javax.security.auth.Subject from SPI interfaces. Whether JAAS is supported and how is specific to the SPI implementation.
- Add JavaDoc to RepositoryService.login()

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@434074 13f79535-47bb-0310-9956-ffa450edef68

-import javax.security.auth.Subject;
-import java.security.Principal;
-import java.util.Set;
-    private final Subject subject;
-        this.subject = sessionInfo.getSubject();
-
-        // DIFF JACKRABBIT don't expect principals
-        // TODO: not totally correct to use the first principles name as UserId
-        Set principals = sessionInfo.getSubject().getPrincipals();
-        if (!principals.isEmpty()) {
-            // use 1st principal in case there are more that one
-            Principal principal = (Principal) principals.iterator().next();
-            userId = principal.getName();
-        } else {
-            userId = null;
-        }
+        userId = sessionInfo.getUserID();
-        // with subject of current session
+        // with current session
-        creds.setAttribute(SecurityConstants.IMPERSONATOR_ATTRIBUTE, subject);
+        creds.setAttribute(SecurityConstants.IMPERSONATOR_ATTRIBUTE, this);

MOV21 INS52 UPD42 UPD42 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL52 DEL42 DEL22 DEL42 DEL42 DEL32 DEL7 DEL21 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL32 DEL38 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL42 DEL32 DEL42 DEL32 DEL11 DEL59 DEL60 DEL8 DEL42 DEL33 DEL7 DEL21 DEL8 DEL25 DEL42