SPI:
- remove ItemStateFactory parameter from resolve methods
- add create[Node|Property]State methods to ItemStateFactory which take a parent NodeState
- use PropertyReference in NodeState instead of plain property QNames
- add getNodeState() and getPropertyState() on NodeState for state traversal

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@426582 13f79535-47bb-0310-9956-ffa450edef68

+     * Creates the child <code>NodeState</code> with the given
+     * <code>nodeId</code>.
+     *
+     * @param nodeId the id of the <code>NodeState</code> to create.
+     * @param parent the parent of the <code>NodeState</code> to create.
+     * @return the created <code>NodeState</code>.
+     * @throws NoSuchItemStateException if there is no such <code>NodeState</code>.
+     * @throws ItemStateException       if an error occurs while retrieving the
+     *                                  <code>NodeState</code>.
+     */
+    public NodeState createNodeState(NodeId nodeId, NodeState parent)
+            throws NoSuchItemStateException, ItemStateException;
+
+    /**
-     *                   <code>NodeState</code> to create.
+     *                   <code>PropertyState</code> to create.
+
+    /**
+     * Creates the <code>PropertyState</code> with the given
+     * <code>propertyId</code>.
+     *
+     * @param propertyId the id of the <code>PropertyState</code> to create.
+     * @param parent the parent of the <code>PropertyState</code> to create.
+     * @return the created <code>PropertyState</code>.
+     * @throws NoSuchItemStateException if there is no such <code>PropertyState</code>.
+     * @throws ItemStateException       if an error occurs while retrieving the
+     *                                  <code>PropertyState</code>.
+     */
+    public PropertyState createPropertyState(PropertyId propertyId,
+                                             NodeState parent)
+            throws NoSuchItemStateException, ItemStateException;

INS31 INS31 INS29 INS83 INS43 INS42 INS44 INS44 INS43 INS43 INS29 INS83 INS43 INS42 INS44 INS44 INS43 INS43 INS65 INS65 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS43 INS42 INS42 INS42 INS65 INS65 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS43 INS42 INS42 INS42 INS66 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS42 UPD66 INS66 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS42