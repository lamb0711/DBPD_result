Open up some access modifiers to allow for better extension of the default query handler.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@350022 13f79535-47bb-0310-9956-ffa450edef68

-class SharedFieldSortComparator extends SortComparator {
+public class SharedFieldSortComparator extends SortComparator {
+     * If <code>true</code> <code>ScoreDocComparator</code> will returns term
+     * values when {@link org.apache.lucene.search.ScoreDocComparator#sortValue(org.apache.lucene.search.ScoreDoc)}
+     * is called, otherwise only a dummy value is returned.
+     */
+    private final boolean createComparatorValues;
+
+    /**
+     *
+        this(fieldname, false);
+    }
+
+    /**
+     * Creates a new <code>SharedFieldSortComparator</code> for a given shared
+     * field.
+     *
+     * @param fieldname              the shared field.
+     * @param createComparatorValues if <code>true</code> creates values
+     * for the <code>ScoreDocComparator</code>s.
+     * @see #createComparatorValues
+     */
+    public SharedFieldSortComparator(String fieldname, boolean createComparatorValues) {
+        this.createComparatorValues = createComparatorValues;
-                        propertyName, SharedFieldSortComparator.this);
+                        FieldNames.createNamedValue(propertyName, ""),
+                        SharedFieldSortComparator.this,
+                        createComparatorValues);
-             * Always returns an empty String.
+             * Returns an empty if no lookup table is available otherwise
+             * the index term for the score doc <code>i</code>.
+             *
-             * @return an empty String.
+             * @return the sort value if available.
-                // return dummy value
-                return "";
+                if (index.lookup != null) {
+                    return index.lookup[index.order[i.doc]];
+                } else {
+                    // return dummy value
+                    return "";
+                }

INS83 INS23 INS31 INS29 INS83 INS83 INS39 INS59 INS8 INS29 INS83 INS42 INS44 INS44 MOV8 INS65 INS42 INS17 INS65 INS65 INS65 INS65 INS43 INS42 INS39 INS42 INS21 INS66 INS66 INS65 INS66 INS42 INS9 INS66 INS66 INS42 INS66 INS42 INS66 INS66 INS67 INS42 INS7 INS68 INS42 INS22 INS42 INS40 INS42 INS69 INS52 INS42 INS32 INS42 INS43 INS42 INS42 MOV42 INS45 INS8 INS40 INS25 UPD66 INS66 UPD66 INS27 INS8 MOV8 INS40 INS33 INS41 INS2 INS40 INS2 INS40 INS40