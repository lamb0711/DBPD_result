JCR-3206 JSR-283 support for RMI / Implementation of the missing versioning parts

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1377571 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.rmi.remote.RemoteNode;
-//  This is only available after 0.16.2
-//    /** {@inheritDoc} */
-//    public RemoteVersionHistory getContainingHistory() throws RepositoryException {
-//        try {
-//            return getFactory().getRemoteVersionHistory(version.getContainingHistory());
-//        } catch (RepositoryException ex) {
-//            throw getRepositoryException(ex);
-//        }
-//    }
+    /** {@inheritDoc} */
+    public RemoteVersionHistory getContainingHistory() throws RepositoryException, RemoteException {
+        try {
+            return getFactory().getRemoteVersionHistory(version.getContainingHistory());
+        } catch (RepositoryException ex) {
+            throw getRepositoryException(ex);
+        }
+    }
+    public RemoteVersion getLinearSuccessor() throws RepositoryException,
+    		RemoteException {
+        try {
+            Version linearSuccessor = version.getLinearSuccessor();
+            if (linearSuccessor == null) {
+                return null;
+            } else {
+                return getFactory().getRemoteVersion(linearSuccessor);
+            }
+        } catch (RepositoryException ex) {
+            throw getRepositoryException(ex);
+        }
+    }
+    
+    /** {@inheritDoc} */
+    public RemoteVersion getLinearPredecessor() throws RepositoryException,
+    		RemoteException {
+        try {
+            Version linearPredecessor = version.getLinearPredecessor();
+            if (linearPredecessor == null) {
+                return null;
+            } else {
+                return getFactory().getRemoteVersion(linearPredecessor);
+            }
+        } catch (RepositoryException ex) {
+            throw getRepositoryException(ex);
+        }
+    }
+    
+    /** {@inheritDoc} */
-    public RemoteVersionHistory getContainingHistory() throws RepositoryException, RemoteException {
+    public RemoteNode getFrozenNode() throws RepositoryException,
+    		RemoteException {
-            return getFactory().getRemoteVersionHistory(version.getContainingHistory());
+            return getFactory().getRemoteNode(version.getFrozenNode());

INS26 MOV31 INS40 INS31 INS31 INS31 INS29 INS83 INS43 INS42 INS43 INS43 INS8 INS29 INS83 INS43 INS42 INS43 INS43 INS8 INS29 INS83 INS43 INS42 INS43 INS43 INS8 INS65 INS42 INS42 INS42 INS54 INS65 INS42 INS42 INS42 INS54 INS65 INS42 INS42 INS42 INS54 INS65 INS66 INS8 INS12 INS65 INS66 INS8 INS12 INS65 INS66 INS8 INS12 INS60 INS25 INS44 INS8 INS60 INS25 INS44 INS8 INS41 INS44 INS8 INS43 INS59 INS27 INS8 INS8 INS43 INS42 INS53 INS43 INS59 INS27 INS8 INS8 INS43 INS42 INS53 INS32 INS43 INS42 INS53 INS42 INS42 INS32 INS42 INS33 INS41 INS41 INS42 INS32 INS42 INS42 INS32 INS42 INS33 INS41 INS41 INS42 INS32 INS32 INS42 INS32 INS42 INS32 INS42 INS42 INS33 INS32 INS42 INS42 INS42 INS42 INS33 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS42 INS42