Patch for JCR-1869 (Make lazy loading proxy callback Serializable) provided by Stephane Landelle

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@720969 13f79535-47bb-0310-9956-ffa450edef68

-	private CollectionConverter collectionConverter;
-	private Session session;
-	private Node collectionParentNode;
-	private CollectionDescriptor collectionDescriptor;
+	private volatile CollectionConverter collectionConverter;
+	private volatile Session session;
+	private volatile Node collectionParentNode;
+	private volatile CollectionDescriptor collectionDescriptor;
+
+		if (session == null) {
+			throw new IllegalStateException("Session null, probably because bean was serialized. Impossible to lazy load.");
+		}
+

INS83 INS83 INS83 INS83 INS25 INS27 INS8 INS42 INS33 INS53 INS14 INS43 INS45 INS42