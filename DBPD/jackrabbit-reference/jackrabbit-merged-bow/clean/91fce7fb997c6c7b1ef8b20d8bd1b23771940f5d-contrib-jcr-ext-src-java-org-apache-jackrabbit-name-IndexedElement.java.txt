JCR-EXT: Cleaned up, documented and extended the name and path implementation classes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@169166 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.NoSuchElementException;
+
-import javax.jcr.ItemNotFoundException;
+import javax.jcr.PathNotFoundException;
- * TODO
+ * Indexed path element.
-class IndexedElement implements PathElement {
+final class IndexedElement implements PathElement {
+    /** Path element name */
+    /** Path element index */
+    /**
+     * Creates an indexed path element instance.
+     *
+     * @param name  path element name
+     * @param index path element index
+     */
-    /** {@inheritDoc} */
-    public Item step(Item item) throws ItemNotFoundException,
-            RepositoryException {
+    /**
+     * Resolves the given item to the named child node with the
+     * specified index.
+     *
+     * @param item context item
+     * @return indexed child node
+     * @throws PathNotFoundException if the path resolution fails
+     * @throws RepositoryException   if another error occurs
+     * @see PathElement#resolve(Item)
+     */
+    public Item resolve(Item item)
+            throws PathNotFoundException, RepositoryException {
-            if (index <= nodes.getSize()) {
+            try {
+            } catch (NoSuchElementException e) {
+                // fall through
-
-        throw new ItemNotFoundException("Invalid item path " + name);
+        throw new PathNotFoundException(
+                "Path name or index not found: " + this);
+    /**
+     * Returns the string representation of this path element.
+     *
+     * @return string representation of the path element name and index
+     * @see Object#toString()
+     * @see Name#toString()
+     */
+    public String toString() {
+        return name + "[" + index + "]";
+    }

MOV26 INS26 INS40 UPD40 INS83 INS31 INS29 INS29 INS29 UPD42 UPD43 INS29 INS83 INS43 INS42 INS8 UPD66 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 UPD42 INS65 INS65 INS65 INS65 INS42 INS41 INS66 INS66 INS66 INS42 INS66 INS42 INS66 INS66 INS66 INS42 INS66 UPD66 MOV66 INS42 INS66 INS42 INS66 INS68 INS66 INS66 INS68 INS68 INS27 INS42 INS42 INS69 INS54 UPD43 INS42 INS42 INS42 INS42 INS42 INS45 INS42 INS45 INS43 MOV8 INS12 UPD42 UPD45 INS52 INS42 INS44 INS8 INS43 INS42 INS42 DEL65 DEL65 DEL42 DEL42 DEL42 DEL32 DEL27 DEL25 DEL42