- adding better extensibility to configuration parser

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@312844 13f79535-47bb-0310-9956-ffa450edef68

+     * the default parser
+     */
+    private final ConfigurationParser parser;
+
+    /**
+     * @param parser the ConfigurationParser that servers as config factory
-            Element template, VersioningConfig vc) {
+            Element template, VersioningConfig vc, ConfigurationParser parser) {
+        this.parser = parser;
-    private void init() throws ConfigurationException {
+    protected void init() throws ConfigurationException {
-            ConfigurationParser parser = new ConfigurationParser(variables);
-
-            return parser.parseWorkspaceConfig(xml);
+            ConfigurationParser localParser = parser.createSubParser(variables);
+            return localParser.parseWorkspaceConfig(xml);

INS23 INS29 INS83 INS83 INS43 INS59 INS44 UPD83 INS65 INS42 INS42 INS65 MOV43 INS42 INS21 INS66 INS42 INS66 INS7 INS22 INS42 INS52 INS42 MOV43 INS59 INS42 INS32 UPD42 INS42 INS42 INS42 DEL42 DEL42 DEL14 DEL59