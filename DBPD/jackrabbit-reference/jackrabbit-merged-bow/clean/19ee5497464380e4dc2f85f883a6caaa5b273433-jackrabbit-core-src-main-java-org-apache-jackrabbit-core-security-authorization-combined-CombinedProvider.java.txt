JCR-2887 : Split PrivilegeRegistry in a per-session manager instance and a repository level registry [work in progress]

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1082239 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.security.authorization.PrivilegeManagerImpl;
-        //------------------------------------< AbstractCompiledPermissions >---
+        //------------------------------------< AbstractCompiledPermissions >---      
+        /**
+         * @see AbstractCompiledPermissions#getResult(Path)
+         */
+        @Override
+        public Result getResult(Path absPath) throws RepositoryException {
+            // TODO: missing caching
+            return buildResult(absPath);
+        }
+
-         * @see AbstractCompiledPermissions#getResult(Path)
+         * @see AbstractCompiledPermissions#getPrivilegeManagerImpl()
-        public Result getResult(Path absPath) throws RepositoryException {
-            // TODO: missing caching
-            return buildResult(absPath);
+        protected PrivilegeManagerImpl getPrivilegeManagerImpl() throws RepositoryException {
+            return CombinedProvider.this.getPrivilegeManagerImpl();

INS26 INS40 MOV31 INS31 INS29 INS78 INS83 INS43 INS42 INS43 INS8 INS65 INS42 INS42 INS42 INS41 INS68 INS32 INS42 INS42 INS52 INS42 INS42