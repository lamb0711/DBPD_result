- make search manager configurable
- improve indexing performance

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@71500 13f79535-47bb-0310-9956-ffa450edef68

-     * virtual file system where the workspace stores the search index
+     * configuration for the search manager.
-    private FileSystem searchIndexFS;
+    private SearchConfig searchConfig;
-        // search index
-        Element searchConfig = wspElem.getChild(SEARCH_INDEX_ELEMENT);
-        if (searchConfig != null) {
-            Element indexFS = searchConfig.getChild(FILE_SYSTEM_ELEMENT);
-            searchIndexFS = createFileSystem(indexFS, vars);
+        // search config
+        Element searchElem = wspElem.getChild(SEARCH_INDEX_ELEMENT);
+        if (searchElem != null) {
+            searchConfig = new SearchConfig(searchElem, vars);
-     * Returns virtual file system where the search index is stored.
-     * Returns <code>null</code> if no search index is configured.
+     * Returns the configuration of the search manager.
+     * Returns <code>null</code> if no search manager is configured.
-     * @return virtual file system where the search index is stored.
+     * @return the <code>SearchConfig</code> for this workspace.
-    public FileSystem getSearchIndexFS() {
-        return searchIndexFS;
+    public SearchConfig getSearchConfig() {
+        return searchConfig;

UPD43 UPD43 UPD42 UPD42 UPD42 UPD42 UPD66 UPD66 UPD66 UPD66 UPD42 UPD42 UPD42 UPD42 INS14 INS43 INS42 INS42 INS42 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32