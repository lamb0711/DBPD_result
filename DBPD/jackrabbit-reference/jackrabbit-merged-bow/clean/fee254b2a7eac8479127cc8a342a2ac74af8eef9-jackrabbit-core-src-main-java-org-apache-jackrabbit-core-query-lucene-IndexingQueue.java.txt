JCR-2434: Occasional IndexingQueueTest failure

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@889976 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.Map;
+import java.util.ArrayList;
-import java.util.ArrayList;
+import java.util.Map;
+
+import javax.jcr.RepositoryException;
-import javax.jcr.RepositoryException;
-
-            notifyIfEmpty();
-        notifyIfEmpty();
-     * Notifies all threads waiting for this queue to become empty.
-     * The notification is only sent if this queue actually is empty.
-     */
-    private synchronized void notifyIfEmpty() {
-        if (pendingDocuments.isEmpty()) {
-            notifyAll();
-        }
-    }
-
-    /**
-     * Waits until this queue is empty.
-     */
-    synchronized void waitUntilEmpty() {
-        while (!pendingDocuments.isEmpty()) {
-            try {
-                wait();
-            } catch (InterruptedException e) {
-                // Interrupted, check again if we're empty
-            }
-        }
-    }
-
-    /**

MOV26 MOV26 MOV26 DEL42 DEL32 DEL21 DEL42 DEL32 DEL21 DEL66 DEL66 DEL65 DEL29 DEL83 DEL83 DEL39 DEL42 DEL42 DEL42 DEL32 DEL42 DEL32 DEL21 DEL8 DEL25 DEL8 DEL31 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL42 DEL32 DEL38 DEL42 DEL32 DEL21 DEL8 DEL42 DEL43 DEL42 DEL44 DEL8 DEL12 DEL54 DEL8 DEL61 DEL8 DEL31