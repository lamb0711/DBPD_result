JCR-890: concurrent read-only access to a session

Simplify things by making SessionContext implement NamePathResolver

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@983900 13f79535-47bb-0310-9956-ffa450edef68

-        NamePathResolver resolver = sessionContext.getSessionImpl();
-            Path p = resolver.getQPath(absPath).getNormalizedPath();
+            Path p = sessionContext.getQPath(absPath).getNormalizedPath();
-            String relPath = resolver.getJCRPath(p).substring(1);
+            String relPath = sessionContext.getJCRPath(p).substring(1);
-                        relPath, resolver.getJCRName(NT_QUERY));
+                        relPath, sessionContext.getJCRName(NT_QUERY));
-            queryNode.setProperty(resolver.getJCRName(JCR_LANGUAGE), language);
-            queryNode.setProperty(resolver.getJCRName(JCR_STATEMENT), statement);
+            queryNode.setProperty(sessionContext.getJCRName(JCR_LANGUAGE), language);
+            queryNode.setProperty(sessionContext.getJCRName(JCR_STATEMENT), statement);
-        NameResolver resolver = sessionContext.getSessionImpl();
-            strNames[i] = resolver.getJCRName(names[i]);
+            strNames[i] = sessionContext.getJCRName(names[i]);
-            query.bindValue(sessionContext.getSessionImpl().getQName(varName), value);
+            query.bindValue(sessionContext.getQName(varName), value);

UPD42 UPD42 UPD42 MOV42 UPD42 UPD42 UPD42 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL32