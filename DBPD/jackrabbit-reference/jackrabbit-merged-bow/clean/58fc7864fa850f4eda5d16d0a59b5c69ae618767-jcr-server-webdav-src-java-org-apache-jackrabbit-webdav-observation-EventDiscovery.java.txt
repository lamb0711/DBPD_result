- add methods for observation to client
- minor improvements to observation impl in jcr-server
- fix client LockMethod and adjust LockDiscovery accordingly
- fix client MergeMethod adjust corresponding Info object accordingly
- improve UpdateInfo
- use CodedURLHeader instaed of building locktoken header manually

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@421206 13f79535-47bb-0310-9956-ffa450edef68

-    private List bundles = new ArrayList();
+    private final List bundles = new ArrayList();
+     * Returns an iterator over the {@link EventBundle event bundles} currently
+     * present on this discovery.
+     *
+     * @return iterator over event bundles present.
+     */
+    public Iterator getEventBundles() {
+        return bundles.iterator();
+    }
+
+    /**
+     * Returns true, if this event discovery does not report any events (thus
+     * {@link #getEventBundles()} would return an empty iterator.
+     *
+     * @return true if {@link #getEventBundles()} would return an empty iterator,
+     * false otherwise.
+     */
+    public boolean isEmpty() {
+        return bundles.isEmpty();
+    }
+
+    /**
-        Iterator it = bundles.iterator();
+        Iterator it = getEventBundles();
-

INS31 INS31 INS83 INS29 INS83 MOV43 INS42 INS8 INS29 INS83 INS39 INS42 INS8 INS65 INS65 INS41 INS65 INS65 INS41 INS66 INS65 INS66 INS66 INS66 MOV32 INS66 INS65 INS66 INS66 INS65 INS66 INS66 INS32 INS43 INS42 INS66 INS68 INS68 INS42 INS42 INS42 INS32 INS42 INS42 INS42