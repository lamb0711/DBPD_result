JCR-890: concurrent read-only access to a session

Reverted revision 985273 based on discussion on dev@

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@985832 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.spi.QPropertyDefinition;
-import javax.jcr.RepositoryException;
-     * Sets the system-generated or node type -specified default values
-     * of this property. If such values are not specified, then this property
-     * is not modified.
-     * 
-     * @param parent parent node state
-     * @param def property definition
-     * @param userId user identifier associated with the current session
-     * @throws RepositoryException if the default values could not be created 
-     */
-    public void setDefaultValues(
-            NodeState parent, QPropertyDefinition def, String userId)
-            throws RepositoryException {
-        InternalValue[] values = parent.computeGeneratedValues(def, userId);
-        if (values == null) {
-            values = InternalValue.create(def.getDefaultValues());
-        }
-        if (values != null) {
-            setValues(values);
-        }
-    }
-
-    /**

DEL40 DEL26 DEL40 DEL26 DEL66 DEL66 DEL66 DEL65 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL43 DEL85 DEL5 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL59 DEL60 DEL42 DEL33 DEL27 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL7 DEL21 DEL8 DEL25 DEL42 DEL33 DEL27 DEL42 DEL42 DEL32 DEL21 DEL8 DEL25 DEL8 DEL31