work in progress

- invalidation of itemstates in case of CacheBehaviour != Observation
- CacheBehaviour.Observation not dependent on Observation-RepositoryDescriptor
- SPI-observation may be implemented even if Observation is not supported according
  jcr-Repository descriptor

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@478211 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.jcr2spi.config.CacheBehaviour;
-        wspManager = createManager(service, sessionInfo);
-        wspManager.setCacheBehaviour(session.getCacheBehaviour());
+        wspManager = createManager(service, session.getCacheBehaviour(), sessionInfo);
-    protected WorkspaceManager createManager(RepositoryService service, SessionInfo sessionInfo) throws RepositoryException {
-        return new WorkspaceManager(service, sessionInfo);
+    protected WorkspaceManager createManager(RepositoryService service,
+                                             CacheBehaviour cacheBehaviour,
+                                             SessionInfo sessionInfo) throws RepositoryException {
+        return new WorkspaceManager(service, cacheBehaviour, sessionInfo);

INS26 INS40 INS44 INS43 INS42 INS7 INS42 INS42 MOV32 INS42 UPD42 UPD42 INS42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL7 DEL21