JCR-EXT: Cleaned up, documented and extended the name and path implementation classes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@169166 13f79535-47bb-0310-9956-ffa450edef68

- *     http://www.apache.org/licenses/LICENSE-2.0
+ *      http://www.apache.org/licenses/LICENSE-2.0
-import javax.jcr.ItemNotFoundException;
+import javax.jcr.PathNotFoundException;
- * TODO
+ * Named path element.
-class NamedElement implements PathElement {
+final class NamedElement implements PathElement {
+    /** Path element name */
+    /**
+     * Creates a named path element instance.
+     *
+     * @param name path element name
+     */
-    /** {@inheritDoc} */
-    public Item step(Item item) throws ItemNotFoundException,
-            RepositoryException {
+    /**
+     * Resolves the given item to the named property or child node.
+     *
+     * @param item context item
+     * @return named property or child node
+     * @throws PathNotFoundException if the path resolution fails
+     * @throws RepositoryException   if another error occurs
+     * @see PathElement#resolve(Item)
+     */
+    public Item resolve(Item item)
+            throws PathNotFoundException, RepositoryException {
+            Node node = (Node) item;
+
+            /* Note: JCR names can not contain special pattern characters */
-            PropertyIterator properties = ((Node) item).getProperties(pattern);
+            PropertyIterator properties = node.getProperties(pattern);
-            NodeIterator nodes = ((Node) item).getNodes(pattern);
+            NodeIterator nodes = node.getNodes(pattern);
+        throw new PathNotFoundException("Path name not found: " + this);
+    }
-        throw new ItemNotFoundException("Invalid item path " + name);
+    /**
+     * Returns the string representation of this path element.
+     *
+     * @return string representation of the path element name
+     * @see Object#toString()
+     * @see Name#toString()
+     */
+    public String toString() {
+        return name.toString();

MOV26 UPD40 INS83 INS31 INS29 INS29 UPD42 UPD43 INS29 INS83 INS43 INS42 INS8 UPD66 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 UPD42 INS65 INS65 INS65 INS65 INS42 INS41 INS66 INS66 INS42 INS66 INS66 INS42 INS66 INS66 INS42 INS66 INS42 UPD66 MOV66 INS68 MOV60 INS66 INS66 INS68 INS68 INS32 INS42 INS42 INS69 INS60 UPD43 INS42 INS42 INS42 INS42 INS42 INS42 INS43 INS43 MOV43 INS59 UPD42 UPD45 INS52 INS42 INS42 UPD42 MOV11 INS42 INS32 INS42 INS42 INS42 INS42 DEL65 DEL65 DEL36 DEL42 DEL42 DEL32 DEL42 DEL43 DEL42 DEL11 DEL36 DEL42