Make versioning transactional
- Added specialized XAVersion and XAVersionHistory objects that refresh their internal state when needed
- Defined new observation interface in order to have VersionManagerImpl use standard event dispatching
  instead of writing its own
- Added test cases verifying isolation of versioning operations in transactions


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@368026 13f79535-47bb-0310-9956-ffa450edef68

+     * Invoked before one of the {@link #prepare}, {@link #commit} or
+     * {@link #rollback} method is called.
+     * @param tx transaction context
+     */
+    public void beforeOperation(TransactionContext tx);
+
+    /**
+
+    /**
+     * Invoked after one of the {@link #prepare}, {@link #commit} or
+     * {@link #rollback} method has been called.
+     * @param tx transaction context
+     */
+    public void afterOperation(TransactionContext tx);

INS31 INS31 INS29 INS83 INS39 INS42 INS44 INS29 INS83 INS39 INS42 INS44 INS65 INS65 INS43 INS42 INS65 INS65 INS43 INS42 INS66 INS65 INS66 INS65 INS66 INS65 INS66 INS42 INS66 INS42 INS66 INS65 INS66 INS65 INS66 INS65 INS66 INS42 INS66 INS42 INS67 INS67 INS67 INS67 INS67 INS67 INS42 INS42 INS42 INS42 INS42 INS42