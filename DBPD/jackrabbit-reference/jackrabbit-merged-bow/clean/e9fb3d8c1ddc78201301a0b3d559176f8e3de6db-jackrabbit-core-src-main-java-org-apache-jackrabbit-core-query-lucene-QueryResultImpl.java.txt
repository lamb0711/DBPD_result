JCR-1184: Introduce spellchecker functionality based on content in the workspace

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@587866 13f79535-47bb-0310-9956-ffa450edef68

+     * The spell suggestion or <code>null</code> if not available.
+     */
+    protected final SpellSuggestion spellSuggestion;
+
+    /**
-     * @param index         the search index where the query is executed.
-     * @param itemMgr       the item manager of the session executing the
-     *                      query.
-     * @param resolver      the namespace resolver of the session executing the
-     *                      query.
-     * @param accessMgr     the access manager of the session executiong the
-     *                      query.
-     * @param queryImpl     the query instance which created this query result.
-     * @param query         the lucene query to execute on the index.
-     * @param selectProps   the select properties of the query.
-     * @param orderProps    the names of the order properties.
-     * @param orderSpecs    the order specs, one for each order property name.
-     * @param documentOrder if <code>true</code> the result is returned in
-     *                      document order.
-     * @param limit         the maximum result size
-     * @param offset        the offset in the total result set
+     * @param index           the search index where the query is executed.
+     * @param itemMgr         the item manager of the session executing the
+     *                        query.
+     * @param resolver        the namespace resolver of the session executing
+     *                        the query.
+     * @param accessMgr       the access manager of the session executiong the
+     *                        query.
+     * @param queryImpl       the query instance which created this query
+     *                        result.
+     * @param query           the lucene query to execute on the index.
+     * @param spellSuggestion the spell suggestion or <code>null</code> if none
+     *                        is available.
+     * @param selectProps     the select properties of the query.
+     * @param orderProps      the names of the order properties.
+     * @param orderSpecs      the order specs, one for each order property
+     *                        name.
+     * @param documentOrder   if <code>true</code> the result is returned in
+     *                        document order.
+     * @param limit           the maximum result size
+     * @param offset          the offset in the total result set
+                           SpellSuggestion spellSuggestion,
+        this.spellSuggestion = spellSuggestion;
-        return new RowIteratorImpl(getNodeIterator(),
-                selectProps, resolver, excerptProvider);
+        return new RowIteratorImpl(getNodeIterator(), selectProps,
+                resolver, excerptProvider, spellSuggestion);

INS23 INS29 INS83 INS83 INS43 INS59 INS44 INS65 INS42 INS42 INS65 INS43 INS42 INS21 INS66 UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 INS66 UPD66 INS42 INS66 INS66 UPD66 UPD66 UPD66 INS66 UPD66 UPD66 UPD66 INS42 INS7 INS22 INS42 INS42 INS52 INS42