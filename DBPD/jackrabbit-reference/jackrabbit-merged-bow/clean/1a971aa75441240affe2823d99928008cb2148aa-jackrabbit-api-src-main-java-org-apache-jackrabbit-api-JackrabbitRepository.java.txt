JCR-3634: New method: JackrabbitRepository.login(Credentials, Map<String, Object>)
Initial implementation

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1508469 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Map;
+
+import javax.jcr.Credentials;
+import javax.jcr.LoginException;
+import javax.jcr.NoSuchWorkspaceException;
+import javax.jcr.RepositoryException;
+import javax.jcr.Session;
+     * Equivalent to {@code login(credentials, workspaceName)} except that the returned
+     * Session instance contains the given extra session attributes in addition to any
+     * included in the given Credentials instance. Attribute names from the credentials
+     * and the attribute map must not overlap. In case of an overlap implementation
+     * may throw an <code>RepositoryException</code>.
+     * <p>
+     * The attributes are implementation-specific and may affect the behavior of the returned
+     * session. Unlike credentials attributes, these separately passed session attributes
+     * are guaranteed not to affect the authentication of the client.
+     * <p>
+     * An implementation that does not support a particular session attribute is expected
+     * to ignore it and not make it available through the returned session. A client that
+     * depends on specific behavior defined by a particular attribute can check whether
+     * the returned session contains that attribute to verify whether the underlying
+     * repository implementation supports that feature.
+     *
+     * @param credentials the credentials of the user
+     * @param workspaceName the name of a workspace
+     * @param attributes implementation-specific session attributes
+     * @return a valid session for the user to access the repository
+     * @throws LoginException if authentication or authorization for the specified workspace fails
+     * @throws NoSuchWorkspaceException if the specified workspace is not recognized
+     * @throws RepositoryException if another error occurs
+     */
+    Session login(Credentials credentials, String workspaceName, Map<String, Object> attributes)
+            throws LoginException, NoSuchWorkspaceException, RepositoryException;
+
+    /**

INS26 INS26 INS26 INS26 INS26 INS26 INS40 INS40 INS40 INS40 INS40 INS40 INS31 INS29 INS43 INS42 INS44 INS44 INS44 INS43 INS43 INS43 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS65 INS42 INS43 INS42 INS43 INS42 INS74 INS42 INS42 INS42 INS42 INS66 INS65 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS42 INS43 INS43 INS43 INS66 INS42 INS42 INS42