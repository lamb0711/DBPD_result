JCR-2744: Avoid element arrays in PathImpl

Replace the inner PathImpl class in PathFactoryImpl with the new path classes.

Minor fixes and tweaks to the way in which especially identifier-based paths are handled.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@995735 13f79535-47bb-0310-9956-ffa450edef68

+    private final boolean identifier;
+
+            this.identifier = parent.denotesIdentifier();
+            this.identifier = false;
-        return false;
+        return identifier;
-            return this;
+            return getNormalizedPath();
+        } else if (!isNormalized()) {
+            throw new RepositoryException(
+                    "Path " + this + " is not normalized");

INS23 INS83 INS83 INS39 INS59 INS42 INS42 INS25 INS21 INS21 INS38 INS8 MOV25 INS7 INS7 INS32 INS53 INS22 INS32 INS22 INS9 INS32 INS42 INS14 INS52 INS42 INS42 INS42 INS52 INS42 INS42 INS43 INS27 INS42 INS45 INS52 INS45 DEL9 DEL52