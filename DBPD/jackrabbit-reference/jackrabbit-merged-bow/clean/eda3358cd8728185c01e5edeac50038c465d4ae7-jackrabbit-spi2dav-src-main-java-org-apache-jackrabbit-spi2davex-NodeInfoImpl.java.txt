JCR-2500: spi2davex NodeInfoImpl should use HashSet instead of ArrayList for childInfos

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@911050 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.HashSet;
+import java.util.Iterator;
+import java.util.List;
+import java.util.Set;
+
+import javax.jcr.RepositoryException;
+
-import javax.jcr.RepositoryException;
-import java.util.ArrayList;
-import java.util.HashSet;
-import java.util.Iterator;
-import java.util.List;
-import java.util.Set;
-import java.util.Collections;
-
-    private List childInfos = null;
+    private Set<ChildInfo> childInfos = null;
-    private int numberOfChildNodes = -1;
+    private final int numberOfChildNodes = -1;
-            childInfos = new ArrayList();
+            childInfos = new HashSet<ChildInfo>();
-        if (childInfos.contains(childInfo)) {
-            log.warn("ChildInfo ( " + childInfo.toString() + " ) already contained -> ignore.");
-        } else {
-            childInfos.add(childInfo);
-        }
+        childInfos.add(childInfo);
-            childInfos = Collections.EMPTY_LIST;
+            childInfos = Collections.<ChildInfo>emptySet();

MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 INS74 INS83 INS43 INS43 MOV21 UPD42 MOV42 INS42 INS32 INS74 INS42 INS43 INS42 INS43 INS43 INS42 UPD42 MOV42 INS42 DEL43 DEL43 DEL42 DEL42 DEL42 DEL32 DEL42 DEL42 DEL45 DEL42 DEL42 DEL32 DEL45 DEL27 DEL32 DEL21 DEL8 DEL8 DEL25 DEL40