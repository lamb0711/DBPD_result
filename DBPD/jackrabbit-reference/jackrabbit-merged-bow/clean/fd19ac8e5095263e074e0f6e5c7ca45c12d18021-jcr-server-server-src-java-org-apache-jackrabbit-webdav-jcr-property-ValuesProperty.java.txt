remove usage of ValueFactoryImpl introduced with rev.424227 in order to
get rid of deprecated calls -> pass ValueFactory instead

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@425079 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.value.ValueFactoryImpl;
+import javax.jcr.ValueFactory;
+     * @param valueFactory Factory used to retrieve JCR values from the value
+     * of the given <code>DavProperty</code>.
-    public ValuesProperty(DavProperty property, int defaultType) throws RepositoryException, DavException {
+    public ValuesProperty(DavProperty property, int defaultType,
+                          ValueFactory valueFactory)
+        throws RepositoryException, DavException {
-                jcrValues[i] = getJcrValue(elems[i], defaultType);
+                jcrValues[i] = getJcrValue(elems[i], defaultType, valueFactory);
-    private static Value getJcrValue(Element valueElement, int defaultType) throws ValueFormatException, RepositoryException {
+    private static Value getJcrValue(Element valueElement, int defaultType,
+                                     ValueFactory valueFactory)
+        throws ValueFormatException, RepositoryException {
-        return ValueHelper.deserialize(value, type, true, ValueFactoryImpl.getInstance());
+        return ValueHelper.deserialize(value, type, true, valueFactory);
-    public Value[] getJcrValues(int propertyType) throws ValueFormatException {
+    public Value[] getJcrValues(int propertyType, ValueFactory valueFactory) throws ValueFormatException {
-            vs[i] = ValueHelper.convert(jcrValues[i], propertyType, ValueFactoryImpl.getInstance());
+            vs[i] = ValueHelper.convert(jcrValues[i], propertyType, valueFactory);
-    public Value getJcrValue(int propertyType) throws ValueFormatException {
+    public Value getJcrValue(int propertyType, ValueFactory valueFactory) throws ValueFormatException {
-                : ValueHelper.convert(jcrValues[0], propertyType, ValueFactoryImpl.getInstance());
+                : ValueHelper.convert(jcrValues[0], propertyType, valueFactory);

MOV26 UPD40 INS44 INS44 INS44 INS44 INS65 INS43 INS42 INS43 INS42 INS43 INS42 INS43 INS42 INS42 INS66 INS66 INS42 INS42 INS42 INS42 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 INS42 DEL42 DEL32 DEL42 DEL32 DEL42 DEL32