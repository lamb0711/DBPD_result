- Modified. the jmeter thread context is passed to the commands as the Chain Context.
- Added. Jmeter Jexl Function.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@231491 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.commons.chain.impl.ContextBase;
-     * and calls its <code>runTest()</code> method.
+     * and calls its <code>execute()</code> method.
-            } 
-            
-            updateCommand() ;
-            results.setSampleLabel("Chain Test = "
-                    + command.getClass().getName());
+            }
+
+            updateCommand();
+            results.setSampleLabel(this.getName());
+            Context ctx = new JMeterContextAdapter(getThreadContext());
-            command.execute(getContext());
+            command.execute(ctx);
-    private Context getContext()
-    {
-        Context ctx = (Context) getThreadContext().getVariables().getObject(
-            CHAINS_CONTEXT);
-        if (ctx == null)
-        {
-            ctx = new ContextBase();
-            getThreadContext().getVariables().putObject(CHAINS_CONTEXT, ctx);
-        }
-        return ctx;
-    }
-
-    
+
-     * Updates the command attributes 
+     * Updates the command attributes
+     * 
-    private void updateCommand() throws Exception {
+    private void updateCommand() throws Exception
+    {
-     * of ChainSampler. This method will loop through all of the other
-     * samplers which have been registered (automatically in the
-     * constructor) and notify them that the test has ended, allowing the
-     * ChainSamplerClients to cleanup.
+     * of ChainSampler. This method will loop through all of the other samplers
+     * which have been registered (automatically in the constructor) and notify
+     * them that the test has ended, allowing the ChainSamplerClients to
+     * cleanup.
-

UPD66 UPD66 UPD66 UPD66 UPD66 UPD66 INS60 MOV43 INS59 INS32 INS42 INS14 UPD42 MOV42 INS52 MOV42 INS43 MOV32 INS42 DEL40 DEL26 DEL45 DEL42 DEL42 DEL32 DEL32 DEL27 DEL32 DEL83 DEL42 DEL43 DEL42 DEL42 DEL42 DEL43 DEL42 DEL32 DEL42 DEL42 DEL32 DEL11 DEL59 DEL60 DEL42 DEL33 DEL27 DEL42 DEL42 DEL43 DEL14 DEL7 DEL21 DEL42 DEL32 DEL42 DEL32 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL25 DEL42 DEL41 DEL8 DEL31