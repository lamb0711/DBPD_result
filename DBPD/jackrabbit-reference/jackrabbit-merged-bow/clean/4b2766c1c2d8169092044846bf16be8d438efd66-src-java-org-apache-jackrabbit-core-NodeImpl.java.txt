- Checkin did not work if node has unreferenceable child node with OPV=Copy

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@54784 13f79535-47bb-0310-9956-ffa450edef68

-        if (!isNodeType(NodeTypeRegistry.MIX_REFERENCEABLE)) {
-            throw new ItemExistsException("Unable to restore version of " + safeGetJCRPath() + ". Not referenceable.");
-        }
-        if (!freeze.getFrozenUUID().equals(getUUID())) {
-            throw new ItemExistsException("Unable to restore version of " + safeGetJCRPath() + ". UUID changed.");
+        if (isNodeType(NodeTypeRegistry.MIX_REFERENCEABLE)) {
+            String uuid = freeze.getFrozenUUID();
+            if (uuid!=null && !uuid.equals(getUUID())) {
+                throw new ItemExistsException("Unable to restore version of " + safeGetJCRPath() + ". UUID changed.");
+            }

MOV32 INS60 MOV25 INS43 INS59 INS27 UPD42 MOV42 INS42 MOV32 INS27 INS38 INS42 INS33 MOV32 INS42 DEL38 DEL38 DEL43 DEL45 DEL42 DEL32 DEL45 DEL27 DEL14 DEL53