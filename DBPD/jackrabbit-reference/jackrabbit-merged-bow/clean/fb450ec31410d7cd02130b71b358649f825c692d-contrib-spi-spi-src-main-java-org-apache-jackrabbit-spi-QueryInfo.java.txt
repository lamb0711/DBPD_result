spi - QueryInfo: change to return QueryResultRowIterator
spi - QueryResultRow/QueryResultRowIterator: new
jcr2spi - Update implementation accordingly (note jcr:score now is returned with property type Double)
spi2dav - Minor changes to keep it compiling; full implementation of changed interface to be done


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@497844 13f79535-47bb-0310-9956-ffa450edef68

-import java.io.InputStream;
-
-     * @return an array of String representing the node ids present in the
-     * query result
-     * @see javax.jcr.query.QueryResult#getNodes()
+     * @return an iterator over the {@link QueryResultRow}s
+     * @see javax.jcr.query.QueryResult#getRows()
-    public IdIterator getNodeIds();
+    public QueryResultRowIterator getRows();
-
-    /**
-     * @return an array of String representing the values present in a single
-     * row of the query result
-     * @see javax.jcr.query.Row#getValue(String)
-     * @see javax.jcr.query.Row#getValues()
-     */
-    public String[] getValues(NodeId nodeId);
-
-    /**
-     * todo really needed? rather use RepositoryService.getPropertyInfo(id).getValuesAsStream()
-     * @return an array of InputStream representing the values present in a single
-     * row of the query result
-     * @see javax.jcr.query.Row#getValue(String)
-     * @see javax.jcr.query.Row#getValues()
-     */
-    public InputStream[] getValuesAsStream(NodeId nodeId);

UPD43 UPD42 UPD42 UPD66 INS65 UPD66 INS42 UPD42 DEL40 DEL26 DEL66 DEL66 DEL65 DEL40 DEL42 DEL42 DEL43 DEL69 DEL68 DEL65 DEL40 DEL42 DEL68 DEL65 DEL29 DEL83 DEL42 DEL43 DEL85 DEL5 DEL42 DEL42 DEL43 DEL42 DEL44 DEL31 DEL66 DEL65 DEL66 DEL66 DEL65 DEL40 DEL42 DEL42 DEL43 DEL69 DEL68 DEL65 DEL40 DEL42 DEL68 DEL65 DEL29 DEL83 DEL42 DEL43 DEL85 DEL5 DEL42 DEL42 DEL43 DEL42 DEL44 DEL31