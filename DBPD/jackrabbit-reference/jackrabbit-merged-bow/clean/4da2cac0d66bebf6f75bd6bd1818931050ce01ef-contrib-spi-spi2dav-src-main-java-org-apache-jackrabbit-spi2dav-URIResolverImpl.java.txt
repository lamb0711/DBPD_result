work in progress

- MKCOL fails if resource already exists => problem with SNSs
- make sure resource hrefs are always cached without trailing /


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@463335 13f79535-47bb-0310-9956-ffa450edef68

-        return getWorkspaceUri(workspaceName) + Text.escapePath(ItemResourceConstants.ROOT_ITEM_RESOURCEPATH) + "/";
+        return getWorkspaceUri(workspaceName) + Text.escapePath(ItemResourceConstants.ROOT_ITEM_RESOURCEPATH);
-                    if (path.isAbsolute()) {
-                        jcrPath = jcrPath.substring(1);
+                    if (!path.isAbsolute()) {
+                        uriBuffer.append("/");
-            // add training / for nodes
-            if (itemId.denotesNode() && uriBuffer.charAt(uriBuffer.length()-1) != '/') {
-                uriBuffer.append('/');
-            }
-
-                if (!parentUri.endsWith("/")) {
-                    parentUri += "/";
-                }

INS38 MOV32 INS32 UPD42 MOV42 UPD42 MOV42 INS45 DEL45 DEL42 DEL34 DEL32 DEL7 DEL42 DEL42 DEL32 DEL42 DEL42 DEL42 DEL42 DEL32 DEL34 DEL27 DEL32 DEL13 DEL27 DEL27 DEL42 DEL42 DEL13 DEL32 DEL21 DEL8 DEL25 DEL42 DEL42 DEL45 DEL32 DEL38 DEL42 DEL45 DEL7 DEL21 DEL8 DEL25