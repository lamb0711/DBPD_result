migrating to v0.15 of the jsr 170 spec

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@55516 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.observation.EventType;
-                    EventType.CHILD_NODE_ADDED | EventType.CHILD_NODE_REMOVED
-                    | EventType.PROPERTY_ADDED | EventType.PROPERTY_REMOVED,
+                    Event.NODE_ADDED | Event.NODE_REMOVED
+                    | Event.PROPERTY_ADDED | Event.PROPERTY_REMOVED,
-                        EventType.CHILD_NODE_ADDED | EventType.CHILD_NODE_REMOVED |
-                        EventType.PROPERTY_ADDED | EventType.PROPERTY_REMOVED |
-                        EventType.PROPERTY_CHANGED,
+                        Event.NODE_ADDED | Event.NODE_REMOVED |
+                        Event.PROPERTY_ADDED | Event.PROPERTY_REMOVED |
+                        Event.PROPERTY_CHANGED,
-            return new SessionImpl(this, ANONYMOUS_CREDENTIALS, wspConfig);
+            return new XASessionImpl(this, ANONYMOUS_CREDENTIALS, wspConfig, txMgr);
+    /**
+     * @see Repository#login(String)
+     */
+    public Session login(String workspaceName)
+            throws LoginException, NoSuchWorkspaceException, RepositoryException {
+        return login(null, workspaceName);
+    }
+
-            if ((type & EventType.CHILD_NODE_ADDED) == EventType.CHILD_NODE_ADDED) {
+            if ((type & Event.NODE_ADDED) == Event.NODE_ADDED) {
-            if ((type & EventType.CHILD_NODE_REMOVED) == EventType.CHILD_NODE_REMOVED) {
+            if ((type & Event.NODE_REMOVED) == Event.NODE_REMOVED) {
-            if ((type & EventType.PROPERTY_ADDED) == EventType.PROPERTY_ADDED) {
+            if ((type & Event.PROPERTY_ADDED) == Event.PROPERTY_ADDED) {
-            if ((type & EventType.PROPERTY_REMOVED) == EventType.PROPERTY_REMOVED) {
+            if ((type & Event.PROPERTY_REMOVED) == Event.PROPERTY_REMOVED) {

INS31 INS29 INS83 INS43 INS42 INS44 INS43 INS43 INS43 INS8 INS65 INS42 INS43 INS42 INS42 INS42 INS42 INS41 INS68 INS42 INS32 INS42 INS42 INS69 INS42 INS33 INS42 INS43 UPD43 INS42 INS42 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD42 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 UPD40 DEL40 DEL26