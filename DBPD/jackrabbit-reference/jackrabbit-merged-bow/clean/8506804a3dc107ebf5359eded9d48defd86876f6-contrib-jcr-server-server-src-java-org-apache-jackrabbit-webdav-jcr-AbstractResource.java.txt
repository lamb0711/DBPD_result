webapp: adding some better error reporting  (tobi)
webapp: adding support for late repository retrieval (tobi)
server: workspace not passed to Repository.login in webdav/simple/DavSessionProviderImpl
JCR-280 - IllegalArgumentException when retrieving DateHeader 
JCR-282 - respect maximal value for timeout
JCR-276 - SimpleWebdavServlet: avoid 404 on the root collection after successful connection to it.


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@349905 13f79535-47bb-0310-9956-ffa450edef68

-    private long modificationTime = new Date().getTime();
+    private long modificationTime = IOUtil.UNDEFINED_TIME;
-     * Set the modificationTime field and adds the {@link DavPropertyName.GETLASTMODIFIED}
+     * Set the modificationTime field and adds the {@link DavPropertyName#GETLASTMODIFIED}
+     *
+        if (modificationTime > IOUtil.UNDEFINED_TIME) {
-        if (this.modificationTime >= 0) {
-            properties.add(new DefaultDavProperty(DavPropertyName.GETLASTMODIFIED,
-                    DavConstants.modificationDateFormat.format(new Date(modificationTime))));
+            String lastModified = IOUtil.getLastModified(modificationTime);
+            properties.add(new DefaultDavProperty(DavPropertyName.GETLASTMODIFIED, lastModified));

INS40 UPD27 INS67 INS42 INS40 MOV21 INS60 INS42 INS42 INS43 INS59 INS42 INS42 INS32 INS42 INS42 INS42 UPD42 MOV42 DEL42 DEL43 DEL14 DEL42 DEL32 DEL40 DEL52 DEL42 DEL22 DEL34 DEL40 DEL42 DEL42 DEL43 DEL14 DEL32