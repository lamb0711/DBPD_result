JCR-2092: make spi query code compatible with JCR 2.0

Update jackrabbit-core to use JCR 2.0 interfaces instead of the SPI versions

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@770284 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.PropertyType;
-import javax.jcr.PropertyType;
-import javax.jcr.ValueFormatException;
+import javax.jcr.ValueFormatException;
+import javax.jcr.query.qom.QueryObjectModelConstants;
-import org.apache.jackrabbit.spi.commons.query.qom.ConstraintImpl;
-import org.apache.jackrabbit.spi.commons.query.qom.QOMTreeVisitor;
+import org.apache.jackrabbit.core.query.lucene.LuceneQueryFactory;
+import org.apache.jackrabbit.spi.Name;
+import org.apache.jackrabbit.spi.commons.query.qom.ConstraintImpl;
+import org.apache.jackrabbit.spi.commons.query.qom.DynamicOperandImpl;
-import org.apache.jackrabbit.spi.commons.query.qom.OrderingImpl;
+import org.apache.jackrabbit.spi.commons.query.qom.OrderingImpl;
+import org.apache.jackrabbit.spi.commons.query.qom.QOMTreeVisitor;
-import org.apache.jackrabbit.spi.commons.query.qom.DynamicOperandImpl;
-import org.apache.jackrabbit.spi.commons.query.jsr283.qom.QueryObjectModelConstants;
-import org.apache.jackrabbit.spi.Name;
-import org.apache.jackrabbit.core.query.lucene.LuceneQueryFactory;
-            if (node.getOperator() == QueryObjectModelConstants.OPERATOR_LIKE) {
+            if (QueryObjectModelConstants.JCR_OPERATOR_LIKE.equals(node.getOperator())) {
-            return node.getValue();
+            return node.getLiteralValue();

MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 UPD40 INS32 INS40 INS42 MOV32 UPD42 DEL40 DEL27