JCR-1813: Invalid journal records during XATransactions

Only update the repository in an XA transaction if there actually are repository changes within that transaction.

Fix proposed by Stephane Landelle.


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@705938 13f79535-47bb-0310-9956-ffa450edef68

-        if (txLog != null) {
+        if (txLog != null && txLog.hasUpdates()) {
-        if (txLog != null) {
+        if (txLog != null && txLog.hasUpdates()) {
-        if (txLog != null) {
+        if (txLog != null && txLog.hasUpdates()) {

INS27 INS27 INS27 MOV27 INS32 MOV27 INS32 MOV27 INS32 INS42 INS42 INS42 INS42 INS42 INS42