JCR-1836: Persistence: support property databaseType

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@722463 13f79535-47bb-0310-9956-ffa450edef68

- * <li>&lt;param name="{@link #setSchema(String) schema}" value=""/>
+ * <li>&lt;param name="{@link #setDatabaseType(String) databaseType}" value=""/>
-    /** the schema identifier */
-    protected String schema;
+    /** the database type */
+    protected String databaseType;
-     * Returns the configured schema identifier.
-     * @return the schema identifier.
+     * Returns the configured database type name.
+     * @deprecated
+     * This method is deprecated; {@link getDatabaseType} should be used instead.
+     * 
+     * @return the database type name.
-        return schema;
+        return databaseType;
-     * Sets the schema identifier. This identifier is used to load and execute
+     * Returns the configured database type name.
+     * @return the database type name.
+     */
+    public String getDatabaseType() {
+        return databaseType;
+    }
+
+    /**
+     * Sets the database type. This identifier is used to load and execute
+     * the respective .ddl resource in order to create the required schema
+     * objects.
+     * @deprecated
+     * This method is deprecated; {@link setDatabaseType} should be used instead.
+     *
+     * @param database type name
+     */
+    public void setSchema(String databaseType) {
+        this.databaseType = databaseType;
+    }
+    
+    /**
+     * Sets the database type. This identifier is used to load and execute
-     * @param schema the schema identifier.
+     * @param database type name
-    public void setSchema(String schema) {
-        this.schema = schema;
+    public void setDatabaseType(String databaseType) {
+        this.databaseType = databaseType;
-            InputStream in = BundleDbPersistenceManager.class.getResourceAsStream(schema + ".ddl");
+            InputStream in = BundleDbPersistenceManager.class.getResourceAsStream(databaseType + ".ddl");
-                String msg = "Configuration error: The resource '" + schema + ".ddl' could not be found";
+                String msg = "Configuration error: The resource '" + databaseType + ".ddl' could not be found";
-                String msg = "Configuration error: unable to read the resource '" + schema + ".ddl': " + e;
+                String msg = "Configuration error: unable to read the resource '" + databaseType + ".ddl': " + e;

INS31 INS31 INS29 INS83 INS43 INS42 INS8 INS29 INS83 INS39 INS42 INS44 INS8 UPD42 INS65 INS65 INS65 INS42 INS41 INS65 UPD42 INS65 INS65 INS43 INS42 INS21 UPD66 UPD66 UPD66 INS66 INS65 INS66 UPD66 UPD42 INS66 INS66 INS42 UPD66 INS66 INS65 INS66 UPD42 UPD66 INS66 INS66 INS66 INS42 INS66 INS42 INS7 UPD42 INS42 INS42 UPD42 INS22 INS42 UPD42 INS52 INS42 UPD42 UPD42 UPD42