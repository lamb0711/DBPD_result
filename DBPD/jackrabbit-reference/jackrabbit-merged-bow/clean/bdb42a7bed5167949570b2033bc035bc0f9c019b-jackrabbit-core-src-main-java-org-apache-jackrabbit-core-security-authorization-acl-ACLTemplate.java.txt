JCR-2887 : Split PrivilegeRegistry in a per-session manager instance and a repository level registry [work in progress]

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1076600 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.api.JackrabbitWorkspace;
+import org.apache.jackrabbit.api.security.authorization.PrivilegeManager;
-import org.apache.jackrabbit.core.WorkspaceImpl;
-import org.apache.jackrabbit.core.security.authorization.PrivilegeManager;
+import org.apache.jackrabbit.core.security.authorization.PrivilegeManagerImpl;
-    private final PrivilegeManager privilegeMgr;
+    private final PrivilegeManagerImpl privilegeMgr;
-        this.privilegeMgr = privilegeMgr;
+        this.privilegeMgr = (PrivilegeManagerImpl) privilegeMgr;
-        privilegeMgr = ((WorkspaceImpl) sImpl.getWorkspace()).getPrivilegeManager();
+        privilegeMgr = (PrivilegeManagerImpl) ((JackrabbitWorkspace) sImpl.getWorkspace()).getPrivilegeManager();
-        protected PrivilegeManager getPrivilegeManager() {
+        protected PrivilegeManagerImpl getPrivilegeManager() {

MOV26 INS26 UPD40 INS40 UPD40 UPD43 UPD42 UPD43 UPD42 INS11 INS11 INS43 INS42 INS43 MOV32 INS42 INS42 UPD43 UPD42 DEL42