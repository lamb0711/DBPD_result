only attempt to read from the http request's input stream if the
client specified a positive content length. this avoids io exceptions
being written to the debug stream when we know the input stream should
not have any content.


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@354815 13f79535-47bb-0310-9956-ffa450edef68

-        // try to parse the request body
-        try {
-            InputStream in = httpRequest.getInputStream();
-            if (in != null) {
-                SAXBuilder builder = new SAXBuilder(false);
-                requestDocument = builder.build(in);
+        if (httpRequest.getContentLength() > 0) {
+            // try to parse the request body
+            try {
+                InputStream in = httpRequest.getInputStream();
+                if (in != null) {
+                    SAXBuilder builder = new SAXBuilder(false);
+                    requestDocument = builder.build(in);
+                }
+            } catch (IOException e) {
+                if (log.isDebugEnabled()) {
+                    log.debug("Unable to build an XML Document from the request body: " + e.getMessage());
+                }
+            } catch (JDOMException e) {
+                if (log.isDebugEnabled()) {
+                    log.debug("Unable to build an XML Document from the request body: " + e.getMessage());
+                }
-        } catch (IOException e) {
-            log.debug("Unable to build an XML Document from the request body: " + e.getMessage());
-        } catch (JDOMException e) {
-            log.debug("Unable to build an XML Document from the request body: " + e.getMessage());

INS25 INS27 INS8 INS32 INS34 MOV54 MOV12 INS42 INS42 MOV44 INS8 MOV44 INS8 INS25 INS25 INS32 MOV8 INS32 MOV8 INS42 INS42 INS42 INS42