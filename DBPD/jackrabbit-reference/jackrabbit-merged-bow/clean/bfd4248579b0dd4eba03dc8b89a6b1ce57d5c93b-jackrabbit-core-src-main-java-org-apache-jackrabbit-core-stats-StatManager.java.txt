JCR-3117: Stats for the PersistenceManager

Use AtomicLong counters and the TimeSeries mechanism for PM stats

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1186713 13f79535-47bb-0310-9956-ffa450edef68

-    public static String PM_STATS_ENABLED_PROPERTY = "org.apache.jackrabbit.api.stats.PersistenceManagerStat";
-    private final PersistenceManagerStatCore pmStat = new PersistenceManagerStatImpl();
-
-        pmStat.setEnabled(allEnabled || getBoolean(PM_STATS_ENABLED_PROPERTY));
-                "Started StatManager. QueryStat is enabled {}, PersistenceManagerStat is enabled {}",
-                new Object[] { queryStat.isEnabled(), pmStat.isEnabled() });
+                "Started StatManager. QueryStat is enabled {}",
+                new Object[] { queryStat.isEnabled() });
-    public PersistenceManagerStatCore getPersistenceManagerStatCore() {
-        return pmStat;
-    }

UPD45 DEL83 DEL83 DEL42 DEL43 DEL42 DEL45 DEL59 DEL23 DEL83 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL14 DEL59 DEL23 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL27 DEL32 DEL21 DEL42 DEL42 DEL32 DEL83 DEL42 DEL43 DEL42 DEL42 DEL41 DEL8 DEL31