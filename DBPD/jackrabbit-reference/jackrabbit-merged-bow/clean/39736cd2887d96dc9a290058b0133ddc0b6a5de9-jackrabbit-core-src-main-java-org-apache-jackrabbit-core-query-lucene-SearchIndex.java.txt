JCR-1063: Disable consistency check per default

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@566167 13f79535-47bb-0310-9956-ffa450edef68

+     * If set <code>true</code> the index is checked for consistency depending
+     * on the {@link #forceConsistencyCheck} parameter. If set to
+     * <code>false</code>, no consistency check is performed, even if the redo
+     * log had been applied on startup.
+     * <p/>
+     * Default value is: <code>false</code>.
+     */
+    private boolean consistencyCheckEnabled = false;
+
+    /**
-        if (index.getRedoLogApplied() || forceConsistencyCheck) {
+        if (consistencyCheckEnabled
+                && (index.getRedoLogApplied() || forceConsistencyCheck)) {
+    /**
+     * Enables or disables the consistency check on startup. Consistency checks
+     * are disabled per default.
+     *
+     * @param b <code>true</code> enables consistency checks.
+     * @see #setForceConsistencyCheck(boolean)
+     */
+    public void setEnableConsistencyCheck(boolean b) {
+        this.consistencyCheckEnabled = b;
+    }
+
+    /**
+     * @return <code>true</code> if consistency checks are enabled.
+     */
+    public boolean getEnableConsistencyCheck() {
+        return consistencyCheckEnabled;
+    }
+

INS23 INS31 INS31 INS29 INS83 INS39 INS59 INS29 INS83 INS39 INS42 INS44 INS8 INS29 INS83 INS39 INS42 INS8 INS65 INS42 INS9 INS65 INS65 INS65 INS39 INS42 INS21 INS65 INS41 INS66 INS66 INS65 INS66 INS66 INS66 INS66 INS66 INS27 INS66 INS66 INS42 INS66 INS68 INS7 INS66 INS42 INS67 INS42 INS36 INS42 INS69 INS22 INS42 INS42 MOV27 INS39 INS52 INS42