JCR-1481: VersionHistory.removeVersion() does not throw ReferentialIntegrityException

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@638430 13f79535-47bb-0310-9956-ffa450edef68

-import java.util.List;
-    protected List getItemReferences(InternalVersionItem item) {
-        return vMgr.getItemReferences(item);
+    protected boolean hasItemReferences(InternalVersionItem item)
+            throws RepositoryException {
+        return session.getNodeById(item.getId()).getReferences().hasNext();

MOV43 INS39 INS42 UPD43 UPD42 INS32 INS32 INS42 INS32 INS42 UPD42 MOV42 UPD42 MOV42 INS32 MOV42 INS42 DEL40 DEL26 DEL42 DEL32