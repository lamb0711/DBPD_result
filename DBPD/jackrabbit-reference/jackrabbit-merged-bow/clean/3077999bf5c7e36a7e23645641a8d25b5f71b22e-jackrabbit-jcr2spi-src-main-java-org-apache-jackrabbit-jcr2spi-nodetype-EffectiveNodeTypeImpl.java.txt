JCR-2634 weird error when adding a node using an abstract/mixin nodetype


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@945892 13f79535-47bb-0310-9956-ffa450edef68

-            throw new ConstraintViolationException(name + " is abstract  be used as primary node type.");
+            throw new ConstraintViolationException("not allowed to add node " + name + ": " + nodeTypeDefinition.getName() + " is abstract and cannot be used as primary node type.");
-            throw new ConstraintViolationException(name + " is abstract and cannot be used as primary node type.");
+            throw new ConstraintViolationException("not allowed to add node " + name + ":" + nodeTypeDefinition.getName() + " is a mixin and cannot be used as primary node type.");

INS45 INS45 INS32 UPD45 INS45 INS45 INS32 UPD45 INS42 INS42 INS42 INS42