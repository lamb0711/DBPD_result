JCR-1547: JCR2SPI: remove dependency to state-package within nodetype package

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@650514 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.jcr2spi.state.NodeState;
-import org.apache.jackrabbit.jcr2spi.state.PropertyState;
+import org.apache.jackrabbit.spi.PropertyId;
+import org.apache.jackrabbit.spi.NodeId;
-     * @param nodeState
+     * @param parentNodeTypeNames
+     * @param nodeName
+     * @param ntName
+     * @param nodeId
-    public QNodeDefinition getQNodeDefinition(NodeState nodeState) throws RepositoryException;
+    public QNodeDefinition getQNodeDefinition(Name[] parentNodeTypeNames,
+                                              Name nodeName, Name ntName,
+                                              NodeId nodeId) throws RepositoryException;
-     * @param parentState
+     * @param parentNodeTypeNames
-    public QNodeDefinition getQNodeDefinition(NodeState parentState, Name name, Name nodeTypeName)
+    public QNodeDefinition getQNodeDefinition(Name[] parentNodeTypeNames,
+                                              Name name, Name nodeTypeName)
-    public QNodeDefinition getQNodeDefinition(EffectiveNodeType ent, Name name, Name nodeTypeName)
+    public QNodeDefinition getQNodeDefinition(EffectiveNodeType ent,
+                                              Name name, Name nodeTypeName)
-    public QPropertyDefinition getQPropertyDefinition(PropertyState propertyState) throws RepositoryException;
+    /**
+     * Returns the <code>QPropertyDefinition</code> for the specified parameters.
+     *
+     * @param parentNodeTypeNames
+     * @param propertyName
+     * @param propertType
+     * @param isMultiValued
+     * @param propertyId Used to retrieve the definition from the persistent
+     * layer if it cannot be determined from the information present.
+     * @return
+     * @throws RepositoryException
+     */
+    public QPropertyDefinition getQPropertyDefinition(Name[] parentNodeTypeNames,
+                                                      Name propertyName,
+                                                      int propertType,
+                                                      boolean isMultiValued,
+                                                      PropertyId propertyId) throws RepositoryException;
-     * @param parentState
+     * @param parentNodeTypeNames
-    public QPropertyDefinition getQPropertyDefinition(NodeState parentState,
+    public QPropertyDefinition getQPropertyDefinition(Name[] parentNodeTypeNames,
-     * <code>{@link #getQPropertyDefinition(NodeState, Name, int, boolean)}</code>
+     * <code>{@link #getQPropertyDefinition(Name[], Name, int, boolean)}</code>
-     * @param parentState
+     * @param parentNodeTypeNames
-    public QPropertyDefinition getQPropertyDefinition(NodeState parentState,
+    public QPropertyDefinition getQPropertyDefinition(Name[] parentNodeTypeNames,

MOV26 UPD40 UPD40 INS44 INS44 INS44 INS44 INS44 INS44 INS44 INS65 INS65 INS65 INS5 INS42 INS43 INS42 INS43 INS42 UPD43 UPD42 INS5 UPD42 INS65 INS65 INS65 UPD65 INS65 INS5 INS42 INS43 INS42 INS39 INS42 INS39 INS42 UPD43 UPD42 INS5 UPD42 INS5 UPD42 INS42 UPD42 INS42 INS42 INS43 INS85 INS42 INS42 UPD42 UPD42 INS43 INS85 UPD66 INS42 UPD42 INS42 INS42 INS42 UPD66 INS66 INS43 INS85 INS42 UPD42 UPD42 INS43 INS85 UPD42 INS43 INS85 INS42 UPD42 MOV42 INS42 UPD42 MOV42 UPD42 MOV42 INS5 INS43 INS85 UPD42 MOV42 DEL43 DEL43 DEL43 DEL43