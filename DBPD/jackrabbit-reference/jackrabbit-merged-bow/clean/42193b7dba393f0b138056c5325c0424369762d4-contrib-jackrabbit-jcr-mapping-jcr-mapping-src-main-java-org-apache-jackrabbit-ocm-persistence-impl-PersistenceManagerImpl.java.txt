work on JCR-922 : 
Review method lock in the PersistenceManager. Now it returns a Lock object.
Add unit test. See the data value object 'Lockable' in the pck testmodel. 


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@544291 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.lock.Lock;
-
+import org.apache.jackrabbit.ocm.lock.Lock;
-    public String lock(final String absPath, final boolean isDeep, final boolean isSessionScoped) 
+    public Lock lock(final String absPath, final boolean isDeep, final boolean isSessionScoped) 
-            Lock lock = node.lock(isDeep, isSessionScoped);
+            javax.jcr.lock.Lock lock = node.lock(isDeep, isSessionScoped);
-            return lock.getLockToken();
+            return new Lock(lock);
-            Lock lock = node.getLock();
+            javax.jcr.lock.Lock lock = node.getLock();
-            Lock lock = node.getLock();
+            javax.jcr.lock.Lock lock = node.getLock();
-        //Workspace workspace = session.getWorkspace();
+        Workspace workspace = session.getWorkspace();
-        	session.move(srcPath,destPath);
+        	workspace.move(srcPath,destPath);

MOV26 UPD40 MOV43 INS60 INS43 INS59 INS42 INS42 INS32 INS43 INS14 UPD43 UPD43 INS42 INS42 INS40 INS43 INS42 INS40 INS40 UPD42 MOV42 DEL42 DEL43 DEL42 DEL42 DEL32 DEL42