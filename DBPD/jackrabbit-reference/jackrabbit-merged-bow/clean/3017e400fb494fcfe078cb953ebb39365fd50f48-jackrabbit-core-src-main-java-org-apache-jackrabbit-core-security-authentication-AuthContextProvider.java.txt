JCR-1977: authentication order has changed from 1.4.x to 1.5.x

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@785981 13f79535-47bb-0310-9956-ffa450edef68

-        if (isJAAS()) {
-            return new JAASAuthContext(appName, cbHandler, subject);
-        } else if (isLocal()) {
+        if (isLocal()) {
+        } else if (isJAAS()) {
+            return new JAASAuthContext(appName, cbHandler, subject);
-        if (!initialized) {
+        if (!isLocal() && !initialized) {
-            isJAAS = null != entries && entries.length > 0;
+            isJAAS = entries != null && entries.length > 0;
-     * @return true if {@link #isJAAS()} is false and a login-module is configured
+     * @return true if a login-module is configured.
-        return !(isJAAS() || config == null);
+        return config != null;
-     * @return options configured for the LoginModules to use
+     * @return options configured for the LoginModules to use.

MOV25 INS25 INS27 UPD66 INS27 UPD66 MOV32 MOV8 MOV8 INS38 MOV38 MOV42 MOV33 INS32 INS42 INS33 DEL25 DEL33 DEL66 DEL42 DEL68 DEL65 DEL42 DEL32 DEL27 DEL27 DEL36 DEL38