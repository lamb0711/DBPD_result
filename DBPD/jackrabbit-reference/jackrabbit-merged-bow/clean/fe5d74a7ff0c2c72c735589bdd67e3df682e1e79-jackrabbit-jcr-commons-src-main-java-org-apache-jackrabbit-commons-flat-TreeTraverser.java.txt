JCR-2726: Make collecting group membership information lazy

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@989102 13f79535-47bb-0310-9956-ffa450edef68

-            public boolean include(Node node) throws RepositoryException {
-                return !node.hasNodes();
+            public boolean include(Node node) {
+                try {
+                    return !node.hasNodes();
+                }
+                catch (RepositoryException e) {
+                    return false;
+                }
-         *
-         * @throws RepositoryException
-        boolean include(T item) throws RepositoryException;
+        boolean include(T item);
-        try {
-            if (inclusionPolicy.include(node)) {
-                return chain(singleton(node), chain(childIterators(node)));
-            }
-            else {
-                return chain(childIterators(node));
-            }
-        } catch (RepositoryException e) {
-            errorHandler.call(node, e);
-            return empty();
+        if (inclusionPolicy.include(node)) {
+            return chain(singleton(node), chain(childIterators(node)));
+        }
+        else {
+            return chain(childIterators(node));
-                try {
-                    return inclusionPolicy.include((T) object);
-                }
-                catch (RepositoryException ignore) {
-                    return true;
-                }
+                return inclusionPolicy.include((T) object);

MOV8 INS8 INS54 MOV8 MOV8 INS12 MOV44 INS8 INS41 MOV42 INS9 DEL43 DEL42 DEL65 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL32 DEL41 DEL8 DEL12 DEL54 DEL8 DEL42 DEL43 DEL42 DEL44 DEL9 DEL41 DEL8 DEL12 DEL54 DEL8