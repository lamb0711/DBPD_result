JCR-415: Enhance indexing of binary content
- Remove workaround with TextExtractorReader. Binary content is now indexed (text extracted) when really needed.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@489112 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.NodeId;
-    protected NodeIndexer(NodeState node,
+    public NodeIndexer(NodeState node,
+     * Returns the <code>NodeId</code> of the indexed node.
+     * @return the <code>NodeId</code> of the indexed node.
+     */
+    public NodeId getNodeId() {
+        return node.getNodeId();
+    }
+
+    /**
-                Reader reader =
-                        new TextExtractorReader(extractor, stream, type, encoding);
+                Reader reader = extractor.extractText(stream, type, encoding);

INS26 INS40 INS31 UPD83 INS29 INS83 INS43 INS42 INS8 INS65 INS65 INS42 INS41 INS66 INS66 INS32 INS42 INS42 INS32 INS42 INS42 INS42 INS42 INS42 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL14