JCR-129: applied patch supplied by serge as-is
(http://issues.apache.org/jira/browse/JCR-129)misc. NodeState optimizations:
- removed PropertyEntry class; the relevant
  NodeState methods (e.g. getPropertyEntries())
  now return QName's instead of PropertyEntry
  to avoid unneccessary object creation
- reimplemented internal ChildNodeEntries class
  for improved speed and efficiency


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@201999 13f79535-47bb-0310-9956-ffa450edef68

-            addPropertyEntry(name);
+            addPropertyName(name);
-     * Creates a new VirtualChildNodeEntry
-     *
-     * @param nodeName
-     * @param uuid
-     * @param index
-     * @return
-     */
-    protected VirtualChildNodeEntry createChildNodeEntry(QName nodeName, String uuid, int index) {
-        return new VirtualChildNodeEntry(nodeName, uuid, index);
-    }
-
-    /**
-     * Creates a new VirtualPropertyEntry
-     *
-     * @param name
-     * @return
-     */
-    protected VirtualPropertyEntry createPropertyEntry(QName name) {
-        return new VirtualPropertyEntry(name);
-    }
-
-    /**
-     * Overload NodeState.ChildNodeEntry in order to create own ones.
-     */
-    public class VirtualChildNodeEntry extends NodeState.ChildNodeEntry {
-
-        protected VirtualChildNodeEntry(QName nodeName, String uuid, int index) {
-            super(nodeName, uuid, index);
-        }
-
-    }
-
-    /**
-     * Overload NodeState.PropertyEntry in order to create own ones.
-     */
-    public class VirtualPropertyEntry extends NodeState.PropertyEntry {
-
-        protected VirtualPropertyEntry(QName propName) {
-            super(propName);
-        }
-    }
-
-    /**

UPD42 DEL66 DEL65 DEL42 DEL65 DEL42 DEL65 DEL42 DEL65 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL39 DEL42 DEL44 DEL42 DEL43 DEL42 DEL42 DEL42 DEL14 DEL41 DEL8 DEL31 DEL66 DEL65 DEL42 DEL65 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL14 DEL41 DEL8 DEL31 DEL66 DEL65 DEL29 DEL83 DEL42 DEL40 DEL43 DEL83 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL39 DEL42 DEL44 DEL42 DEL42 DEL42 DEL46 DEL8 DEL31 DEL55 DEL66 DEL65 DEL29 DEL83 DEL42 DEL40 DEL43 DEL83 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL46 DEL8 DEL31 DEL55