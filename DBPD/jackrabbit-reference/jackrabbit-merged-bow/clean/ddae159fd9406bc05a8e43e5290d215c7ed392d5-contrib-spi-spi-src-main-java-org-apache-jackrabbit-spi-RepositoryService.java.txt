SPI
- NamespaceRegistryImpl now only relies on RepositoryService.getRegisteredNamespaces() for methods: getPrefixes() and getURIs().
- Added methods getPrefix() and getURI() to NamespaceStorage.
- Separated nsResolver in RepositoryServiceImpl into namespace cache and session info bound namespace resolver
- Added methods getNamespacePrefix() and getNamespaceURI() to RepositoryService.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@498558 13f79535-47bb-0310-9956-ffa450edef68

-     * @see javax.jcr.NamespaceRegistry#getPrefix(String)
-     * @see javax.jcr.NamespaceRegistry#getURI(String)
+     * Returns the namespace URI for the given namespace <code>prefix</code>.
+     *
+     * @param sessionInfo the session info.
+     * @param prefix a namespace prefix to resolve.
+     * @return the namespace URI for the given namespace <code>prefix</code>.
+     * @throws NamespaceException if prefix is not mapped to a namespace URI.
+     * @throws RepositoryException if another error occurs.
+     * @see javax.jcr.NamespaceRegistry#getURI(String)
+     */
+    public String getNamespaceURI(SessionInfo sessionInfo, String prefix)
+            throws NamespaceException, RepositoryException;
+
+    /**
+     * Returns the namespace prefix for the given namespace <code>uri</code>.
+     *
+     * @param sessionInfo the session info.
+     * @param uri the namespace URI.
+     * @return the namespace prefix.
+     * @throws NamespaceException if the URI unknown.
+     * @throws RepositoryException if another error occurs.
+     * @see javax.jcr.NamespaceRegistry#getPrefix(String)
+     */
+    public String getNamespacePrefix(SessionInfo sessionInfo, String uri)
+            throws NamespaceException, RepositoryException;
+
+    /**

INS31 INS31 INS29 INS83 INS43 INS42 INS44 INS44 INS43 INS43 INS29 INS83 INS43 INS42 INS44 INS44 INS43 INS43 INS65 INS65 INS65 INS65 INS65 INS65 MOV65 INS42 INS43 INS42 INS43 INS42 INS42 INS42 INS65 INS65 INS65 INS65 INS65 INS65 MOV65 INS42 INS43 INS42 INS43 INS42 INS42 INS42 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS42 INS66 INS42 INS42 INS66 INS42 INS66 INS42 INS66 INS66 INS42 INS66 INS42 INS66 INS42 INS42