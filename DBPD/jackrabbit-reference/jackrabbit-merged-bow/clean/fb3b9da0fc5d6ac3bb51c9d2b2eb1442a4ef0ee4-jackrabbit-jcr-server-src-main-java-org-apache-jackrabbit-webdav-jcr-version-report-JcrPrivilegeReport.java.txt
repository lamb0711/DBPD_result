minor improvement: adding @Override, removing unused imports and replacing Session.checkPermission by Session.hasPermission

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1640530 13f79535-47bb-0310-9956-ffa450edef68

-import java.security.AccessControlException;
- * <code>JcrPrivilegeReport</code>...
+ * <p>Report to retrieve the permissions granted to the reading session as defined
+ * by {@link javax.jcr.Session#hasPermission(String, String)}.</p>
+ *
+ * <p>NOTE: the name of this report and the names of the privileges are
+ * misleading as they rather correspond to the <i>actions</i> defined by
+ * {@link javax.jcr.Session}; while the JCR privileges s.str. have only been
+ * specified as of JSR 283 in the {@link javax.jcr.security.Privilege} interface.
+ * A better name would have been <strong>JcrActionReport</strong></p>
+ *
+ * @see org.apache.jackrabbit.webdav.jcr.security.JcrUserPrivilegesProperty for
+ * the webdav correspondence to {@link javax.jcr.security.AccessControlManager#getPrivileges(String)}
+ * mapped to the {@link org.apache.jackrabbit.webdav.security.CurrentUserPrivilegeSetProperty}.
+    @Override
+    @Override
+    @Override
-                getRepositorySession().checkPermission(repositoryPath, priv.getName());
-                currentPrivs.add(priv);
-            } catch (AccessControlException e) {
-                // ignore
-                log.debug(e.toString());
+                if (getRepositorySession().hasPermission(repositoryPath, priv.getName())) {
+                    currentPrivs.add(priv);
+                }

INS65 INS78 INS78 INS78 INS66 INS66 INS65 INS66 UPD66 INS66 INS65 INS66 INS66 INS65 INS66 INS66 INS40 INS66 INS66 INS65 INS66 INS65 INS66 INS42 INS42 INS42 INS68 INS40 INS40 INS68 INS40 INS40 INS42 INS69 INS69 INS40 INS42 INS69 INS43 INS43 INS43 INS42 INS42 INS42 INS25 MOV32 INS8 UPD42 MOV21 DEL40 DEL26 DEL21 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21 DEL8 DEL12