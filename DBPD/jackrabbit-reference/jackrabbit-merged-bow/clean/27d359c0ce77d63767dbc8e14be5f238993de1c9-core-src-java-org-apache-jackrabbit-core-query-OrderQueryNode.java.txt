- Minor fix / enhancement for query using descendant-or-self of root node
- Implement equals() method on QueryNode classes
- Implement efficient QueryResult for query that traverses the whole workspace

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@219897 13f79535-47bb-0310-9956-ffa450edef68

-    private List specs = new ArrayList();
+    private final List specs = new ArrayList();
+    /**
+     * @inheritDoc
+     */
+    public boolean equals(Object obj) {
+        if (obj instanceof OrderQueryNode) {
+            OrderQueryNode other = (OrderQueryNode) obj;
+            return specs.equals(other.specs);
+        }
+        return false;
+    }
+
+
+        /**
+         * Returns <code>true</code> if <code>this</code> order spec is equal
+         * to <code>obj</code>
+         * @param obj the reference object with which to compare.
+         * @return <code>true</code> if <code>this</code> order spec is equal
+         *   to <code>obj</code>; <code>false</code> otherwise.
+         */
+        public boolean equals(Object obj) {
+            if (obj instanceof OrderSpec) {
+                OrderSpec other = (OrderSpec) obj;
+                return (property == null ? other.property == null : property.equals(other.property))
+                        && ascending == other.ascending;
+            }
+            return false;
+        }

INS31 INS83 INS29 INS83 INS39 INS42 INS44 INS8 INS31 INS65 INS43 INS42 INS25 INS41 INS29 INS83 INS39 INS42 INS44 INS8 INS42 INS62 INS8 INS9 INS65 INS65 INS65 INS43 INS42 INS25 INS41 INS42 INS43 INS60 INS41 INS66 INS66 INS42 INS66 INS66 INS66 INS42 INS62 INS8 INS9 INS42 INS43 INS59 INS32 INS42 INS43 INS60 INS41 INS42 INS42 INS11 INS42 INS42 INS40 INS42 INS43 INS59 INS27 INS43 INS42 INS42 INS42 INS11 INS36 INS27 INS42 INS43 INS42 INS16 INS42 INS40 INS42 INS27 INS27 INS32 INS42 INS33 INS40 INS33 INS42 INS42 INS40