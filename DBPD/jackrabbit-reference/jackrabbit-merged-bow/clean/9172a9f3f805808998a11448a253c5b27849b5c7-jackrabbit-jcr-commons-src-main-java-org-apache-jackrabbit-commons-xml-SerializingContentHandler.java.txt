JCR-1621: Use application/xml as the XML media type
    - Just ensure that the encoding is always UTF-8 for now
    - Use "text/xml; charset=UTF-8" in jackrabbit-webdav

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@659095 13f79535-47bb-0310-9956-ffa450edef68

+import javax.xml.transform.OutputKeys;
+import javax.xml.transform.Transformer;
+    /**
+     * The character encoding used for serialization (UTF-8).
+     * The encoding is fixed to make the text/xml content type safer to use.
+     *
+     * @see https://issues.apache.org/jira/browse/JCR-1621
+     */
+    public static final String ENCODING = "UTF-8";
+
+            // Specify the output properties to avoid surprises especially in
+            // character encoding or the output method (might be html for some
+            // documents!)
+            Transformer transformer = handler.getTransformer();
+            transformer.setOutputProperty(OutputKeys.METHOD, "xml");
+            transformer.setOutputProperty(OutputKeys.ENCODING, ENCODING);
+            transformer.setOutputProperty(OutputKeys.INDENT, "no");
+

INS26 INS26 INS40 INS40 INS23 INS29 INS83 INS83 INS83 INS43 INS59 INS65 INS65 INS42 INS42 INS45 INS66 INS66 INS66 INS60 INS21 INS21 INS21 INS43 INS59 INS32 INS32 INS32 INS42 INS42 INS32 INS42 INS42 INS40 INS45 INS42 INS42 INS40 INS42 INS42 INS42 INS40 INS45 INS42 INS42