JCR-2195 Provide possibility to import protected items using Session/Workspace import functionality

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@808923 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.IOException;
+import java.io.Reader;
+import java.util.ArrayList;
+import java.util.List;
+import java.util.Stack;
+
+import javax.jcr.NamespaceException;
+import javax.jcr.Node;
+import javax.jcr.PropertyType;
+import javax.jcr.RepositoryException;
+import javax.jcr.ValueFactory;
+
+import org.apache.jackrabbit.spi.Name;
+import org.apache.jackrabbit.spi.commons.conversion.IllegalNameException;
-import org.apache.jackrabbit.spi.commons.conversion.IllegalNameException;
-import org.apache.jackrabbit.spi.Name;
-import javax.jcr.PropertyType;
-import javax.jcr.RepositoryException;
-import javax.jcr.NamespaceException;
-import javax.jcr.ValueFactory;
-import java.io.IOException;
-import java.io.Reader;
-import java.util.ArrayList;
-import java.util.Stack;
-
-     * @param importer
+     * @param importer the importer
+     * @param valueFactory a value factory
-     * See also {@link DocViewSAXEventGenerator#leavingProperties(javax.jcr.Node, int)}
+     * See also {@link org.apache.jackrabbit.commons.xml.Exporter#exportProperties(Node)}
-            ArrayList<PropInfo> props = new ArrayList<PropInfo>(atts.getLength());
+            List<PropInfo> props = new ArrayList<PropInfo>(atts.getLength());
-        NodeInfo node = (NodeInfo) stack.peek();
+        NodeInfo node = stack.peek();

MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 INS26 INS26 INS40 INS40 INS65 INS66 INS42 INS66 MOV43 MOV32 INS40 UPD42 UPD74 UPD43 UPD43 INS42 UPD42 DEL42 DEL40 DEL39 DEL69 DEL42 DEL43 DEL11