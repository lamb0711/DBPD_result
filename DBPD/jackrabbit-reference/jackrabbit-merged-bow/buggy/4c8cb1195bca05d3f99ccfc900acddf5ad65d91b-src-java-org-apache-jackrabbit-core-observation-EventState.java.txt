- ObservationManager failed to return correct paths for same name siblings (-> SelectClauseTest.testSameNameSibling() failed)

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@71503 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.QName;
-     * The qualified name of the child item associated with this event.
+     * The relative path of the child item associated with this event.
+     * This is basically the name of the item with an optional index.
-    private final QName childName;
+    private final Path childRelPath;
-     * @param childName  the qualified name of the child item associated with
+     * @param childPath  the relative path of the child item associated with
-                       QName childName,
+                       Path childPath,
-        this.childName = childName;
+        this.childRelPath = childPath;
-     * @param childName  the qualified name of the child node that was added.
+     * @param childPath  the relative path of the child node that was added.
-                                            QName childName,
+                                            Path childPath,
-                childName,
+                childPath,
-     * @param childName  the qualified name of the child node that was removed.
+     * @param childPath  the relative path of the child node that was removed.
-                                              QName childName,
+                                              Path childPath,
-                childName,
+                childPath,
-     * @param childName  the qualified name of the property that was added.
+     * @param childPath  the relative path of the property that was added.
-                                           QName childName,
+                                           Path childPath,
-                childName,
+                childPath,
-     * @param childName  the qualified name of the property that was removed.
+     * @param childPath  the relative path of the property that was removed.
-                                             QName childName,
+                                             Path childPath,
-                childName,
+                childPath,
-     * @param childName  the qualified name of the property that changed.
+     * @param childPath  the relative path of the property that changed.
-                                             QName childName,
+                                             Path childPath,
-                childName,
+                childPath,
-     * Returns the {@link QName} of the
+     * Returns the relative {@link Path} of the child
-     * @return the <code>QName</code> associated with this event.
+     * @return the <code>Path</code> associated with this event.
-    public QName getChildItemQName() {
-        return childName;
+    public Path getChildRelPath() {
+        return childRelPath;
-            sb.append(", Child: ").append(childName);
+            sb.append(", Child: ").append(childRelPath);
-            h = 37 * h + childName.hashCode();
+            h = 37 * h + childRelPath.hashCode();
-                    && this.childName.equals(other.childName)
+                    && this.childRelPath.equals(other.childRelPath)

UPD43 UPD43 UPD42 UPD42 UPD42 UPD43 UPD42 UPD43 UPD42 UPD43 UPD42 UPD43 UPD42 UPD43 UPD42 UPD43 UPD42 UPD42 UPD66 INS66 UPD42 UPD66 UPD42 UPD42 UPD66 UPD42 UPD42 UPD66 UPD42 UPD42 UPD66 UPD42 UPD42 UPD66 UPD42 UPD42 UPD66 UPD42 UPD66 UPD66 UPD66 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD40 UPD42 DEL40 DEL26