- adding versioning configuratuin
- adapting versioning to new persistence manager api

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@126386 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.config.WorkspaceConfig;
+import org.apache.jackrabbit.core.fs.FileSystem;
+import java.io.File;
-     * workspace configuration
+     * the physcial home dir
-    private final WorkspaceConfig wspConfig;
+    private final File physicalHomeDir;
+
+    /**
+     * the virtual jackrabbit filesystem
+     */
+    private final FileSystem fs;
-     * @param wspConfig    configuration of workspace
+     * @param homeDir the physical home directory
+     * @param fs the virtual jackrabbit filesystem
-    public PMContext(WorkspaceConfig wspConfig,
+    public PMContext(File homeDir,
+                     FileSystem fs,
-        this.wspConfig = wspConfig;
+        this.physicalHomeDir = homeDir;
+        this.fs = fs;
+
-     * Returns the workspace configuration
-     *
-     * @return the workspace configuration
+     * Returns the physical home directory for this persistence manager
+     * @return
-    public WorkspaceConfig getWorkspaceConfig() {
-        return wspConfig;
+    public File getHomeDir() {
+        return physicalHomeDir;
+    }
+
+    /**
+     * Returns the virtual filesystem for this persistence manager
+     * @return
+     */
+    public FileSystem getFileSystem() {
+        return fs;

MOV26 INS26 UPD40 INS40 INS23 INS31 UPD43 INS29 INS83 INS83 INS43 INS59 INS44 UPD43 UPD42 INS29 INS83 INS43 INS42 INS8 UPD42 UPD42 INS65 INS42 INS42 INS65 UPD43 UPD42 INS43 INS42 INS21 UPD42 INS65 INS65 INS42 INS41 UPD66 INS66 UPD42 UPD66 INS42 INS66 UPD42 INS42 INS7 UPD66 UPD42 INS66 INS42 UPD42 INS22 INS42 UPD42 INS52 INS42 DEL66