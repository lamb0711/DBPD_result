JAAS support 

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@155344 13f79535-47bb-0310-9956-ffa450edef68

-        // make sure this node is checked-out
-        /*
-         to internal place to check this
-
-        if (!internalIsCheckedOut()) {
-            String msg = "Cannot set the value of a property of a checked-in node " + safeGetJCRPath() + "/" + name.toString();
-            log.debug(msg);
-            throw new VersionException(msg);
-        }
-        */
-    }
+        }
+     *
-                || p.getQName().equals(JCR_MIXINTYPES)
-                || p.getQName().equals(JCR_UUID)) {
+                    || p.getQName().equals(JCR_MIXINTYPES)
+                    || p.getQName().equals(JCR_UUID)) {
-                for (int i=0; i<mixins.length; i++) {
+                for (int i = 0; i < mixins.length; i++) {
-        // check primarty type
+        // check primary type
-        NodeState thisState = (NodeState) getOrCreateTransientItemState();
-        Set mixins = new HashSet(Arrays.asList(mixinNames));
-        NodeTypeManagerImpl ntMgr = session.getNodeTypeManager();
-        thisState.setMixinTypeNames(mixins);
-        internalSetProperty(JCR_MIXINTYPES, InternalValue.create(mixinNames));
+        setMixinTypesProperty(new HashSet(Arrays.asList(mixinNames)));
+
-        // remove properties that do not exist the the frozen representation
+        // remove properties that do not exist in the frozen representation
-        // adjust autocreate properties, that do not exist yet
-        for (int j=0; j<mixinNames.length; j++) {
+        // add 'auto-create' properties that do not exist yet
+        NodeTypeManagerImpl ntMgr = session.getNodeTypeManager();
+        for (int j = 0; j < mixinNames.length; j++) {

MOV60 UPD42 MOV14 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL32 DEL11 DEL59 DEL60 DEL42 DEL43 DEL42 DEL59 DEL60 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL32 DEL21