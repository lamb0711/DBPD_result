JCR-2573 - Performance of AC Evaluation [work in progress]

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@950440 13f79535-47bb-0310-9956-ffa450edef68

-     * @throws UnsupportedRepositoryOperationException If the implementation
-     * does not held the entries in a list.
-     * @throws RepositoryException
-    protected abstract List<? extends AccessControlEntry> getEntries() throws UnsupportedRepositoryOperationException, RepositoryException;
+    protected abstract List<? extends AccessControlEntry> getEntries();
+     * @see org.apache.jackrabbit.api.security.JackrabbitAccessControlList#size()
+     */
+    public int size() {
+        return getEntries().size();
+    }
+
+    /**
+     * @see org.apache.jackrabbit.api.security.JackrabbitAccessControlList#isEmpty()
+     */
+    public boolean isEmpty() {
+        return getEntries().isEmpty();
+    }
+
+    /**
+     * @see javax.jcr.security.AccessControlList#getAccessControlEntries()
+     */
+    public AccessControlEntry[] getAccessControlEntries() throws RepositoryException {       
+        List<? extends AccessControlEntry> l = getEntries();
+        return l.toArray(new AccessControlEntry[l.size()]);
+    }
+
+    /**

INS31 INS31 INS31 INS29 INS83 INS39 INS42 INS8 INS29 INS83 INS39 INS42 INS8 INS29 INS83 INS5 INS42 MOV43 INS8 INS65 INS41 INS65 INS41 INS65 INS43 INS85 INS60 INS41 INS68 INS32 INS68 INS32 INS68 INS42 INS74 INS59 INS32 INS40 INS42 INS32 INS42 INS40 INS42 INS32 INS42 INS40 INS42 INS43 INS76 INS42 INS32 INS42 INS42 INS3 INS42 INS42 INS42 INS43 INS42 INS5 INS32 INS42 INS43 INS85 INS42 INS42 INS42 DEL42 DEL66 DEL66 DEL65 DEL42 DEL65 DEL42 DEL43