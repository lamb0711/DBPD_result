JCR-RMI: Use remote iterators instead of arrays to avoid memory and network problems with large result sets.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@365458 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.rmi.remote.RemoteIterator;
-    public RemoteProperty[] getProperties()
+    public RemoteIterator getProperties()
-            return getRemotePropertyArray(node.getProperties());
+            return getFactory().getRemotePropertyIterator(node.getProperties());
-    public RemoteProperty[] getProperties(String pattern)
+    public RemoteIterator getProperties(String pattern)
-            return getRemotePropertyArray(node.getProperties(pattern));
+            return getFactory().getRemotePropertyIterator(node.getProperties(pattern));
-    public RemoteProperty[] getReferences()
+    public RemoteIterator getReferences()
-            return getRemotePropertyArray(node.getReferences());
+            return getFactory().getRemotePropertyIterator(node.getReferences());
-    public RemoteNode[] getNodes() throws RepositoryException, RemoteException {
+    public RemoteIterator getNodes() throws RepositoryException, RemoteException {
-            return getRemoteNodeArray(node.getNodes());
+            return getFactory().getRemoteNodeIterator(node.getNodes());
-    public RemoteNode[] getNodes(String pattern)
+    public RemoteIterator getNodes(String pattern)
-            return getRemoteNodeArray(node.getNodes(pattern));
+            return getFactory().getRemoteNodeIterator(node.getNodes(pattern));
-    public RemoteNode[] merge(String workspace, boolean bestEffort)
+    public RemoteIterator merge(String workspace, boolean bestEffort)
-            return getRemoteNodeArray(node.merge(workspace, bestEffort));
+            return getFactory().getRemoteNodeIterator(node.merge(workspace, bestEffort));

INS26 INS40 INS43 INS43 INS43 INS43 INS43 INS43 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 INS32 UPD42 INS32 UPD42 INS32 UPD42 INS32 UPD42 INS32 UPD42 INS32 UPD42 INS42 INS42 INS42 INS42 INS42 INS42 DEL43 DEL85 DEL5 DEL43 DEL85 DEL5 DEL43 DEL85 DEL5 DEL43 DEL85 DEL5 DEL43 DEL85 DEL5 DEL43 DEL85 DEL5