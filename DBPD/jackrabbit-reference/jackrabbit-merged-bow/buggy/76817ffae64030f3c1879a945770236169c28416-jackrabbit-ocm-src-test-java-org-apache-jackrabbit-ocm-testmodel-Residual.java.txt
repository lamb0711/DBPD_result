Fix for JCR-1325 and review support for Collection & Map. 
The mapping definition can be simplified with parameterized collections and maps. In this case the ElementClass setting is not necessary.


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@650283 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.ocm.manager.collectionconverter.impl.ManageableHashMap;
+import java.util.Map;
+
-    private ManageableHashMap elements;
+    private Map elements;
-    public ManageableHashMap getElements()
+    public Map getElements()
-    public void setElements(ManageableHashMap elements)
+    public void setElements(Map elements)
-        @Collection( jcrName="value*",elementClassName=String.class,collectionConverter=ResidualPropertiesCollectionConverterImpl.class,
-                collectionClassName=ManageableHashMap.class)
-        private ManageableHashMap elements;
+        @Collection( jcrName="value*",
+        		     collectionConverter=ResidualPropertiesCollectionConverterImpl.class)
+        private Map<String, String> elements;
-    	
-        @Collection( jcrName="value*",elementClassName=Object.class,collectionConverter=ResidualNodesCollectionConverterImpl.class,
-                collectionClassName=ManageableHashMap.class)
-        private ManageableHashMap elements;
-    	
+        @Collection( jcrName="value*",collectionConverter=ResidualNodesCollectionConverterImpl.class)
+        private Map<String, Object> elements;
+
+

UPD40 UPD43 UPD43 UPD42 UPD42 UPD43 INS74 INS74 UPD42 INS43 MOV43 INS43 INS43 INS43 MOV43 UPD42 MOV42 INS42 UPD42 MOV42 INS42 DEL42 DEL57 DEL80 DEL42 DEL42 DEL43 DEL57 DEL80 DEL43 DEL42 DEL57 DEL80 DEL42 DEL42 DEL43 DEL57 DEL80 DEL43