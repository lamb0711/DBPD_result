JCR-977: jcr:deref in xpath predicates

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@791737 13f79535-47bb-0310-9956-ffa450edef68

-            Path relPath = node.getRelativePath();
+            PathQueryNode relPath = node.getRelativePath();
-            } else if (relPath.getLength() > 1) {
+            } else if (relPath.getPathSteps().length > 1) {
-                appendName(relPath.getNameElement().getName(), resolver, propName);
+                visit(relPath, data);

UPD43 UPD42 INS22 INS32 INS42 MOV42 UPD42 MOV42 UPD42 MOV42 UPD42 MOV42 DEL32 DEL32 DEL42 DEL32 DEL42 DEL42