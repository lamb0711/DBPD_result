JCR-RMI: Use remote iterators instead of arrays to avoid memory and network problems with large result sets.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@365458 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.rmi.remote.RemoteNode;
+import org.apache.jackrabbit.rmi.remote.RemoteIterator;
-import org.apache.jackrabbit.rmi.remote.RemoteRow;
-    public RemoteRow[] getRows() throws RepositoryException, RemoteException {
-        return getRemoteRowArray(result.getRows());
+    public RemoteIterator getRows() throws RepositoryException, RemoteException {
+        return getFactory().getRemoteRowIterator(result.getRows());
-    public RemoteNode[] getNodes() throws RepositoryException, RemoteException {
-        return getRemoteNodeArray(result.getNodes());
+    public RemoteIterator getNodes() throws RepositoryException, RemoteException {
+        return getFactory().getRemoteNodeIterator(result.getNodes());

MOV26 UPD40 INS43 INS43 UPD42 MOV42 UPD42 MOV42 INS32 UPD42 INS32 UPD42 INS42 INS42 DEL40 DEL26 DEL43 DEL85 DEL5 DEL43 DEL85 DEL5