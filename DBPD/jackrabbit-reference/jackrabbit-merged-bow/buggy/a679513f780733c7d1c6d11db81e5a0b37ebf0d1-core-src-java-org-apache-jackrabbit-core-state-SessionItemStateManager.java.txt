JCR-188: Item states cached in UpdatableItemStateManager not discarded on logout

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@233459 13f79535-47bb-0310-9956-ffa450edef68

-     * Root node id
-     */
-    private final NodeId rootNodeId;
-
-    /**
-        rootNodeId = new NodeId(rootNodeUUID);
+    /**
+     * {@inheritDoc}
+     */
+    public void dispose() {
+        // discard all transient changes
+        transientStateMgr.disposeAllItemStates();
+        // dispose our (i.e. 'local') state manager 
+        persistentStateMgr.dispose();
+    }
+

INS31 INS29 INS83 INS39 INS42 INS8 INS65 INS21 INS21 INS65 INS32 INS32 INS42 INS42 INS42 INS42 DEL66 DEL65 DEL29 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL42 DEL42 DEL43 DEL42 DEL14 DEL7 DEL21