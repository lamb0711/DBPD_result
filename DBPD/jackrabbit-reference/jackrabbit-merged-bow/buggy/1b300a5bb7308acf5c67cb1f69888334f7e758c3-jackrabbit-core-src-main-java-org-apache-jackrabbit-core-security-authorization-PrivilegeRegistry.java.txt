JCR-2883 : Node.orderBefore and JackrabbitNode.rename should check for ability to modify children-collection on parent node

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1072087 13f79535-47bb-0310-9956-ffa450edef68

-     * Build the permissions granted by evaluating the given privileges.
+     * Build the permissions granted by evaluating the given privileges. Note,
+     * that only built-in privileges can be mapped to permissions. Any other
+     * privileges will be ignored.
+
+            // modify_child_node_collection permission is granted through
+            // privileges on the parent
+            if ((parentPrivs & ADD_CHILD_NODES) == ADD_CHILD_NODES &&
+                    (parentPrivs & REMOVE_CHILD_NODES) == REMOVE_CHILD_NODES) {
+                perm |= Permission.MODIFY_CHILD_NODE_COLLECTION;
+            }
+

UPD66 INS66 INS66 INS25 INS27 INS8 INS27 INS27 INS21 INS36 INS42 INS36 INS42 INS7 INS27 INS27 INS42 INS40 INS42 INS42 INS42 INS42