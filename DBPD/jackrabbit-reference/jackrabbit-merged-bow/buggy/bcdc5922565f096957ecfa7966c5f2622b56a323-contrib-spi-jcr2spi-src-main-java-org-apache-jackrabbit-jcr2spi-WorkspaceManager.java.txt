- NodeEntry: retrieving child node entries may throw RepositoryException -> adjust methods that add/remove/access child node entries.
- HierarchyEventListener: ignore local events


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@523326 13f79535-47bb-0310-9956-ffa450edef68

-     * 
+     *
-            // execute operation and delegate invalidation of affected item
-            // states to the operation.
+            /*
+            Execute operation and delegate invalidation of affected item
+            states to the operation.
+            NOTE, that the invalidation is independant of the cache behaviour
+            due to the fact, that local eventbundles are not processed by
+            the HierarchyEventListener.
+            */
-    private void onEventReceived(EventBundle[] eventBundles) {
+    private void onEventReceived(EventBundle[] eventBundles, InternalEventListener[] lstnrs) {
-            InternalEventListener[] lstnrs;
-            synchronized (listeners) {
-                lstnrs = (InternalEventListener[]) listeners.toArray(new InternalEventListener[listeners.size()]);
-            }
-        //-----------------------< OperationVisitor >---------------------------
+        //-----------------------------------------------< OperationVisitor >---
+    //------------------------------------------------------< ChangePolling >---
-                        onEventReceived(bundles);
+                        onEventReceived(bundles, iel);

INS44 MOV5 INS42 INS42 DEL42 DEL59 DEL60 DEL42 DEL42 DEL42 DEL43 DEL85 DEL5 DEL42 DEL42 DEL42 DEL43 DEL85 DEL5 DEL42 DEL42 DEL32 DEL3 DEL32 DEL11 DEL7 DEL21 DEL8 DEL51