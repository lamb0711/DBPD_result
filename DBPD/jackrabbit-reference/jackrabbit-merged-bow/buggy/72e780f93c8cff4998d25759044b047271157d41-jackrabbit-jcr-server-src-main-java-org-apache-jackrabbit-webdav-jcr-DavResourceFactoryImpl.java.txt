JCR-2262 - o.a.j.webdav.jcr.DavResourceFactoryImpl#createResource creates VersionControlledResource instances regardless of mix:versionable status

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@899643 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.JcrConstants;
+                Item item = getItem(session, locator);
+                boolean versionable = item.isNode() && ((Node) item).isNodeType(JcrConstants.MIX_VERSIONABLE);
+
-                if (request instanceof DeltaVServletRequest && isVersionControlled(resource)) {
+                if (request instanceof DeltaVServletRequest && versionable && isVersionControlled(resource)) {
-                        Item item = getItem(session, locator);

INS26 INS40 MOV60 INS60 INS39 INS59 INS42 INS27 INS42 INS32 INS32 INS42 INS42 INS36 INS42 INS40 INS11 INS43 INS42 INS42