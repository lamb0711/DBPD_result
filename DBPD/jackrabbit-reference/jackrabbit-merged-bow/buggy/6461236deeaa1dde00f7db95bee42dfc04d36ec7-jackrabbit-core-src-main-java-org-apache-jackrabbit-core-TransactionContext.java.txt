JCR-2087 Upgrade to Java 5 as the base platform

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@785540 13f79535-47bb-0310-9956-ffa450edef68

-    private static ThreadLocal CURRENT_XID = new ThreadLocal();
+    private static final ThreadLocal<Xid> CURRENT_XID = new ThreadLocal<Xid>();
-   
+
-    private final Map attributes = new HashMap();
+    private final Map<String, Object> attributes = new HashMap<String, Object>();
-    
+
-    
+
-        return (Xid) CURRENT_XID.get();
+        return CURRENT_XID.get();
-    
+
-     * @param fallback if either the given {@link Xid} or the current {@link Xid} is null we can not check if they 
+     * @param fallback if either the given {@link Xid} or the current {@link Xid} is null we can not check if they
-        Xid currentXid = (Xid) CURRENT_XID.get();
-        return fallback ? true : (currentXid == null || xid == null) ? fallback : Arrays.equals(xid.getGlobalTransactionId(), currentXid.getGlobalTransactionId());  
+        Xid currentXid = CURRENT_XID.get();
+        return fallback ? true : (currentXid == null || xid == null) ? fallback : Arrays.equals(xid.getGlobalTransactionId(), currentXid.getGlobalTransactionId());

INS83 INS74 INS74 MOV43 MOV43 MOV43 INS43 INS43 INS74 INS42 INS42 INS74 MOV32 UPD66 MOV43 MOV43 MOV43 MOV43 INS43 INS43 MOV32 INS42 INS42 DEL11 DEL11