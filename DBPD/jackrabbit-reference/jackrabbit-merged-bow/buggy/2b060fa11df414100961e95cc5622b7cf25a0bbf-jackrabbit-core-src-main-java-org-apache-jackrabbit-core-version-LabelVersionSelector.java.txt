JCR-2209 Versioning operations should be done on the workspace


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@795866 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.version.Version;
-import javax.jcr.version.VersionException;
-import javax.jcr.version.VersionHistory;
+
+import org.apache.jackrabbit.spi.Name;
-    private String label = null;
+    private Name label = null;
-     * @param label
+     * @param label label hint
-    public LabelVersionSelector(String label) {
+    public LabelVersionSelector(Name label) {
-    public String getLabel() {
+    public Name getLabel() {
-     * @param label
+     * @param label label hint
-    public void setLabel(String label) {
+    public void setLabel(Name label) {
+     * {@inheritDoc}
+     *
-     *
-     * @param versionHistory
-     * @return
-     * @throws RepositoryException
-    public Version select(VersionHistory versionHistory)
+    public InternalVersion select(InternalVersionHistory versionHistory)
-     * @param history
-     * @param label
+     * @param history history to select from
+     * @param label desired label
-     * @throws RepositoryException
+     * @throws RepositoryException if an error occurs
-    public static Version selectByLabel(VersionHistory history, String label)
+    public static InternalVersion selectByLabel(InternalVersionHistory history, Name label)
-        try {
-            return history.getVersionByLabel(label);
-        } catch (VersionException e) {
-            return null;
-        }
+        return history.getVersionByLabel(label);

UPD40 UPD43 UPD43 UPD43 UPD43 MOV8 UPD42 UPD43 UPD42 UPD43 UPD42 UPD43 UPD42 UPD43 UPD43 INS66 UPD42 INS66 UPD42 INS65 UPD42 INS66 INS66 INS66 UPD42 UPD42 DEL40 DEL26 DEL40 DEL26 DEL42 DEL65 DEL65 DEL42 DEL65 DEL42 DEL43 DEL42 DEL44 DEL33 DEL41 DEL8 DEL12 DEL54 DEL8