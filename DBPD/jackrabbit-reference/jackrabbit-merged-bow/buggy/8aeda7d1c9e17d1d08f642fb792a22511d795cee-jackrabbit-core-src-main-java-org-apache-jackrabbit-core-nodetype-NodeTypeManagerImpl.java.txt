JCR-2887 : Split PrivilegeRegistry in a per-session manager instance and a repository level registry [work in progress]
JCR-2774 : Access control for repository level API operations


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1177668 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.security.authorization.Permission;
+        
+        // make sure the editing session is allowed to register node types.
+        context.getAccessManager().checkRepositoryPermission(Permission.NODE_TYPE_DEF_MNGMT);
+
+        // make sure the editing session is allowed to register node types.
+        context.getAccessManager().checkRepositoryPermission(Permission.NODE_TYPE_DEF_MNGMT);
+
+
+        // make sure the editing session is allowed to un-register node types.
+        context.getAccessManager().checkRepositoryPermission(Permission.NODE_TYPE_DEF_MNGMT);
+
-

INS26 INS40 INS21 INS21 INS21 INS32 INS32 INS32 INS32 INS42 INS40 INS32 INS42 INS40 INS32 INS42 INS40 INS42 INS42 INS42 INS42 INS42 INS42