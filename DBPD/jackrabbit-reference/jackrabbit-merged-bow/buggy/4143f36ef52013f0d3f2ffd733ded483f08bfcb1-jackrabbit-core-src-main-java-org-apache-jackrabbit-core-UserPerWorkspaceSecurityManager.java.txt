JCR-2703 : UserManagement: Add Membership Cache

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@984356 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.security.user.MembershipCache;
-            Class<?>[] paramTypes = new Class[] { SessionImpl.class, String.class, Properties.class };
-            return (UserPerWorkspaceUserManager) umc.getUserManager(UserPerWorkspaceUserManager.class, paramTypes, (SessionImpl) session, adminId, params);
+            Class<?>[] paramTypes = new Class[] {
+                    SessionImpl.class,
+                    String.class,
+                    Properties.class,
+                    MembershipCache.class};
+            return (UserPerWorkspaceUserManager) umc.getUserManager(UserPerWorkspaceUserManager.class,
+                    paramTypes, (SessionImpl) session, adminId, params, getMembershipCache(session));
-            return new UserPerWorkspaceUserManager(session, adminId, params);
+            return new UserPerWorkspaceUserManager(session, adminId, params, getMembershipCache(session));

INS26 INS40 INS32 INS32 INS42 INS42 INS57 INS42 INS42 INS43 INS42