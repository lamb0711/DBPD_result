JCR-2268 Generify Security API


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@806534 13f79535-47bb-0310-9956-ffa450edef68

-    private final List entries = new ArrayList();
+    private final List<AccessControlEntry> entries = new ArrayList<AccessControlEntry>();
-    ACLTemplate(Principal principal, String path, NamePathResolver resolver, ValueFactory vf) throws RepositoryException {
+    ACLTemplate(Principal principal, String path, NamePathResolver resolver, ValueFactory vf)
+            throws RepositoryException {
-        this(principal, acNode.getPath(), acNode, (SessionImpl) acNode.getSession(), acNode.getSession().getValueFactory());
+        this(principal, acNode.getPath(), acNode, (SessionImpl) acNode.getSession(),
+                acNode.getSession().getValueFactory());
-                    Map restrictions = new HashMap(2);
+                    Map<String, Value> restrictions = new HashMap<String, Value>(2);
-                                   boolean allow, Map<String, Value> restrictions) throws RepositoryException {
+                                   boolean allow, Map<String, Value> restrictions)
+            throws RepositoryException {
-        Set rNames = restrictions.keySet();
+        Set<String> rNames = restrictions.keySet();
-                            boolean isAllow, Map restrictions)
+                            boolean isAllow, Map<String, Value> restrictions)
-        return (AccessControlEntry[]) entries.toArray(new AccessControlEntry[entries.size()]);
+        return entries.toArray(new AccessControlEntry[entries.size()]);
-        private Entry(Principal principal, Privilege[] privileges, boolean allow, Map restrictions)
+        private Entry(Principal principal, Privilege[] privileges, boolean allow,
+                      Map<String, Value> restrictions)

INS74 MOV43 INS43 INS74 INS42 INS74 INS74 INS43 INS43 INS43 MOV32 INS74 MOV43 INS43 MOV43 INS43 MOV42 INS42 INS42 INS43 INS43 INS43 INS42 INS42 MOV42 INS42 INS42 INS74 MOV43 INS43 INS43 INS42 INS42 INS74 MOV43 INS43 INS43 INS42 INS42 DEL43 DEL42 DEL43 DEL85 DEL5 DEL11 DEL43