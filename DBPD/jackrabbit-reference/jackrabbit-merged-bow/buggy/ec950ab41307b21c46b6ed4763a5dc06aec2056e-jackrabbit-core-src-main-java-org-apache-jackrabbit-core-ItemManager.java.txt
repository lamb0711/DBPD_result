JCR-2763: Drop the Dumpable interface

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1004622 13f79535-47bb-0310-9956-ffa450edef68

-import java.io.PrintStream;
-import org.apache.jackrabbit.core.util.Dumpable;
-public class ItemManager implements Dumpable, ItemStateListener {
+public class ItemManager implements ItemStateListener {
+    @SuppressWarnings("unchecked")
-    //-------------------------------------------------------------< Dumpable >
+    //--------------------------------------------------------------< Object >
-    public synchronized void dump(PrintStream ps) {
-        ps.println("ItemManager (" + this + ")");
-        ps.println();
-        ps.println("Items in cache:");
-        ps.println();
+    public synchronized String toString() {
+        StringBuilder builder = new StringBuilder();
+        builder.append("ItemManager (" + this + ")\n");
+        builder.append("Items in cache:\n");
-                    ps.print("Node: ");
+                    builder.append("Node: ");
-                    ps.print("Property: ");
+                    builder.append("Property: ");
-                    ps.print("transient ");
+                    builder.append("transient ");
-                    ps.print("          ");
+                    builder.append("          ");
-                ps.println(id + "\t" + safeGetJCRPath(id) + " (" + item + ")");
+                builder.append(id + "\t" + safeGetJCRPath(id) + " (" + item + ")\n");
+        return builder.toString();

INS79 INS43 INS42 INS42 INS45 UPD42 MOV42 INS60 INS41 INS43 INS59 INS32 INS42 INS42 INS14 UPD42 UPD42 UPD42 UPD42 UPD45 INS42 INS42 INS43 UPD45 INS42 UPD42 UPD42 UPD45 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 DEL40 DEL26 DEL40 DEL26 DEL42 DEL43 DEL39 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL32 DEL21 DEL42 DEL42 DEL32 DEL21