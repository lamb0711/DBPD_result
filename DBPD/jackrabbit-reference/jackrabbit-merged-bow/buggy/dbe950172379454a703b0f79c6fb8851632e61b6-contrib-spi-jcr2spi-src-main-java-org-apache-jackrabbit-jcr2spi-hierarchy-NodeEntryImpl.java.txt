remove ItemStateException (and subclasses) and replace their usage with RepositoryException and subclasses respectively

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@520315 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.jcr2spi.state.NoSuchItemStateException;
-import org.apache.jackrabbit.jcr2spi.state.ItemStateException;
-import org.apache.jackrabbit.jcr2spi.state.StaleItemStateException;
+import javax.jcr.InvalidItemStateException;
-    public void revert() throws ItemStateException {
+    public void revert() throws RepositoryException {
-    public void transientRemove() throws ItemStateException {
+    public void transientRemove() throws RepositoryException {
-    public void collectStates(ChangeLog changeLog, boolean throwOnStale) throws StaleItemStateException {
+    public void collectStates(ChangeLog changeLog, boolean throwOnStale) throws InvalidItemStateException {
-    public NodeState getNodeState()
-            throws NoSuchItemStateException, ItemStateException {
+    public NodeState getNodeState() throws ItemNotFoundException, RepositoryException {
-                * NoSuchItemStateException is thrown.
+                * ItemNotFoundException is thrown.
-                } catch (NoSuchItemStateException e) {
+                } catch (ItemNotFoundException e) {
-                    } catch (NoSuchItemStateException ise) {
+                    } catch (ItemNotFoundException ise) {
-                    } catch (ItemStateException ise) {
-                        throw new RepositoryException("Internal error", ise);
-                } catch (ItemStateException e) {
-                    throw new RepositoryException("Internal error", e);
-            } catch (ItemStateException e) {
-                // entry probably does not exist on the persistent layer
+            } catch (ItemNotFoundException e) {
+                // entry does not exist on the persistent layer
+            } catch (RepositoryException e) {
+                // some other error -> remove from properties map
+                properties.remove(propName);
-    ItemState doResolve() throws NoSuchItemStateException, ItemStateException {
+    ItemState doResolve() throws ItemNotFoundException, RepositoryException {
-        } catch (ItemStateException e) {
-            log.error("Internal Error", e);
-        } catch (NoSuchItemStateException e) {
+        } catch (ItemNotFoundException e) {
-        } catch (ItemStateException e) {
+        } catch (RepositoryException e) {
-        } catch (NoSuchItemStateException e) {
+        } catch (ItemNotFoundException e) {
-        } catch (ItemStateException e) {
+        } catch (RepositoryException e) {
-                } catch (ItemStateException e) {
+                } catch (RepositoryException e) {

MOV26 UPD40 UPD43 UPD43 UPD43 UPD43 UPD43 UPD43 UPD43 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 MOV12 MOV12 INS12 UPD43 MOV43 UPD43 UPD43 INS44 INS8 UPD42 UPD42 UPD42 INS43 INS42 INS21 MOV43 INS42 INS32 UPD43 INS42 INS42 INS42 UPD42 UPD43 UPD42 UPD43 UPD42 DEL40 DEL26 DEL40 DEL26 DEL42 DEL43 DEL42 DEL44 DEL45 DEL42 DEL14 DEL53 DEL8 DEL12 DEL42 DEL43 DEL42 DEL44 DEL45 DEL42 DEL14 DEL53 DEL8 DEL12 DEL42 DEL43 DEL42 DEL43 DEL42 DEL44 DEL42 DEL42 DEL45 DEL42 DEL32 DEL21 DEL8 DEL12 DEL42 DEL43