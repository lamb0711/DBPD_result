JCR-2010: Retrieve row path via hierarchy manager instead of node

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@758193 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.state.SharedItemStateManager;
-import org.apache.jackrabbit.core.HierarchyManagerImpl;
+import org.apache.jackrabbit.core.CachingHierarchyManager;
-    private final ItemStateManager stateMgr;
+    private final SharedItemStateManager stateMgr;
-    private final HierarchyManager hmgr;
+    private final CachingHierarchyManager hmgr;
-                               ItemStateManager stateMgr,
+                               SharedItemStateManager stateMgr,
-        this.hmgr = new HierarchyManagerImpl(rootId, stateMgr);
+        this.hmgr = new CachingHierarchyManager(rootId, stateMgr);
+        this.stateMgr.addListener(hmgr);

INS26 INS40 UPD40 UPD43 UPD43 UPD42 UPD42 UPD43 INS21 UPD42 INS32 INS22 INS42 INS42 UPD43 INS52 INS42 UPD42