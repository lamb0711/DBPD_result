redesigned transaction support & PersistenceManager

orginal code contributed by dominique pfister, required a lot of tweaking to make it run & work; not thoroughly tested

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@126221 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.state.ItemStateProvider;
+import org.apache.jackrabbit.core.state.ItemStateManager;
-     * @param fs a {@link org.apache.jackrabbit.core.fs.FileSystem} this
+     * @param fs a {@link FileSystem} this
-    public void init(FileSystem fs, ItemStateProvider stateProvider) throws IOException;
+    public void init(FileSystem fs, ItemStateManager stateProvider) throws IOException;

UPD40 UPD43 UPD42 INS42 DEL40