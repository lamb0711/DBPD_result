JCR-2980 Nodes that have properties marked for async extraction should be available for querying

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1128325 13f79535-47bb-0310-9956-ffa450edef68

+import java.io.IOException;
+import java.io.OutputStream;
+import java.io.PrintStream;
+import java.io.StringReader;
+import java.util.ArrayList;
+import java.util.BitSet;
+import java.util.Collections;
+import java.util.List;
+import java.util.concurrent.CountDownLatch;
+
+import org.apache.lucene.analysis.TokenStream;
-import java.io.IOException;
-import java.io.OutputStream;
-import java.io.PrintStream;
-import java.io.StringReader;
-import java.util.ArrayList;
-import java.util.BitSet;
-import java.util.Collections;
-import java.util.List;
-import java.util.concurrent.CountDownLatch;
-
+                } else if (f.tokenStreamValue() != null) {
+                    TokenStream ts = f.tokenStreamValue();
+                    field = new Field(f.name(), ts);

MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 MOV26 INS26 INS40 INS25 INS27 INS8 INS32 INS33 INS60 INS21 INS42 INS42 INS43 INS59 INS7 INS42 INS42 INS32 INS42 INS14 INS42 INS42 INS43 INS32 INS42 INS42 INS42 INS42