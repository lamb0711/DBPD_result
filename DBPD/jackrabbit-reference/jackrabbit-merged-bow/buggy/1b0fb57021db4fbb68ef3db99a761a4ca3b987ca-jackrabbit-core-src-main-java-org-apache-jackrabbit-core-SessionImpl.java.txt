JCR-1564: JSR 283 namespace handling
    - Made SessionImpl implement NamespaceResolver
    - Removed SessionImpl.getNamePathResolver() and
      SessionImpl.getNamespaceResolver() in favor of
      using SessionImpl directly as a namespace, name
      or path resolver

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@653905 13f79535-47bb-0310-9956-ffa450edef68

-        implements JackrabbitSession, NamePathResolver, Dumpable {
+        implements JackrabbitSession, NamespaceResolver, NamePathResolver, Dumpable {
-        ntMgr = new NodeTypeManagerImpl(rep.getNodeTypeRegistry(), rep.getNamespaceRegistry(), getNamespaceResolver(), getNamePathResolver(), rep.getDataStore());
+        ntMgr = new NodeTypeManagerImpl(rep.getNodeTypeRegistry(), rep.getNamespaceRegistry(), this, this, rep.getDataStore());
-                getNamePathResolver(),
+                this,
-     * Returns the <code>NamespaceResolver</code> of this session.
-     *
-     * @return the <code>NamespaceResolver</code> of this session
-     */
-    public NamespaceResolver getNamespaceResolver() {
-        return nsMappings;
-    }
-
-    /**
-     * Returns the <code>NamePathResolver</code> of this session.
-     *
-     * @return the <code>NamePathResolver</code> of this session
-     */
-    public NamePathResolver getNamePathResolver() {
-        return namePathResolver;
-    }
-
-    /**
+    //---------------------------------------------------< NamespaceResolver >
+
+    public String getPrefix(String uri) throws NamespaceException {
+        return nsMappings.getPrefix(uri);
+    }
+
+    public String getURI(String prefix) throws NamespaceException {
+        return nsMappings.getURI(prefix);
+    }
+
-        return new ImportHandler(importer, getNamespaceResolver(), rep.getNamespaceRegistry());
+        return new ImportHandler(importer, this, rep.getNamespaceRegistry());

MOV31 MOV31 MOV43 INS43 INS42 INS44 INS43 UPD43 UPD42 INS44 INS43 INS42 INS43 INS42 INS42 UPD42 INS43 INS42 INS42 INS42 INS32 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS42 INS52 INS52 INS52 INS52 DEL42 DEL32 DEL42 DEL32 DEL42 DEL32 DEL66 DEL65 DEL66 DEL65 DEL29 DEL42 DEL42 DEL66 DEL65 DEL66 DEL65 DEL29 DEL42 DEL42 DEL32