JCR-1104 - JSR 283 support
- shareble nodes (work in progress)
- improve share-cycle detection

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@646336 13f79535-47bb-0310-9956-ffa450edef68

-        src.addShare(parentId);
+        src.addShareParent(parentId);
-    protected boolean isShareable() {
+    boolean isShareable() {
-     * fixed). Otherwise returns the underlying state's parent id.
+     * fixed since shareable nodes are not moveable). Otherwise returns the
+     * underlying state's parent id.
-    protected NodeId getParentId() {
+    NodeId getParentId() {
-     * the given shared parent.
+     * the given share-parent.
-    protected boolean hasSharedParent(NodeId parentId) {
+    boolean hasShareParent(NodeId parentId) {
-     * Add a parent to the shared set. This method checks first, whether:
+     * Add a share-parent to this node. This method checks, whether:
-     * <li>adding this parent would create a share cycle</li>
-     * <li>whether this parent is already contained in the shared set</li>
+     * <li>adding the given would create a share cycle</li>
+     * <li>the given parent is already a share-parent</li>
-    protected void addShare(NodeId parentId) throws RepositoryException {
+    void addShareParent(NodeId parentId) throws RepositoryException {
+     *
+     * @param state state that is now stored as <code>NodeImpl</code>'s state
-    protected void stateReplaced(NodeState state) {
+    void stateReplaced(NodeState state) {

UPD42 UPD42 INS65 INS66 UPD66 UPD66 UPD66 UPD66 UPD66 INS42 INS66 UPD42 DEL83 DEL83 DEL83 DEL83 DEL83