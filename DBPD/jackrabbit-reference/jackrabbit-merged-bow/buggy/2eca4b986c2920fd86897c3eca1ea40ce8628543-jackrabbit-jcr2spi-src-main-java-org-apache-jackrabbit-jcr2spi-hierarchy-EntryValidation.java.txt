JCR-1799 updating events swallowed (CacheBehavior.OBSERVATION)   	
JCR-1783 incomplete changelog when combining move with removal of new destination parent

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@704361 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.jcr2spi.state.Status;
+     * Returns <code>true</code> if the given childnode entry is not
+     * <code>null</code> and resolves to a NodeState, that is neither NEW
+     * nor REMOVED.
+     *
+     * @param cne NodeEntry to check.
+     * @return <code>true</code> if the given entry is valid.
+     */
+    static boolean isValidWorkspaceNodeEntry(NodeEntry cne) {
+        // shortcut.
+        if (cne == null) {
+            return false;
+        }
+        int status = cne.getStatus();
+        return status != Status.NEW && status != Status.REMOVED;
+    }
+
+    /**
-                // probably deleted in the meantime. should not occur.
+                // probably removed in the meantime. should not occur.

INS26 INS40 INS31 INS29 INS83 INS39 INS42 INS44 INS8 INS65 INS65 INS65 INS43 INS42 INS25 INS60 INS41 INS66 INS66 INS66 INS42 INS66 INS66 INS42 INS27 INS8 INS39 INS59 INS27 INS42 INS33 INS41 INS42 INS32 INS27 INS27 INS9 INS42 INS42 INS42 INS40 INS42 INS40