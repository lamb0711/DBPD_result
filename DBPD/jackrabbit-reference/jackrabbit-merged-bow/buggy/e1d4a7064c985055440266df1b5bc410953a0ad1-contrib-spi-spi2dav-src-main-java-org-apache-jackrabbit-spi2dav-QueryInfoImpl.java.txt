JCR-996 Name and Path interfaces in SPI
JCR-1169 Distribution of commons classes


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@586065 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.name.NameException;
-import org.apache.jackrabbit.name.NameFormat;
-import org.apache.jackrabbit.name.NamespaceResolver;
-import org.apache.jackrabbit.name.QName;
+import org.apache.jackrabbit.name.NameConstants;
+import org.apache.jackrabbit.spi.Name;
+import org.apache.jackrabbit.conversion.NamePathResolver;
+import org.apache.jackrabbit.conversion.NameException;
-    private final QName[] columnNames;
+    private final Name[] columnNames;
-                         NamespaceResolver nsResolver, ValueFactory valueFactory,
+                         NamePathResolver resolver, ValueFactory valueFactory,
-            this.columnNames = new QName[cn.length];
+            this.columnNames = new Name[cn.length];
-                    columnNames[i] = NameFormat.parse(jcrColumnNames, nsResolver);
-                    if (QName.JCR_SCORE.equals(columnNames[i])) {
+                    columnNames[i] = resolver.getQName(jcrColumnNames);
+                    if (NameConstants.JCR_SCORE.equals(columnNames[i])) {
-                    qValues[j] = (values[j] == null) ?  null : ValueFormat.getQValue(values[j], nsResolver, qValueFactory);
+                    qValues[j] = (values[j] == null) ?  null : ValueFormat.getQValue(values[j], resolver, qValueFactory);
-    public QName[] getColumnNames() {
+    public Name[] getColumnNames() {

MOV26 MOV26 MOV26 UPD40 UPD40 UPD40 UPD40 UPD5 UPD5 UPD43 UPD43 UPD42 UPD43 UPD42 UPD42 UPD42 UPD5 UPD43 UPD42 UPD40 UPD42 UPD42 UPD42 DEL42