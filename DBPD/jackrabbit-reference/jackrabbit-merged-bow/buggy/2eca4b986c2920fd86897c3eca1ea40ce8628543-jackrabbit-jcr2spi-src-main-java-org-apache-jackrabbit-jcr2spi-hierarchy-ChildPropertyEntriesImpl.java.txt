JCR-1799 updating events swallowed (CacheBehavior.OBSERVATION)   	
JCR-1783 incomplete changelog when combining move with removal of new destination parent

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@704361 13f79535-47bb-0310-9956-ffa450edef68

-     * @see ChildPropertyEntries#remove(Name)
+     * @see ChildPropertyEntries#remove(PropertyEntry)
-    public boolean remove(Name propertyName) {
-        return properties.remove(propertyName) != null;
+    public boolean remove(PropertyEntry propertyEntry) {
+        Name pName = propertyEntry.getName();
+        PropertyEntry pe = get(pName);
+        if (pe == propertyEntry) {
+            properties.remove(pName);
+            return true;
+        } else {
+            return false;
+        }

INS8 INS43 UPD42 INS60 INS60 INS25 INS42 MOV43 INS59 INS43 INS59 INS27 INS8 INS8 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS21 INS41 INS41 UPD43 INS42 INS42 INS42 INS42 INS32 INS9 INS9 UPD42 MOV42 MOV42 UPD42 MOV42 DEL32 DEL33 DEL27 DEL41 DEL8