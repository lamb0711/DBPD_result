porting jackrabbit to v0.16.2 of jsr170 spec 
(work in progress...)

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@148894 13f79535-47bb-0310-9956-ffa450edef68

+import javax.jcr.lock.LockException;
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            throw new VersionException("cannot set the value of a property of a checked-in node " + safeGetJCRPath());
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            throw new VersionException("cannot set the value of a property of a checked-in node " + safeGetJCRPath());
-    public void setValue(Calendar date) throws ValueFormatException, RepositoryException {
+    public void setValue(Calendar date)
+            throws ValueFormatException, VersionException,
+            LockException, RepositoryException {
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            throw new VersionException("cannot set the value of a property of a checked-in node " + safeGetJCRPath());
-    public void setValue(double number) throws ValueFormatException, RepositoryException {
+    public void setValue(double number)
+            throws ValueFormatException, VersionException,
+            LockException, RepositoryException {
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            throw new VersionException("cannot set the value of a property of a checked-in node " + safeGetJCRPath());
-    public void setValue(InputStream stream) throws ValueFormatException, RepositoryException {
+    public void setValue(InputStream stream)
+            throws ValueFormatException, VersionException,
+            LockException, RepositoryException {
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            throw new VersionException("cannot set the value of a property of a checked-in node " + safeGetJCRPath());
-    public void setValue(String string) throws ValueFormatException, RepositoryException {
+    public void setValue(String string)
+            throws ValueFormatException, VersionException,
+            LockException, RepositoryException {
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            throw new VersionException("cannot set the value of a property of a checked-in node " + safeGetJCRPath());
-    public void setValue(String[] strings) throws ValueFormatException, RepositoryException {
+    public void setValue(String[] strings)
+            throws ValueFormatException, VersionException,
+            LockException, RepositoryException {
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            throw new VersionException("cannot set the value of a property of a checked-in node " + safeGetJCRPath());
-    public void setValue(boolean b) throws ValueFormatException, RepositoryException {
+    public void setValue(boolean b)
+            throws ValueFormatException, VersionException,
+            LockException, RepositoryException {
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            throw new VersionException("cannot set the value of a property of a checked-in node " + safeGetJCRPath());
-    public void setValue(Node target) throws ValueFormatException, RepositoryException {
+    public void setValue(Node target)
+            throws ValueFormatException, VersionException,
+            LockException, RepositoryException {
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            throw new VersionException("cannot set the value of a property of a checked-in node " + safeGetJCRPath());
-    public void setValue(long number) throws ValueFormatException, RepositoryException {
+    public void setValue(long number)
+            throws ValueFormatException, VersionException,
+            LockException, RepositoryException {
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            throw new VersionException("cannot set the value of a property of a checked-in node " + safeGetJCRPath());
-    public synchronized void setValue(Value value) throws ValueFormatException, RepositoryException {
+    public synchronized void setValue(Value value)
+            throws ValueFormatException, VersionException,
+            LockException, RepositoryException {
-            String msg = "Cannot alter the value of a property of a checked-in node " + safeGetJCRPath();
+            String msg = "cannot set the value of a property of a checked-in node " + safeGetJCRPath();
-    public void setValue(Value[] values) throws ValueFormatException, RepositoryException {
+    public void setValue(Value[] values)
+            throws ValueFormatException, VersionException,
+            LockException, RepositoryException {
-            throw new VersionException("Cannot alter the value of a property of a checked-in node " + safeGetJCRPath());
+            throw new VersionException("cannot set the value of a property of a checked-in node " + safeGetJCRPath());
+    /**
+     * @see Property#getType()
+     */
+    public int getType() throws RepositoryException {
+        // check state of this instance
+        sanityCheck();
+
+        return ((PropertyState) state).getType();
+    }
+

INS26 INS40 INS31 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS43 INS29 INS83 INS39 INS42 INS43 INS8 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS65 INS42 INS21 INS41 INS68 INS32 INS32 INS42 INS42 INS42 INS36 INS42 INS11 INS43 INS42 UPD45 UPD45 UPD45 UPD45 UPD45 UPD45 UPD45 UPD45 UPD45 UPD45 UPD45 UPD45 INS42