Implement coercing of String literals into JCR PropertyTypes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@154873 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.search.PropertyTypeRegistry;
+import org.apache.jackrabbit.core.nodetype.NodeTypeRegistry;
-    public SearchManager(SessionImpl session, SearchConfig config)
+    public SearchManager(SessionImpl session, SearchConfig config, NodeTypeRegistry ntReg)
+        PropertyTypeRegistry propRegistry = new PropertyTypeRegistry(ntReg);
+        ntReg.addListener(propRegistry);
-            handler.init(fs, session.getItemStateManager(), rootId.getUUID());
+            handler.init(fs, session.getItemStateManager(), rootId.getUUID(), propRegistry);

INS26 INS26 INS40 INS40 INS44 INS43 INS42 INS60 INS21 INS42 INS43 INS59 INS32 INS42 INS42 INS14 INS42 INS42 INS42 INS43 INS42 INS42 INS42