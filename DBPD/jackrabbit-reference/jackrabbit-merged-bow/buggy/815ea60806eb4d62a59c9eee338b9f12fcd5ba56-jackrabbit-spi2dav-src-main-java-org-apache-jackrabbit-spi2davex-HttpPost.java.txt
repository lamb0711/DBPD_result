JCR-4066: spi2dav: use HttpClient4 based WebDAV API in remoting code

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1774468 13f79535-47bb-0310-9956-ffa450edef68

+import java.net.URI;
+
+import org.apache.http.HttpResponse;
-import org.apache.jackrabbit.webdav.client.methods.DavMethodBase;
-import org.slf4j.Logger;
-import org.slf4j.LoggerFactory;
+import org.apache.jackrabbit.webdav.client.methods.BaseDavRequest;
-/**
- * <code>GetMethod</code>...
- */
-class GetMethod extends DavMethodBase {
+public class HttpPost extends BaseDavRequest {
-    private static Logger log = LoggerFactory.getLogger(GetMethod.class);
-
-    public GetMethod(String uri) {
+    public HttpPost(URI uri) {
-    @Override
-    public String getName() {
-        return DavMethods.METHOD_GET;
+    public HttpPost(String uri) {
+        super(URI.create(uri));
-    protected boolean isSuccess(int statusCode) {
-        return statusCode == DavServletResponse.SC_OK;
+    public String getMethod() {
+        return DavMethods.METHOD_POST;
+    }
+
+    @Override
+    public boolean succeeded(HttpResponse response) {
+        int statusCode = response.getStatusLine().getStatusCode();
+        return statusCode == DavServletResponse.SC_OK || statusCode == DavServletResponse.SC_NO_CONTENT
+                || statusCode == DavServletResponse.SC_CREATED;

MOV26 MOV26 UPD40 UPD40 UPD40 INS83 UPD42 UPD43 INS31 INS31 UPD42 INS83 INS42 INS44 MOV8 INS83 INS42 MOV44 INS8 UPD42 UPD83 UPD42 INS44 INS8 INS43 INS42 INS46 INS43 INS42 INS60 MOV41 UPD42 MOV42 INS32 UPD40 INS42 INS39 INS59 INS27 UPD42 MOV42 UPD42 MOV42 INS42 INS42 INS32 INS27 INS27 INS32 INS42 MOV27 INS27 INS42 INS40 INS42 INS42 INS42 INS40 DEL66 DEL65 DEL29 DEL83 DEL83 DEL43 DEL42 DEL42 DEL43 DEL57 DEL32 DEL59 DEL23 DEL83 DEL42 DEL31 DEL39 DEL42 DEL44 DEL8