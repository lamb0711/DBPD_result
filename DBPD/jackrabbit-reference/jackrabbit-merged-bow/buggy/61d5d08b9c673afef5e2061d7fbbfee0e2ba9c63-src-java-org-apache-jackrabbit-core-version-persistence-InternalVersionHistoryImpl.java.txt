- adjusting version labels to spec 0.16.2

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@153381 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.core.util.Text;
-            String name = (String) lNode.getPropertyValue(NativePVM.PROPNAME_NAME).internalValue();
+            QName name = (QName) lNode.getPropertyValue(NativePVM.PROPNAME_NAME).internalValue();
-    public InternalVersion getVersionByLabel(String label) {
+    public InternalVersion getVersionByLabel(QName label) {
-            String[] labels = v.internalGetLabels();
+            QName[] labels = v.internalGetLabels();
-                QName name = new QName("", Text.md5(labels[i]));
-                labelNode.removeNode(name);
+                labelNode.removeNode(labels[i]);
-     * @see InternalVersionHistory#addVersionLabel(org.apache.jackrabbit.core.QName, String, boolean)
+     * @see InternalVersionHistory#addVersionLabel(QName, QName, boolean)
-    public InternalVersion addVersionLabel(QName versionName, String label, boolean move)
+    public InternalVersion addVersionLabel(QName versionName, QName label, boolean move)
-        QName name = new QName("", Text.md5(label));
-
-            PersistentNode lNode = labelNode.addNode(name, NodeTypeRegistry.NT_UNSTRUCTURED);
+            PersistentNode lNode = labelNode.addNode(label, NodeTypeRegistry.NT_UNSTRUCTURED);
-     * @see InternalVersionHistory#removeVersionLabel(String)
+     * @see InternalVersionHistory#removeVersionLabel(QName)
-    public InternalVersion removeVersionLabel(String label) throws VersionException {
+    public InternalVersion removeVersionLabel(QName label) throws VersionException {
-        QName name = new QName("", Text.md5(label));
-
-            labelNode.removeNode(name);
+            labelNode.removeNode(label);
-    public String[] getVersionLabels() {
-        return (String[]) labelCache.keySet().toArray(new String[labelCache.size()]);
+    public QName[] getVersionLabels() {
+        return (QName[]) labelCache.keySet().toArray(new QName[labelCache.size()]);

UPD5 UPD43 MOV43 MOV43 UPD43 UPD42 UPD42 UPD5 UPD43 UPD5 MOV43 UPD43 MOV43 UPD43 UPD42 MOV43 MOV42 UPD42 UPD42 UPD5 UPD43 UPD42 MOV42 MOV32 UPD42 UPD43 UPD42 UPD42 UPD42 UPD42 DEL40 DEL26 DEL42 DEL45 DEL14 DEL59 DEL60 DEL42 DEL42 DEL42 DEL32 DEL40 DEL43 DEL42 DEL43 DEL42 DEL45 DEL42 DEL42 DEL42 DEL32 DEL14 DEL59 DEL60 DEL42 DEL43 DEL42 DEL43 DEL42 DEL45 DEL42 DEL42 DEL42 DEL32 DEL14 DEL59 DEL60