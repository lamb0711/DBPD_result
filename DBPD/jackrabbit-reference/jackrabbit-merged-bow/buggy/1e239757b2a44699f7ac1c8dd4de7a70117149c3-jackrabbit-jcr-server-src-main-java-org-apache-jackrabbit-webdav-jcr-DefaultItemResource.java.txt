JCR-1300: spi2dav Improve performance for large binary properties

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@687316 13f79535-47bb-0310-9956-ffa450edef68

-                if (!isMultiple()) {
-                    contentType = (type == PropertyType.BINARY) ? "application/octet-stream" : "text/plain";
+                if (isMultiple()) {
+                    contentType = IOUtil.buildContentType("text/xml","utf-8");
-                    contentType = "text/xml";
+                    contentType = IOUtil.buildContentType(JcrValueType.contentTypeFromType(type), "utf-8");
+
-
-                    if (prop.getLength() > IOUtil.UNDEFINED_LENGTH) {
-                        properties.add(new DefaultDavProperty(DavPropertyName.GETCONTENTLENGTH, String.valueOf(length)));
-                    }

MOV32 INS32 INS32 INS42 INS42 INS45 INS45 INS42 INS42 INS32 INS45 INS42 INS42 INS42 DEL38 DEL42 DEL40 DEL27 DEL36 DEL45 DEL45 DEL16 DEL45 DEL42 DEL42 DEL32 DEL40 DEL27 DEL42 DEL42 DEL42 DEL43 DEL40 DEL42 DEL42 DEL42 DEL32 DEL14 DEL32 DEL21 DEL8 DEL25