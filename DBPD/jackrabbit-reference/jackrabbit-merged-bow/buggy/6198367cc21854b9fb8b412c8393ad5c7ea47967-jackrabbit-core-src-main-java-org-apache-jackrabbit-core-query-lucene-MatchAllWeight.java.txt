JCR-835: Replaced the factory interface with an abstract factory method to avoid the troublesome anonymous inner instances.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@526677 13f79535-47bb-0310-9956-ffa450edef68

+     * Name of the field to match.
+     */
+    private final String field;
+
+    /**
+     * @param field name of the field to match 
-    MatchAllWeight(Query query, Searcher searcher, final String field) {
-        super(searcher, new ScorerFactory() {
-            public Scorer createScorer(IndexReader reader) throws IOException {
-                return new MatchAllScorer(reader, field);
-            }
-        });
+    MatchAllWeight(Query query, Searcher searcher, String field) {
+        super(searcher);
+        this.field = field;
+    }
+
+    /**
+     * Creates a {@link MatchAllScorer} instance.
+     *
+     * @param reader index reader
+     * @return a {@link MatchAllScorer} instance
+     */
+    protected Scorer createScorer(IndexReader reader) throws IOException {
+        return new MatchAllScorer(reader, field);

INS23 MOV31 INS29 INS83 INS83 INS43 INS59 INS29 UPD83 INS65 INS42 INS42 INS65 INS46 INS21 INS65 INS65 INS65 INS66 INS42 INS66 MOV42 INS7 INS66 INS65 INS66 INS42 INS66 INS66 INS65 INS66 INS22 INS42 INS42 INS42 INS52 INS42 DEL83 DEL42 DEL43 DEL1 DEL14 DEL46