JCR-1564: JSR 283 namespace handling
    - No need for the NamespaceStorage interface, as 
      NamespaceRegistryImpl can just as well call RepositoryService directly

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@655574 13f79535-47bb-0310-9956-ffa450edef68

-import org.apache.jackrabbit.jcr2spi.name.NamespaceStorage;
-import javax.jcr.NamespaceException;
-public class WorkspaceManager implements UpdatableItemStateManager, NamespaceStorage, AccessManager {
+public class WorkspaceManager implements UpdatableItemStateManager, AccessManager {
-        nsRegistry = new NamespaceRegistryImpl(this);
+        nsRegistry = new NamespaceRegistryImpl(service, sessionInfo);
-    //---------------------------------------------------< NamespaceStorage >---
-
-    public Map getRegisteredNamespaces() throws RepositoryException {
-        return service.getRegisteredNamespaces(sessionInfo);
-    }
-
-    /**
-     * @inheritDoc
-     */
-    public String getPrefix(String uri) throws NamespaceException, RepositoryException {
-        return service.getNamespacePrefix(sessionInfo, uri);
-    }
-
-    /**
-     * @inheritDoc
-     */
-    public String getURI(String prefix) throws NamespaceException, RepositoryException {
-        return service.getNamespaceURI(sessionInfo, prefix);
-    }
-
-    /**
-     * @inheritDoc
-     */
-    public void registerNamespace(String prefix, String uri) throws NamespaceException, UnsupportedRepositoryOperationException, AccessDeniedException, RepositoryException {
-        service.registerNamespace(sessionInfo, prefix, uri);
-    }
-
-    /**
-     * @inheritDoc
-     */
-    public void unregisterNamespace(String uri) throws NamespaceException, UnsupportedRepositoryOperationException, AccessDeniedException, RepositoryException {
-        service.unregisterNamespace(sessionInfo, uri);
-    }
-

INS42 INS42 DEL40 DEL26 DEL40 DEL26 DEL42 DEL43 DEL52 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL42 DEL42 DEL32 DEL41 DEL8 DEL31 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL32 DEL41 DEL8 DEL31 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL32 DEL41 DEL8 DEL31 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL43 DEL42 DEL43 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL31 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL42 DEL43 DEL42 DEL43 DEL42 DEL43 DEL42 DEL43 DEL42 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL31