performance tuning: avoid unneccessary throwing of PathNotFoundException

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@485720 13f79535-47bb-0310-9956-ffa450edef68

+                if (targetId == null) {
+                    // target does not exist, throw exception
+                    throw new AccessControlException(READ_ACTION);
+                }
-            } catch (PathNotFoundException pnfe) {
-                // target does not exist, throw exception
-                throw new AccessControlException(READ_ACTION);
+                if (parentId == null) {
+                    // parent does not exist (i.e. / was specified), throw exception
+                    throw new AccessControlException(ADD_NODE_ACTION);
+                }
-            } catch (PathNotFoundException pnfe) {
-                // parent does not exist (i.e. / was specified), throw exception
-                throw new AccessControlException(ADD_NODE_ACTION);
+                    if (targetId == null) {
+                        // parent does not exist, throw exception
+                        throw new AccessControlException(REMOVE_ACTION);
+                    }
-            } catch (PathNotFoundException pnfe) {
-                // parent does not exist, throw exception
-                throw new AccessControlException(REMOVE_ACTION);
-                    try {
-                        targetId = hierMgr.resolvePath(targetPath);
-                        // property does already exist,
-                        // check WRITE permission on target
-                        accessMgr.checkPermission(targetId, AccessManager.WRITE);
-                    } catch (PathNotFoundException pnfe) {
+                    targetId = hierMgr.resolvePath(targetPath);
+                    if (targetId == null) {
+                            if (parentId == null) {
+                                // parent does not exist, throw exception
+                                throw new AccessControlException(SET_PROPERTY_ACTION);
+                            }
+                    } else {
+                        // property does already exist,
+                        // check WRITE permission on target
+                        accessMgr.checkPermission(targetId, AccessManager.WRITE);
-            } catch (PathNotFoundException pnfe) {
-                // parent does not exist, throw exception
-                throw new AccessControlException(SET_PROPERTY_ACTION);

MOV25 MOV32 INS8 MOV12 INS25 INS25 INS25 MOV44 INS27 MOV8 INS27 MOV8 INS27 INS8 UPD43 UPD42 INS42 INS33 INS42 INS33 INS25 INS42 INS33 MOV21 INS25 MOV42 INS27 MOV8 MOV27 MOV8 MOV8 INS42 INS33 INS27 INS42 INS33 INS25 MOV27 MOV8 DEL42 DEL43 DEL42 DEL44 DEL12 DEL42 DEL43 DEL42 DEL44 DEL12 DEL42 DEL43 DEL42 DEL44 DEL12 DEL8 DEL42 DEL43 DEL42 DEL44 DEL12 DEL54 DEL8 DEL25