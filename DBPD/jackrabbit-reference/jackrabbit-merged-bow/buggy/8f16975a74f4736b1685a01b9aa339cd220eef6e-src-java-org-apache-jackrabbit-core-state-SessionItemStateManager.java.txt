- VersionItemStateProvider speedup

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@111706 13f79535-47bb-0310-9956-ffa450edef68

-        // check if there is a virtual state for the specified item
+        // check the virtual root ids (needed for overlay)
-            if (virtualProviders[i].hasItemState(id)) {
+            if (virtualProviders[i].isVirtualRoot(id)) {
+        // check if there is a virtual state for the specified item
+        for (int i = 0; i < virtualProviders.length; i++) {
+            if (virtualProviders[i].hasItemState(id)) {
+                return virtualProviders[i].getItemState(id);
+            }
+        }
+
-	// check if there is a virtual state for the specified item
-	for (int i = 0; i < virtualProviders.length; i++) {
-	    if (virtualProviders[i].hasItemState(id)) {
-		return true;
-	    }
-	}
-
+        // check the virtual root ids (needed for overlay)
+        for (int i = 0; i < virtualProviders.length; i++) {
+            if (virtualProviders[i].isVirtualRoot(id)) {
+                return true;
+            }
+        }
-	return false;
-    }
-
-    /**
-     * Checks if there is a virtual item state
-     *
-     * @param id
-     * @return
-     */
-    private boolean hasVirtualItemState(ItemId id) {
+        // check if there is a virtual state for the specified item
-        return false;
+
+	return false;

MOV24 MOV24 INS24 INS24 INS58 INS27 INS37 INS8 INS58 INS27 INS37 INS8 INS39 INS59 INS42 INS40 INS42 INS25 INS39 INS59 INS42 INS40 INS42 INS25 INS42 INS34 INS32 INS8 INS42 INS34 INS32 INS8 INS2 INS42 INS42 INS41 INS2 INS42 INS42 INS41 INS42 INS42 INS32 INS42 INS42 INS9 INS2 INS42 INS42 INS42 INS42 DEL66 DEL65 DEL42 DEL65 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL44 DEL39 DEL42 DEL34 DEL59 DEL58 DEL42 DEL40 DEL27 DEL42 DEL37 DEL42 DEL42 DEL2 DEL42 DEL42 DEL32 DEL9 DEL41 DEL8 DEL25 DEL8 DEL24 DEL9 DEL41 DEL8 DEL31