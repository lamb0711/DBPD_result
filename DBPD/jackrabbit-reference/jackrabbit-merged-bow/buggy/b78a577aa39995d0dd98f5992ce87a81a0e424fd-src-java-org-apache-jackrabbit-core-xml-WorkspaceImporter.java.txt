JCR-129: applied patch supplied by serge as-is
(http://issues.apache.org/jira/browse/JCR-129)misc. NodeState optimizations:
- removed PropertyEntry class; the relevant
  NodeState methods (e.g. getPropertyEntries())
  now return QName's instead of PropertyEntry
  to avoid unneccessary object creation
- reimplemented internal ChildNodeEntries class
  for improved speed and efficiency


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@201999 13f79535-47bb-0310-9956-ffa450edef68

-            if (!node.hasPropertyEntry(JCR_VERSIONHISTORY)) {
+            if (!node.hasPropertyName(JCR_VERSIONHISTORY)) {
-            if (!node.hasPropertyEntry(JCR_BASEVERSION)) {
+            if (!node.hasPropertyName(JCR_BASEVERSION)) {
-            if (!node.hasPropertyEntry(JCR_PREDECESSORS)) {
+            if (!node.hasPropertyName(JCR_PREDECESSORS)) {
-            if (!node.hasPropertyEntry(JCR_ISCHECKEDOUT)) {
+            if (!node.hasPropertyName(JCR_ISCHECKEDOUT)) {
-                    if (parent.hasPropertyEntry(nodeName)) {
+                    if (parent.hasPropertyName(nodeName)) {
-                            if (parent.hasPropertyEntry(newName)) {
+                            if (parent.hasPropertyName(newName)) {
-                            parent.removePropertyEntry(nodeName);
+                            parent.removePropertyName(nodeName);
-                if (node.hasPropertyEntry(propName)) {
+                if (node.hasPropertyName(propName)) {

UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42