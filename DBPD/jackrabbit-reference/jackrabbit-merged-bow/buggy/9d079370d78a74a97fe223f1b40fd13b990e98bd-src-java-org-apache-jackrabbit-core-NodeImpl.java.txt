True caching in CachingHierarchyManager

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@190372 13f79535-47bb-0310-9956-ffa450edef68

-        thisState.removeChildNodeEntry(oldName, index);
-        thisState.addChildNodeEntry(newName, uuid);
+        thisState.renameChildNodeEntry(oldName, index, newName);
-            persistentState = stateMgr.createNew(transientState.getUUID(),
-                    transientState.getNodeTypeName(), transientState.getParentUUID());
+            persistentState = stateMgr.createNew(transientState);
+        // tell state manager to disconnect item state
+        stateMgr.disconnectTransientItemState(transientState);

INS21 INS32 UPD42 INS42 INS42 INS42 INS42 MOV42 DEL42 DEL42 DEL42 DEL42 DEL32 DEL21 DEL42 DEL32 DEL42 DEL42 DEL32 DEL42 DEL42 DEL32