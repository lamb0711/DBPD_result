[JCR-395] Using transactions leads to memory leak

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@393452 13f79535-47bb-0310-9956-ffa450edef68

+import java.util.Collections;
-    private static final Map txGlobal = new HashMap();
+    private static final Map txGlobal = Collections.synchronizedMap(new HashMap());
-        if (flags == TMSUCCESS || flags == TMFAIL || flags == TMSUSPEND) {
+        if (flags == TMSUCCESS || flags == TMFAIL) {
+            associate(null);
+            txGlobal.remove(xid);
+        } else if (flags == TMSUSPEND) {

INS26 INS40 INS32 INS42 INS42 MOV14 MOV27 INS8 INS25 INS21 INS21 MOV27 MOV8 MOV8 INS32 INS32 INS42 INS33 INS42 INS42 INS42 DEL27