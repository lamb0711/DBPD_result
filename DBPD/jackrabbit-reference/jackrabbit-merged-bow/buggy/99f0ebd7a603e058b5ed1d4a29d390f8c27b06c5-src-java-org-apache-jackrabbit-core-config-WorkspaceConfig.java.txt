Enhanced workspace configuration to support independent FileSystem for SearchIndex

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@56683 13f79535-47bb-0310-9956-ffa450edef68

-     * search index direcorty
+     * virtual file system where the workspace stores the search index
-    private String searchIndexDir;
+    private FileSystem searchIndexFS;
-        // search index directory
+        // search index
-            String pathAttr = searchConfig.getAttributeValue(PATH_ATTRIB);
-            if (pathAttr != null && pathAttr.length() > 0) {
-                searchIndexDir = replaceVars(pathAttr, vars);
-            }
+            Element indexFS = searchConfig.getChild(FILE_SYSTEM_ELEMENT);
+            searchIndexFS = createFileSystem(indexFS, vars);
-     * Returns the search index directory
+     * Returns virtual file system where the search index is stored.
+     * Returns <code>null</code> if no search index is configured.
-     * @return the search index directory
+     * @return virtual file system where the search index is stored.
-    public String getSearchIndexDir() {
-        return searchIndexDir;
+    public FileSystem getSearchIndexFS() {
+        return searchIndexFS;

UPD43 UPD43 UPD42 UPD42 UPD42 UPD42 UPD66 UPD66 INS66 UPD66 UPD42 MOV21 UPD43 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 UPD42 DEL42 DEL33 DEL27 DEL42 DEL42 DEL32 DEL34 DEL27 DEL27 DEL8 DEL25