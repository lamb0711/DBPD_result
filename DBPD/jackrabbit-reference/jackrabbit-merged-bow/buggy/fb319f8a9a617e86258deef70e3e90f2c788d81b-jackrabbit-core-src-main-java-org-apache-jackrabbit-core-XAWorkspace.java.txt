JCR-2640: Internal repository context

Commit the first draft patch, more updates to come...

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@948757 13f79535-47bb-0310-9956-ffa450edef68

-     * @param rep       The repository
+     * @param repositoryContext repository context
-    protected XAWorkspace(WorkspaceConfig wspConfig,
-                          SharedItemStateManager stateMgr, RepositoryImpl rep,
-                          SessionImpl session) {
-
-        super(wspConfig, stateMgr, rep, session);
+    protected XAWorkspace(
+            WorkspaceConfig wspConfig, SharedItemStateManager stateMgr,
+            RepositoryContext repositoryContext, SessionImpl session) {
+        super(wspConfig, stateMgr, repositoryContext, session);

UPD43 UPD42 UPD42 UPD66 UPD42 UPD42