- Removed JCRQL implementation
- Added proper QName support to search
- redesigned parsing and formating of queries (better separation of abstract query tree and concrete syntax)
- Some improvements in SQL: colon is now supported in identifier without having to use double quotes, LIKE now supports escaping

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@125778 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.QName;
+import org.apache.jackrabbit.core.NamespaceResolver;
+import org.apache.jackrabbit.core.NoPrefixDeclaredException;
-    private String[] props;
+    private QName[] props;
+    private NamespaceResolver resolver;
+
-    FilteredPropertyIterator(String[] props, Node node) {
+    FilteredPropertyIterator(QName[] props, Node node, NamespaceResolver resolver) {
+        this.resolver = resolver;
-            return node.getProperty(props[propIndex++]);
+            return node.getProperty(props[propIndex++].toJCRName(resolver));
+        } catch (NoPrefixDeclaredException e) {
+            log.error("Exception resolving property name: " + e.toString());
+            throw new NoSuchElementException();

INS26 INS26 INS26 INS40 INS40 INS40 INS23 UPD5 INS83 INS43 INS59 INS44 UPD43 INS42 INS42 UPD5 INS43 INS42 INS21 UPD42 UPD43 INS42 INS7 INS12 UPD42 INS22 INS42 INS44 INS8 INS52 INS42 INS32 INS43 INS42 INS21 INS53 INS42 INS42 MOV32 MOV2 INS42 INS32 INS14 UPD42 UPD42 INS42 INS42 INS27 INS43 INS45 INS32 INS42 INS42 INS42