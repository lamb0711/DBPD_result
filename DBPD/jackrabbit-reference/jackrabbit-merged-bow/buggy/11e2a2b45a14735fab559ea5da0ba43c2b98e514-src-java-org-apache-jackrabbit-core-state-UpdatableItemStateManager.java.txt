- added UpdatableItemStateManager.inEditMode() 
- cleaned up inconsistent throwing of IllegalStateException in 
  UpdatableItemStateManager methods


git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@164805 13f79535-47bb-0310-9956-ffa450edef68

-     * @throws ItemStateException if the manager is already inside
-     *         edit mode.
+     *
+     * @throws IllegalStateException if the manager is already in edit mode.
-    void edit() throws ItemStateException;
+    void edit() throws IllegalStateException;
+
+    /**
+     * Returns <code>true</code> if this manager is in edit mode i.e.
+     * if an edit operation has been started by invoking {@link #edit},
+     * otherwise returns <code>false</code>.
+     *
+     * @return <code>true</code> if this manager is in edit mode, otherwise
+     *         <code>false</code>
+     * @throws IllegalStateException if the manager is not in edit mode.
+     */
+    boolean inEditMode();
+     * @throws IllegalStateException if the manager is not in edit mode.
-                               String parentUUID);
+                        String parentUUID) throws IllegalStateException;
+     * @throws IllegalStateException if the manager is not in edit mode.
-    PropertyState createNew(QName propName, String parentUUID);
+    PropertyState createNew(QName propName, String parentUUID)
+            throws IllegalStateException;
+     *
-      */
-    void store(ItemState state);
+     * @throws IllegalStateException if the manager is not in edit mode.
+     */
+    void store(ItemState state) throws IllegalStateException;
+     *
+     * @throws IllegalStateException if the manager is not in edit mode.
-    void store(NodeReferences refs);
+    void store(NodeReferences refs) throws IllegalStateException;
+     *
-      */
-    void destroy(ItemState state);
+     * @throws IllegalStateException if the manager is not in edit mode.
+     */
+    void destroy(ItemState state) throws IllegalStateException;
+     *
+     * @throws IllegalStateException if the manager is not in edit mode.
-    void cancel();
+    void cancel() throws IllegalStateException;
-     * @throws ItemStateException if the operation failed
+     *
+     * @throws ItemStateException    if the operation failed
+     * @throws IllegalStateException if the manager is not in edit mode.
-    void update() throws ItemStateException;
+    void update() throws ItemStateException, IllegalStateException;

INS31 UPD43 INS29 INS39 INS42 INS43 INS43 INS43 INS43 INS43 INS43 INS43 UPD42 INS65 INS65 INS65 INS65 INS42 INS65 INS42 INS65 INS42 INS65 INS42 INS65 INS42 INS65 INS42 INS65 INS42 UPD42 UPD66 INS66 INS66 INS65 INS66 INS66 INS66 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS66 INS42 INS66 UPD66 INS42 INS66 INS67 INS42 DEL66