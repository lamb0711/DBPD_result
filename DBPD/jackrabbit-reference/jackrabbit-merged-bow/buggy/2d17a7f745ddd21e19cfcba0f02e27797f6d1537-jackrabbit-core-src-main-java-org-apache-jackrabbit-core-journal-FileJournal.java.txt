JCR-1087 Maintain the cluster revision table

- Added the LOCAL_REVISIONS table to the create scripts (*.ddl)
- Added InstanceRevision interface
- The InstanceRevision is now retrieved through the Journal instance
- Added logic to the DatabaseJournal to (i) migrate to a db based InstanceRevision,
  and (ii) start a janitor thread for cleaning up old cluster revision entries


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@628697 13f79535-47bb-0310-9956-ffa450edef68

+ * <li><code>revision</code>: the filename where the parent cluster node's revision
+ * file should be written to; this is a required property with no default value</li>
+        if (getRevision() == null) {
+            String msg = "Revision not specified.";
+            throw new JournalException(msg);
+        }
-    protected long getRevision() throws JournalException {
+    protected long getGlobalRevision() throws JournalException {
-        long stopRevision = getRevision();
+        long stopRevision = getGlobalRevision();
+     * {@inheritDoc}
+     */
+    public InstanceRevision getInstanceRevision() throws JournalException {
+        return new FileRevision(new File(getRevision()));
+    }
+
+    /**

INS31 UPD42 INS29 INS83 INS43 INS42 INS43 INS8 INS66 INS66 INS25 INS65 INS42 INS42 INS41 INS27 INS8 INS65 INS14 INS32 INS33 INS60 INS53 INS32 INS43 INS14 INS42 INS43 INS59 INS14 INS42 INS42 INS43 MOV32 INS42 INS42 INS45 INS43 INS42 INS42 INS42