JCR-409: Use the new NamespaceRegistryImpl.safeRegisterNamespace() method to simplify and safeguard namespace registration.

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@396303 13f79535-47bb-0310-9956-ffa450edef68

-                         final NamespaceRegistry nsReg,
+                         final NamespaceRegistryImpl nsReg,
-        try {
-            nsReg.getPrefix(NS_XS_URI);
-        } catch (NamespaceException e) {
-            // not yet known
-            nsReg.registerNamespace(NS_XS_PREFIX, NS_XS_URI);
-        }
-        try {
-            nsReg.getPrefix(NS_FN_URI);
-        } catch (RepositoryException e) {
-            // not yet known
-            nsReg.registerNamespace(NS_FN_PREFIX, NS_FN_URI);
-        }
+        nsReg.safeRegisterNamespace(NS_XS_PREFIX, NS_XS_URI);
+        nsReg.safeRegisterNamespace(NS_FN_PREFIX, NS_FN_URI);

UPD43 MOV21 MOV21 UPD42 UPD42 UPD42 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL42 DEL43 DEL42 DEL44 DEL8 DEL12 DEL54 DEL42 DEL42 DEL42 DEL32 DEL21 DEL8 DEL42 DEL43 DEL42 DEL44 DEL8 DEL12 DEL54