JCR-1104 - JSR 283 support
- shareble nodes (work in progress)
- improve share-cycle detection

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@646336 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.HierarchyManagerImpl;
-     * <code>parentId</code> itself (if there is such) will not be included.
+     * <code>parentId</code> itself (if there is such)                                                                            not be included.
-                    depth = hierMgr.getRelativeDepth(parentId, state.getId());
+                    depth = hierMgr.getShareRelativeDepth(parentId, state.getId());
-                int depth = zombieHierMgr.getRelativeDepth(parentId, state.getId());
+                //int depth = zombieHierMgr.getRelativeDepth(parentId, state.getId());
+                int depth = zombieHierMgr.getShareRelativeDepth(parentId, state.getId());

INS26 INS40 UPD66 UPD42 UPD42