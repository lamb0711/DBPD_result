JCR-313: Restored the initConnection() method to allow external subclasses to override either initConnection() or getConnection().

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@386957 13f79535-47bb-0310-9956-ffa450edef68

+ * Subclasses should override the {@link #getConnection()} method to return
+ * the configured database connection.
-        con = getConnection();
-        con.setAutoCommit(false);
+        initConnection();
+     * Initializes the database connection used by this file system. 
+     * <p>
+     * Subclasses should normally override the {@link #getConnection()}
+     * method instead of this one. The default implementation calls
+     * {@link #getConnection()} to get the database connection and disables
+     * the autocommit feature.
+     *
+     * @throws Exception if an error occurs
+     */
+    protected void initConnection() throws Exception {
+        con = getConnection();
+        con.setAutoCommit(false);
+    }
+
+    /**
-    protected abstract Connection getConnection() throws Exception;
+    protected Connection getConnection() throws Exception {
+        throw new UnsupportedOperationException("Override in a subclass!");
+    }

INS31 INS29 INS83 INS39 INS42 INS43 INS8 INS8 INS66 INS65 INS66 INS66 INS21 INS65 INS65 INS42 MOV21 MOV21 INS53 INS68 INS32 INS66 INS66 INS66 INS65 INS66 INS65 INS66 INS66 INS42 INS66 INS14 INS42 INS42 INS68 INS68 INS43 INS45 INS42 INS42 INS42 DEL83