JCR-2542: spi2dav: EventFilters not respected

- spi.commons extension interface for Session extension
- noLocal flag support
- client sends session identifier (in Link header field) on write operations so that POLL can compute the flag
- SUBSCRIBE returns flags indicating extension features 

git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@1203173 13f79535-47bb-0310-9956-ffa450edef68

-    public EventImpl(ItemId eventId, Path eventPath, NodeId parentId, int eventType,
-                     Element eventElement, NamePathResolver resolver, QValueFactory qvFactory) throws NamespaceException, IllegalNameException {
+    public EventImpl(ItemId eventId, Path eventPath, NodeId parentId,
+            int eventType, Element eventElement, NamePathResolver resolver,
+            QValueFactory qvFactory) throws NamespaceException,
+            IllegalNameException {
-                resolver.getQName(DomUtil.getChildTextTrim(eventElement, "primarynodetype", NAMESPACE)),
-                getNames(DomUtil.getChildren(eventElement, "mixinnodetype", NAMESPACE), resolver),
-                DomUtil.getChildTextTrim(eventElement, XML_EVENTUSERID, NAMESPACE),
-                DomUtil.getChildTextTrim(eventElement, XML_EVENTUSERDATA, NAMESPACE),
-                Long.parseLong(DomUtil.getChildTextTrim(eventElement, XML_EVENTDATE, NAMESPACE)),
-                getEventInfo(DomUtil.getChildElement(eventElement, XML_EVENTINFO, NAMESPACE), resolver, qvFactory));
+                resolver.getQName(DomUtil.getChildTextTrim(eventElement,
+                        XML_EVENTPRIMARNODETYPE, NAMESPACE)), getNames(
+                        DomUtil.getChildren(eventElement,
+                                XML_EVENTMIXINNODETYPE, NAMESPACE), resolver),
+                DomUtil.getChildTextTrim(eventElement, XML_EVENTUSERID,
+                        NAMESPACE), DomUtil.getChildTextTrim(eventElement,
+                        XML_EVENTUSERDATA, NAMESPACE), Long.parseLong(DomUtil
+                        .getChildTextTrim(eventElement, XML_EVENTDATE,
+                                NAMESPACE)), getEventInfo(
+                        DomUtil.getChildElement(eventElement, XML_EVENTINFO,
+                                NAMESPACE), resolver, qvFactory));

INS42 INS42 DEL45 DEL45