JCR-RMI: Upgrade to 0.16.4.1 contributed by Felix Meschberger.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@169297 13f79535-47bb-0310-9956-ffa450edef68

-import javax.jcr.BinaryValue;
-import javax.jcr.BooleanValue;
-import javax.jcr.DateValue;
-import javax.jcr.DoubleValue;
-import javax.jcr.LongValue;
-import javax.jcr.ReferenceValue;
-import javax.jcr.StringValue;
-import javax.jcr.nodetype.NodeType;
+import javax.jcr.nodetype.NodeType;
-import org.apache.jackrabbit.rmi.remote.SerialValue;
+import org.apache.jackrabbit.value.SerialValueFactory;
-                remote.setProperty(name, new SerialValue(value));
+                remote.setProperty(name, SerialValueFactory.makeSerialValue(value));
-            Value[] serials = SerialValue.makeSerialValueArray(values);
+            Value[] serials = SerialValueFactory.makeSerialValueArray(values);
-            values[i] = new StringValue(strings[i]);
+            values[i] = getSession().getValueFactory().createValue(strings[i]);
-        return setProperty(name, new StringValue(value));
+        return setProperty(name, getSession().getValueFactory().createValue(value));
-        return setProperty(name, new BinaryValue(value));
+        return setProperty(name, getSession().getValueFactory().createValue(value));
-        return setProperty(name, new BooleanValue(value));
+        return setProperty(name, getSession().getValueFactory().createValue(value));
-        return setProperty(name, new DoubleValue(value));
+        return setProperty(name, getSession().getValueFactory().createValue(value));
-        return setProperty(name, new LongValue(value));
+        return setProperty(name, getSession().getValueFactory().createValue(value));
-        return setProperty(name, new DateValue(value));
+        return setProperty(name, getSession().getValueFactory().createValue(value));
-        return setProperty(name, new ReferenceValue(value));
+        return setProperty(name, getSession().getValueFactory().createValue(value));
-            values[i] = new StringValue(strings[i]);
+            values[i] = getSession().getValueFactory().createValue(strings[i]);
-            Value[] serials = SerialValue.makeSerialValueArray(values);
+            Value[] serials = SerialValueFactory.makeSerialValueArray(values);
-                    remote.setProperty(name, new SerialValue(value), type);
+                    remote.setProperty(name, SerialValueFactory.makeSerialValue(value), type);
-        return setProperty(name, new StringValue(value), type);
+        return setProperty(name, getSession().getValueFactory().createValue(value), type);

MOV26 UPD40 INS32 INS32 INS32 INS32 INS32 INS32 INS32 INS32 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS42 INS42 INS32 INS32 INS42 INS32 INS42 INS32 INS42 INS32 INS42 INS32 INS42 INS32 INS42 INS32 INS42 INS32 INS32 INS42 INS32 UPD42 INS32 INS42 MOV2 INS42 INS42 INS42 INS42 INS42 INS42 INS42 INS32 INS42 MOV2 UPD42 INS32 INS42 INS42 INS42 INS42 INS32 INS42 INS32 INS42 INS42 INS42 INS42 INS42 INS42 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL40 DEL26 DEL42 DEL43 DEL42 DEL14 DEL42 DEL43 DEL14 DEL42 DEL43 DEL42 DEL14 DEL42 DEL43 DEL42 DEL14 DEL42 DEL43 DEL42 DEL14 DEL42 DEL43 DEL42 DEL14 DEL42 DEL43 DEL42 DEL14 DEL42 DEL43 DEL42 DEL14 DEL42 DEL43 DEL42 DEL14 DEL42 DEL43 DEL14 DEL42 DEL43 DEL42 DEL14 DEL42 DEL43 DEL42 DEL14