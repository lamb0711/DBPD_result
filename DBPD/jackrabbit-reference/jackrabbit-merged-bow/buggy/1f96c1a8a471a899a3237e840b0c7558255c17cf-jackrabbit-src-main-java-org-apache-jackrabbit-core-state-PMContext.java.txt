JCR-595 Refactoring of the Persistence Managers (+changing some eol-styles)


git-svn-id: https://svn.apache.org/repos/asf/jackrabbit/trunk@467925 13f79535-47bb-0310-9956-ffa450edef68

+import org.apache.jackrabbit.core.NodeId;
-import org.apache.jackrabbit.core.NodeId;
- * A <code>PMContext</code> is used to provide context information for a
- * <code>PersistenceManager</code>.
- *
- * @see PersistenceManager#init(PMContext)
+ * Legacy class kept for backward compatibility reasons.
+ * @deprecated use {@link org.apache.jackrabbit.core.persistence.PMContext}
+ *             instead.
-public class PMContext {
+public class PMContext extends org.apache.jackrabbit.core.persistence.PMContext {
-    /**
-     * the physcial home dir
-     */
-    private final File physicalHomeDir;
-
-    /**
-     * the virtual jackrabbit filesystem
-     */
-    private final FileSystem fs;
-
-    /**
-     * namespace registry
-     */
-    private final NamespaceRegistry nsReg;
-
-    /**
-     * node type registry
-     */
-    private final NodeTypeRegistry ntReg;
-
-    /**
-     * uuid of the root node
-     */
-    private final NodeId rootNodeId;
-
-    /**
-     * Creates a new <code>PMContext</code>.
-     *
-     * @param homeDir the physical home directory
-     * @param fs the virtual jackrabbit filesystem
-     * @param rootNodeId id of the root node
-     * @param nsReg        namespace registry
-     * @param ntReg        node type registry
-     */
-    public PMContext(File homeDir,
-                     FileSystem fs,
-                     NodeId rootNodeId,
-                     NamespaceRegistry nsReg,
-                     NodeTypeRegistry ntReg) {
-        this.physicalHomeDir = homeDir;
-        this.fs = fs;
-        this.rootNodeId = rootNodeId;
-        this.nsReg = nsReg;
-        this.ntReg = ntReg;
+    public PMContext(File homeDir, FileSystem fs, NodeId rootNodeId,
+                         NamespaceRegistry nsReg, NodeTypeRegistry ntReg) {
+        super(homeDir, fs, rootNodeId, nsReg, ntReg);
-
-
-    /**
-     * Returns the physical home directory for this persistence manager
-     * @return the physical home directory for this persistence manager
-     */
-    public File getHomeDir() {
-        return physicalHomeDir;
-    }
-
-    /**
-     * Returns the virtual filesystem for this persistence manager
-     * @return the virtual filesystem for this persistence manager
-     */
-    public FileSystem getFileSystem() {
-        return fs;
-    }
-
-    /**
-     * Returns the id of the root node
-     * @return the id of the root node
-     */
-    public NodeId getRootNodeId() {
-        return rootNodeId;
-    }
-
-    /**
-     * Returns the namespace registry
-     *
-     * @return the namespace registry
-     */
-    public NamespaceRegistry getNamespaceRegistry() {
-        return nsReg;
-    }
-
-    /**
-     * Returns the node type registry
-     *
-     * @return the node type registry
-     */
-    public NodeTypeRegistry getNodeTypeRegistry() {
-        return ntReg;
-    }
-}
+}

MOV26 INS43 INS65 INS65 INS40 UPD66 MOV66 UPD66 MOV66 INS65 INS66 INS46 INS40 INS42 INS42 INS42 INS42 INS42 DEL65 DEL42 DEL42 DEL42 DEL43 DEL69 DEL68 DEL65 DEL66 DEL65 DEL29 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL66 DEL65 DEL29 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL66 DEL65 DEL29 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL66 DEL65 DEL29 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL66 DEL65 DEL29 DEL83 DEL83 DEL42 DEL43 DEL42 DEL59 DEL23 DEL66 DEL65 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL42 DEL66 DEL65 DEL29 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL52 DEL42 DEL22 DEL42 DEL7 DEL21 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL41 DEL8 DEL31 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL41 DEL8 DEL31 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL41 DEL8 DEL31 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL41 DEL8 DEL31 DEL66 DEL65 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL41 DEL8 DEL31