JCR-RMI: Converted the StatefullValue interface into a marker interface.

git-svn-id: https://svn.apache.org/repos/asf/incubator/jackrabbit/trunk@169318 13f79535-47bb-0310-9956-ffa450edef68

-import java.io.InputStream;
-import java.util.Calendar;
+import java.io.Serializable;
-import javax.jcr.RepositoryException;
-import javax.jcr.ValueFormatException;
+import javax.jcr.Value;
- * This interface resembles the JCR Value interface but is only used internally
- * to the State pattern implementation of the
+ * This is a marker interface with two purposes; it separates the value
+ * state classes from the more general value classes, and it forces the
+ * state classes to be serializable. This interface is used only internally
+ * by the State pattern implementation of the
- * 
+ *
- * 
+ *
-public interface StatefullValue {
-
-    /**
-     * Returns access to the underlying value through an
-     * <code>InputStream</code>.
-     * 
-     * @throws ValueFormatException If a conversion of this value to an
-     *      <code>InputStream</code> is not possible.
-     * @throws IllegalStateException if the implementation is not in stream
-     *      providing state.
-     */
-    public InputStream getStream() throws ValueFormatException, RepositoryException;
-    
-    /**
-     * Returns the <code>boolean</code> representation of this value.
-     * 
-     * @throws ValueFormatException If a conversion of this value to the
-     *      boolean type is not possible.
-     * @throws IllegalStateException if the implementation is in stream
-     *      providing state.
-     */
-    public boolean getBoolean() throws ValueFormatException, RepositoryException;
-    
-    /**
-     * Returns the <code>Calendar</code> representation of this value.
-     * 
-     * @throws ValueFormatException If a conversion of this value to a
-     *      <code>Calendar</code> is not possible.
-     * @throws IllegalStateException if the implementation is in stream
-     *      providing state.
-     */
-    public Calendar getDate() throws ValueFormatException, RepositoryException;
-    
-    /**
-     * Returns the <code>double</code> representation of this value.
-     * 
-     * @throws ValueFormatException If a conversion of this value to the
-     *      double type is not possible.
-     * @throws IllegalStateException if the implementation is in stream
-     *      providing state.
-     */
-    public double getDouble() throws ValueFormatException, RepositoryException;
-    
-    /**
-     * Returns the <code>long</code> representation of this value.
-     * 
-     * @throws ValueFormatException If a conversion of this value to the
-     *      long type is not possible.
-     * @throws IllegalStateException if the implementation is in stream
-     *      providing state.
-     */
-    public long getLong() throws ValueFormatException, RepositoryException;
-    
-    /**
-     * Returns the <code>String</code> representation of this value.
-     * 
-     * @throws ValueFormatException If a conversion of this value to the
-     *      string type is not possible.
-     * @throws IllegalStateException if the implementation is in stream
-     *      providing state.
-     */
-    public String getString() throws ValueFormatException, RepositoryException;
-    
-    /**
-     * Returns the primary type of this value, which is one of the type
-     * codes defined in the <code>javax.jcr.PropertyType</code> interface.
-     */
-    public int getType();
+public interface StatefullValue extends Value, Serializable {

UPD40 UPD40 INS43 INS43 UPD42 MOV42 UPD42 MOV42 INS66 INS66 UPD66 UPD66 DEL40 DEL26 DEL40 DEL26 DEL66 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL43 DEL42 DEL43 DEL31 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL43 DEL31 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL29 DEL83 DEL42 DEL43 DEL42 DEL42 DEL43 DEL42 DEL43 DEL31 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL43 DEL31 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL42 DEL43 DEL42 DEL43 DEL31 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL42 DEL66 DEL66 DEL65 DEL29 DEL83 DEL43 DEL42 DEL42 DEL43 DEL42 DEL43 DEL31 DEL66 DEL66 DEL65 DEL29 DEL83 DEL39 DEL42 DEL31